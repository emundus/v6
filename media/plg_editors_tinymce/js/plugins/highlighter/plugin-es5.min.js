!function(){"use strict";window.tinymce.PluginManager.add("highlightPlus",(function(e,o){var t=function(){e.focus(),e.selection.collapse(!0),e.settings.codemirror||(e.settings.codemirror={}),e.settings.codemirror&&e.settings.codemirror.saveCursorPosition&&e.selection.setContent('<span style="display: none;" class="CmCaReT">&#x0;</span>');var t=800;e.settings.codemirror.width&&(t=e.settings.codemirror.width);var r=550;e.settings.codemirror.height&&(r=e.settings.codemirror.height);var i={title:"Source code",url:o+"/source.html",width:t,height:r,resizable:!0,maximizable:!0,fullScreen:e.settings.codemirror.fullscreen,saveCursorPosition:!1,buttons:[{type:"custom",text:"Ok",name:"codemirrorOk",primary:!0},{type:"cancel",text:"Cancel",name:"codemirrorCancel"}],onAction:function(o,t){"codemirrorOk"===t.name&&(document.querySelectorAll(".tox-dialog__body-iframe iframe")[0].contentWindow.tinymceHighlighterSubmit(),e.undoManager.add(),n.close())}},n=e.windowManager.openUrl(i);e.settings.codemirror.fullscreen&&n.fullscreen(!0)};e.ui.registry.addButton("code",{icon:"sourcecode",title:"Source code+",tooltip:"Source code+",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code+",onAction:t,context:"tools"})}))}();