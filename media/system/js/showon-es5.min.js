!function(){"use strict";var e=function(){function e(e){var i=this,t=this;this.container=e||document,this.fields={},this.showonFields=[].slice.call(this.container.querySelectorAll("[data-showon]")),this.showonFields.length&&(this.showonFields.forEach((function(e){if(!e.hasAttribute("data-showon-initialised")){e.setAttribute("data-showon-initialised","");var n,o=e.getAttribute("data-showon")||"",a=JSON.parse(o);a.length&&(n=[].slice.call(t.container.querySelectorAll('[name="'+a[0].field+'"], [name="'+a[0].field+'[]"]')),i.fields[a[0].field]||(i.fields[a[0].field]={origin:[],targets:[]}),n.forEach((function(e){-1===i.fields[a[0].field].origin.indexOf(e)&&i.fields[a[0].field].origin.push(e)})),i.fields[a[0].field].targets.push(e),a.length>1&&a.forEach((function(o,l){0!==l&&(n=[].slice.call(t.container.querySelectorAll('[name="'+o.field+'"], [name="'+o.field+'[]"]')),i.fields[a[0].field]||(i.fields[a[0].field]={origin:[],targets:[]}),n.forEach((function(e){-1===i.fields[a[0].field].origin.indexOf(e)&&i.fields[a[0].field].origin.push(e)})),-1===i.fields[a[0].field].targets.indexOf(e)&&i.fields[a[0].field].targets.push(e))})))}})),this.linkedOptions=this.linkedOptions.bind(this),Object.keys(this.fields).forEach((function(e){i.fields[e].origin.length&&i.fields[e].origin.forEach((function(i){t.linkedOptions(e),i.addEventListener("change",(function(){t.linkedOptions(e)})),i.addEventListener("keyup",(function(){t.linkedOptions(e)})),i.addEventListener("click",(function(){t.linkedOptions(e)}))}))})))}return e.prototype.linkedOptions=function(e){var i=this;this.fields[e].targets.forEach((function(t){var n,o=JSON.parse(t.getAttribute("data-showon"))||[],a=!0;o.forEach((function(t,l){var s=t||{};s.valid=0,i.fields[e].origin.forEach((function(e){if(e.name.replace("[]","")===t.field){var i=e.id;if(e.getAttribute("type")&&["checkbox","radio"].includes(e.getAttribute("type").toLowerCase())){if(!e.checked)return;n=document.getElementById(i).value}else"SELECT"===e.nodeName&&e.hasAttribute("multiple")?n=Array.from(e.querySelectorAll("option:checked")).map((function(e){return e.value})):null===(n=document.getElementById(i).value)&&"select"===e.tagName.toLowerCase()&&(n=[]);"object"!=typeof n&&(n=JSON.parse('["'+n+'"]')),n.forEach((function(e){"="===s.sign&&-1!==s.values.indexOf(e)&&(s.valid=1),"!="===s.sign&&-1===s.values.indexOf(e)&&(s.valid=1)}))}})),""===s.op?0===s.valid&&(a=!1):("AND"===s.op&&s.valid+o[l-1].valid<2&&(a=!1,s.valid=0),"OR"===s.op&&s.valid+o[l-1].valid>0&&(a=!0,s.valid=1))})),"option"!==t.tagName?a?(t.classList.remove("hidden"),t.dispatchEvent(new CustomEvent("joomla:showon-show",{bubbles:!0}))):(t.classList.add("hidden"),t.dispatchEvent(new CustomEvent("joomla:showon-hide",{bubbles:!0}))):t.disabled=!a}))},e}();if(!window.Joomla)throw new Error("Joomla API is not properly initialized");Joomla.Showon||(Joomla.Showon={initialise:function(i){return new e(i)}}),Joomla.Showon.initialise(document);document.addEventListener("joomla:updated",(function(e){var i=e.target;if(i.classList.contains("subform-repeatable-group")){var t=[].slice.call(i.querySelectorAll("[data-showon]"));if(t.length){var n=[],o=[];(function(e,i){for(var t,n=e,o=[];n;)(t=n.matches&&n.matches(i)?n:null)&&o.unshift(t),n=n.parentNode;return o})(i,".subform-repeatable-group").forEach((function(e){n.push(new RegExp("\\["+e.dataset.baseName+"X\\]","g")),o.push("["+e.dataset.group+"]")})),t.forEach((function(e){var i=e.dataset.showon;n.forEach((function(e,t){i=i.replace(e,o[t])})),e.dataset.showon=i}))}}Joomla.Showon.initialise(i)}))}();