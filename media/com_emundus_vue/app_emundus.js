(function(e){function t(t){for(var s,n,r=t[0],l=t[1],d=t[2],m=0,u=[];m<r.length;m++)n=r[m],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},o=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"005e":function(e,t,a){},"00ef":function(e,t,a){"use strict";a("f654")},"04f6":function(e,t,a){},"077f":function(e,t,a){"use strict";a("0d4c")},"09d2":function(e,t,a){"use strict";a("2999")},"0c5f":function(e,t,a){"use strict";a("f976")},"0d4c":function(e,t,a){},"0e4e":function(e,t,a){e.exports={"program-year-page":"views_emails_program-year-page_1XKsv","g-main-mainbody":"views_emails_g-main-mainbody_1X1NO","campaign-page":"views_emails_campaign-page_2wvUr","users-profile-setup-page":"views_emails_users-profile-setup-page_NWNDJ","emails-setup-page":"views_emails_emails-setup-page__n97O","emails-declancheur-setup-page":"views_emails_emails-declancheur-setup-page_3SS4p","courriers-setup-page":"views_emails_courriers-setup-page_3VpzO","documents-type-candidacy-page":"views_emails_documents-type-candidacy-page_oceTh","tags-setup-page":"views_emails_tags-setup-page_2U0Rm","groups-setup-page":"views_emails_groups-setup-page_3pLSA","files-status-page":"views_emails_files-status-page_2Nfx7","layout-showgrouprights":"views_emails_layout-showgrouprights_3NYXe","add-program-year-page":"views_emails_add-program-year-page_1liLm","g-container-main":"views_emails_g-container-main_3fkWZ","add-campaign-page":"views_emails_add-campaign-page_2cDdr","add-new-program-page":"views_emails_add-new-program-page_3T50h","import-csv-page":"views_emails_import-csv-page_1uqTp",modal:"views_emails_modal_v768c",calendarbutton:"views_emails_calendarbutton_1hMj3",timeButton:"views_emails_timeButton_xB0jJ","applicant-form":"views_emails_applicant-form_19u7t",fabrikForm:"views_emails_fabrikForm_3L1a4",fabrikActions:"views_emails_fabrikActions_MfdEL","form-actions":"views_emails_form-actions_OzZ3Y",fabrikGroup:"views_emails_fabrikGroup_1UHrK",fabrikSubGroup:"views_emails_fabrikSubGroup_tMSu0",form_308_5:"views_emails_form_308_5_22tyr","form-horizontal":"views_emails_form-horizontal_F-58z","program-form":"views_emails_program-form_2CTE4",moduletable:"views_emails_moduletable_siIz9","send-application-file":"views_emails_send-application-file_1mYsc",active:"views_emails_active_3t-JX",em_form:"views_emails_em_form_3fYaM",ui:"views_emails_ui_3u7U1",attached:"views_emails_attached_20gDB",segment:"views_emails_segment_2wsrz",group643:"views_emails_group643_3YUWm",optional:"views_emails_optional_2E9IZ",delete:"views_emails_delete_1yAwe","icon-remove":"views_emails_icon-remove_3tZUN","icon-plus":"views_emails_icon-plus_3Ttt8",drawer:"views_emails_drawer_w7g8d","system-message":"views_emails_system-message_22NS5",fabrikLabel:"views_emails_fabrikLabel_1UjN_",fabrikTip:"views_emails_fabrikTip_3RWkY","g-navigation":"views_emails_g-navigation_1cqRf","g-main-nav":"views_emails_g-main-nav_3B9ID","g-dropdown":"views_emails_g-dropdown_dBc29","g-dropdown-column":"views_emails_g-dropdown-column_3CH2-","view-registration":"views_emails_view-registration_129_x",yellow:"views_emails_yellow_1ojGf",inverted:"views_emails_inverted_3ZJtO",group175:"views_emails_group175_9n_sg",controls:"views_emails_controls_2nuTX",fabrikElement:"views_emails_fabrikElement_2sFlT","view-form":"views_emails_view-form_1E098",form_287_20:"views_emails_form_287_20_1OJDx",nav:"views_emails_nav_2wO8z",form_309_5:"views_emails_form_309_5_2ipBl","view-checklist":"views_emails_view-checklist_2aCw_","g-back-office-emundus-tableau":"views_emails_g-back-office-emundus-tableau_3t-ps",warning:"views_emails_warning_1SWUs",message:"views_emails_message_3yWVJ","itemid-2823":"views_emails_itemid-2823_3pXOS",popover:"views_emails_popover_3O4nv","itemid-2772":"views_emails_itemid-2772_dasmm",form_319_1:"views_emails_form_319_1_1I9-y","control-label":"views_emails_control-label_1jHZc",form_316:"views_emails_form_316_2OpJo",form_319:"views_emails_form_319_3NGP2",fabrikUploadDelete:"views_emails_fabrikUploadDelete_2Asob","p-intro":"views_emails_p-intro_1oROg",form_324:"views_emails_form_324_2Q5ck","icon-minus":"views_emails_icon-minus_3Eytt",addGroup:"views_emails_addGroup_3pp9U",deleteGroup:"views_emails_deleteGroup_2riDt",fabrikgrid_radio:"views_emails_fabrikgrid_radio_2pEIk",fb_el_jos_emundus_personal_detail___last_name:"views_emails_fb_el_jos_emundus_personal_detail___last_name_JIjhV",groupintro:"views_emails_groupintro_2B5ee","list-striped":"views_emails_list-striped_2ELvD","row-striped":"views_emails_row-striped_h2WGz","row-fluid":"views_emails_row-fluid_214hy",fabrikElementReadOnly:"views_emails_fabrikElementReadOnly_1t7m_",fb_el_jos_emundus_personal_detail___nationality:"views_emails_fb_el_jos_emundus_personal_detail___nationality_1Oyd9",form_258_63:"views_emails_form_258_63_2KLqn","control-group":"views_emails_control-group_320WQ","toggle-editor":"views_emails_toggle-editor_1BrdJ","btn-toolbar":"views_emails_btn-toolbar_m-e42","nav-tabs":"views_emails_nav-tabs_1BirA",span4:"views_emails_span4_3JFaV",offset1:"views_emails_offset1_3jcYb","pull-right":"views_emails_pull-right_1Mfrb","customsend-application-file":"views_emails_customsend-application-file_3q8tz","mce-tinymce":"views_emails_mce-tinymce_2_Cxj","mce-statusbar":"views_emails_mce-statusbar_j-WtU","mce-path":"views_emails_mce-path_3wfnB","mce-path-item":"views_emails_mce-path-item_1q4c7",sauvegarder:"views_emails_sauvegarder_1fOKy","view-checkout":"views_emails_view-checkout_2pJtC",fabrikSubmit_307:"views_emails_fabrikSubmit_307_3ovst",fabrikSubmit_321:"views_emails_fabrikSubmit_321_37Mc-",form_293:"views_emails_form_293_jOdxB","member-profile":"views_emails_member-profile_3yzt0",span12:"views_emails_span12_Jv0xM",info_checklist:"views_emails_info_checklist_1CzWV",appsent:"views_emails_appsent_suNqa","icon-star":"views_emails_icon-star_UQPkp",small:"views_emails_small_2X1LK","view-login":"views_emails_view-login_2R59o","password-lbl":"views_emails_password-lbl_gsK9x","username-lbl":"views_emails_username-lbl_VbZpD","view-reset":"views_emails_view-reset_T6e1U","jform_email-lbl":"views_emails_jform_email-lbl_2kAMI","jform_username-lbl":"views_emails_jform_username-lbl_1poiA",fb_el_jos_emundus_funding___total_ressource:"views_emails_fb_el_jos_emundus_funding___total_ressource_2g7i8",fb_el_jos_emundus_funding___total_depense:"views_emails_fb_el_jos_emundus_funding___total_depense_3szFy",group712:"views_emails_group712_1vriD",group739:"views_emails_group739_3CNCY",jos_emundus_funding___total_ressource:"views_emails_jos_emundus_funding___total_ressource_1bSez",jos_emundus_funding___total_depense:"views_emails_jos_emundus_funding___total_depense_eZeIL",legend:"views_emails_legend_m1uhc",group711:"views_emails_group711_3wx-G",group714:"views_emails_group714_2nT6D",group720:"views_emails_group720_3j_dq",group721:"views_emails_group721_345Au",group735:"views_emails_group735_2ZUxu",input:"views_emails_input_32M3O","input-medium":"views_emails_input-medium_3PfiP",btn:"views_emails_btn_2CVfq","em-label":"views_emails_em-label_22_hg","em-checkBox-label":"views_emails_em-checkBox-label_EaV8w","em-input":"views_emails_em-input_1NuZh",registration:"views_emails_registration_Gdf7m","em-register-warning":"views_emails_em-register-warning_3pmbZ","em-register-table":"views_emails_em-register-table_1bAe_","em-checkBox-input":"views_emails_em-checkBox-input_3BhFf",box_content:"views_emails_box_content_2X2kE","jform_emundus_profile_cgu-lbl":"views_emails_jform_emundus_profile_cgu-lbl_3nYnZ","btn-link":"views_emails_btn-link_352Ua","em-checkBox-tr":"views_emails_em-checkBox-tr_1GJ4D","statut-choice-container":"views_emails_statut-choice-container_GTkrR",fabrikSubmit_308:"views_emails_fabrikSubmit_308_7IzDZ",fabrikSubmit_305:"views_emails_fabrikSubmit_305_2DNCj",fabrikSubmit_293:"views_emails_fabrikSubmit_293_3GtlH",fabrikSubmit_306:"views_emails_fabrikSubmit_306_3kMpe",form_308:"views_emails_form_308_1Onu5",fabrikGroupRepeater:"views_emails_fabrikGroupRepeater_3pLef","page-header":"views_emails_page-header_1wTtt",form_102:"views_emails_form_102_1ACMm",steps:"views_emails_steps_m_TlY",vertical:"views_emails_vertical_MSrx8",step:"views_emails_step_2ZCqi",icon:"views_emails_icon_1-I2B",completed:"views_emails_completed_3VTPw",file:"views_emails_file_3j4AE",text:"views_emails_text_1Uy-E",outline:"views_emails_outline_xuO7S",attach:"views_emails_attach_2TsqP",add:"views_emails_add_zIz3y",to:"views_emails_to_cOrfp",cart:"views_emails_cart_18eeP",time:"views_emails_time_3nm0_",segments:"views_emails_segments_1xf6U",fabrikgrid_checkbox:"views_emails_fabrikgrid_checkbox_2abFZ",jos_emundus_users___password_check:"views_emails_jos_emundus_users___password_check_2pFOr",group673:"views_emails_group673_1vq7W",group674:"views_emails_group674_3_wR8",group675:"views_emails_group675_2i04g",fb_el_jos_emundus_personal_detail___gender:"views_emails_fb_el_jos_emundus_personal_detail___gender_3_YRr",fb_el_jos_emundus_projet___project_label:"views_emails_fb_el_jos_emundus_projet___project_label_mJkBl",form_323:"views_emails_form_323_cYlEl","btn-success":"views_emails_btn-success_spqUq","btn-danger":"views_emails_btn-danger_LLjCl","wf-editor-container":"views_emails_wf-editor-container_3zI7n",jos_emundus_setup_programmes___synthesis_toolbargroup:"views_emails_jos_emundus_setup_programmes___synthesis_toolbargroup_2244K",jos_emundus_setup_programmes___notes_toolbargroup:"views_emails_jos_emundus_setup_programmes___notes_toolbargroup_3HQhr",jos_emundus_setup_programmes___tmpl_trombinoscope_toolbargroup:"views_emails_jos_emundus_setup_programmes___tmpl_trombinoscope_toolbargroup_10Zbj",jos_emundus_setup_programmes___tmpl_badge_toolbargroup:"views_emails_jos_emundus_setup_programmes___tmpl_badge_toolbargroup_35dRv",fabrikinput:"views_emails_fabrikinput_2NZ72",jos_emundus_setup_campaigns___start_date:"views_emails_jos_emundus_setup_campaigns___start_date_1o3HN","input-append":"views_emails_input-append_OJn4a",jos_emundus_setup_campaigns___end_date:"views_emails_jos_emundus_setup_campaigns___end_date_2vwAM",jos_emundus_setup_programmes___programmes:"views_emails_jos_emundus_setup_programmes___programmes_2vcGW",jos_emundus_setup_programmes___programmes_ddLabel:"views_emails_jos_emundus_setup_programmes___programmes_ddLabel_2Wn-b",fbDateTime:"views_emails_fbDateTime_26gkI","modal-header":"views_emails_modal-header_25zuw","close-time":"views_emails_close-time_3h4kd","btn-group":"views_emails_btn-group_B0V85","mce-container-body":"views_emails_mce-container-body_1y7an","mce-abs-layout":"views_emails_mce-abs-layout_1WToo","mce-textbox":"views_emails_mce-textbox_2OHWx","btn-default":"views_emails_btn-default_2whtc","goback-btn":"views_emails_goback-btn_2fArO","dropdown-toggle":"views_emails_dropdown-toggle_2GOeL","below-content":"views_emails_below-content_3VECA",xclsform:"views_emails_xclsform_2ls89","panel-body":"views_emails_panel-body_1WK0D",delfilter:"views_emails_delfilter_188OA",back:"views_emails_back_3SrLs","advanced-search-clearall":"views_emails_advanced-search-clearall_XQkOq",save:"views_emails_save_25Bws",fabrikDetails:"views_emails_fabrikDetails_1F3WB",em_select_filter:"views_emails_em_select_filter_uCFjN","del-filter":"views_emails_del-filter_gdNmI","save-btn":"views_emails_save-btn_3uK7s",save_continue:"views_emails_save_continue_1g0dz",send:"views_emails_send_3AbDL","btn-attach":"views_emails_btn-attach_3hrKF",trombi_preview:"views_emails_trombi_preview_33MLG",trombi_generate:"views_emails_trombi_generate_YYZhz","indicateurs-page":"views_emails_indicateurs-page_2Vc_G",fabrik_filter_submit:"views_emails_fabrik_filter_submit_7dv9B",importation:"views_emails_importation_1yUoI","btn-warning":"views_emails_btn-warning_2DDvt","btn-info":"views_emails_btn-info_1ZV4H","header-right":"views_emails_header-right_2T6DQ","btn-primary":"views_emails_btn-primary_Q69Ms","em-generated-docs":"views_emails_em-generated-docs_1uENi","em-doc-zip":"views_emails_em-doc-zip_1k56F",savefilter:"views_emails_savefilter_2IwHY","modal-dialog":"views_emails_modal-dialog_gbUWf",chargement:"views_emails_chargement_2Dea9","advanced-search-apply":"views_emails_advanced-search-apply_2EjpN","toggle-addoption":"views_emails_toggle-addoption_3zdOV","candidacy-files-list":"views_emails_candidacy-files-list_2HOZ9","choice-statut-btn":"views_emails_choice-statut-btn_2eu8b",button:"views_emails_button_3sfBf","g-footer":"views_emails_g-footer_1hUPJ"}},"0fd5":function(e,t,a){var s={"./af":"8206","./af.js":"8206","./ar":"cdac","./ar-dz":"7f26","./ar-dz.js":"7f26","./ar-kw":"8e88","./ar-kw.js":"8e88","./ar-ly":"cd65","./ar-ly.js":"cd65","./ar-ma":"e8d6","./ar-ma.js":"e8d6","./ar-sa":"a284","./ar-sa.js":"a284","./ar-tn":"64f7","./ar-tn.js":"64f7","./ar.js":"cdac","./az":"b139","./az.js":"b139","./be":"98e2","./be.js":"98e2","./bg":"a1a5","./bg.js":"a1a5","./bm":"4d0d","./bm.js":"4d0d","./bn":"e8ae","./bn-bd":"5dd8","./bn-bd.js":"5dd8","./bn.js":"e8ae","./bo":"bcf2","./bo.js":"bcf2","./br":"69f1","./br.js":"69f1","./bs":"24d1","./bs.js":"24d1","./ca":"3507","./ca.js":"3507","./cs":"d15f","./cs.js":"d15f","./cv":"7bfe","./cv.js":"7bfe","./cy":"1d35","./cy.js":"1d35","./da":"a019","./da.js":"a019","./de":"0cfa","./de-at":"edea","./de-at.js":"edea","./de-ch":"9aae","./de-ch.js":"9aae","./de.js":"0cfa","./dv":"1722","./dv.js":"1722","./el":"5390","./el.js":"5390","./en-au":"dad9","./en-au.js":"dad9","./en-ca":"6f13","./en-ca.js":"6f13","./en-gb":"6267","./en-gb.js":"6267","./en-ie":"80b1","./en-ie.js":"80b1","./en-il":"ad38","./en-il.js":"ad38","./en-in":"eb60","./en-in.js":"eb60","./en-nz":"39db","./en-nz.js":"39db","./en-sg":"c30d","./en-sg.js":"c30d","./eo":"1a30","./eo.js":"1a30","./es":"48a3","./es-do":"f306","./es-do.js":"f306","./es-mx":"56d9","./es-mx.js":"56d9","./es-us":"60bf","./es-us.js":"60bf","./es.js":"48a3","./et":"f891","./et.js":"f891","./eu":"a403","./eu.js":"a403","./fa":"ce14","./fa.js":"ce14","./fi":"fc14","./fi.js":"fc14","./fil":"f46e","./fil.js":"f46e","./fo":"2bf2","./fo.js":"2bf2","./fr":"c1e8","./fr-ca":"50a2","./fr-ca.js":"50a2","./fr-ch":"b087","./fr-ch.js":"b087","./fr.js":"c1e8","./fy":"4665","./fy.js":"4665","./ga":"b396","./ga.js":"b396","./gd":"056c","./gd.js":"056c","./gl":"efde","./gl.js":"efde","./gom-deva":"12ea","./gom-deva.js":"12ea","./gom-latn":"8e2c","./gom-latn.js":"8e2c","./gu":"533d","./gu.js":"533d","./he":"7520","./he.js":"7520","./hi":"d2f3","./hi.js":"d2f3","./hr":"7e79","./hr.js":"7e79","./hu":"148f","./hu.js":"148f","./hy-am":"6711","./hy-am.js":"6711","./id":"2b10","./id.js":"2b10","./is":"1feb","./is.js":"1feb","./it":"1b21","./it-ch":"8d2c","./it-ch.js":"8d2c","./it.js":"1b21","./ja":"926e","./ja.js":"926e","./jv":"5a78","./jv.js":"5a78","./ka":"5975","./ka.js":"5975","./kk":"cc93","./kk.js":"cc93","./km":"66e1","./km.js":"66e1","./kn":"5421","./kn.js":"5421","./ko":"1297","./ko.js":"1297","./ku":"16f8","./ku.js":"16f8","./ky":"3df9","./ky.js":"3df9","./lb":"c124","./lb.js":"c124","./lo":"20a5","./lo.js":"20a5","./lt":"c14a","./lt.js":"c14a","./lv":"c553","./lv.js":"c553","./me":"ae25","./me.js":"ae25","./mi":"6f56","./mi.js":"6f56","./mk":"c8fc","./mk.js":"c8fc","./ml":"752d","./ml.js":"752d","./mn":"f09e","./mn.js":"f09e","./mr":"0a56","./mr.js":"0a56","./ms":"55b6","./ms-my":"a9e9","./ms-my.js":"a9e9","./ms.js":"55b6","./mt":"624b","./mt.js":"624b","./my":"e256","./my.js":"e256","./nb":"e1d5","./nb.js":"e1d5","./ne":"761a","./ne.js":"761a","./nl":"a0f2","./nl-be":"5cb2","./nl-be.js":"5cb2","./nl.js":"a0f2","./nn":"4fda","./nn.js":"4fda","./oc-lnc":"ec3d","./oc-lnc.js":"ec3d","./pa-in":"2f2f","./pa-in.js":"2f2f","./pl":"317f","./pl.js":"317f","./pt":"5553","./pt-br":"a9ab","./pt-br.js":"a9ab","./pt.js":"5553","./ro":"db12","./ro.js":"db12","./ru":"7aa4","./ru.js":"7aa4","./sd":"e87b","./sd.js":"e87b","./se":"a296","./se.js":"a296","./si":"51ec","./si.js":"51ec","./sk":"608b","./sk.js":"608b","./sl":"b367","./sl.js":"b367","./sq":"f68f","./sq.js":"f68f","./sr":"0991","./sr-cyrl":"c577","./sr-cyrl.js":"c577","./sr.js":"0991","./ss":"cf76","./ss.js":"cf76","./sv":"0153","./sv.js":"0153","./sw":"cb6f","./sw.js":"cb6f","./ta":"8bfa","./ta.js":"8bfa","./te":"668b","./te.js":"668b","./tet":"eae7","./tet.js":"eae7","./tg":"70b1","./tg.js":"70b1","./th":"7180","./th.js":"7180","./tk":"4912","./tk.js":"4912","./tl-ph":"f8bb","./tl-ph.js":"f8bb","./tlh":"b026","./tlh.js":"b026","./tr":"371d","./tr.js":"371d","./tzl":"c744","./tzl.js":"c744","./tzm":"787a","./tzm-latn":"71e0","./tzm-latn.js":"71e0","./tzm.js":"787a","./ug-cn":"6b5c","./ug-cn.js":"6b5c","./uk":"8c0c","./uk.js":"8c0c","./ur":"519e","./ur.js":"519e","./uz":"7982","./uz-latn":"3137","./uz-latn.js":"3137","./uz.js":"7982","./vi":"ae22","./vi.js":"ae22","./x-pseudo":"1129","./x-pseudo.js":"1129","./yo":"b4bf","./yo.js":"b4bf","./zh-cn":"fdc4","./zh-cn.js":"fdc4","./zh-hk":"747d","./zh-hk.js":"747d","./zh-mo":"fe39","./zh-mo.js":"fe39","./zh-tw":"d3e0","./zh-tw.js":"d3e0"};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=o,e.exports=i,i.id="0fd5"},1:function(e,t){},1347:function(e,t,a){"use strict";a("4a5c")},"166e":function(e,t,a){"use strict";a("5c32")},"16b4":function(e,t,a){e.exports={navbar:"bootstrap_navbar_3ux3J",btn:"bootstrap_btn_i3zSZ",caret:"bootstrap_caret_2cB2d",dropup:"bootstrap_dropup_33Xc4",label:"bootstrap_label_2Z-96",table:"bootstrap_table_1Wbvv","table-bordered":"bootstrap_table-bordered_38SNh",glyphicon:"bootstrap_glyphicon_3hQym","glyphicon-asterisk":"bootstrap_glyphicon-asterisk_2xnry","glyphicon-plus":"bootstrap_glyphicon-plus_2J6L4","glyphicon-euro":"bootstrap_glyphicon-euro_2Q7Y4","glyphicon-eur":"bootstrap_glyphicon-eur_uvsv0","glyphicon-minus":"bootstrap_glyphicon-minus_3q_hh","glyphicon-cloud":"bootstrap_glyphicon-cloud_1yelE","glyphicon-envelope":"bootstrap_glyphicon-envelope_21pOo","glyphicon-pencil":"bootstrap_glyphicon-pencil_3GHc6","glyphicon-glass":"bootstrap_glyphicon-glass_1wmnL","glyphicon-music":"bootstrap_glyphicon-music_3BL9c","glyphicon-search":"bootstrap_glyphicon-search_ps14z","glyphicon-heart":"bootstrap_glyphicon-heart_aF3NP","glyphicon-star":"bootstrap_glyphicon-star_oEofz","glyphicon-star-empty":"bootstrap_glyphicon-star-empty_3zCyQ","glyphicon-user":"bootstrap_glyphicon-user_3yJ34","glyphicon-film":"bootstrap_glyphicon-film_3Z_6X","glyphicon-th-large":"bootstrap_glyphicon-th-large_3r5MI","glyphicon-th":"bootstrap_glyphicon-th_pW8xj","glyphicon-th-list":"bootstrap_glyphicon-th-list_1v0zw","glyphicon-ok":"bootstrap_glyphicon-ok_K5per","glyphicon-remove":"bootstrap_glyphicon-remove_1OfsT","glyphicon-zoom-in":"bootstrap_glyphicon-zoom-in_1vn8W","glyphicon-zoom-out":"bootstrap_glyphicon-zoom-out_IzI3u","glyphicon-off":"bootstrap_glyphicon-off_1a4Er","glyphicon-signal":"bootstrap_glyphicon-signal_1hzZv","glyphicon-cog":"bootstrap_glyphicon-cog_2f2CS","glyphicon-trash":"bootstrap_glyphicon-trash_1T25k","glyphicon-home":"bootstrap_glyphicon-home_3Ro63","glyphicon-file":"bootstrap_glyphicon-file_pEm3n","glyphicon-time":"bootstrap_glyphicon-time_3cz0O","glyphicon-road":"bootstrap_glyphicon-road_2CyJY","glyphicon-download-alt":"bootstrap_glyphicon-download-alt_1c2nn","glyphicon-download":"bootstrap_glyphicon-download_DoKhX","glyphicon-upload":"bootstrap_glyphicon-upload_1NegF","glyphicon-inbox":"bootstrap_glyphicon-inbox_1g3FO","glyphicon-play-circle":"bootstrap_glyphicon-play-circle_MNA-P","glyphicon-repeat":"bootstrap_glyphicon-repeat_3Ojd2","glyphicon-refresh":"bootstrap_glyphicon-refresh_SHwT2","glyphicon-list-alt":"bootstrap_glyphicon-list-alt_1H1It","glyphicon-lock":"bootstrap_glyphicon-lock_2oQP7","glyphicon-flag":"bootstrap_glyphicon-flag_VHBJ3","glyphicon-headphones":"bootstrap_glyphicon-headphones_qU15L","glyphicon-volume-off":"bootstrap_glyphicon-volume-off_2UJif","glyphicon-volume-down":"bootstrap_glyphicon-volume-down_39kwT","glyphicon-volume-up":"bootstrap_glyphicon-volume-up_2Q-qD","glyphicon-qrcode":"bootstrap_glyphicon-qrcode_2FhMe","glyphicon-barcode":"bootstrap_glyphicon-barcode_2JJ9r","glyphicon-tag":"bootstrap_glyphicon-tag_1j-pi","glyphicon-tags":"bootstrap_glyphicon-tags_2RMsC","glyphicon-book":"bootstrap_glyphicon-book_4IMyH","glyphicon-bookmark":"bootstrap_glyphicon-bookmark_hC7ne","glyphicon-print":"bootstrap_glyphicon-print_1F4Ab","glyphicon-camera":"bootstrap_glyphicon-camera_2QgC0","glyphicon-font":"bootstrap_glyphicon-font_2DQsi","glyphicon-bold":"bootstrap_glyphicon-bold_3BbHg","glyphicon-italic":"bootstrap_glyphicon-italic_3CBcs","glyphicon-text-height":"bootstrap_glyphicon-text-height_226Et","glyphicon-text-width":"bootstrap_glyphicon-text-width_2qQ8b","glyphicon-align-left":"bootstrap_glyphicon-align-left_1f0T8","glyphicon-align-center":"bootstrap_glyphicon-align-center_3S3A5","glyphicon-align-right":"bootstrap_glyphicon-align-right_1jevd","glyphicon-align-justify":"bootstrap_glyphicon-align-justify_3WvWF","glyphicon-list":"bootstrap_glyphicon-list_2juiR","glyphicon-indent-left":"bootstrap_glyphicon-indent-left_e465-","glyphicon-indent-right":"bootstrap_glyphicon-indent-right_lXTtW","glyphicon-facetime-video":"bootstrap_glyphicon-facetime-video_vobhW","glyphicon-picture":"bootstrap_glyphicon-picture_2GhY6","glyphicon-map-marker":"bootstrap_glyphicon-map-marker_3F9F5","glyphicon-adjust":"bootstrap_glyphicon-adjust_oIDVx","glyphicon-tint":"bootstrap_glyphicon-tint_QaWF1","glyphicon-edit":"bootstrap_glyphicon-edit_7d3gx","glyphicon-share":"bootstrap_glyphicon-share_25043","glyphicon-check":"bootstrap_glyphicon-check_2YVWj","glyphicon-move":"bootstrap_glyphicon-move_21VVO","glyphicon-step-backward":"bootstrap_glyphicon-step-backward_1tdCA","glyphicon-fast-backward":"bootstrap_glyphicon-fast-backward_2Cnez","glyphicon-backward":"bootstrap_glyphicon-backward_2j8Sy","glyphicon-play":"bootstrap_glyphicon-play_2dKcC","glyphicon-pause":"bootstrap_glyphicon-pause_12HYh","glyphicon-stop":"bootstrap_glyphicon-stop_1foYT","glyphicon-forward":"bootstrap_glyphicon-forward_tDkVR","glyphicon-fast-forward":"bootstrap_glyphicon-fast-forward_UcUJV","glyphicon-step-forward":"bootstrap_glyphicon-step-forward_3y0Ng","glyphicon-eject":"bootstrap_glyphicon-eject_1j4W_","glyphicon-chevron-left":"bootstrap_glyphicon-chevron-left_3O-vX","glyphicon-chevron-right":"bootstrap_glyphicon-chevron-right_3zU1N","glyphicon-plus-sign":"bootstrap_glyphicon-plus-sign_2Q76W","glyphicon-minus-sign":"bootstrap_glyphicon-minus-sign_253LV","glyphicon-remove-sign":"bootstrap_glyphicon-remove-sign_1ExIe","glyphicon-ok-sign":"bootstrap_glyphicon-ok-sign_3da0K","glyphicon-question-sign":"bootstrap_glyphicon-question-sign_1dCCO","glyphicon-info-sign":"bootstrap_glyphicon-info-sign_2fUzq","glyphicon-screenshot":"bootstrap_glyphicon-screenshot_4dTeF","glyphicon-remove-circle":"bootstrap_glyphicon-remove-circle_1grQs","glyphicon-ok-circle":"bootstrap_glyphicon-ok-circle_1P-9P","glyphicon-ban-circle":"bootstrap_glyphicon-ban-circle_2800V","glyphicon-arrow-left":"bootstrap_glyphicon-arrow-left_1mllW","glyphicon-arrow-right":"bootstrap_glyphicon-arrow-right_TubYn","glyphicon-arrow-up":"bootstrap_glyphicon-arrow-up_3-3IV","glyphicon-arrow-down":"bootstrap_glyphicon-arrow-down_1kogD","glyphicon-share-alt":"bootstrap_glyphicon-share-alt_1IJKa","glyphicon-resize-full":"bootstrap_glyphicon-resize-full_ofWdP","glyphicon-resize-small":"bootstrap_glyphicon-resize-small_33cfO","glyphicon-exclamation-sign":"bootstrap_glyphicon-exclamation-sign_2HjO7","glyphicon-gift":"bootstrap_glyphicon-gift_16CJc","glyphicon-leaf":"bootstrap_glyphicon-leaf_3dQc_","glyphicon-fire":"bootstrap_glyphicon-fire_3lZAd","glyphicon-eye-open":"bootstrap_glyphicon-eye-open_3nvfP","glyphicon-eye-close":"bootstrap_glyphicon-eye-close_Pq4Nc","glyphicon-warning-sign":"bootstrap_glyphicon-warning-sign_3Uaff","glyphicon-plane":"bootstrap_glyphicon-plane_2kV0K","glyphicon-calendar":"bootstrap_glyphicon-calendar_2BY87","glyphicon-random":"bootstrap_glyphicon-random_AtXLb","glyphicon-comment":"bootstrap_glyphicon-comment_2J995","glyphicon-magnet":"bootstrap_glyphicon-magnet_2WQz5","glyphicon-chevron-up":"bootstrap_glyphicon-chevron-up_uGMLB","glyphicon-chevron-down":"bootstrap_glyphicon-chevron-down_29cUD","glyphicon-retweet":"bootstrap_glyphicon-retweet_D7nhi","glyphicon-shopping-cart":"bootstrap_glyphicon-shopping-cart_2pQUs","glyphicon-folder-close":"bootstrap_glyphicon-folder-close_3utAt","glyphicon-folder-open":"bootstrap_glyphicon-folder-open_d79Ox","glyphicon-resize-vertical":"bootstrap_glyphicon-resize-vertical_3Ogda","glyphicon-resize-horizontal":"bootstrap_glyphicon-resize-horizontal_XoSR2","glyphicon-hdd":"bootstrap_glyphicon-hdd_Cr8Tr","glyphicon-bullhorn":"bootstrap_glyphicon-bullhorn_266ji","glyphicon-bell":"bootstrap_glyphicon-bell_pqfP7","glyphicon-certificate":"bootstrap_glyphicon-certificate_3yONA","glyphicon-thumbs-up":"bootstrap_glyphicon-thumbs-up_3QptT","glyphicon-thumbs-down":"bootstrap_glyphicon-thumbs-down_23Aft","glyphicon-hand-right":"bootstrap_glyphicon-hand-right_3GMkG","glyphicon-hand-left":"bootstrap_glyphicon-hand-left_1RTG3","glyphicon-hand-up":"bootstrap_glyphicon-hand-up_3YTps","glyphicon-hand-down":"bootstrap_glyphicon-hand-down_2P3ii","glyphicon-circle-arrow-right":"bootstrap_glyphicon-circle-arrow-right_5LSGR","glyphicon-circle-arrow-left":"bootstrap_glyphicon-circle-arrow-left_29Hes","glyphicon-circle-arrow-up":"bootstrap_glyphicon-circle-arrow-up_27CR6","glyphicon-circle-arrow-down":"bootstrap_glyphicon-circle-arrow-down_3tM_g","glyphicon-globe":"bootstrap_glyphicon-globe_3-Iy3","glyphicon-wrench":"bootstrap_glyphicon-wrench_3Qid1","glyphicon-tasks":"bootstrap_glyphicon-tasks_1R7sr","glyphicon-filter":"bootstrap_glyphicon-filter_1QzWZ","glyphicon-briefcase":"bootstrap_glyphicon-briefcase_2trgc","glyphicon-fullscreen":"bootstrap_glyphicon-fullscreen_wEIJs","glyphicon-dashboard":"bootstrap_glyphicon-dashboard_2NGwA","glyphicon-paperclip":"bootstrap_glyphicon-paperclip_1-NdD","glyphicon-heart-empty":"bootstrap_glyphicon-heart-empty_3Zqe9","glyphicon-link":"bootstrap_glyphicon-link_J3V1D","glyphicon-phone":"bootstrap_glyphicon-phone_b_c6o","glyphicon-pushpin":"bootstrap_glyphicon-pushpin_1ldo2","glyphicon-usd":"bootstrap_glyphicon-usd_2TFwn","glyphicon-gbp":"bootstrap_glyphicon-gbp_ZXBxB","glyphicon-sort":"bootstrap_glyphicon-sort_2ngyA","glyphicon-sort-by-alphabet":"bootstrap_glyphicon-sort-by-alphabet_fpbDA","glyphicon-sort-by-alphabet-alt":"bootstrap_glyphicon-sort-by-alphabet-alt_1UZcD","glyphicon-sort-by-order":"bootstrap_glyphicon-sort-by-order_2MYUR","glyphicon-sort-by-order-alt":"bootstrap_glyphicon-sort-by-order-alt_P0jFm","glyphicon-sort-by-attributes":"bootstrap_glyphicon-sort-by-attributes_l65KE","glyphicon-sort-by-attributes-alt":"bootstrap_glyphicon-sort-by-attributes-alt_29fB4","glyphicon-unchecked":"bootstrap_glyphicon-unchecked_2k5ew","glyphicon-expand":"bootstrap_glyphicon-expand_38Qjq","glyphicon-collapse-down":"bootstrap_glyphicon-collapse-down_1vPvF","glyphicon-collapse-up":"bootstrap_glyphicon-collapse-up_2fIjc","glyphicon-log-in":"bootstrap_glyphicon-log-in_2UHt4","glyphicon-flash":"bootstrap_glyphicon-flash_Lzp5Y","glyphicon-log-out":"bootstrap_glyphicon-log-out_34nrl","glyphicon-new-window":"bootstrap_glyphicon-new-window_3_-ob","glyphicon-record":"bootstrap_glyphicon-record_3ilQp","glyphicon-save":"bootstrap_glyphicon-save_2paQR","glyphicon-open":"bootstrap_glyphicon-open_1m1fr","glyphicon-saved":"bootstrap_glyphicon-saved_1Q0J2","glyphicon-import":"bootstrap_glyphicon-import_5dQp1","glyphicon-export":"bootstrap_glyphicon-export_2gt7Q","glyphicon-send":"bootstrap_glyphicon-send_piuog","glyphicon-floppy-disk":"bootstrap_glyphicon-floppy-disk_3AKgR","glyphicon-floppy-saved":"bootstrap_glyphicon-floppy-saved_vrPrS","glyphicon-floppy-remove":"bootstrap_glyphicon-floppy-remove_ht5u0","glyphicon-floppy-save":"bootstrap_glyphicon-floppy-save_1z1AN","glyphicon-floppy-open":"bootstrap_glyphicon-floppy-open_3N0Ld","glyphicon-credit-card":"bootstrap_glyphicon-credit-card_1NNnQ","glyphicon-transfer":"bootstrap_glyphicon-transfer_CeMoi","glyphicon-cutlery":"bootstrap_glyphicon-cutlery_CA8QW","glyphicon-header":"bootstrap_glyphicon-header_3CiTH","glyphicon-compressed":"bootstrap_glyphicon-compressed_2q-kK","glyphicon-earphone":"bootstrap_glyphicon-earphone_1s31f","glyphicon-phone-alt":"bootstrap_glyphicon-phone-alt_1_Ei9","glyphicon-tower":"bootstrap_glyphicon-tower_lKFVH","glyphicon-stats":"bootstrap_glyphicon-stats_2SRCM","glyphicon-sd-video":"bootstrap_glyphicon-sd-video_tbszD","glyphicon-hd-video":"bootstrap_glyphicon-hd-video_btGWY","glyphicon-subtitles":"bootstrap_glyphicon-subtitles_yr7Dd","glyphicon-sound-stereo":"bootstrap_glyphicon-sound-stereo_2_rap","glyphicon-sound-dolby":"bootstrap_glyphicon-sound-dolby_2GFd-","glyphicon-sound-5-1":"bootstrap_glyphicon-sound-5-1_3SIda","glyphicon-sound-6-1":"bootstrap_glyphicon-sound-6-1_1Q1UD","glyphicon-sound-7-1":"bootstrap_glyphicon-sound-7-1_37pG1","glyphicon-copyright-mark":"bootstrap_glyphicon-copyright-mark_NsFoD","glyphicon-registration-mark":"bootstrap_glyphicon-registration-mark_3F7dO","glyphicon-cloud-download":"bootstrap_glyphicon-cloud-download_142Xx","glyphicon-cloud-upload":"bootstrap_glyphicon-cloud-upload_1OifE","glyphicon-tree-conifer":"bootstrap_glyphicon-tree-conifer_GX0-w","glyphicon-tree-deciduous":"bootstrap_glyphicon-tree-deciduous_1lKkV","glyphicon-cd":"bootstrap_glyphicon-cd_3HB3f","glyphicon-save-file":"bootstrap_glyphicon-save-file_2hqeq","glyphicon-open-file":"bootstrap_glyphicon-open-file_1yGGu","glyphicon-level-up":"bootstrap_glyphicon-level-up_2cQvf","glyphicon-copy":"bootstrap_glyphicon-copy_lhCZX","glyphicon-paste":"bootstrap_glyphicon-paste_1XdLT","glyphicon-alert":"bootstrap_glyphicon-alert_fqoxc","glyphicon-equalizer":"bootstrap_glyphicon-equalizer_2KL0Q","glyphicon-king":"bootstrap_glyphicon-king_3z2Tj","glyphicon-queen":"bootstrap_glyphicon-queen_15PGf","glyphicon-pawn":"bootstrap_glyphicon-pawn_X-jZF","glyphicon-bishop":"bootstrap_glyphicon-bishop_3X0gR","glyphicon-knight":"bootstrap_glyphicon-knight_2PDKN","glyphicon-baby-formula":"bootstrap_glyphicon-baby-formula_2BM8W","glyphicon-tent":"bootstrap_glyphicon-tent_3X8Rl","glyphicon-blackboard":"bootstrap_glyphicon-blackboard_2fsTE","glyphicon-bed":"bootstrap_glyphicon-bed_VbgNU","glyphicon-apple":"bootstrap_glyphicon-apple_3Mn7H","glyphicon-erase":"bootstrap_glyphicon-erase_1psSH","glyphicon-hourglass":"bootstrap_glyphicon-hourglass_2qpqu","glyphicon-lamp":"bootstrap_glyphicon-lamp_S1Tv8","glyphicon-duplicate":"bootstrap_glyphicon-duplicate_3qa1K","glyphicon-piggy-bank":"bootstrap_glyphicon-piggy-bank_2CIkv","glyphicon-scissors":"bootstrap_glyphicon-scissors_aJEB6","glyphicon-bitcoin":"bootstrap_glyphicon-bitcoin_G0-2Y","glyphicon-btc":"bootstrap_glyphicon-btc_jEjg0","glyphicon-xbt":"bootstrap_glyphicon-xbt_1cFeh","glyphicon-yen":"bootstrap_glyphicon-yen_2Nplj","glyphicon-jpy":"bootstrap_glyphicon-jpy_3n7zN","glyphicon-ruble":"bootstrap_glyphicon-ruble_2eQ75","glyphicon-rub":"bootstrap_glyphicon-rub_IIwtG","glyphicon-scale":"bootstrap_glyphicon-scale_3r-ws","glyphicon-ice-lolly":"bootstrap_glyphicon-ice-lolly_I857-","glyphicon-ice-lolly-tasted":"bootstrap_glyphicon-ice-lolly-tasted_1gAsk","glyphicon-education":"bootstrap_glyphicon-education_39FhD","glyphicon-option-horizontal":"bootstrap_glyphicon-option-horizontal_MGG1G","glyphicon-option-vertical":"bootstrap_glyphicon-option-vertical_t3hLH","glyphicon-menu-hamburger":"bootstrap_glyphicon-menu-hamburger_1C7D2","glyphicon-modal-window":"bootstrap_glyphicon-modal-window_3JEbt","glyphicon-oil":"bootstrap_glyphicon-oil_2uA0O","glyphicon-grain":"bootstrap_glyphicon-grain_33VjN","glyphicon-sunglasses":"bootstrap_glyphicon-sunglasses_IThhY","glyphicon-text-size":"bootstrap_glyphicon-text-size_N_Pf_","glyphicon-text-color":"bootstrap_glyphicon-text-color_1ljPT","glyphicon-text-background":"bootstrap_glyphicon-text-background_10GpM","glyphicon-object-align-top":"bootstrap_glyphicon-object-align-top_1BNJF","glyphicon-object-align-bottom":"bootstrap_glyphicon-object-align-bottom_mUiYX","glyphicon-object-align-horizontal":"bootstrap_glyphicon-object-align-horizontal_1PyXb","glyphicon-object-align-left":"bootstrap_glyphicon-object-align-left_2Klov","glyphicon-object-align-vertical":"bootstrap_glyphicon-object-align-vertical_2Jdbu","glyphicon-object-align-right":"bootstrap_glyphicon-object-align-right_1AZZz","glyphicon-triangle-right":"bootstrap_glyphicon-triangle-right_2FoXj","glyphicon-triangle-left":"bootstrap_glyphicon-triangle-left_2yDwZ","glyphicon-triangle-bottom":"bootstrap_glyphicon-triangle-bottom_35T03","glyphicon-triangle-top":"bootstrap_glyphicon-triangle-top_1t8nN","glyphicon-console":"bootstrap_glyphicon-console_JHUUP","glyphicon-superscript":"bootstrap_glyphicon-superscript_27fbg","glyphicon-subscript":"bootstrap_glyphicon-subscript_9k-Kd","glyphicon-menu-left":"bootstrap_glyphicon-menu-left_3BLTL","glyphicon-menu-right":"bootstrap_glyphicon-menu-right_1WyWr","glyphicon-menu-down":"bootstrap_glyphicon-menu-down_xlKXo","glyphicon-menu-up":"bootstrap_glyphicon-menu-up_2te79","img-responsive":"bootstrap_img-responsive_BQEWq",thumbnail:"bootstrap_thumbnail_29KgZ","carousel-inner":"bootstrap_carousel-inner_2eNnL",item:"bootstrap_item_1rM3d","img-rounded":"bootstrap_img-rounded_3g-3K","img-thumbnail":"bootstrap_img-thumbnail_3m0Pr","img-circle":"bootstrap_img-circle_2zyh6","sr-only":"bootstrap_sr-only_2_Sh5","sr-only-focusable":"bootstrap_sr-only-focusable_2pMeX",h1:"bootstrap_h1_-7u05",h2:"bootstrap_h2_3PA2P",h3:"bootstrap_h3_1Qt5r",h4:"bootstrap_h4_3m1J5",h5:"bootstrap_h5_2Js8I",h6:"bootstrap_h6_2KarX",small:"bootstrap_small_2V7Sa",lead:"bootstrap_lead_352lV",mark:"bootstrap_mark_12chl","text-left":"bootstrap_text-left_xcUh0","text-right":"bootstrap_text-right_3KY4I","text-center":"bootstrap_text-center_3zmme","text-justify":"bootstrap_text-justify_2H4t3","text-nowrap":"bootstrap_text-nowrap_1YEe8","text-lowercase":"bootstrap_text-lowercase_24eGE","text-uppercase":"bootstrap_text-uppercase_22cEN","text-capitalize":"bootstrap_text-capitalize_3A1Se","text-muted":"bootstrap_text-muted_1BD1f","text-primary":"bootstrap_text-primary_3V6dh","text-success":"bootstrap_text-success_28TIH","text-info":"bootstrap_text-info_czgmH","text-warning":"bootstrap_text-warning_g8El1","text-danger":"bootstrap_text-danger_1EzaQ","bg-primary":"bootstrap_bg-primary_348TI","bg-success":"bootstrap_bg-success_12Byh","bg-info":"bootstrap_bg-info_cgytP","bg-warning":"bootstrap_bg-warning_14IBf","bg-danger":"bootstrap_bg-danger_CvMAP","page-header":"bootstrap_page-header_7BoNV","list-unstyled":"bootstrap_list-unstyled_32eHF","list-inline":"bootstrap_list-inline_168bl","dl-horizontal":"bootstrap_dl-horizontal_1_GN3",initialism:"bootstrap_initialism_1Zr9Q","blockquote-reverse":"bootstrap_blockquote-reverse_7E7a7","pull-right":"bootstrap_pull-right_dntuq","pre-scrollable":"bootstrap_pre-scrollable_3z2k8",container:"bootstrap_container_14CZB","container-fluid":"bootstrap_container-fluid_3UQ-R",row:"bootstrap_row_1DyhW","col-xs-1":"bootstrap_col-xs-1_3qMZK","col-sm-1":"bootstrap_col-sm-1_2bAOE","col-md-1":"bootstrap_col-md-1_1KbGb","col-lg-1":"bootstrap_col-lg-1_2uKLp","col-xs-2":"bootstrap_col-xs-2_Hlyxe","col-sm-2":"bootstrap_col-sm-2_1-ya8","col-md-2":"bootstrap_col-md-2_22Mhj","col-lg-2":"bootstrap_col-lg-2_2JVPM","col-xs-3":"bootstrap_col-xs-3_3L2bi","col-sm-3":"bootstrap_col-sm-3_3ZSBf","col-md-3":"bootstrap_col-md-3_1uJQ5","col-lg-3":"bootstrap_col-lg-3_3y1CY","col-xs-4":"bootstrap_col-xs-4_1DZdO","col-sm-4":"bootstrap_col-sm-4_1m31_","col-md-4":"bootstrap_col-md-4_1iG7O","col-lg-4":"bootstrap_col-lg-4_2LJPm","col-xs-5":"bootstrap_col-xs-5_28BT8","col-sm-5":"bootstrap_col-sm-5_1Se4e","col-md-5":"bootstrap_col-md-5_2NKxK","col-lg-5":"bootstrap_col-lg-5_3XWUG","col-xs-6":"bootstrap_col-xs-6_2YB8J","col-sm-6":"bootstrap_col-sm-6_1_UWB","col-md-6":"bootstrap_col-md-6_1biRW","col-lg-6":"bootstrap_col-lg-6_13Xun","col-xs-7":"bootstrap_col-xs-7_3cVHo","col-sm-7":"bootstrap_col-sm-7_2VlbS","col-md-7":"bootstrap_col-md-7_QRsKv","col-lg-7":"bootstrap_col-lg-7_1ipZG","col-xs-8":"bootstrap_col-xs-8_2Q12F","col-sm-8":"bootstrap_col-sm-8_1mIr8","col-md-8":"bootstrap_col-md-8_2bs7P","col-lg-8":"bootstrap_col-lg-8_2bRxg","col-xs-9":"bootstrap_col-xs-9_3SUtC","col-sm-9":"bootstrap_col-sm-9_FUhuA","col-md-9":"bootstrap_col-md-9_3Eawt","col-lg-9":"bootstrap_col-lg-9_3-jRi","col-xs-10":"bootstrap_col-xs-10_GoiQr","col-sm-10":"bootstrap_col-sm-10_3waVM","col-md-10":"bootstrap_col-md-10_oOwCK","col-lg-10":"bootstrap_col-lg-10_2N8jD","col-xs-11":"bootstrap_col-xs-11_2tpGt","col-sm-11":"bootstrap_col-sm-11_Z3qzu","col-md-11":"bootstrap_col-md-11_3mBfm","col-lg-11":"bootstrap_col-lg-11_2LnUU","col-xs-12":"bootstrap_col-xs-12_3ejkd","col-sm-12":"bootstrap_col-sm-12_14yXY","col-md-12":"bootstrap_col-md-12_3tHZP","col-lg-12":"bootstrap_col-lg-12_2kmyg","col-xs-pull-12":"bootstrap_col-xs-pull-12_6QG8A","col-xs-pull-11":"bootstrap_col-xs-pull-11_wQrh1","col-xs-pull-10":"bootstrap_col-xs-pull-10_2IC6n","col-xs-pull-9":"bootstrap_col-xs-pull-9_34Qj-","col-xs-pull-8":"bootstrap_col-xs-pull-8_17lpb","col-xs-pull-7":"bootstrap_col-xs-pull-7_ZGVjp","col-xs-pull-6":"bootstrap_col-xs-pull-6_3rb49","col-xs-pull-5":"bootstrap_col-xs-pull-5_2_DMQ","col-xs-pull-4":"bootstrap_col-xs-pull-4_2EgKj","col-xs-pull-3":"bootstrap_col-xs-pull-3_136zi","col-xs-pull-2":"bootstrap_col-xs-pull-2_OEIOj","col-xs-pull-1":"bootstrap_col-xs-pull-1_TriMs","col-xs-pull-0":"bootstrap_col-xs-pull-0_zl04b","col-xs-push-12":"bootstrap_col-xs-push-12_4bpry","col-xs-push-11":"bootstrap_col-xs-push-11_2RlP6","col-xs-push-10":"bootstrap_col-xs-push-10_2hsq4","col-xs-push-9":"bootstrap_col-xs-push-9_3P1qC","col-xs-push-8":"bootstrap_col-xs-push-8_Ucs83","col-xs-push-7":"bootstrap_col-xs-push-7_whSK5","col-xs-push-6":"bootstrap_col-xs-push-6_qY-x2","col-xs-push-5":"bootstrap_col-xs-push-5_3lsZW","col-xs-push-4":"bootstrap_col-xs-push-4_1dVZ2","col-xs-push-3":"bootstrap_col-xs-push-3_rn_-f","col-xs-push-2":"bootstrap_col-xs-push-2_uwcHy","col-xs-push-1":"bootstrap_col-xs-push-1_1ODak","col-xs-push-0":"bootstrap_col-xs-push-0_hf9pR","col-xs-offset-12":"bootstrap_col-xs-offset-12_mIlOU","col-xs-offset-11":"bootstrap_col-xs-offset-11_h1rDQ","col-xs-offset-10":"bootstrap_col-xs-offset-10_28tWZ","col-xs-offset-9":"bootstrap_col-xs-offset-9_2hqZq","col-xs-offset-8":"bootstrap_col-xs-offset-8_rtKE-","col-xs-offset-7":"bootstrap_col-xs-offset-7_1E05W","col-xs-offset-6":"bootstrap_col-xs-offset-6_3urns","col-xs-offset-5":"bootstrap_col-xs-offset-5_22Zan","col-xs-offset-4":"bootstrap_col-xs-offset-4_1MyZp","col-xs-offset-3":"bootstrap_col-xs-offset-3_mNJpP","col-xs-offset-2":"bootstrap_col-xs-offset-2_1kfGn","col-xs-offset-1":"bootstrap_col-xs-offset-1_3aIGW","col-xs-offset-0":"bootstrap_col-xs-offset-0_1rR19","col-sm-pull-12":"bootstrap_col-sm-pull-12_U73Fj","col-sm-pull-11":"bootstrap_col-sm-pull-11_3DMZ9","col-sm-pull-10":"bootstrap_col-sm-pull-10_2XDe2","col-sm-pull-9":"bootstrap_col-sm-pull-9_1tw6I","col-sm-pull-8":"bootstrap_col-sm-pull-8_3DSUD","col-sm-pull-7":"bootstrap_col-sm-pull-7_26ZJe","col-sm-pull-6":"bootstrap_col-sm-pull-6_1hnYX","col-sm-pull-5":"bootstrap_col-sm-pull-5_3QcNE","col-sm-pull-4":"bootstrap_col-sm-pull-4_2ekiQ","col-sm-pull-3":"bootstrap_col-sm-pull-3_SQqcW","col-sm-pull-2":"bootstrap_col-sm-pull-2_3yUZX","col-sm-pull-1":"bootstrap_col-sm-pull-1_94wwy","col-sm-pull-0":"bootstrap_col-sm-pull-0_3wExk","col-sm-push-12":"bootstrap_col-sm-push-12_38cSO","col-sm-push-11":"bootstrap_col-sm-push-11_39EMI","col-sm-push-10":"bootstrap_col-sm-push-10_3erKT","col-sm-push-9":"bootstrap_col-sm-push-9_2hsN4","col-sm-push-8":"bootstrap_col-sm-push-8_3eNOS","col-sm-push-7":"bootstrap_col-sm-push-7_2W0o5","col-sm-push-6":"bootstrap_col-sm-push-6_23nRe","col-sm-push-5":"bootstrap_col-sm-push-5_1j2Ch","col-sm-push-4":"bootstrap_col-sm-push-4_2mb5S","col-sm-push-3":"bootstrap_col-sm-push-3_JvwZf","col-sm-push-2":"bootstrap_col-sm-push-2_1NoOQ","col-sm-push-1":"bootstrap_col-sm-push-1_3IRxC","col-sm-push-0":"bootstrap_col-sm-push-0_1pQsn","col-sm-offset-12":"bootstrap_col-sm-offset-12_cfvsy","col-sm-offset-11":"bootstrap_col-sm-offset-11_280Ih","col-sm-offset-10":"bootstrap_col-sm-offset-10_2Z3ai","col-sm-offset-9":"bootstrap_col-sm-offset-9_1JMdj","col-sm-offset-8":"bootstrap_col-sm-offset-8_3TuWQ","col-sm-offset-7":"bootstrap_col-sm-offset-7_2CFKm","col-sm-offset-6":"bootstrap_col-sm-offset-6_38BEL","col-sm-offset-5":"bootstrap_col-sm-offset-5_2nH1i","col-sm-offset-4":"bootstrap_col-sm-offset-4_3yt3u","col-sm-offset-3":"bootstrap_col-sm-offset-3_2jyt5","col-sm-offset-2":"bootstrap_col-sm-offset-2_2HwWn","col-sm-offset-1":"bootstrap_col-sm-offset-1_LJG6T","col-sm-offset-0":"bootstrap_col-sm-offset-0_39ZK6","col-md-pull-12":"bootstrap_col-md-pull-12_1csDE","col-md-pull-11":"bootstrap_col-md-pull-11_3BX0A","col-md-pull-10":"bootstrap_col-md-pull-10_3DGWD","col-md-pull-9":"bootstrap_col-md-pull-9_1tcaV","col-md-pull-8":"bootstrap_col-md-pull-8_3Q0EH","col-md-pull-7":"bootstrap_col-md-pull-7_30Oxq","col-md-pull-6":"bootstrap_col-md-pull-6_3pQ3y","col-md-pull-5":"bootstrap_col-md-pull-5_1_Vc9","col-md-pull-4":"bootstrap_col-md-pull-4_l2jmb","col-md-pull-3":"bootstrap_col-md-pull-3_3MBDn","col-md-pull-2":"bootstrap_col-md-pull-2_MJbPu","col-md-pull-1":"bootstrap_col-md-pull-1_3vS_Y","col-md-pull-0":"bootstrap_col-md-pull-0_2Q2j9","col-md-push-12":"bootstrap_col-md-push-12_1Mhqu","col-md-push-11":"bootstrap_col-md-push-11_6n2X4","col-md-push-10":"bootstrap_col-md-push-10_1quF8","col-md-push-9":"bootstrap_col-md-push-9_2UkFb","col-md-push-8":"bootstrap_col-md-push-8_5pn3F","col-md-push-7":"bootstrap_col-md-push-7_1mJRu","col-md-push-6":"bootstrap_col-md-push-6_paWyb","col-md-push-5":"bootstrap_col-md-push-5_1nStk","col-md-push-4":"bootstrap_col-md-push-4_3NFop","col-md-push-3":"bootstrap_col-md-push-3_1q9Xy","col-md-push-2":"bootstrap_col-md-push-2_1f6Ct","col-md-push-1":"bootstrap_col-md-push-1_3C2C1","col-md-push-0":"bootstrap_col-md-push-0_2MzUB","col-md-offset-12":"bootstrap_col-md-offset-12_1noq9","col-md-offset-11":"bootstrap_col-md-offset-11_31wJZ","col-md-offset-10":"bootstrap_col-md-offset-10_3y-pc","col-md-offset-9":"bootstrap_col-md-offset-9_1Xu2r","col-md-offset-8":"bootstrap_col-md-offset-8_3Uv9b","col-md-offset-7":"bootstrap_col-md-offset-7_1d6aE","col-md-offset-6":"bootstrap_col-md-offset-6_15Tty","col-md-offset-5":"bootstrap_col-md-offset-5_fwPyF","col-md-offset-4":"bootstrap_col-md-offset-4_3ZeIn","col-md-offset-3":"bootstrap_col-md-offset-3_1o1Vs","col-md-offset-2":"bootstrap_col-md-offset-2_1GseP","col-md-offset-1":"bootstrap_col-md-offset-1_3quJh","col-md-offset-0":"bootstrap_col-md-offset-0_3JLmD","col-lg-pull-12":"bootstrap_col-lg-pull-12_2cai-","col-lg-pull-11":"bootstrap_col-lg-pull-11_2UB5P","col-lg-pull-10":"bootstrap_col-lg-pull-10_h2TrN","col-lg-pull-9":"bootstrap_col-lg-pull-9_dF5Vt","col-lg-pull-8":"bootstrap_col-lg-pull-8_10RrB","col-lg-pull-7":"bootstrap_col-lg-pull-7_3Jz15","col-lg-pull-6":"bootstrap_col-lg-pull-6_2AcUC","col-lg-pull-5":"bootstrap_col-lg-pull-5_2KhhQ","col-lg-pull-4":"bootstrap_col-lg-pull-4_3fqIr","col-lg-pull-3":"bootstrap_col-lg-pull-3_EjOiz","col-lg-pull-2":"bootstrap_col-lg-pull-2_1J3bc","col-lg-pull-1":"bootstrap_col-lg-pull-1_7piqU","col-lg-pull-0":"bootstrap_col-lg-pull-0_1282G","col-lg-push-12":"bootstrap_col-lg-push-12_Habb-","col-lg-push-11":"bootstrap_col-lg-push-11_3BSOV","col-lg-push-10":"bootstrap_col-lg-push-10_2ilNv","col-lg-push-9":"bootstrap_col-lg-push-9_2au2a","col-lg-push-8":"bootstrap_col-lg-push-8_C__to","col-lg-push-7":"bootstrap_col-lg-push-7_3XIp0","col-lg-push-6":"bootstrap_col-lg-push-6_3ibAn","col-lg-push-5":"bootstrap_col-lg-push-5_3pnZM","col-lg-push-4":"bootstrap_col-lg-push-4_f9IZh","col-lg-push-3":"bootstrap_col-lg-push-3_2Zvhh","col-lg-push-2":"bootstrap_col-lg-push-2_25HqD","col-lg-push-1":"bootstrap_col-lg-push-1_37D3_","col-lg-push-0":"bootstrap_col-lg-push-0_Y4HQo","col-lg-offset-12":"bootstrap_col-lg-offset-12_1IsD6","col-lg-offset-11":"bootstrap_col-lg-offset-11_2tewJ","col-lg-offset-10":"bootstrap_col-lg-offset-10_3KW05","col-lg-offset-9":"bootstrap_col-lg-offset-9_3wOC_","col-lg-offset-8":"bootstrap_col-lg-offset-8_2dqPn","col-lg-offset-7":"bootstrap_col-lg-offset-7_2v1zH","col-lg-offset-6":"bootstrap_col-lg-offset-6_3dBBw","col-lg-offset-5":"bootstrap_col-lg-offset-5_23qkt","col-lg-offset-4":"bootstrap_col-lg-offset-4_2SGSs","col-lg-offset-3":"bootstrap_col-lg-offset-3_2-OI0","col-lg-offset-2":"bootstrap_col-lg-offset-2_2FEoz","col-lg-offset-1":"bootstrap_col-lg-offset-1_12Y9n","col-lg-offset-0":"bootstrap_col-lg-offset-0_2--Os","table-condensed":"bootstrap_table-condensed_38wPL","table-striped":"bootstrap_table-striped_NZGhx","table-hover":"bootstrap_table-hover_HZ2Nh",active:"bootstrap_active_3xjRK",success:"bootstrap_success_2inOT",info:"bootstrap_info_1S8XB",warning:"bootstrap_warning_36aWz",danger:"bootstrap_danger_27onD","table-responsive":"bootstrap_table-responsive_2C2-L","form-control":"bootstrap_form-control_3S6Dy","input-sm":"bootstrap_input-sm_2JMmA","input-group-sm":"bootstrap_input-group-sm_1E4RY","input-lg":"bootstrap_input-lg_J5xHo","input-group-lg":"bootstrap_input-group-lg_mnsrP","form-group":"bootstrap_form-group_1CvT2",radio:"bootstrap_radio_2KYF7",checkbox:"bootstrap_checkbox_1H9aO","radio-inline":"bootstrap_radio-inline_1eyyy","checkbox-inline":"bootstrap_checkbox-inline_21UO4",disabled:"bootstrap_disabled_1VGZY","form-control-static":"bootstrap_form-control-static_2eLz4","form-group-sm":"bootstrap_form-group-sm_2l37a","form-group-lg":"bootstrap_form-group-lg_FSUFy","has-feedback":"bootstrap_has-feedback_AYaBQ","form-control-feedback":"bootstrap_form-control-feedback_vmZfH","has-success":"bootstrap_has-success_3s8Kl","help-block":"bootstrap_help-block_aAEAs","control-label":"bootstrap_control-label_Zsgie","input-group-addon":"bootstrap_input-group-addon_2zsFa","has-warning":"bootstrap_has-warning_1iffG","has-error":"bootstrap_has-error_10pyS","form-inline":"bootstrap_form-inline_14Qfc","input-group":"bootstrap_input-group_2GGCk","input-group-btn":"bootstrap_input-group-btn_31yOE","form-horizontal":"bootstrap_form-horizontal_31FwZ",focus:"bootstrap_focus_236jS","btn-default":"bootstrap_btn-default_1RBQ9",open:"bootstrap_open_2Nuiu","dropdown-toggle":"bootstrap_dropdown-toggle_276yo",badge:"bootstrap_badge_3OApR","btn-primary":"bootstrap_btn-primary_3IGYs","btn-success":"bootstrap_btn-success_LZvpt","btn-info":"bootstrap_btn-info_3bPQu","btn-warning":"bootstrap_btn-warning_3YryN","btn-danger":"bootstrap_btn-danger_2eQMz","btn-link":"bootstrap_btn-link_1MhCu","btn-lg":"bootstrap_btn-lg_jO-F5","btn-group-lg":"bootstrap_btn-group-lg_3mZKl","btn-sm":"bootstrap_btn-sm_1Ayl4","btn-group-sm":"bootstrap_btn-group-sm_JN74P","btn-xs":"bootstrap_btn-xs_4cJLs","btn-group-xs":"bootstrap_btn-group-xs__2ihn","btn-block":"bootstrap_btn-block_3x3qQ",fade:"bootstrap_fade_jdPXN",in:"bootstrap_in_1tIvu",collapse:"bootstrap_collapse_2KorY",collapsing:"bootstrap_collapsing_6eV56",dropdown:"bootstrap_dropdown_3Gy4K","dropdown-menu":"bootstrap_dropdown-menu_OAprs",divider:"bootstrap_divider_1Lj-x","dropdown-menu-right":"bootstrap_dropdown-menu-right_1hqpQ","dropdown-menu-left":"bootstrap_dropdown-menu-left_1mguV","dropdown-header":"bootstrap_dropdown-header_3v0hv","dropdown-backdrop":"bootstrap_dropdown-backdrop_976Zb","navbar-fixed-bottom":"bootstrap_navbar-fixed-bottom_1vPps","navbar-right":"bootstrap_navbar-right_2lNwy","btn-group":"bootstrap_btn-group_1oj3E","btn-group-vertical":"bootstrap_btn-group-vertical_3n6x9","btn-toolbar":"bootstrap_btn-toolbar_1oxCQ","btn-group-justified":"bootstrap_btn-group-justified_2jgs5",nav:"bootstrap_nav_33av-","nav-divider":"bootstrap_nav-divider_3UtEM","nav-tabs":"bootstrap_nav-tabs_2VsVB","nav-justified":"bootstrap_nav-justified_1f36l","nav-pills":"bootstrap_nav-pills_39zBp","nav-stacked":"bootstrap_nav-stacked_3VmtF","nav-tabs-justified":"bootstrap_nav-tabs-justified_3SWFk","tab-content":"bootstrap_tab-content_1h0oK","tab-pane":"bootstrap_tab-pane_38i_h","navbar-header":"bootstrap_navbar-header_2wD1r","navbar-collapse":"bootstrap_navbar-collapse_2hHcy","navbar-fixed-top":"bootstrap_navbar-fixed-top_2rVth","navbar-static-top":"bootstrap_navbar-static-top_3dsPD","navbar-brand":"bootstrap_navbar-brand_2QKsn","navbar-toggle":"bootstrap_navbar-toggle_haEMU","icon-bar":"bootstrap_icon-bar_2WgHB","navbar-nav":"bootstrap_navbar-nav_cCo1G","navbar-form":"bootstrap_navbar-form_1ABZI","navbar-btn":"bootstrap_navbar-btn_dcVRL","navbar-text":"bootstrap_navbar-text_1-wvQ","navbar-default":"bootstrap_navbar-default_wBS77","navbar-left":"bootstrap_navbar-left_oC2I7","navbar-link":"bootstrap_navbar-link_2R7o_","navbar-inverse":"bootstrap_navbar-inverse_2Lisc",breadcrumb:"bootstrap_breadcrumb_3qkJd",pagination:"bootstrap_pagination_U6Vtn","pagination-lg":"bootstrap_pagination-lg_3aNny","pagination-sm":"bootstrap_pagination-sm_2IKfN",pager:"bootstrap_pager_29nnB",next:"bootstrap_next_2kTs2",previous:"bootstrap_previous_2UE33","label-default":"bootstrap_label-default_2IJTk","label-primary":"bootstrap_label-primary_FPzxK","label-success":"bootstrap_label-success_m11t6","label-info":"bootstrap_label-info_RIRp3","label-warning":"bootstrap_label-warning_126Ri","label-danger":"bootstrap_label-danger_2qtMN","list-group-item":"bootstrap_list-group-item_1z3yX",jumbotron:"bootstrap_jumbotron_1cOMX",caption:"bootstrap_caption_1S0qk",alert:"bootstrap_alert_3tSAG","alert-link":"bootstrap_alert-link_1VNZJ","alert-dismissable":"bootstrap_alert-dismissable_kTPVi","alert-dismissible":"bootstrap_alert-dismissible_ubEQd",close:"bootstrap_close_2Vy54","alert-success":"bootstrap_alert-success_1Hy9F","alert-info":"bootstrap_alert-info_1Gsw3","alert-warning":"bootstrap_alert-warning_17m3q","alert-danger":"bootstrap_alert-danger_32PAL",progress:"bootstrap_progress_HsC58","progress-bar":"bootstrap_progress-bar_3b3PI","progress-striped":"bootstrap_progress-striped_mXYXU","progress-bar-striped":"bootstrap_progress-bar-striped_1091L","progress-bar-stripes":"bootstrap_progress-bar-stripes_3AW8O","progress-bar-success":"bootstrap_progress-bar-success_2dz15","progress-bar-info":"bootstrap_progress-bar-info_c0c91","progress-bar-warning":"bootstrap_progress-bar-warning_3Fx7j","progress-bar-danger":"bootstrap_progress-bar-danger_3SJgf",media:"bootstrap_media_2MNdM","media-body":"bootstrap_media-body_1vRoP","media-object":"bootstrap_media-object_1ehij","media-right":"bootstrap_media-right_2NfPx","media-left":"bootstrap_media-left_13GSS","pull-left":"bootstrap_pull-left__GzC5","media-middle":"bootstrap_media-middle_3Ar53","media-bottom":"bootstrap_media-bottom_1SXPh","media-heading":"bootstrap_media-heading_3QsLr","media-list":"bootstrap_media-list_o0i9k","list-group":"bootstrap_list-group_2NZMj","list-group-item-heading":"bootstrap_list-group-item-heading_1tOfL","list-group-item-text":"bootstrap_list-group-item-text_3O0mr","list-group-item-success":"bootstrap_list-group-item-success_23pFx","list-group-item-info":"bootstrap_list-group-item-info_rk2BW","list-group-item-warning":"bootstrap_list-group-item-warning_1wZjL","list-group-item-danger":"bootstrap_list-group-item-danger_1-vOO",panel:"bootstrap_panel_YxyBJ","panel-body":"bootstrap_panel-body_3UfYD","panel-heading":"bootstrap_panel-heading_AGvA9","panel-title":"bootstrap_panel-title_2ZY8W","panel-footer":"bootstrap_panel-footer_2613j","panel-collapse":"bootstrap_panel-collapse_1nsmc","panel-group":"bootstrap_panel-group_2xA3z","panel-default":"bootstrap_panel-default_1068p","panel-primary":"bootstrap_panel-primary_1_m7V","panel-success":"bootstrap_panel-success_2CxG6","panel-info":"bootstrap_panel-info_yFMu5","panel-warning":"bootstrap_panel-warning_33svm","panel-danger":"bootstrap_panel-danger_2_Sj6","embed-responsive":"bootstrap_embed-responsive_1wuKw","embed-responsive-item":"bootstrap_embed-responsive-item_UwsvZ","embed-responsive-16by9":"bootstrap_embed-responsive-16by9_2ZNUf","embed-responsive-4by3":"bootstrap_embed-responsive-4by3_2pxoC",well:"bootstrap_well_KhnyZ","well-lg":"bootstrap_well-lg_3SWol","well-sm":"bootstrap_well-sm_3EMxy","modal-open":"bootstrap_modal-open_MRJcM",modal:"bootstrap_modal_3zakd","modal-dialog":"bootstrap_modal-dialog_4ly5N","modal-content":"bootstrap_modal-content_x2TvD","modal-backdrop":"bootstrap_modal-backdrop_243qG","modal-header":"bootstrap_modal-header_20DpX","modal-title":"bootstrap_modal-title_3Vx_o","modal-body":"bootstrap_modal-body_3ctbk","modal-footer":"bootstrap_modal-footer_ZlGl-","modal-scrollbar-measure":"bootstrap_modal-scrollbar-measure_2bmfP","modal-sm":"bootstrap_modal-sm_3YYJX","modal-lg":"bootstrap_modal-lg_1fmk3",tooltip:"bootstrap_tooltip_wBu9-",top:"bootstrap_top_DIFwd",right:"bootstrap_right_2OQLg",bottom:"bootstrap_bottom_Fepcq",left:"bootstrap_left_31aSi","tooltip-inner":"bootstrap_tooltip-inner_2Ek1o","tooltip-arrow":"bootstrap_tooltip-arrow_eWXQH","top-left":"bootstrap_top-left_3HFaE","top-right":"bootstrap_top-right_3T3Fa","bottom-left":"bootstrap_bottom-left_1ocGY","bottom-right":"bootstrap_bottom-right_S9ggx",popover:"bootstrap_popover_1Tsz1","popover-title":"bootstrap_popover-title_3aEB2","popover-content":"bootstrap_popover-content_3FXgQ",arrow:"bootstrap_arrow_2G43j",carousel:"bootstrap_carousel_24lIJ",prev:"bootstrap_prev_2eZwh","carousel-control":"bootstrap_carousel-control_oZ6Rd","icon-prev":"bootstrap_icon-prev_1fr4g","icon-next":"bootstrap_icon-next_3VXMz","carousel-indicators":"bootstrap_carousel-indicators_1P7nk","carousel-caption":"bootstrap_carousel-caption_31L6I",clearfix:"bootstrap_clearfix_uT2py","center-block":"bootstrap_center-block_309Xc",hide:"bootstrap_hide_2tuPM",show:"bootstrap_show_1utad",invisible:"bootstrap_invisible_35PoW","text-hide":"bootstrap_text-hide_3G2v2",hidden:"bootstrap_hidden_o4gZ-",affix:"bootstrap_affix_2q0Jx","visible-xs":"bootstrap_visible-xs_2DBJ1","visible-sm":"bootstrap_visible-sm_94_qR","visible-md":"bootstrap_visible-md_N-aRo","visible-lg":"bootstrap_visible-lg_2KuTy","visible-xs-block":"bootstrap_visible-xs-block_2dWhQ","visible-xs-inline":"bootstrap_visible-xs-inline_35HB5","visible-xs-inline-block":"bootstrap_visible-xs-inline-block_3CW0v","visible-sm-block":"bootstrap_visible-sm-block_yj1M1","visible-sm-inline":"bootstrap_visible-sm-inline_2aeqH","visible-sm-inline-block":"bootstrap_visible-sm-inline-block_XeZWF","visible-md-block":"bootstrap_visible-md-block_1e0sy","visible-md-inline":"bootstrap_visible-md-inline_11cnW","visible-md-inline-block":"bootstrap_visible-md-inline-block_2V6vB","visible-lg-block":"bootstrap_visible-lg-block_2nbSm","visible-lg-inline":"bootstrap_visible-lg-inline_2w-de","visible-lg-inline-block":"bootstrap_visible-lg-inline-block_rkU7X","hidden-xs":"bootstrap_hidden-xs_1NSRJ","hidden-sm":"bootstrap_hidden-sm_3Q06c","hidden-md":"bootstrap_hidden-md_1Anon","hidden-lg":"bootstrap_hidden-lg_1drEM","visible-print":"bootstrap_visible-print_20pSN","visible-print-block":"bootstrap_visible-print-block_1eOO1","visible-print-inline":"bootstrap_visible-print-inline_17s6D","visible-print-inline-block":"bootstrap_visible-print-inline-block_n05ov","hidden-print":"bootstrap_hidden-print_3ppwQ"}},"18bf":function(e,t,a){"use strict";a("6c51")},"1a05":function(e,t,a){"use strict";a("dcfc")},"1b61":function(e,t,a){},"1bec":function(e,t,a){"use strict";a("d90e")},"1c6b":function(e,t,a){"use strict";a("71fa")},2051:function(e,t,a){e.exports={"form-title-block":"formbuilder_form-title-block_5RTZD",fabrikgrid_0:"formbuilder_fabrikgrid_0_3YJe0","btn-default":"formbuilder_btn-default_2KKDt",fabrikgrid_1:"formbuilder_fabrikgrid_1_3r34r",radio:"formbuilder_radio_1mH7u","btn-group":"formbuilder_btn-group_iOMW_",fabrikgrid_radio:"formbuilder_fabrikgrid_radio_1b35B",fabrikinput:"formbuilder_fabrikinput_2CBVl",fabrikgrid_checkbox:"formbuilder_fabrikgrid_checkbox_1GeWx",checkbox:"formbuilder_checkbox_37ADU","row-fluid":"formbuilder_row-fluid_1_FRK",fabrikLabel:"formbuilder_fabrikLabel_GywiO",legend:"formbuilder_legend_1lyIJ",legend2:"formbuilder_legend2_1fRW7","input-append":"formbuilder_input-append_1OYFJ","input-medium":"formbuilder_input-medium_1s7Ta",dinherit:"formbuilder_dinherit_1f9Go","fa-plus-circle":"formbuilder_fa-plus-circle_3NTX1",btnPM:"formbuilder_btnPM_8_vg5",legendSide:"formbuilder_legendSide_1dZ-S","mr-rightS":"formbuilder_mr-rightS_1PXIe",BtnModal:"formbuilder_BtnModal_2Fatp",inputF:"formbuilder_inputF_3ZZhI",formulairedepresentation:"formbuilder_formulairedepresentation_27G6d",coldmd2left:"formbuilder_coldmd2left_3H6mQ","header-form-page":"formbuilder_header-form-page_2AY73",page_header:"formbuilder_page_header_mpgq7",introP:"formbuilder_introP_dA-EH",groupintro:"formbuilder_groupintro_12l-y",dpflex:"formbuilder_dpflex_D57Il",toright:"formbuilder_toright_2Mja5",suboptions:"formbuilder_suboptions_2GkrG","bootstrap-datetimepicker-widget":"formbuilder_bootstrap-datetimepicker-widget_3ZZGd","separator-top":"formbuilder_separator-top_314Rd","translate-icon":"formbuilder_translate-icon_3WUcW","translate-icon-selected":"formbuilder_translate-icon-selected_3Zf_5","fa-sort-down":"formbuilder_fa-sort-down_3L8u8","form-page":"formbuilder_form-page_3faVI","groups-block":"formbuilder_groups-block_OatWX","group-item-block":"formbuilder_group-item-block_1ZEQy","form-viewer-builder":"formbuilder_form-viewer-builder_IymSt","elements-block":"formbuilder_elements-block_1dN63","builder-item-element":"formbuilder_builder-item-element_324-M","actions-item-bar":"formbuilder_actions-item-bar_35DCg","element-updating":"formbuilder_element-updating_1qseD","draggable-item":"formbuilder_draggable-item_204ew","builder-item-element__properties":"formbuilder_builder-item-element__properties_3waqN",unpublished:"formbuilder_unpublished_207p7","actions-update-label":"formbuilder_actions-update-label_u2sU0","fa-check":"formbuilder_fa-check_1-vim","fa-times":"formbuilder_fa-times_2_Ca4",inlineflex:"formbuilder_inlineflex_1cMZu","send-form-button":"formbuilder_send-form-button_13XEK","test-form-button":"formbuilder_test-form-button_1m4rx","form-control":"formbuilder_form-control_1sLrw","draggable-span":"formbuilder_draggable-span_3gVM-",fabrik_characters_left:"formbuilder_fabrik_characters_left_30lgO",badge:"formbuilder_badge_fjcOx","toggle-editor":"formbuilder_toggle-editor_mm3My","btn-toolbar":"formbuilder_btn-toolbar_1Zju0","pull-right":"formbuilder_pull-right_2pasD",clearfix:"formbuilder_clearfix_2W8Vs","form-section":"formbuilder_form-section_3mROZ","form-section__current":"formbuilder_form-section__current_1G9J8",tox:"formbuilder_tox_38Q-k","tox-statusbar":"formbuilder_tox-statusbar_1U5Ap","js-editor-tinymce":"formbuilder_js-editor-tinymce__f8a8","button-add-option":"formbuilder_button-add-option_29Ykf","form-pages":"formbuilder_form-pages_2D76b","plugins-list":"formbuilder_plugins-list_3zUgl","no-elements-tip":"formbuilder_no-elements-tip_oU_P5","v--modal-overlay":"formbuilder_v--modal-overlay_2UzqN","v--modal":"formbuilder_v--modal_3TLc0","icon-featured":"formbuilder_icon-featured_34mCE","icon-default":"formbuilder_icon-default_3rehk","icon-star":"formbuilder_icon-star_ZpyzP","settings-elt":"formbuilder_settings-elt_24mtB","delete-icon-elt":"formbuilder_delete-icon-elt_1k4rJ","tool-icon":"formbuilder_tool-icon_24zOJ"}},2259:function(e,t,a){},"25da":function(e,t,a){},2999:function(e,t,a){},"2a5d":function(e,t,a){},"2b4b":function(e,t,a){},"2b6b":function(e,t,a){"use strict";a("e0a3")},3054:function(e,t,a){"use strict";a("9977")},"31f1":function(e,t,a){"use strict";a("3abd")},3414:function(e,t,a){},3624:function(e,t,a){"use strict";a("5db1")},3645:function(e,t,a){},"36fb":function(e,t,a){"use strict";a("4dac")},"37a1":function(e,t,a){},"3a02":function(e,t,a){"use strict";a("4682")},"3abd":function(e,t,a){},"3b69":function(e,t,a){"use strict";a("f335")},"3d47":function(e,t,a){},"417c":function(e,t,a){},"420f":function(e,t,a){},4682:function(e,t,a){},"4a35":function(e,t,a){"use strict";a("55d3")},"4a5c":function(e,t,a){},"4cd0":function(e,t,a){"use strict";a("04f6")},"4dac":function(e,t,a){},"4dc7":function(e,t,a){},"4e62":function(e,t,a){},5093:function(e,t,a){"use strict";a("9266")},"50c0":function(e,t,a){},"54a6":function(e,t,a){"use strict";a("94a1")},"55d3":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("e832"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"com_emundus_vue"},["attachments"===e.componentName?a("Attachments",{attrs:{fnum:e.data.fnum,user:e.data.user}}):a("transition",{attrs:{name:"slide-right"}},[a(e.$props.component,{tag:"component"})],1)],1)},o=[],n=a("4e22"),r=a.n(n),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"em-attachments"}},[a("div",{staticClass:"head"},[a("div",{staticClass:"displayed-user"},[a("p",{staticClass:"name"},[e._v(" "+e._s(e.displayedUser.firstname)+" "+e._s(e.displayedUser.lastname)+" ")]),a("p",{staticClass:"email"},[e._v(e._s(e.displayedUser.email)+" ")]),e.progress?a("p",{staticClass:"attachment-progress"},[e._v(" - "+e._s(e.progress)+"% "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_COMPLETED")))]):e._e()]),a("div",{staticClass:"prev-next-files"},[e.fnums.length>1?a("div",{staticClass:"prev",class:{active:e.fnumPosition>0},on:{click:function(t){return e.changeFile(e.fnumPosition-1)}}},[a("span",{staticClass:"material-icons"},[e._v("arrow_back")])]):e._e(),e.fnums.length>1?a("div",{staticClass:"next",class:{active:e.fnumPosition<e.fnums.length-1},on:{click:function(t){return e.changeFile(e.fnumPosition+1)}}},[a("span",{staticClass:"material-icons"},[e._v("arrow_forward")])]):e._e()])]),a("div",{staticClass:"wrapper",class:{loading:e.loading}},[a("div",{attrs:{id:"filters"}},[a("div",{staticClass:"searchbar-wrapper"},[a("input",{ref:"searchbar",attrs:{id:"searchbar",type:"text",placeholder:e.translate("COM_EMUNDUS_ACTIONS_SEARCH")},on:{input:e.searchInFiles}}),a("span",{staticClass:"material-icons search"},[e._v("search")]),a("span",{staticClass:"material-icons clear",on:{click:e.resetSearch}},[e._v("clear")])]),a("div",{staticClass:"actions"},[Object.entries(e.thisAttachmentCategories).length>0?a("select",{ref:"categoryFilter",staticClass:"category-select",attrs:{name:"category"},on:{change:e.filterByCategory}},[a("option",{attrs:{value:"all"}},[e._v(e._s(e.translate("COM_EMUNDUS_EMAILS_SELECT_CATEGORY")))]),e._l(e.thisAttachmentCategories,(function(t,s){return a("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])}))],2):e._e(),e.canExport?a("div",{staticClass:"btn-icon-text",class:{disabled:e.checkedAttachments.length<1},on:{click:e.exportAttachments}},[a("span",{staticClass:"material-icons export"},[e._v("file_upload")]),a("span",[e._v(e._s(e.translate("COM_EMUNDUS_EXPORTS_EXPORT")))])]):e._e(),a("span",{staticClass:"material-icons refresh",attrs:{title:e.translate("COM_EMUNDUS_ATTACHMENTS_REFRESH_TITLE")},on:{click:function(t){return e.refreshAttachments(!0)}}},[e._v(" autorenew ")]),e.canDelete?a("span",{staticClass:"material-icons delete",class:{disabled:e.checkedAttachments.length<1},attrs:{title:e.translate("COM_EMUNDUS_ATTACHMENTS_DELETE_TITLE")},on:{click:e.confirmDeleteAttachments}},[e._v(" delete_outlined ")]):e._e()])]),e.attachments.length?a("div",{staticClass:"table-wrapper"},[a("table",{class:{loading:e.loading},attrs:{"aria-describedby":"Table of attachments information"}},[a("thead",[a("tr",[a("th",{attrs:{id:"check-th"}},[a("input",{staticClass:"attachment-check",attrs:{type:"checkbox"},on:{change:e.updateAllCheckedAttachments}})]),a("th",{attrs:{id:"name"},on:{click:function(t){return e.orderBy("value")}}},[e._v(" "+e._s(e.translate("NAME"))+" "),"value"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"value"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{staticClass:"date",attrs:{id:"date"},on:{click:function(t){return e.orderBy("timedate")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_SEND_DATE"))+" "),"timedate"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"timedate"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{staticClass:"desc",attrs:{id:"desc"},on:{click:function(t){return e.orderBy("description")}}},[e._v(" "+e._s(e.translate("DESCRIPTION"))+" "),"description"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"description"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{staticClass:"category",attrs:{id:"category"},on:{click:function(t){return e.orderBy("category")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_CATEGORY"))+" "),"category"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"category"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{staticClass:"status",attrs:{id:"status"},on:{click:function(t){return e.orderBy("is_validated")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_CHECK"))+" "),"is_validated"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"is_validated"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{attrs:{id:"user"},on:{click:function(t){return e.orderBy("user_id")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_UPLOADED_BY"))+" "),"user_id"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"user_id"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{attrs:{id:"modified_by"},on:{click:function(t){return e.orderBy("modified_by")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY"))+" "),"modified_by"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"modified_by"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{staticClass:"date",attrs:{id:"modified"},on:{click:function(t){return e.orderBy("modified")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE"))+" "),"modified"==e.sort.orderBy&&"asc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_upward")]):e._e(),"modified"==e.sort.orderBy&&"desc"==e.sort.order?a("span",{staticClass:"material-icons"},[e._v("arrow_downward")]):e._e()]),a("th",{staticClass:"permissions",attrs:{id:"permissions"}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_PERMISSIONS"))+" ")])])]),a("tbody",e._l(e.displayedAttachments,(function(t){return a("AttachmentRow",{key:t.aid,attrs:{attachment:t,checkedAttachmentsProp:e.checkedAttachments,canUpdate:e.canUpdate},on:{"open-modal":function(a){return e.openModal(t)},"update-checked-attachments":e.updateCheckedAttachments,"update-status":e.updateStatus,"change-permission":e.changePermission}})})),1)])]):a("p",[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_NO_ATTACHMENTS_FOUND"))+" ")])]),a("modal",{attrs:{id:"edit-modal",name:"edit",height:"70%",width:"70%",minWidth:690,minHeight:550,styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;"}},[a("div",{staticClass:"modal-head"},[a("div",{staticClass:"flex-start"},[a("span",[e._v(e._s(e.selectedAttachment.filename))])]),a("div",{staticClass:"flex-end"},[e.canDownload?a("a",{staticClass:"download btn-icon-text",attrs:{href:e.attachmentPath,download:""}},[a("span",{staticClass:"material-icons"},[e._v(" file_download ")]),a("span",[e._v(e._s(e.translate("LINK_TO_DOWNLOAD")))])]):e._e(),a("div",{staticClass:"prev-next-attachments"},[a("div",{staticClass:"prev",class:{active:e.selectedAttachmentPosition>0},on:{click:function(t){return e.changeAttachment(e.selectedAttachmentPosition-1,!0)}}},[a("span",{staticClass:"material-icons"},[e._v(" navigate_before ")])]),a("span",{staticClass:"lvl"},[e._v(e._s(e.selectedAttachmentPosition+1)+" / "+e._s(e.displayedAttachments.length))]),a("div",{staticClass:"next",class:{active:e.selectedAttachmentPosition<e.displayedAttachments.length-1},on:{click:function(t){return e.changeAttachment(e.selectedAttachmentPosition+1)}}},[a("span",{staticClass:"material-icons"},[e._v(" navigate_next ")])])]),a("span",{staticClass:"material-icons em-pointer",on:{click:e.closeModal}},[e._v(" close ")])])]),a("transition",{attrs:{name:e.slideTransition},on:{"before-leave":e.beforeLeaveSlide}},[!e.modalLoading&&e.displayedUser.user_id&&e.displayedFnum?a("div",{staticClass:"modal-body"},[a("AttachmentPreview",{attrs:{user:e.displayedUser.user_id},on:{fileNotFound:function(t){e.canDownload=!1},canDownload:function(t){e.canDownload=!0}}}),a("AttachmentEdit",{attrs:{fnum:e.displayedFnum},on:{closeModal:e.closeModal,saveChanges:e.updateAttachment}})],1):e._e()])],1),e.loading?a("div",{staticClass:"vue-em-loader em-loader"}):e._e()],1)},d=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"em-attachment-preview"}},[a("div",{ref:"a-preview",class:{"overflow-x":e.overflowX,"overflow-y":e.overflowY},attrs:{id:"attachment-preview"}}),a("div",{class:{active:e.msg&&e.openMsg},attrs:{id:"msg"}},[a("p",[e._v(e._s(e.msg))])])])},m=[],u=a("7338"),_=a.n(u),p=(e={"Content-Type":"application/json","Cache-Control":"no-cache"})=>_.a.create({timeout:3e4,headers:e,responseType:"json",withCredentials:!0}),h={async getAttachmentProgress(e){try{const t=await p().get("index.php?option=com_emundus&controller=files&task=getattachmentprogress",{params:{fnum:e}});return t.data}catch(t){return{status:!1,msg:t.message}}},async getAttachmentsByUser(e){try{const t=await p().get("index.php?option=com_emundus&controller=application&task=getuserattachments",{params:{user_id:e}});return t.data}catch(t){return{status:!1,msg:t.message}}},async getAttachmentsByFnum(e){try{const t=await p().get("index.php?option=com_emundus&controller=application&task=getattachmentsbyfnum",{params:{fnum:e}});return t.data.status&&("string"===typeof t.data.attachments&&(t.data.attachments=JSON.parse(t.data.attachments)),"object"===typeof t.data.attachments&&(t.data.attachments=Object.values(t.data.attachments)),t.data.attachments.forEach(e=>{null===e.is_validated&&(e.is_validated=-2),e.show=!0})),t.data}catch(t){return{status:!1,msg:t.message}}},async getAttachmentCategories(){try{const e=await p().get("index.php?option=com_emundus&controller=files&task=getattachmentcategories");return e.data}catch(e){return{status:!1,msg:e.message}}},async deleteAttachments(e,t,a){try{const s=new FormData;return s.append("ids",JSON.stringify(a)),await p().post(`index.php?option=com_emundus&controller=application&task=deleteattachement&fnum=${e}&student_id=${t}`,s,{headers:{"Content-Type":"multipart/form-data"}})}catch(s){return{status:!1,msg:s.message}}},async updateAttachment(e){try{const t=await p().post("index.php?option=com_emundus&controller=application&task=updateattachment",e,{headers:{"Content-Type":"multipart/form-data"}});return t.data}catch(t){return{status:!1,msg:t.message}}},async getPreview(e,t){try{const a=await p().get("index.php?option=com_emundus&controller=application&task=getattachmentpreview",{params:{user:e,filename:t}});return a.data}catch(a){return{status:!1,msg:a.message}}},exportAttachments(e,t,a){const s=new FormData;return s.append("student_id",e),s.append("fnum",t),a.forEach(e=>{s.append("ids[]",e)}),p().post("index.php?option=com_emundus&controller=application&task=exportpdf",s,{headers:{"Content-Type":"multipart/form-data"}})}},g={props:{user:{type:Number,required:!0}},data(){return{attachment:this.$store.state.attachment.selectedAttachment,preview:"",overflowX:!1,overflowY:!1,style:"",msg:"",openMsg:!1}},mounted(){this.attachment=this.$store.state.attachment.selectedAttachment,this.getPreview()},methods:{async getPreview(){let e;this.$store.state.attachment.previews[this.attachment.aid]?e=this.$store.state.attachment.previews[this.attachment.aid]:(e=await h.getPreview(this.user,this.attachment.filename),e.status&&this.$store.commit("attachment/setPreview",{preview:e,id:this.attachment.aid})),this.$emit("canDownload"),e.status?(this.preview=e.content,this.overflowX=e.overflowX,this.overflowY=e.overflowY,this.style=e.style,e.msg&&(this.msg=e.msg,this.openMsg=!0,setTimeout(()=>{this.openMsg=!1},3e3))):("file_not_found"===e.error&&this.$emit("fileNotFound"),this.overflowX=!1,this.overflowY=!1,this.preview=e.content,this.msg=""),null===this.$refs["a-preview"].shadowRoot&&this.$refs["a-preview"].attachShadow({mode:"open"}),this.$refs["a-preview"].shadowRoot.innerHTML=null!=this.preview?this.preview:"","sheet"==this.style?this.addSheetStyles():"presentation"==this.style?this.addPresentationStyles():"word"==this.style&&this.addWordStyles()},addSheetStyles(){const e=this.$refs["a-preview"].shadowRoot.querySelectorAll("div");e.forEach((e,t)=>{e.style.width="fit-content",e.style.margin="20px auto",e.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.1)",t>0&&(e.style.display="none")});const t=this.$refs["a-preview"].shadowRoot.querySelector(".navigation");t&&(t.style.display="flex",t.style.flexDirection="row",t.style.justifyContent="flex-start",t.style.alignItems="center",t.querySelectorAll("li").forEach((t,a)=>{t.style.listStyleType="none",t.style.margin="0 10px",t.addEventListener("click",()=>{e.forEach((e,t)=>{e.style.display=t==a?"block":"none"})})}))},addPresentationStyles(){const e=this.$refs["a-preview"].shadowRoot.querySelectorAll(".slide");e.forEach(e=>{e.style.padding="16px",e.style.margin="20px",e.style.width="calc(100% - 72px)",e.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.1)",e.style.borderRadius="8px",e.style.backgroundColor="white"})},addWordStyles(){const e=this.$refs["a-preview"].shadowRoot.querySelector(".wrapper");e&&(e.style.border="var(--border-color)",e.style.boxShadow="var(--box-shadow)",e.style.backgroundColor="white",e.style.padding="20px",e.style.margin="16px",e.style.overflow="hidden")}},watch:{"$store.state.attachment.selectedAttachment":function(){const e=Object.keys(this.$store.state.attachment.selectedAttachment);0!==e.length&&(this.attachment=this.$store.state.attachment.selectedAttachment,this.openMsg=!1,this.getPreview())}}},f=g,b=(a("f276"),a("17e1")),v=Object(b["a"])(f,c,m,!1,null,"5747f17c",null),y=v.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"attachment-edit"}},[a("div",{staticClass:"wrapper"},[a("h2",{staticClass:"title"},[e._v(e._s(e.attachment.value))]),a("div",{staticClass:"editable-data"},[a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"description"}},[e._v(e._s(e.translate("DESCRIPTION"))+" ")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.attachmentDescription,expression:"attachmentDescription"}],attrs:{name:"description",type:"text",disabled:!e.canUpdate},domProps:{value:e.attachmentDescription},on:{input:function(t){t.target.composing||(e.attachmentDescription=t.target.value)}}})]),a("div",{staticClass:"input-group valid-state",class:{success:1==e.attachmentIsValidated,warning:2==e.attachmentIsValidated,error:0==e.attachmentIsValidated}},[a("label",{attrs:{for:"status"}},[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_CHECK")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.attachmentIsValidated,expression:"attachmentIsValidated"}],attrs:{name:"status",disabled:!e.canUpdate},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.attachmentIsValidated=t.target.multiple?a:a[0]},e.updateAttachmentStatus]}},[a("option",{attrs:{value:"1"}},[e._v(e._s(e.translate("VALID")))]),a("option",{attrs:{value:"0"}},[e._v(e._s(e.translate("INVALID")))]),a("option",{attrs:{value:"2"}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_WARNING"))+" ")]),a("option",{attrs:{value:"-2"}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_WAITING"))+" ")])])]),e.canUpdate?a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"replace"}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_REPLACE")))]),a("input",{attrs:{type:"file",name:"replace",accept:e.allowedType},on:{change:e.updateFile}})]):e._e(),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"can_be_viewed"}},[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_CAN_BE_VIEWED")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.attachmentCanBeViewed,expression:"attachmentCanBeViewed"}],attrs:{type:"checkbox",name:"can_be_viewed",disabled:!e.canUpdate},domProps:{checked:Array.isArray(e.attachmentCanBeViewed)?e._i(e.attachmentCanBeViewed,null)>-1:e.attachmentCanBeViewed},on:{change:function(t){var a=e.attachmentCanBeViewed,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.attachmentCanBeViewed=a.concat([o])):n>-1&&(e.attachmentCanBeViewed=a.slice(0,n).concat(a.slice(n+1)))}else e.attachmentCanBeViewed=i}}})]),a("div",{staticClass:"input-group"},[a("label",{attrs:{for:"can_be_deleted"}},[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_CAN_BE_DELETED")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.attachmentCanBeDeleted,expression:"attachmentCanBeDeleted"}],attrs:{type:"checkbox",name:"can_be_deleted",disabled:!e.canUpdate},domProps:{checked:Array.isArray(e.attachmentCanBeDeleted)?e._i(e.attachmentCanBeDeleted,null)>-1:e.attachmentCanBeDeleted},on:{change:function(t){var a=e.attachmentCanBeDeleted,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.attachmentCanBeDeleted=a.concat([o])):n>-1&&(e.attachmentCanBeDeleted=a.slice(0,n).concat(a.slice(n+1)))}else e.attachmentCanBeDeleted=i}}})])]),a("div",{staticClass:"non-editable-data"},[a("div",[a("span",[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_SEND_DATE")))]),a("span",[e._v(e._s(e.formattedDate(e.attachment.timedate)))])]),e.attachment.user_id?a("div",[a("span",[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_UPLOADED_BY")))]),a("span",[e._v(e._s(e.getUserNameById(e.attachment.user_id)))])]):e._e(),e.attachment.category?a("div",[a("span",[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_CATEGORY")))]),a("span",[e._v(e._s(this.categories[e.attachment.category]))])]):e._e(),e.attachment.modified_by?a("div",[a("span",[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY")))]),a("span",[e._v(e._s(e.getUserNameById(e.attachment.modified_by)))])]):e._e(),e.attachment.modified?a("div",[a("span",[e._v(e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE")))]),a("span",[e._v(e._s(e.formattedDate(e.attachment.modified)))])]):e._e()])]),a("div",{staticClass:"actions"},[e.canUpdate?a("button",{staticClass:"em-primary-button",on:{click:e.saveChanges}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_SAVE"))+" ")]):e._e()]),e.error?a("div",{staticClass:"error-msg"},[e._v(e._s(e.errorMessage))]):e._e()])},O=[],C={async getUsers(){try{const e=await p().get("index.php?option=com_emundus&controller=users&task=getusers");return{data:e.data,status:!0}}catch(e){return{status:!1,msg:e.message}}},async getUserById(e){try{const t=await p().get("index.php?option=com_emundus&controller=users&task=getuserbyid",{params:{id:e}});return t.data}catch(t){return{status:!1,msg:t.message}}},async getAccessRights(e,t){try{const a=await p().get("index.php?option=com_emundus&controller=users&task=getattachmentaccessrights",{params:{id:e,fnum:t}});return a.data}catch(a){return{status:!1,msg:a.message}}}},E={methods:{formattedDate:function(e="",t="LLLL"){return""!==e?r()(e).format(t):r()().format(t)},getUserNameById:function(e){let t="";if(e=parseInt(e),e>0){const a=this.$store.state.user.users[e];a?t=a.firstname+" "+a.lastname:C.getUserById(e).then(a=>{a.status&&a.user[0]&&(t=a.user[0].firstname+" "+a.user[0].lastname,a.user[0].id=e,this.$store.dispatch("user/setUsers",a.user))})}return t},async getAttachmentCategories(){const e=await h.getAttachmentCategories();return!0===e.status?(Object.entries(e.categories).forEach(([t,a])=>{e.categories[t]=this.translate(a)}),delete e.categories[""],this.$store.dispatch("attachment/setCategories",e.categories),this.$store.state.attachment.categories):{}},async asyncForEach(e,t){for(let a=0;a<e.length;a++)await t(e[a],a,e)}}},D=E,N={name:"AttachmentEdit",props:{fnum:{type:String,required:!0}},mixins:[D],data(){return{attachment:{},categories:{},file:null,canUpdate:!1,error:!1,errorMessage:"",attachmentIsValidated:"-2",attachmentCanBeViewed:!1,attachmentCanBeDeleted:!1,attachmentDescription:""}},mounted(){this.canUpdate=!!this.$store.state.user.rights[this.fnum]&&this.$store.state.user.rights[this.fnum].canUpdate,this.attachment=this.$store.state.attachment.selectedAttachment,this.categories=this.$store.state.attachment.categories,this.attachmentCanBeViewed="1"==this.attachment.can_be_viewed,this.attachmentCanBeDeleted="1"==this.attachment.can_be_deleted,this.attachmentDescription=this.attachment.description,this.attachmentIsValidated=this.attachment.is_validated},methods:{async saveChanges(){let e=new FormData;const t=this.attachmentCanBeViewed?"1":"0",a=this.attachmentCanBeDeleted?"1":"0";e.append("fnum",this.fnum),e.append("user",this.$store.state.user.currentUser),e.append("id",this.attachment.aid),e.append("description",this.attachmentDescription),e.append("is_validated",this.attachmentIsValidated),e.append("can_be_viewed",t),e.append("can_be_deleted",a),this.file&&e.append("file",this.file);const s=await h.updateAttachment(e);if(s.status.update){if(this.attachment.modified_by=this.$store.state.user.currentUser,this.attachment.description=this.attachmentDescription,this.attachment.is_validated=this.attachmentIsValidated,this.attachment.can_be_viewed=this.attachmentCanBeViewed,this.attachment.can_be_deleted=this.attachmentCanBeDeleted,this.$store.dispatch("attachment/updateAttachmentOfFnum",{fnum:this.fnum,attachment:this.attachment}),s.status.file_update){const e=await h.getPreview(this.$store.state.user.displayedUser,this.attachment.filename);this.$store.dispatch("attachment/setPreview",{preview:e,id:this.attachment.aid})}this.$emit("saveChanges")}else this.showError(s.msg)},updateFile(e){this.file=e.target.files[0]},updateAttachmentStatus(e){this.attachmentIsValidated=e.target.value},showError(e){this.error=!0,this.errorMessage=e,setTimeout(()=>{this.error=!1,this.errorMessage=""},3e3)}},computed:{allowedType(){let e="";return this.attachment.filename&&(e="."+this.attachment.filename.split(".").pop()),e}},watch:{"$store.state.attachment.selectedAttachment":function(){const e=Object.keys(this.$store.state.attachment.selectedAttachment);e.length>0&&(this.attachment=this.$store.state.attachment.selectedAttachment)}}},A=N,M=(a("5093"),Object(b["a"])(A,w,O,!1,null,"09c0d29e",null)),U=M.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{key:e.attachment.aid,staticClass:"attachment-row",class:{checked:e.checkedAttachments.includes(e.attachment.aid)}},[a("td",[a("input",{staticClass:"attachment-check",attrs:{type:"checkbox"},domProps:{checked:e.checkedAttachments.includes(e.attachment.aid)},on:{change:function(t){return e.updateCheckedAttachments(e.attachment.aid)}}})]),a("td",{staticClass:"td-document",on:{click:e.openModal}},[a("span",[e._v(e._s(e.attachment.value))]),e.attachment.existsOnServer?e._e():a("span",{staticClass:"material-icons warning file-not-found",attrs:{title:e.translate("COM_EMUNDUS_ATTACHMENTS_FILE_NOT_FOUND")}},[e._v(" warning ")])]),a("td",{staticClass:"date"},[e._v(e._s(e.formattedDate(e.attachment.timedate)))]),a("td",{staticClass:"desc"},[e._v(e._s(e.attachment.description))]),a("td",{staticClass:"category"},[e._v(" "+e._s(e.category)+" ")]),a("td",{staticClass:"status valid-state",class:{success:1==e.attachment.is_validated,warning:2==e.attachment.is_validated,error:0==e.attachment.is_validated}},[a("select",{attrs:{disabled:!1===e.canUpdate},on:{change:function(t){return e.updateStatus(t)}}},[a("option",{attrs:{value:"1"},domProps:{selected:1==e.attachment.is_validated}},[e._v(" "+e._s(e.translate("VALID"))+" ")]),a("option",{attrs:{value:"0"},domProps:{selected:0==e.attachment.is_validated}},[e._v(" "+e._s(e.translate("INVALID"))+" ")]),a("option",{attrs:{value:"2"},domProps:{selected:2==e.attachment.is_validated}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_WARNING"))+" ")]),a("option",{attrs:{value:"-2"},domProps:{selected:-2==e.attachment.is_validated||null===e.attachment.is_validated}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ATTACHMENTS_WAITING"))+" ")])])]),a("td",[e._v(e._s(e.getUserNameById(e.attachment.user_id)))]),a("td",[e._v(e._s(e.getUserNameById(e.attachment.modified_by)))]),a("td",{staticClass:"date"},[e._v(e._s(e.formattedDate(e.attachment.modified)))]),a("td",{staticClass:"permissions"},[a("span",{staticClass:"material-icons visibility-permission",class:{active:"1"==e.attachment.can_be_viewed},attrs:{title:e.translate("COM_EMUNDUS_ATTACHMENTS_PERMISSION_VIEW")},on:{click:function(t){return e.changePermission("can_be_viewed",e.attachment)}}},[e._v("visibility")]),a("span",{staticClass:"material-icons delete-permission",class:{active:"1"==e.attachment.can_be_deleted},attrs:{title:e.translate("COM_EMUNDUS_ATTACHMENTS_PERMISSION_DELETE")},on:{click:function(t){return e.changePermission("can_be_deleted",e.attachment)}}},[e._v("delete_outlined")])])])},x=[],T={name:"AttachmentRow",props:{attachment:{type:Object,required:!0},checkedAttachmentsProp:{type:Array,required:!0},canUpdate:{type:Boolean,default:!1}},mixins:[D],data(){return{categories:{},category:"",checkedAttachments:[]}},mounted(){this.categories=this.$store.state.attachment.categories,Object.entries(this.categories).length<1?this.getAttachmentCategories().then(e=>{this.categories=e,this.category=this.categories[this.attachment.category]?this.categories[this.attachment.category]:""}).catch(e=>{this.categories={}}):this.category=this.categories[this.attachment.category]?this.categories[this.attachment.category]:"",this.checkedAttachments=this.checkedAttachmentsProp},methods:{updateCheckedAttachments(e){this.checkedAttachments.includes(e)?this.checkedAttachments.splice(this.checkedAttachments.indexOf(e),1):this.checkedAttachments.push(e),this.$emit("update-checked-attachments",this.checkedAttachments)},openModal(){this.$emit("open-modal",this.attachment)},updateStatus(e){this.canUpdate&&this.$emit("update-status",e,this.attachment)},changePermission(e,t){this.canUpdate&&this.$emit("change-permission",e,t)}},watch:{"$store.state.attachment.checkedAttachments":function(){this.checkedAttachments=this.$store.state.attachment.checkedAttachments}}},R=T,k=(a("a35e"),Object(b["a"])(R,S,x,!1,null,"442cec95",null)),L=k.exports,B={async getFnums(){try{const e=await p().get("index.php?option=com_emundus&controller=files&task=getallfnums");return e.data}catch(e){return!1}},async getFnumInfos(e){try{const t=await p().get("index.php?option=com_emundus&controller=files&task=getfnuminfos",{params:{fnum:e}});return t.data}catch(t){return!1}}},I=a("ac68"),j=a.n(I),P={name:"Attachments",components:{AttachmentPreview:y,AttachmentEdit:U,AttachmentRow:L},props:{user:{type:String,required:!0},fnum:{type:String,required:!0}},mixins:[D],data(){return{loading:!0,attachments:[],categories:{},fnums:[],users:[],displayedUser:{},displayedFnum:this.fnum,checkedAttachments:[],selectedAttachment:{},progress:"",sort:{last:"",order:"",orderBy:""},canExport:!1,canDelete:!1,canDownload:!0,canUpdate:!1,modalLoading:!1,slideTransition:"slide-fade",changeFileEvent:null}},created(){this.changeFileEvent=new Event("changeFile")},mounted(){this.loading=!0,this.getFormProgress(),this.getFnums().then(()=>{this.getUsers().then(()=>{this.getAttachments().then(()=>{this.setAccessRights().then(()=>{this.loading=!1})}).catch(e=>{this.loading=!1,this.displayErrorMessage(e)})}).catch(e=>{this.loading=!1,this.displayErrorMessage(e)})}).catch(e=>{this.loading=!1,this.displayErrorMessage(e)})},methods:{async getFormProgress(){const e=await h.getAttachmentProgress(this.displayedFnum);e.status&&(this.progress=e.progress[0].attachment_progress)},async getFnums(){const e=document.getElementsByClassName("em_file_open");for(let t of e)this.fnums.push(t.id)},async getUsers(){this.$store.dispatch("user/setCurrentUser",this.user),await this.setDisplayedUser()},async setDisplayedUser(){const e=await B.getFnumInfos(this.displayedFnum);if(e&&e.fnumInfos){const t=!(!this.users||!this.users.length)&&this.users.find(t=>t.user_id==e.fnumInfos.applicant_id);if(t)this.displayedUser=t,this.$store.dispatch("user/setDisplayedUser",this.displayedUser.user_id);else{const t=await C.getUserById(e.fnumInfos.applicant_id);t.status?(this.users.push(t.user[0]),this.displayedUser=t.user[0],this.$store.dispatch("user/setDisplayedUser",this.displayedUser.user_id)):this.displayErrorMessage(this.translate("COM_EMUNDUS_ATTACHMENTS_USER_NOT_FOUND"))}}else this.displayErrorMessage(this.translate("COM_EMUNDUS_ATTACHMENTS_USER_NOT_FOUND"))},async getAttachments(){this.$store.state.attachment.attachments[this.displayedFnum]?(this.attachments=this.$store.state.attachment.attachments[this.displayedFnum],this.categories=this.$store.state.attachment.categories):await this.refreshAttachments()},async refreshAttachments(e=!1){!0===e&&(this.loading=!0),this.resetOrder(),this.checkedAttachments=[],this.$refs["searchbar"].value="";const t=await h.getAttachmentsByFnum(this.displayedFnum);if(t.status){this.attachments=t.attachments,this.$store.dispatch("attachment/setAttachmentsOfFnum",{fnum:[this.displayedFnum],attachments:this.attachments});const e=await this.getAttachmentCategories();this.categories=e||{}}else this.displayErrorMessage(this.translate("COM_EMUNDUS_ATTACHMENTS_ERROR_GETTING_ATTACHMENTS"));!0===e&&(this.loading=!1)},updateAttachment(){this.resetOrder(),this.getAttachments(),this.$modal.hide("edit"),this.selectedAttachment={}},updateStatus(e,t){if(this.canUpdate){if(this.attachments.length<1)return;this.attachments.forEach((a,s)=>{if(a.aid==t.aid){this.resetOrder(),this.attachments[s].is_validated=e.target.value;let t=new FormData;t.append("fnum",this.displayedFnum),t.append("user",this.$store.state.user.currentUser),t.append("id",this.attachments[s].aid),t.append("is_validated",this.attachments[s].is_validated),h.updateAttachment(t).then(e=>{e&&!1===e.status&&this.displayErrorMessage(e.msg)}).catch(e=>{this.displayErrorMessage(e)})}})}},changePermission(e,t){this.canUpdate?this.attachments.forEach((a,s)=>{if(a.aid==t.aid){this.resetOrder(),this.attachments[s][e]="1"===this.attachments[s][e]?"0":"1";let t=new FormData;t.append("fnum",this.displayedFnum),t.append("user",this.$store.state.user.currentUser),t.append("id",this.attachments[s].aid),t.append(e,this.attachments[s][e]),h.updateAttachment(t).then(e=>{e.status||this.displayErrorMessage(e.msg)})}}):this.displayErrorMessage(this.translate("COM_EMUNDUS_ATTACHMENTS_UNAUTHORIZED_ACTION"))},async setAccessRights(){if(!this.$store.state.user.rights[this.displayedFnum]){const e=await C.getAccessRights(this.$store.state.user.currentUser,this.displayedFnum);!0===e.status&&this.$store.dispatch("user/setAccessRights",{fnum:this.displayedFnum,rights:e.rights})}this.canExport=!!this.$store.state.user.rights[this.displayedFnum]&&this.$store.state.user.rights[this.displayedFnum].canExport,this.canDelete=!!this.$store.state.user.rights[this.displayedFnum]&&this.$store.state.user.rights[this.displayedFnum].canDelete,this.canUpdate=!!this.$store.state.user.rights[this.displayedFnum]&&this.$store.state.user.rights[this.displayedFnum].canUpdate},async exportAttachments(){this.canExport&&h.exportAttachments(this.displayedUser.id,this.displayedFnum,this.checkedAttachments).then(e=>{!0===e.data.status?window.open(e.data.link,"_blank"):this.displayErrorMessage(e.data.msg)})},confirmDeleteAttachments(){if(this.canDelete){let e="<p>"+this.translate("CONFIRM_DELETE_SELETED_ATTACHMENTS")+"</p><br>",t="";this.checkedAttachments.forEach(e=>{this.attachments.forEach(a=>{a.aid==e&&(t+=a.value+", ")})}),t=t.substring(0,t.length-2),e+="<p>"+t+"</p>",j.a.fire({title:this.translate("DELETE_SELECTED_ATTACHMENTS"),html:e,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.translate("JYES"),cancelButtonText:this.translate("JNO"),reverseButtons:!0}).then(e=>{e.value&&this.deleteAttachments()})}else this.displayErrorMessage(this.translate("YOU_NOT_HAVE_PERMISSION_TO_DELETE_ATTACHMENTS"))},async deleteAttachments(){if(this.canDelete){this.attachments=this.attachments.filter(e=>!this.checkedAttachments.includes(e.aid));const e=await h.deleteAttachments(this.displayedFnum,this.displayedUser.id,this.checkedAttachments);e.status}else this.displayErrorMessage(this.translate("YOU_NOT_HAVE_PERMISSION_TO_DELETE_ATTACHMENTS"))},changeFile(e){this.loading=!0;const t=this.fnumPosition;this.displayedFnum=this.fnums[e],this.getFormProgress(),this.attachments=[],this.$store.dispatch("attachment/setCheckedAttachments",[]),this.setAccessRights(),this.resetOrder(),this.resetSearch(),this.resetCategoryFilters(),B.getFnumInfos(this.displayedFnum).then(a=>{!0===a.status?(this.changeFileEvent.detail={fnum:a.fnumInfos,next:e>t,previous:e<t},document.querySelector(".com_emundus_vue").dispatchEvent(this.changeFileEvent)):this.displayErrorMessage(a.msg)}),this.setDisplayedUser().then(()=>{this.getAttachments().then(()=>{this.attachments.forEach(e=>{e.show=!0}),this.loading=!1}).catch(e=>{this.displayErrorMessage(e),this.loading=!1})}).catch(e=>{this.displayErrorMessage(e),this.loading=!1})},changeAttachment(e,t=!1){this.slideTransition=t?"slide-fade-reverse":"slide-fade",this.modalLoading=!0,this.selectedAttachment=this.displayedAttachments[e],this.$store.dispatch("attachment/setSelectedAttachment",this.selectedAttachment),setTimeout(()=>{this.modalLoading=!1},500)},searchInFiles(){this.attachments.forEach((e,t)=>{e.description.toLowerCase().includes(this.$refs["searchbar"].value.toLowerCase())||e.value.toLowerCase().includes(this.$refs["searchbar"].value.toLowerCase())?this.attachments[t].show=!0:(this.checkedAttachments=this.checkedAttachments.filter(t=>t!==e.aid),this.attachments[t].show=!1)})},resetSearch(){this.attachments.forEach((e,t)=>{this.attachments[t].show=!0}),this.$refs["searchbar"].value=""},resetOrder(){this.sort={last:"",order:"",orderBy:""}},resetCategoryFilters(){this.$refs["categoryFilter"]&&(this.$refs["categoryFilter"].value="all")},orderBy(e){this.sort.last==e?(this.sort.order="asc"==this.sort.order?"desc":"asc",this.attachments.reverse()):(this.attachments.sort((t,a)=>t[e]<a[e]?-1:t[e]>a[e]?1:0),this.sort.order="asc"),this.sort.orderBy=e,this.sort.last=e},filterByCategory(e){this.attachments.forEach(t=>{"all"==e.target.value||t.category==e.target.value?t.show=!0:(this.checkedAttachments=this.checkedAttachments.filter(e=>e!==t.aid),t.show=!1)})},updateAllCheckedAttachments(e){e.target.checked?this.checkedAttachments=this.displayedAttachments.map(e=>e.aid):this.checkedAttachments=[],this.$store.dispatch("attachment/setCheckedAttachments",this.checkedAttachments)},updateCheckedAttachments(e){Array.isArray(e)?this.checkedAttachments=e:(console.warn("updateCheckedAttachments() expects an array as argument"),this.displayErrorMessage("Something went wrong while updating the checked attachments"),this.checkedAttachments=[])},openModal(e){this.displayedUser.user_id&&this.displayedFnum&&(this.$modal.show("edit"),this.selectedAttachment=e,this.$store.dispatch("attachment/setSelectedAttachment",e))},closeModal(){this.$modal.hide("edit"),this.selectedAttachment={},this.$store.dispatch("attachment/setSelectedAttachment",{})},displayErrorMessage(e){j.a.fire({title:this.translate("ERROR"),text:e,type:"error",confirmButtonColor:"#3085d6",confirmButtonText:this.translate("COM_EMUNDUS_ATTACHMENTS_CLOSE")})},beforeLeaveSlide(e){"slide-fade"==this.slideTransition&&(e.style.transform="translateX(-100%)"),e.setAttribute("class","modal-body "+this.slideTransition+"-leave-active "+this.slideTransition+"-leave-to")}},computed:{displayedAttachments(){return this.attachments.filter(e=>(!0===e.show||void 0==e.show)&&e.can_be_viewed)},fnumPosition(){return this.fnums.indexOf(this.displayedFnum)},selectedAttachmentPosition(){return this.displayedAttachments.indexOf(this.selectedAttachment)},attachmentPath(){return this.$store.state.attachment.attachmentPath+this.displayedUser.user_id+"/"+this.selectedAttachment.filename},thisAttachmentCategories(){let e={};if(Object.entries(this.categories).length>0)for(let t in this.categories)for(let a in this.attachments)this.attachments[a].category==t&&(e[t]=this.categories[t]);return e}}},F=P,$=(a("4cd0"),Object(b["a"])(F,l,d,!1,null,"2ccf36b4",null)),G=$.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"list"}},["files"!==e.type?a("list-head",{attrs:{data:e.actions}}):e._e(),a("div",{staticClass:"em-flex-row em-flex-space-between em-w-auto"},["campaign"===e.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedProgram,expression:"selectedProgram"}],staticClass:"list-vue-select",attrs:{name:"selectProgram"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedProgram=t.target.multiple?a:a[0]},e.validateFilters]}},[a("option",{attrs:{value:"all"}},[e._v(e._s(e.translations.AllPrograms)+" ")]),e._l(e.allPrograms,(function(t){return a("option",{key:t.code,domProps:{value:t.code}},[e._v(" "+e._s(t.label)+" ")])}))],2):e._e(),"email"===e.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.menuEmail,expression:"menuEmail"}],staticClass:"list-vue-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.menuEmail=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[e._v(e._s(e.translations.All))]),e._l(e.notEmptyEmailCategories,(function(t,s){return a("option",{key:"cat_"+s,domProps:{value:t}},[e._v(e._s(t))])}))],2):e._e(),"formulaire"===e.type||"grilleEval"===e.type?a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],staticClass:"list-vue-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.type=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"formulaire"}},[e._v(e._s(e.translations.candidature))]),a("option",{attrs:{value:"grilleEval"}},[e._v(e._s(e.translations.evaluations))])]):e._e(),a("div",{staticClass:"search-container"},[a("div",{staticClass:"search em-flex-row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.recherche,expression:"recherche"}],staticClass:"searchTerm",attrs:{placeholder:e.translations.Rechercher},domProps:{value:e.recherche},on:{keyup:[function(t){e.cherche(e.recherche)||e.debounce},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chercheGo(e.recherche)}],input:function(t){t.target.composing||(e.recherche=t.target.value)}}})]),a("v-popover",{attrs:{popoverArrowClass:"custom-popover-arrow"}},[a("span",{staticClass:"tooltip-target b3 material-icons"},[e._v("more_vert")]),a("template",{slot:"popover"},[a("filters",{attrs:{data:e.actions,selected:e.selecedItems,updateTotal:e.updateTotal,filter:e.filter,sort:e.sort,cherche:e.cherche,chercheGo:e.chercheGo,validateFilters:e.validateFilters,nbresults:e.nbresults}})],1)],2)],1)]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],class:1==e.countPages?"noPagination":"pagination-pages"},[e.total>0?a("ul",{staticClass:"pagination"},[a("a",{staticClass:"pagination-arrow arrow-left",on:{click:function(t){return e.nbpages(e.pages-1)}}},[a("em",{staticClass:"fas fa-chevron-left"})]),e._l(e.countPages,(function(t){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.countPages<=10||t<4||t>e.countPages-3||t>e.pages-3&&t<e.pages+3||t==e.pages-3||t==e.pages+3,expression:"countPages <= 10 ||\n            index < 4 ||\n            index > countPages - 3 ||\n            (index > pages - 3 && index < pages + 3) ||\n            index == pages - 3 ||\n            index == pages + 3"}],key:t,staticClass:"pagination-number"},[a("a",{staticClass:"pagination-number",class:t==e.pages?"current-number":"",on:{click:function(a){return e.nbpages(t)}}},[e._v(" "+e._s(e.paginationNumber(t))+" ")])])})),a("a",{staticClass:"pagination-arrow arrow-right",on:{click:function(t){return e.nbpages(e.pages+1)}}},[a("em",{staticClass:"fas fa-chevron-right"})])],2):e._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0||"files"==e.type,expression:"total > 0 || type == 'files'"}]},[a("list-body",{attrs:{type:e.type,actions:e.actions,params:e.params},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total&&"files"!=e.type&&!e.loading,expression:"total == 0 && type != 'files' && !loading"}],staticClass:"noneDiscover"},[e._v(" "+e._s(e.noneDiscoverTranslation)+" ")]),e.loading?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#12DB42"}})],1):e._e()],1)},z=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset","min-width":"200px"}},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",[a("div",[a("div",[a("div",{staticClass:"filter-subtitle"},[a("div",[e._v(e._s(e.translations.Filter))])]),a("nav",{staticClass:"em-flex-col-start",attrs:{"aria-label":"filter"}},[a("a",{staticClass:"action-submenu",class:"all"==e.filtre?"selected":"",on:{click:function(t){e.filter("all"),e.updateFilter("all")}}},[e._v(" "+e._s(e.translations.FilterAll)+" ")]),"campaign"==e.data.type?a("a",{staticClass:"action-submenu",class:"notTerminated"==e.filtre?"selected":"",on:{click:function(t){e.filter("notTerminated"),e.updateFilter("notTerminated")}}},[e._v(" "+e._s(e.translations.FilterOpen)+" ")]):e._e(),"campaign"==e.data.type?a("a",{staticClass:"action-submenu",class:"Terminated"==e.filtre?"selected":"",on:{click:function(t){e.filter("Terminated"),e.updateFilter("Terminated")}}},[e._v(" "+e._s(e.translations.FilterClose)+" ")]):e._e(),"formulaire"!==e.data.type?a("a",{staticClass:"action-submenu",class:"Publish"==e.filtre?"selected":"",on:{click:function(t){e.filter("Publish"),e.updateFilter("Publish")}}},[e._v(" "+e._s(e.translations.FilterPublish)+" ")]):e._e(),"formulaire"!==e.data.type?a("a",{staticClass:"action-submenu",class:"Unpublish"==e.filtre?"selected":"",on:{click:function(t){e.filter("Unpublish"),e.updateFilter("Unpublish")}}},[e._v(" "+e._s(e.translations.FilterUnpublish)+" ")]):e._e(),"formulaire"===e.data.type?a("a",{staticClass:"action-submenu",class:"Unpublish"==e.filtre?"selected":"",on:{click:function(t){e.filter("Unpublish"),e.updateFilter("Unpublish")}}},[e._v(" "+e._s(e.translations.Archived)+" ")]):e._e()])]),a("div",{staticClass:"mt-1"},[a("div",{staticClass:"filter-subtitle"},[a("div",[e._v(e._s(e.translations.NbResults))])]),a("nav",{staticClass:"em-flex-col-start",attrs:{"aria-label":"Nb Results"}},[a("a",{staticClass:"action-submenu",class:"max"==e.afficher?"selected":"",on:{click:function(t){e.nbresults(999999),e.updateDisplay("max")}}},[e._v(" "+e._s(e.translations.AllResults)+" ")]),a("a",{staticClass:"action-submenu",class:10==e.afficher?"selected":"",on:{click:function(t){e.nbresults(10),e.updateDisplay(10)}}},[e._v(" 10 ")]),a("a",{staticClass:"action-submenu",class:25==e.afficher?"selected":"",on:{click:function(t){e.nbresults(25),e.updateDisplay(25)}}},[e._v(" 25 ")]),a("a",{staticClass:"action-submenu",class:50==e.afficher?"selected":"",on:{click:function(t){e.nbresults(50),e.updateDisplay(50)}}},[e._v(" 50 ")]),a("a",{staticClass:"action-submenu",class:100==e.afficher?"selected":"",on:{click:function(t){e.nbresults(100),e.updateDisplay(100)}}},[e._v(" 100 ")])])])])])])],1),e.loading?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):e._e()])},V=[];a("7581"),a("d22c"),a("2b9c");a("bef5");var J={name:"action_menu",props:{data:Object,updateTotal:Function,filter:Function,sort:Function,cherche:Function,chercheGo:Function,validateFilters:Function,nbresults:Function},computed:{checkItem(){return this.$store.getters["lists/selectedItems"]}},data(){return{recherche:"",filterHover:!1,actionHover:!1,sortHover:!1,resultsHover:!1,loading:!1,translations:{NbResults:this.translate("COM_EMUNDUS_ONBOARD_RESULTS"),AllResults:this.translate("COM_EMUNDUS_ONBOARD_ALL_RESULTS"),Sort:this.translate("COM_EMUNDUS_ONBOARD_SORT"),SortCreasing:this.translate("COM_EMUNDUS_ONBOARD_SORT_CREASING"),SortDecreasing:this.translate("COM_EMUNDUS_ONBOARD_SORT_DECREASING"),Filter:this.translate("COM_EMUNDUS_ONBOARD_FILTER"),FilterAll:this.translate("COM_EMUNDUS_ONBOARD_FILTER_ALL"),FilterOpen:this.translate("COM_EMUNDUS_ONBOARD_FILTER_OPEN"),FilterClose:this.translate("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),FilterPublish:this.translate("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),FilterUnpublish:this.translate("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),Rechercher:this.translate("COM_EMUNDUS_ONBOARD_SEARCH"),Archived:this.translate("COM_EMUNDUS_ONBOARD_ARCHIVED")},filtre:"all",tri:"DESC",afficher:25}},methods:{updateFilter(e){this.filtre=e},updateSort(e){this.tri=e},updateDisplay(e){this.afficher=e}}},Y=J,W=(a("fc1d"),Object(b["a"])(Y,q,V,!1,null,"6e7102fc",null)),Q=W.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"list-head"}},[a("div",{staticClass:"list-head-container"},[a("h2",[e._v(" "+e._s(e.translations.title[e.data.type]))]),a("a",{on:{click:e.redirectToAddElement}},[a("div",{staticClass:"em-primary-button"},[e._v(" "+e._s(e.translations.add[e.data.type])+" ")])])]),e.loading?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):e._e()])},K=[];const Z=a("bef5");var ee={props:{data:{type:Object,required:!0}},data:function(){return{title:"List",loading:!1,translations:{title:{campaign:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGNS"),email:this.translate("COM_EMUNDUS_ONBOARD_EMAILS"),formulaire:this.translate("COM_EMUNDUS_ONBOARD_FORMS"),grilleEval:this.translate("COM_EMUNDUS_ONBOARD_FORMS"),form:this.translate("COM_EMUNDUS_ONBOARD_FORMS")},add:{campaign:this.translate("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN"),email:this.translate("COM_EMUNDUS_ONBOARD_ADD_EMAIL"),formulaire:this.translate("COM_EMUNDUS_ONBOARD_ADD_FORM"),grilleEval:this.translate("COM_EMUNDUS_ONBOARD_ADD_FORM"),form:this.translate("COM_EMUNDUS_ONBOARD_ADD_FORM")}}}},methods:{redirectToAddElement:function(){"index.php?option=com_emundus_onboard&view=form&layout=add"==this.data.add_url?this.getAddUrlToCreateForm():this.redirect()},getAddUrlToCreateForm(){this.loading=!0;const e={label:"Nouveau formulaire",description:"",published:1};_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=createform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Z.stringify({body:e})}).then(e=>{this.loading=!1;const t=e.data.data;this.data.add_url="index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+t+"&index=0&cid=",this.redirect()}).catch(e=>{console.log(e),this.loading=!1})},redirect(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:this.data.add_url},paramsSerializer:e=>Z.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})}}},te=ee,ae=(a("4a35"),Object(b["a"])(te,X,K,!1,null,"0b42ddd0",null)),se=ae.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"list-body"}},["email"==e.type?a("ModalEmailPreview",{attrs:{model:e.email.emailToPreview,models:e.list}}):e._e(),a("div",{attrs:{id:"actions"}},[a("div",{staticClass:"filters"}),a("div",{staticClass:"view-type"},e._l(e.viewTypeOptions,(function(t){return a("span",{key:t.value,staticClass:"material-icons",class:{active:t.value===e.viewType},on:{click:function(a){return e.changeViewType(t)}}},[e._v(" "+e._s(t.icon)+" ")])})),0)]),a("list-table",{key:"list-table",staticClass:"list-view",class:{"not-displayed":"table"!==e.viewType},attrs:{type:e.type,actions:e.actions,params:e.params},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:e.showModalPreview}}),a("list-blocs",{key:"list-blocs",staticClass:"list-view",class:{"not-displayed":"blocs"!==e.viewType},attrs:{type:e.type,actions:e.actions,params:e.params},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:e.showModalPreview}})],1)},oe=[],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"list-table"}},[e.isEmptyRowsData?e._e():a("table",{attrs:{"aria-describedby":"Table of "+e.type}},[a("thead",{staticClass:"list-table-head"},[a("tr",e._l(e.rowsData,(function(t){return a("th",{key:t.value,attrs:{id:t.value}},[e._v(" "+e._s(e.translate(t.label))+" ")])})),0)]),a("list-table-body",{attrs:{type:e.type,actions:e.actions,params:e.params},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:e.showModalPreview}})],1),e.isEmptyRowsData?a("p",[e._v("Unable to create table...")]):e._e()])},re=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tbody",e._l(e.list,(function(t){return a("list-table-row",{key:t.id,attrs:{data:t,type:e.type,actions:e.actions},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:function(a){return e.showModalPreview(t.id)}}})})),1)},de=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"list-row"},e._l(e.tds,(function(t){return a("td",{key:t.value},["actions"==t.value?a("span",[a("list-action-menu",{attrs:{id:"list-row action-menu",type:e.type,itemId:e.data.id,isPublished:e.actionMenuIsPublished,showTootlip:e.hasActionMenu},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:e.showModalPreview}})],1):"message"==t.value?a("span",{class:e.classFromTd(t),domProps:{innerHTML:e._s(e.formattedDataFromTd(t))}}):e._e(),a("span",{class:e.classFromTd(t),on:{click:function(a){return e.redirectToEditItem(t)}}},[e._v(" "+e._s(e.formattedDataFromTd(t))+" ")])])})),0)},me=[],ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-actions-menu"},["email"==e.type?a("button",{staticClass:"cta-block",staticStyle:{height:"unset"},attrs:{type:"button",title:e.translations.visualize},on:{click:e.showModalPreview}},[a("em",{staticClass:"fas fa-eye"})]):e._e(),!0===e.showTootlip?a("v-popover",{attrs:{popoverArrowClass:"custom-popover-arrow"}},[a("span",{staticClass:"tooltip-target b3 material-icons"},[e._v("more_vert")]),a("template",{slot:"popover"},[a("actions",{attrs:{data:{type:e.type},selected:e.itemId,published:e.isPublished},on:{validateFilters:function(t){return e.validateFilters()},updateLoading:e.updateLoading}})],1)],2):e._e()],1)},_e=[],pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",[a("nav",{staticClass:"em-flex-col-start",attrs:{"aria-label":"action"}},[["formulaire","email"].includes(e.data.type)||e.published?e._e():a("a",{staticClass:"action-submenu",on:{click:function(t){return e.publishSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.ActionPublish)+" ")]),!["formulaire","email"].includes(e.data.type)&&e.published?a("a",{staticClass:"action-submenu",on:{click:function(t){return e.unpublishSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.ActionUnpublish)+" ")]):e._e(),"formulaire"!==e.data.type||e.published?e._e():a("a",{staticClass:"action-submenu",staticStyle:{"border-right":"0"},on:{click:function(t){return e.publishSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.Restore)+" ")]),"campaign"===e.data.type||"formulaire"===e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",staticStyle:{"border-left":"0","border-right":"0"},on:{click:function(t){return e.duplicateSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.ActionDuplicate)+" ")]):e._e(),"formulaire"!==e.data.type&&"campaign"!==e.data.type?a("a",{staticClass:"action-submenu",on:{click:function(t){return e.deleteSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.ActionDelete)+" ")]):e._e(),"campaign"===e.data.type&&0==e.filesCount?a("a",{staticClass:"action-submenu",on:{click:function(t){return e.deleteSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.ActionDelete)+" ")]):e._e(),"formulaire"===e.data.type&&e.published?a("a",{staticClass:"action-submenu",staticStyle:{"border-left":"0"},on:{click:function(t){return e.unpublishSelected(e.checkItem)}}},[e._v(" "+e._s(e.translations.Archive)+" ")]):e._e()])])])],1),e.loading?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):e._e()])},he=[];const ge=a("bef5");var fe={name:"action_menu",props:{data:Object,isEmpty:Boolean,selected:String,published:Boolean},computed:{checkItem(){return[this.selected]}},data(){return{loading:!1,filesCount:null,translations:{ActionPublish:this.translate("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),ActionUnpublish:this.translate("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),ActionDuplicate:this.translate("COM_EMUNDUS_ONBOARD_ACTION_DUPLICATE"),ActionDelete:this.translate("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),Archive:this.translate("COM_EMUNDUS_ONBOARD_ARCHIVE"),Restore:this.translate("COM_EMUNDUS_ONBOARD_RESTORE")}}},mounted(){"campaign"===this.data.type&&this.filesNumber()},methods:{filesNumber(){_()({method:"get",url:"index.php?option=com_emundus&controller=dashboard&task=getfilesbycampaign",params:{cid:this.selected},paramsSerializer:e=>ge.stringify(e)}).then(e=>{this.filesCount=parseInt(e.data.data)})},deleteSelected(e){switch(this.data.type){case"program":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_PROGDELETE"),text:this.translate("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=deleteprogram",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.commit("lists/deleteSelected",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_PROGDELETED"),type:"success",showConfirmButton:!1,timer:2e3})}).then(()=>{_.a.get("index.php?option=com_emundus&controller=program&task=getprogramcount").then(e=>{this.total=e.data.data,this.updateTotal(this.total)})}).catch(e=>{console.log(e)}))});break;case"campaign":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_CAMPDELETE"),text:this.translate("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=deletecampaign",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.dispatch("lists/deleteSelected",e).then(()=>{this.$store.commit("lists/resetSelectedItemsList")}),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_CAMPDELETED"),type:"success",showConfirmButton:!1,timer:2e3})}).then(()=>{_.a.get("index.php?option=com_emundus&controller=campaign&task=getcampaigncount").then(e=>{this.total=e.data.data,this.updateTotal(this.total),this.$emit("validateFilters")})}).catch(e=>{console.log(e)}))});break;case"email":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_EMAILDELETE"),text:this.translate("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=deleteemail",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.dispatch("lists/deleteSelected",e).then(()=>{this.$store.commit("lists/resetSelectedItemsList")}),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_EMAILDELETED"),type:"success",showConfirmButton:!1,timer:2e3})}).then(()=>{_.a.get("index.php?option=com_emundus&controller=email&task=getemailcount").then(e=>{this.total=e.data.data,this.updateTotal(this.total),this.$emit("validateFilters")})}).catch(e=>{console.log(e)}))});break;case"formulaire":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_FORMDELETE"),text:this.translate("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=deleteform",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.dispatch("lists/deleteSelected",e).then(()=>{this.$store.commit("lists/resetSelectedItemsList")}),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_FORMDELETED"),type:"success",showConfirmButton:!1,timer:2e3})}).then(()=>{_.a.get("index.php?option=com_emundus&controller=form&task=getformcount").then(e=>{this.total=e.data.data,this.updateTotal(this.total),this.$emit("validateFilters")})}).catch(e=>{console.log(e)}))});break}},unpublishSelected(e){switch(this.data.type){case"program":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_PROGUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=unpublishprogram",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.commit("lists/unpublish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_PROGUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)}))});break;case"campaign":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGNUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=unpublishcampaign",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.commit("lists/unpublish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGNUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)}))});break;case"email":_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=unpublishemail",data:ge.stringify({id:e})}).then(t=>{this.$store.commit("lists/unpublish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_EMAILUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)});break;case"formulaire":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_FORMUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=unpublishform",data:ge.stringify({id:e})}).then(t=>{this.$emit("updateLoading",!1),this.$store.commit("lists/unpublish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_FORMUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)}))});break}},publishSelected(e){switch(this.data.type){case"program":_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=publishprogram",data:ge.stringify({id:e})}).then(t=>{this.$store.commit("lists/publish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_PROGPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)});break;case"campaign":_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=publishcampaign",data:ge.stringify({id:e})}).then(t=>{this.$store.commit("lists/publish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)});break;case"email":_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=publishemail",data:ge.stringify({id:e})}).then(t=>{this.$store.commit("lists/publish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_EMAILPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)});break;case"formulaire":_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=publishform",data:ge.stringify({id:e})}).then(t=>{this.$store.commit("lists/publish",e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_FORMPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),this.$emit("validateFilters")}).catch(e=>{console.log(e)});break}},duplicateSelected(e){switch(this.data.type){case"campaign":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGNDUPLICATE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=duplicatecampaign",data:ge.stringify({id:e})}).then(e=>{window.location.reload()}))});break;case"formulaire":j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_FORMDUPLICATE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&(this.$emit("updateLoading",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=duplicateform",data:ge.stringify({id:e})}).then(e=>{window.location.reload()}))});break}}}},be=fe,ve=(a("31f1"),Object(b["a"])(be,pe,he,!1,null,"1ab2bdab",null)),ye=ve.exports,we={components:{actions:ye},props:{type:{type:String,required:!0},itemId:{type:String,required:!0},isPublished:{type:Boolean,required:!0},showTootlip:{type:Boolean,default:!0}},data(){return{translations:{visualize:this.translate("COM_EMUNDUS_ONBOARD_VISUALIZE")}}},methods:{showModalPreview(){this.$emit("showModalPreview")},validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)}}},Oe=we,Ce=(a("57ab"),Object(b["a"])(Oe,ue,_e,!1,null,"de9f1270",null)),Ee=Ce.exports,De={campaign:[{label:"COM_EMUNDUS_ONBOARD_NAME",value:"label",redirect:!0},{label:"COM_EMUNDUS_ONBOARD_START_DATE",value:"start_date"},{label:"COM_EMUNDUS_ONBOARD_END_DATE",value:"end_date"},{label:"COM_EMUNDUS_ONBOARD_STATE",value:"status"},{label:"COM_EMUNDUS_ONBOARD_NB_FILES",value:"nb_files"},{label:"",value:"actions"}],email:[{label:"COM_EMUNDUS_ONBOARD_SUBJECT",value:"subject",redirect:!0},{label:"COM_EMUNDUS_ONBOARD_CATEGORY",value:"category"},{label:"COM_EMUNDUS_ONBOARD_STATUS",value:"published"},{label:"",value:"actions"}],form:[{label:"COM_EMUNDUS_ONBOARD_NAME",value:"label",redirect:!0},{label:"COM_EMUNDUS_ONBOARD_STATUS",value:"published"},{label:"",value:"actions"}],formulaire:[{label:"COM_EMUNDUS_ONBOARD_NAME",value:"label",redirect:!0},{label:"COM_EMUNDUS_ONBOARD_STATUS",value:"published"},{label:"",value:"actions"}],grilleEval:[{label:"COM_EMUNDUS_ONBOARD_NAME",value:"label",redirect:!0},{label:"COM_EMUNDUS_ONBOARD_STATUS",value:"published"},{label:"",value:"actions"}]};const Ne=a("bef5");var Ae={components:{ListActionMenu:Ee},props:{data:{type:Object,required:!0},type:{type:String,required:!0}},data(){return{tds:[],lang:"fr",translations:{finished:this.translate("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),published:this.translate("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublished:this.translate("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),active:this.translate("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH_FORM"),inactive:this.translate("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH_FORM"),emailType:{1:"Système",2:"Modèle"}}}},mounted(){this.tds=void 0!==typeof De[this.type]?De[this.type]:[],this.lang=this.$store.getters["global/actualLanguage"]},methods:{formattedDataFromTd(e){return"campaign"===this.type?this.formattedCampaignData(e):"email"===this.type?this.formattedEmailData(e):"form"===this.type||"formulaire"===this.type||"grilleEval"===this.type?this.formattedFormData(e):this.data[e.value]?this.data[e.value]:"-"},formattedCampaignData(e){switch(e.value){case"status":return this.isFinished?this.translations.finished:this.isPublished?this.translations.published:this.translations.unpublished;case"start_date":case"end_date":return r()(this.data[e.value]).format("DD/MM/YYYY");case"actions":return"";default:return this.data[e.value]?this.data[e.value]:"-"}},formattedEmailData(e){switch(e.value){case"type":return this.translations.emailType[this.data[e.value]];case"published":return this.isPublished?this.translations.published:this.translations.unpublished;case"actions":return"";default:return this.data[e.value]?this.data[e.value]:"-"}},formattedFormData(e){return"published"===e.value?this.isActive?this.translations.active:this.translations.inactive:"label"===e.value&&this.data.label&&"object"===typeof this.data.label?this.data.label[this.lang]?this.data.label[this.lang]:this.data.label.fr:"actions"===e.value?"":this.data[e.value]?this.data[e.value]:"-"},classFromTd(e){let t;switch(e.value){case"status":case"published":t=this.isFinished?"tag finished":this.isPublished||this.isActive?"tag published":"tag unpublished";break;case"type":t="tag "+this.data[e.value];break;case"actions":return"";default:t="list-td-"+e.value}return t},validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)},showModalPreview(){this.$emit("showModalPreview")},redirectToEditItem(e){if(!0!==e.redirect)return;const t=this.getEditUrlByType();_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:e=>Ne.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},getEditUrlByType(){let e;switch(this.type){case"campaign":e="index.php?option=com_emundus_onboard&view=campaign&layout=addnextcampaign&cid="+this.data.id+"&index=0";break;case"form":case"formulaire":e="index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.data.id+"&index=0&cid=";break;case"grilleEval":e="index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid=&index=0&cid=&evaluation="+this.data.id;break;case"email":e="index.php?option=com_emundus_onboard&view=email&layout=add&eid="+this.data.id;break}return e}},computed:{isPublished(){return"campaign"==this.type?1==this.data.published&&r()(this.data.start_date)<=r()()&&(r()(this.data.end_date)>=r()()||null==this.data.end_date||"0000-00-00 00:00:00"==this.data.end_date):"email"==this.type&&1==this.data.published},isActive(){return"form"==this.type||"formulaire"==this.type||"grilleEval"==this.type?1==this.data.status:null},isFinished(){return"campaign"==this.type&&r()(this.data.end_date)<r()()},hasActionMenu(){let e=!0;return"email"==this.type?!1===this.data.lbl.startsWith("custom_")&&!1===this.data.lbl.startsWith("email_")&&(e=!1):"grilleEval"==this.type&&(e=!1),e},actionMenuIsPublished(){return"email"==this.type||"campaign"==this.type?this.isPublished:"form"==this.type||"formulaire"==this.type||"grilleEval"==this.type?this.isActive:1==this.data.published}}},Me=Ae,Ue=(a("1347"),Object(b["a"])(Me,ce,me,!1,null,"c16dd57c",null)),Se=Ue.exports,xe={components:{ListTableRow:Se},props:{type:{type:String,required:!0},actions:{type:Object,required:!0},params:{type:Object,default:{}}},methods:{validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)},showModalPreview(e){this.$emit("showModalPreview",e)}},computed:{list(){return"email"===this.type&&"undefined"!==typeof this.params&&this.params.email_category?this.$store.getters["lists/list"].filter(e=>0==this.params.email_category||e.category===this.params.email_category):this.$store.getters["lists/list"]}}},Te=xe,Re=Object(b["a"])(Te,le,de,!1,null,null,null),ke=Re.exports,Le={components:{ListTableBody:ke},props:{type:{type:String,required:!0},actions:{type:Object,required:!0},params:{type:Object,default:{}}},data(){return{rowsData:[]}},mounted(){this.rowsData=void 0!==typeof De[this.type]?De[this.type]:[]},methods:{validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)},showModalPreview(e){this.$emit("showModalPreview",e)}},computed:{isEmptyRowsData(){return 0===this.rowsData.length}}},Be=Le,Ie=(a("fd69"),Object(b["a"])(Be,ne,re,!1,null,"c2d22e9c",null)),je=Ie.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-grid",class:{"less-than-4":e.list.length<4},attrs:{id:"list-blocs"}},e._l(e.list,(function(t){return a("list-bloc",{key:t.id,attrs:{data:t,type:e.type,actions:e.actions},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:function(a){return e.showModalPreview(t.id)}}})})),1)},Fe=[],$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-bloc-item"},[a("div",{staticClass:"title"},[a("h3",[e._v(e._s(e.title))]),e.data.start_date&&e.data.end_date?a("div",{staticClass:"dates"},[e._v(" "+e._s(e.translations.from)+" "),a("span",[e._v(e._s(e.formatDate(e.data.start_date)))]),e._v(" "+e._s(e.translations.to)+" "),a("span",[e._v(e._s(e.formatDate(e.data.end_date)))])]):e._e()]),a("div",{staticClass:"informations"},[e.data.short_description?a("p",{staticClass:"description"},[e._v(" "+e._s(e.data.short_description)+" ")]):e._e(),null!==e.campaign.associatedCampaigns&&e.campaign.associatedCampaigns.length>0?a("div",{staticClass:"associated-campaigns",attrs:{title:e.translations.associatedCampaigns}},e._l(e.campaign.associatedCampaigns,(function(t){return a("div",{key:t.id,staticClass:"tag campaign-item"},[e._v(" "+e._s(t.label)+" ")])})),0):e._e(),a("div",{staticClass:"tags"},[e.isFinished||null===e.isPublished?e._e():a("div",{class:{published:e.isPublished,unpublished:!e.isPublished}},[e._v(" "+e._s(e.isPublished?e.translations.publishedTag:e.translations.unpublishedTag)+" ")]),null!==e.isActive?a("div",{class:{published:e.isActive,unpublished:!e.isActive}},[e._v(" "+e._s(e.isActive?e.translations.active:e.translations.inactive)+" ")]):e._e(),e.isFinished?a("div",{staticClass:"finished"},[e._v(" "+e._s(e.translations.isFinished)+" ")]):e._e(),e.data.nb_files?a("div",[a("div",[e._v(" "+e._s(e.data.nb_files)+" "),e.data.nb_files>1?a("span",[e._v(e._s(e.translations.files))]):a("span",[e._v(e._s(e.translations.file))])])]):e._e(),"email"==e.type&&e.data.category&&e.data.category.length>0?a("div",[a("div",[e._v(" "+e._s(e.data.category)+" ")])]):e._e()])]),a("hr"),a("div",{staticClass:"actions"},[a("a",{staticClass:"em-primary-button em-font-size-14",on:{click:e.redirectToEditItem}},[e._v(" "+e._s(e.translations.edit)+" ")]),a("list-action-menu",{attrs:{type:e.type,itemId:e.data.id,isPublished:e.actionMenuIsPublished,showTootlip:e.hasActionMenu},on:{validateFilters:e.validateFilters,updateLoading:e.updateLoading,showModalPreview:e.showModalPreview}})],1)])},Ge=[];const He=a("bef5");var ze={components:{ListActionMenu:Ee},props:{data:{type:Object,required:!0},type:{type:String,required:!0},actions:{type:Object,required:!0}},data(){return{title:"",lang:"fr",translations:{publishedTag:this.translate("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:this.translate("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),active:this.translate("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH_FORM"),inactive:this.translate("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH_FORM"),isFinished:this.translate("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),edit:this.translate("COM_EMUNDUS_ONBOARD_MODIFY"),files:this.translate("COM_EMUNDUS_ONBOARD_FILES"),file:this.translate("COM_EMUNDUS_ONBOARD_FILE"),emailType:{1:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_TYPE_SYSTEM"),2:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_TYPE_MODEL")},campaignAssociated:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGN_ASSOCIATED"),campaignsAssociated:this.translate("COM_EMUNDUS_ONBOARD_CAMPAIGNS_ASSOCIATED"),from:this.translate("COM_EMUNDUS_ONBOARD_FROM"),to:this.translate("COM_EMUNDUS_ONBOARD_TO")},campaign:{associatedCampaigns:null}}},mounted(){this.lang=this.$store.getters["global/actualLanguage"],this.getTitle(),"formulaire"!==this.type&&"form"!==this.type&&"grilleEval"!==this.type||this.getAssociatedCampaigns()},methods:{getTitle(){this.data.label&&"string"===typeof this.data.label?this.title=this.data.label:this.data.label&&this.data.label[this.lang]?this.title=this.data.label[this.lang]:this.data.subject&&(this.title=this.data.subject)},redirectToEditItem(){const e=this.getEditUrlByType();_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>He.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},getEditUrlByType(){let e;switch(this.type){case"campaign":e="index.php?option=com_emundus_onboard&view=campaign&layout=addnextcampaign&cid="+this.data.id+"&index=0";break;case"form":case"formulaire":e="index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.data.id+"&index=0&cid=";break;case"grilleEval":e="index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid=&index=0&cid=&evaluation="+this.data.id;break;case"email":e="index.php?option=com_emundus_onboard&view=email&layout=add&eid="+this.data.id;break}return e},getAssociatedCampaigns(){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getassociatedcampaign",params:{pid:this.data.id},paramsSerializer:e=>He.stringify(e)}).then(e=>{this.campaign.associatedCampaigns=e.data.data})},validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)},showModalPreview(){this.$emit("showModalPreview")},formatDate(e){return r()(e).format("DD/MM/YYYY")}},computed:{isPublished(){return"campaign"==this.type?1==this.data.published&&r()(this.data.start_date)<=r()()&&(r()(this.data.end_date)>=r()()||null==this.data.end_date||"0000-00-00 00:00:00"==this.data.end_date):"email"==this.type?1==this.data.published:null},isActive(){return"form"==this.type||"formulaire"==this.type||"grilleEval"==this.type?1==this.data.status:null},isFinished(){return"campaign"==this.type&&r()(this.data.end_date)<r()()},hasActionMenu(){let e=!0;return"email"==this.type?!1===this.data.lbl.startsWith("custom_")&&!1===this.data.lbl.startsWith("email_")&&(e=!1):"grilleEval"==this.type&&(e=!1),e},actionMenuIsPublished(){return"email"==this.type||"campaign"==this.type?this.isPublished:"form"==this.type||"formulaire"==this.type||"grilleEval"==this.type?this.isActive:1==this.data.published}}},qe=ze,Ve=(a("8220"),Object(b["a"])(qe,$e,Ge,!1,null,"12268535",null)),Je=Ve.exports,Ye={components:{ListBloc:Je},props:{type:{type:String,required:!0},actions:{type:Object,required:!0},params:{type:Object,default:{}}},methods:{validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)},showModalPreview(e){this.$emit("showModalPreview",e)}},computed:{list(){return this.params.email_category?this.$store.getters["lists/list"].filter(e=>0==this.params.email_category||e.category===this.params.email_category):this.$store.getters["lists/list"]}}},We=Ye,Qe=(a("c0ed"),Object(b["a"])(We,Pe,Fe,!1,null,"3a68fdb9",null)),Xe=Qe.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalEmailPreview_"+e.model}},[a("modal",{attrs:{name:"modalEmailPreview_"+e.model,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1,width:"70%"},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"update-field-header d-flex justify-content-between"},[a("h2",{staticClass:"update-title-header",staticStyle:{"margin-bottom":"10px"}},[e._v(" "+e._s(e.ModelPreview)+" ")]),a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return e.$modal.hide("modalEmailPreview_"+e.model)}}},[a("em",{staticClass:"fas fa-times"})])])])]),a("div",{staticClass:"modalC-content"},[null!=e.email?a("p",[a("span",{domProps:{innerHTML:e._s(e.email.message)}})]):e._e()])])],1)},Ze=[];a("bef5");var et={name:"modalEmailPreview",props:{model:String,models:Array},data(){return{email:null,ModelPreview:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_PREVIEWMODEL")}},methods:{beforeClose(e){},beforeOpen(e){this.models.forEach(e=>{e.id==this.model&&(this.email=e)})}}},tt=et,at=(a("72d7"),Object(b["a"])(tt,Ke,Ze,!1,null,"4d973422",null)),st=at.exports,it={components:{ListTable:je,ListBlocs:Xe,ModalEmailPreview:st},props:{type:{type:String,required:!0},actions:{type:Object,required:!0},params:{type:Object,default:{}}},data(){return{viewType:"blocs",viewTypeOptions:[{value:"table",icon:"dehaze"},{value:"blocs",icon:"grid_view"}],email:{emailToPreview:"-1"}}},methods:{changeViewType(e){this.viewType=e.value},validateFilters(){this.$emit("validateFilters")},updateLoading(e){this.$emit("updateLoading",e)},showModalPreview(e){this.email.emailToPreview=e,this.$modal.show("modalEmailPreview_"+e)}},computed:{list(){return this.$store.getters["lists/list"]}}},ot=it,nt=(a("f586"),Object(b["a"])(ot,ie,oe,!1,null,"13ab69a2",null)),rt=nt.exports,lt={components:{filters:Q,ListHead:se,ListBody:rt},name:"List",data:()=>({datas:{},params:{},type:"",selecedItems:[],actions:{type:"",add_url:""},loading:!1,actualLanguage:"",allPrograms:[],selectedProgram:"all",actualProgramShowingCampaignName:"Tous",recherche:"",timer:null,translations:{Select:Joomla.JText._("COM_EMUNDUS_ONBOARD_SELECT"),Deselect:Joomla.JText._("COM_EMUNDUS_ONBOARD_DESELECT"),Total:Joomla.JText._("COM_EMUNDUS_ONBOARD_TOTAL"),noCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOCAMPAIGN"),noProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOPROGRAM"),noEmail:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOEMAIL"),noForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFORM"),noFiles:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFILES"),All:Joomla.JText._("COM_EMUNDUS_ONBOARD_ALL"),AllPrograms:Joomla.JText._("COM_EMUNDUS_ONBOARD_ALL_PROGRAMS"),programs:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),ortherPrograms:Joomla.JText._("COM_EMUNDUS_ONBOARD_OTHERCAMP_PROGRAM"),System:Joomla.JText._("COM_EMUNDUS_ONBOARD_SYSTEM"),Categories:Joomla.JText._("COM_EMUNDUS_ONBOARD_CATEGORIES"),Rechercher:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH"),candidature:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGN"),evaluations:Joomla.JText._("COM_EMUNDUS_ONBOARD_EVALUATION")},total:0,filtersCount:"",filters:"",filtersCountFilter:"&filterCount=",filtersCountSearch:"&rechercheCount=",filtersFilter:"&filter=",filtersSort:"&sort=",filtersSearch:"&recherche=",filtersLim:"&lim=",filtersPage:"&page=",filtre:"",tri:"",search:"",limit:25,pages:1,countPages:1,menuEmail:0,email_categories:[]}),computed:{list(){return list.getters.list},isEmpty:()=>list.getters.isSomething,noneDiscoverTranslation(){return"campaign"===this.type?this.translations.noCampaign:"program"===this.type?this.translations.noProgram:"email"===this.type?this.translations.noEmail:"formulaire"===this.type?this.translations.noForm:this.translations.noFiles},notEmptyEmailCategories(){return this.email_categories.filter(e=>""!==e)}},created(){this.datas=this.$store.getters["global/datas"],this.type=this.datas.type.value,_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getActualLanguage"}).then(e=>{this.actualLanguage=e.data.msg}),_.a.get("index.php?option=com_emundus&controller=program&task=getallprogram").then(e=>{this.allPrograms=e.data.data,this.allPrograms.sort((e,t)=>e.label<t.label?-1:e.label>t.label?1:0)}).catch(e=>{console.log(e)}),this.actions.type=this.type,this.typeForAdd=this.type,"form"===this.typeForAdd&&(this.type="formulaire"),this.actions.add_url="index.php?option=com_emundus_onboard&view="+this.typeForAdd+"&layout=add",this.validateFilters()},watch:{type:function(e){if(this.actions.type=e,this.typeForAdd="formulaire"===e?"form":e,"form"===this.typeForAdd&&(this.type="formulaire"),"files"!==this.typeForAdd){let e="grilleEval"===this.typeForAdd?"form":this.typeForAdd;this.actions.add_url="index.php?option=com_emundus_onboard&view="+e+"&layout=add"}this.validateFilters()},menuEmail:function(e){this.type="email",this.params={email_category:e}}},methods:{updateLoading(e){this.loading=e},validateFilters(){this.updateLoading(!0),this.filtersCount=this.filtersCountFilter+this.filtersCountSearch,this.filters=this.filtersFilter+this.filtersSort+this.filtersSearch+this.filtersLim+this.filtersPage+"&program="+this.selectedProgram,this.allFilters()},filter(e){this.filtersCountFilter="&filterCount="+e,this.filtersFilter="&filter="+e,this.filtre=e,this.validateFilters()},sort(e){this.filtersSort="&sort="+e,this.tri=e,this.validateFilters()},cherche(e){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.filtersCountSearch="&rechercheCount="+e,this.filtersSearch="&recherche="+e,this.search=e,this.validateFilters()},800)},chercheGo(e){this.cherche(e),this.validateFilters()},nbresults(e){this.filtersLim="&lim="+e,this.limit=e,this.validateFilters()},nbpages(e){e>=1&&e<=this.countPages&&(this.filtersPage="&page="+e,this.pages=e,this.validateFilters())},paginationNumber(e){return this.countPages>10?e<4||e>this.countPages-3||e>pages-3&&e<pages+3?e:"...":e},allFilters(){let e="grilleEval"===this.typeForAdd?"form":this.typeForAdd;"files"!==this.type&&_.a.get("index.php?option=com_emundus&controller="+e+"&task=get"+this.typeForAdd+"count"+this.filtersCount).then(t=>{_.a.get("index.php?option=com_emundus&controller="+e+"&task=getall"+this.typeForAdd+this.filters).then(e=>{this.total=t.data.data,this.$store.commit("lists/listUpdate",e.data.data),this.countPages=Math.ceil(this.total/this.limit),"email"==this.type&&_.a.get("index.php?option=com_emundus&controller=email&task=getemailcategories").then(e=>{this.email_categories=e.data.data}),this.loading=!1}).catch(e=>{console.log(e),this.updateLoading(!1)})}).catch(e=>{console.log(e),this.loading=!1})},updateTotal(e){this.total=e},selectAllItem(){return this.list.filter((function(e){this.$store.commit("lists/selectItem",e.id)}))},deselectItem(){this.$store.commit("lists/resetSelectedItemsList")},selectItem(e){this.$store.commit("lists/selectItem",e)}}},dt=lt,ct=(a("2b6b"),Object(b["a"])(dt,H,z,!1,null,"4f4bf63e",null)),mt=ct.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-principale"},[a("notifications",{attrs:{group:"foo-velocity",position:"bottom left","animation-type":"velocity",speed:500,classes:"vue-notification-custom"}}),a("div",{staticClass:"w-container general-information"},[""==e.campaignId?a("div",{staticClass:"section-sub-menu sub-form"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/megaphone.svg",srcset:"/images/emundus/menus/megaphone.svg",alt:"megaphone"}}),a("h1",{staticClass:"tchooz-section-titles"},[e._v(e._s(e.translations.AddCampaign))])])])]):e._e(),a("form",{attrs:{id:"campaign-form"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required mb-1"},[e._v(e._s(e.translations.RequiredFieldsIndicate))]),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.translations.CampName)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.form.label[e.actualLanguage],expression:"form.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.label,"mb-0":e.translate.label},attrs:{id:"campLabel",type:"text",required:""},domProps:{value:e.form.label[e.actualLanguage]},on:{keyup:e.enableTranslationTip,input:function(t){t.target.composing||e.$set(e.form.label,e.actualLanguage,t.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:e.enableLabelTranslation}}):e._e()]),e.translate.label?a("translation",{attrs:{label:e.form.label,actualLanguage:e.actualLanguage}}):e._e()],1),e.errors.label?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.LabelRequired))])]):e._e(),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"w-col col-md-5"},[a("div",{staticClass:"w-form"},[a("label",{attrs:{for:"startDate"}},[e._v(e._s(e.translations.StartDate)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("datetime",{attrs:{id:"startDate",type:"datetime",placeholder:e.translations.StartDate,"input-id":"start_date",phrases:{ok:e.translations.OK,cancel:e.translations.Cancel}},model:{value:e.form.start_date,callback:function(t){e.$set(e.form,"start_date",t)},expression:"form.start_date"}})],1)]),a("div",{staticClass:"w-col col-md-5"},[a("div",{staticClass:"w-form"},[a("label",{attrs:{for:"endDate"}},[e._v(e._s(e.translations.EndDate)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("datetime",{attrs:{id:"endDate",type:"datetime",placeholder:e.translations.EndDate+" *","input-id":"end_date","min-datetime":e.minDate,phrases:{ok:e.translations.OK,cancel:e.translations.Cancel}},model:{value:e.form.end_date,callback:function(t){e.$set(e.form,"end_date",t)},expression:"form.end_date"}})],1)])]),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"year"}},[e._v(e._s(e.translations.PickYear)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("autocomplete",{attrs:{id:"year",items:this.session,year:e.form.year,name:"2020 - 2021"},on:{searched:e.onSearchYear}})],1),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.published,expression:"form.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(e.form.published)?e._i(e.form.published,null)>-1:e._q(e.form.published,"1")},on:{change:function(t){var a=e.form.published,s=t.target,i=s.checked?"1":"0";if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&e.$set(e.form,"published",a.concat([o])):n>-1&&e.$set(e.form,"published",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.form,"published",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",attrs:{for:"published"}},[e._v(e._s(e.translations.Publish))])]),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.is_limited,expression:"form.is_limited"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"limit",name:"limit"},domProps:{checked:Array.isArray(e.form.is_limited)?e._i(e.form.is_limited,null)>-1:e._q(e.form.is_limited,"1")},on:{change:function(t){var a=e.form.is_limited,s=t.target,i=s.checked?"1":"0";if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&e.$set(e.form,"is_limited",a.concat([o])):n>-1&&e.$set(e.form,"is_limited",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.form,"is_limited",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",attrs:{for:"limit"}},[e._v(e._s(e.translations.FilesLimit))])]),a("transition",{attrs:{name:"'slide-down'"}},[1==e.form.is_limited?a("div",[a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.translations.FilesNumberLimit)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.limit,expression:"form.limit"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.limit_files_number},attrs:{type:"number"},domProps:{value:e.form.limit},on:{input:function(t){t.target.composing||e.$set(e.form,"limit",t.target.value)}}})]),e.errors.limit_files_number?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.FilesLimitRequired))])]):e._e(),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.translations.StatusLimit)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("div",{staticClass:"users-block",class:{"is-invalid":e.errors.limit_status}},e._l(e.status,(function(t,s){return a("div",{key:s,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.limit_status[t.step],expression:"form.limit_status[statu.step]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.limit_status[t.step])?e._i(e.form.limit_status[t.step],null)>-1:e.form.limit_status[t.step]},on:{change:function(a){var s=e.form.limit_status[t.step],i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(e.form.limit_status,t.step,s.concat([n])):r>-1&&e.$set(e.form.limit_status,t.step,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form.limit_status,t.step,o)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.value))])])])})),0),e.errors.limit_status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.StatusLimitRequired))])]):e._e()])]):e._e()])],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.translations.Information))])]),a("div",{staticClass:"form-group campaign-label"},[a("label",{staticStyle:{top:"5em"}},[e._v(e._s(e.translations.Resume)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.short_description,expression:"form.short_description"}],staticClass:"form__input field-general w-input",attrs:{type:"textarea",rows:"2",id:"campResume",maxlength:"500",placeholder:" "},domProps:{value:e.form.short_description},on:{keyup:function(t){return e.checkMaxlength("campResume")},focusout:function(t){return e.removeBorderFocus("campResume")},input:function(t){t.target.composing||e.$set(e.form,"short_description",t.target.value)}}})]),e.errors.short_description?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.ResumeRequired))])]):e._e(),null!=e.form.description?a("div",{staticClass:"form-group controls"},[a("editor",{key:e.editorKey,attrs:{height:"30em",text:e.form.description,enable_variables:!1,placeholder:e.translations.Description,id:"campaign_description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1):e._e()]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.translations.Program))])]),a("p",[e._v(e._s(e.translations.ProgramDesc)),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("div",{staticClass:"form-group container-flexbox-choisir-ou-plus w-clearfix mt-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.training,expression:"form.training"}],staticClass:"dropdown-toggle w-select",staticStyle:{"margin-bottom":"0"},attrs:{id:"select_prog",disabled:this.programs.length<=0},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"training",t.target.multiple?a:a[0])},e.setCategory]}},[a("option",{attrs:{value:""}},[e._v(e._s(e.translations.ChooseProg))]),e._l(this.programs,(function(t,s){return a("option",{key:s,attrs:{"data-category":t.programmes},domProps:{value:t.code}},[e._v(" "+e._s(t.label)+" ")])}))],2),0!=e.coordinatorAccess?a("button",{staticClass:"buttonAddDoc",attrs:{title:e.translations.AddProgram,type:"button",id:"add-program"},on:{click:e.displayProgram}},[a("em",{staticClass:"fas fa-plus"})]):e._e()]),a("transition",{attrs:{name:"slide-fade"}},[e.isHiddenProgram?a("div",{staticClass:"program-addCampaign"},[a("div",{staticClass:"w-form"},[a("div",{staticClass:"form-group prog-label"},[a("label",{staticStyle:{top:"5.7em"},attrs:{for:"prog_label"}},[e._v(e._s(e.translations.ProgName)+" "),a("span",{staticClass:"em-red-500-color"},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programForm.label,expression:"programForm.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.progLabel},attrs:{type:"text",id:"prog_label",placeholder:" "},domProps:{value:e.programForm.label},on:{keyup:e.updateCode,input:function(t){t.target.composing||e.$set(e.programForm,"label",t.target.value)}}})]),e.errors.progLabel?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.ProgLabelRequired))])]):e._e()])]):e._e()])],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container btns-sauvegarder-et-continuer"},[a("div",{staticClass:"container-evaluation d-flex justify-content-between"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button",onclick:"history.back()"}},[e._v(" "+e._s(e.translations.Retour)+" ")]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green",attrs:{type:"button"},on:{click:function(t){e.quit=1,e.submit()}}},[e._v(" "+e._s(e.translations.Continuer)+" ")])])])])])])]),e.submitted?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#12DB42"}})],1):e._e()],1)},_t=[],pt=a("0065"),ht=a("aaac"),gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editor"},[a("div",{attrs:{id:"tiny_"+e.selector_id}})])},ft=[],bt=a("8e5c"),vt=a.n(bt),yt=a("f6f6"),wt=a.n(yt),Ot=(a("a881"),a("59d1"),a("9908"),a("53b8"),a("66c5"),a("26ab"),a("2efd"),a("5cb9"),a("0898"),a("5aa7"),a("750b"),a("8f8e"),a("bedc"),{components:{editor:vt.a},props:{text:String,lang:String,placeholder:String,id:String,height:String,enable_variables:Boolean},data(){return{selector_id:this.id+wt.a.random(1e4,99999),variables:{},data:null}},methods:{saveText(){this.$emit("input",vt.a.activeEditor.getContent())}},watch:{text:function(){this.$forceUpdate()}},mounted(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=geteditorvariables"}).then(e=>{this.variables=e.data.data});var e=window.location.protocol+"//"+window.location.host+"/media/com_emundus/tinymce/";let t={selector:"#tiny_"+this.selector_id,images_upload_url:"index.php?option=com_emundus&controller=settings&task=uploadimages",plugins:"paste link media preview image code anchor advlist hr emoticons lists searchreplace charmap quickbars imagetools pagebreak autolink print mention",toolbar:"undo redo | forecolor bold italic underline strikethrough | fontsizeselect formatselect | image link preview | alignleft aligncenter alignright alignjustify hr | bullist numlist | outdent indent | insertfile media anchor| charmap emoticons backcolor | searchreplace print",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",content_css:e+"skins/ui/oxide/content.min.css",convert_urls:!1,height:this.height,branding:!1,elementpath:!1,statusbar:!1,menubar:!1,a11y_advanced_options:!1,toolbar_sticky:!1,quickbars_insert_toolbar:"",quickbars_selection_toolbar:"bold italic underline | quicklink h2 h3 blockquote",toolbar_mode:"sliding",placeholder:this.placeholder,file_picker_types:"image",file_picker_callback:function(e,t,a){var s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("accept","image/*"),s.onchange=function(){var t=this.files[0],a=new FileReader;a.onload=function(){var s="blobid"+(new Date).getTime(),i=vt.a.activeEditor.editorUpload.blobCache,o=a.result.split(",")[1],n=i.create(s,t,o);i.add(n),e(n.blobUri(),{title:t.name})},a.readAsDataURL(t)},s.click()},mentions:{delimiter:"/",source:(e,t,a)=>{"/"===a&&1==this.enable_variables&&t(this.variables)},queryBy:"tag",delay:200,insert:e=>(setTimeout(()=>{this.$emit("input",vt.a.activeEditor.getContent())},500),"<span>["+e.tag+"]</span>"),render:function(e){return'<li class="email-tags"><a href="javascript:;"><span>'+e.tag+"</span><p>"+e.description+"</p></a></li>"},renderDropdown:function(){return'<ul class="rte-autocomplete dropdown-menu"></ul>'}},setup:e=>{e.on("keyup",()=>{this.$emit("input",vt.a.activeEditor.getContent())}),e.on("blur",()=>{this.$emit("focusout",vt.a.activeEditor.getContent())}),e.on("init",()=>{vt.a.activeEditor.setContent(this.text)})}};"fr"==this.lang?(t.language="fr_FR",t.language_url=e+"languages/fr_FR.js",vt.a.init(t)):vt.a.init(t),this.$forceUpdate(),setInterval(this.saveText,3e3)}}),Ct=Ot,Et=(a("1a05"),Object(b["a"])(Ct,gt,ft,!1,null,"7e6793e3",null)),Dt=Et.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"autocomplete"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],class:""!==e.year?"":"placeholder",attrs:{type:"text",id:e.id,placeholder:""!==e.year?e.year:e.name},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.onChange],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrowDown.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrowUp.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)}]}}),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},e._l(e.results,(function(t,s){return a("li",{key:s,staticClass:"autocomplete-result",class:{"is-active":s===e.arrowCounter},on:{click:function(a){return e.setResult(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])},At=[],Mt={name:"autocomplete",props:{items:{type:Array,required:!1,default:()=>[]},name:String,year:String,id:String},data(){return{search:"",results:[],isOpen:!1,sLoading:!1,arrowCounter:-1}},created(){const e=e=>new Promise(t=>setTimeout(t,e));e(2e3).then(()=>{this.search=this.year})},methods:{onSearching(e){this.$emit("searched",this.search)},onChange(){this.isOpen=!0,this.filterResults(),this.onSearching()},filterResults(){this.results=this.items.filter(e=>e.toLowerCase().indexOf(this.search.toLowerCase())>-1)},setResult(e){this.search=e,this.isOpen=!1,this.onSearching()},onArrowDown(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter(){this.search=this.results[this.arrowCounter],this.isOpen=!1,this.arrowCounter=-1,this.onSearching()},handleClickOutside(e){this.$el.contains(e.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted(){document.addEventListener("click",this.handleClickOutside)},destroyed(){document.removeEventListener("click",this.handleClickOutside)}},Ut=Mt,St=(a("bb8f"),Object(b["a"])(Ut,Nt,At,!1,null,"d62d9cce",null)),xt=St.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"translation"},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{staticClass:"inlineflex",staticStyle:{margin:"25px"}},[a("label",{staticClass:"translate-label"},[e._v(e._s(e.TranslateIn))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.currentLangTranslation,expression:"currentLangTranslation"}],staticClass:"dropdown-toggle ml-10px",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentLangTranslation=t.target.multiple?a:a[0]}}},e._l(e.languages,(function(t){return a("option",{domProps:{value:t.sef}},[e._v(e._s(t.title_native))])})),0)])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label[e.currentLangTranslation],expression:"label[currentLangTranslation]"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"label_"+e.currentLangTranslation},domProps:{value:e.label[e.currentLangTranslation]},on:{input:function(t){t.target.composing||e.$set(e.label,e.currentLangTranslation,t.target.value)}}})])],1)},Rt=[],kt={name:"translation",props:{label:Object,actualLanguage:String},data(){return{currentLangTranslation:"en",languages:[],TranslateIn:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_IN")}},created(){this.getLanguages()},methods:{getLanguages(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=getactivelanguages"}).then(e=>{this.languages=e.data.data,this.languages.forEach((e,t)=>{e.sef==this.actualLanguage&&this.languages.splice(t,1)}),this.currentLangTranslation=this.languages[0].sef})}},mounted(){document.addEventListener("click",this.handleClickOutside)},destroyed(){document.removeEventListener("click",this.handleClickOutside)}},Lt=kt,Bt=Object(b["a"])(Lt,Tt,Rt,!1,null,"5157f665",null),It=Bt.exports;const jt=a("bef5");var Pt={name:"addCampaign",components:{Datetime:pt["Datetime"],Editor:Dt,Autocomplete:xt,Translation:It},directives:{focus:{inserted:function(e){e.focus()}}},quit:1,props:{campaign:Number},data:()=>({campaignId:0,actualLanguage:"",coordinatorAccess:0,manyLanguages:0,isHiddenProgram:!1,olderDate:"",minDate:"",programs:[],years:[],status:[],languages:[],session:[],old_training:"",old_program_form:"",editorKey:0,form:{label:{},start_date:"",end_date:"",short_description:"",description:null,training:"",year:"",published:1,is_limited:0,profile_id:9,limit:50,limit_status:[]},translate:{label:!1},enableTip:!1,programForm:{code:"",label:"",notes:"",programmes:"",published:1,apply_online:1},year:{label:"",code:"",schoolyear:"",published:1,profile_id:"",programmes:""},errors:{label:!1,progCode:!1,progLabel:!1,short_description:!1,limit_files_number:!1,limit_status:!1},translations:{Parameter:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_PARAMETER"),CampName:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_CAMPNAME"),StartDate:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_STARTDATE"),EndDate:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_ENDDATE"),Information:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_INFORMATION"),Resume:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_RESUME"),Description:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),Program:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),AddProgram:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDPROGRAM"),ChooseProg:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_CHOOSEPROG"),PickYear:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_PICKYEAR"),Retour:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:(void 0).translate("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),DepotDeDossier:(void 0).translate("COM_EMUNDUS_ONBOARD_DEPOTDEDOSSIER"),ProgName:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGNAME"),ProgCode:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGCODE"),ChooseCategory:(void 0).translate("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),NameCategory:(void 0).translate("COM_EMUNDUS_ONBOARD_NAMECATEGORY"),LabelRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),RequiredFieldsIndicate:(void 0).translate("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),ProgramResume:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_RESUME"),ProgLabelRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_LABEL"),ResumeRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_CAMP_REQUIRED_RESUME"),OK:(void 0).translate("COM_EMUNDUS_ONBOARD_OK"),Cancel:(void 0).translate("COM_EMUNDUS_ONBOARD_CANCEL"),TranslateEnglish:(void 0).translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),FilesLimit:(void 0).translate("COM_EMUNDUS_ONBOARD_FILES_LIMIT"),FilesNumberLimit:(void 0).translate("COM_EMUNDUS_ONBOARD_FILES_LIMIT_NUMBER"),StatusLimit:(void 0).translate("COM_EMUNDUS_ONBOARD_FILES_LIMIT_STATUS"),StatusLimitRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),FilesLimitRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_FILES_LIMIT_REQUIRED"),AddCampaign:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN"),ProgramDesc:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_INTRO_DESC")},submitted:!1}),created(){""==this.$props.campaign?this.campaignId=this.$store.getters["global/datas"].campaign.value:this.campaignId=this.$props.campaign,this.actualLanguage=this.$store.getters["global/actualLanguage"],this.manyLanguages=this.$store.getters["global/manyLanguages"],this.coordinatorAccess=this.$store.getters["global/coordinatorAccess"],ht["Settings"].defaultLocale=this.actualLanguage;let e=new Date;this.form.start_date=ht["DateTime"].local(e.getFullYear(),e.getMonth()+1,e.getDate(),0,0,0).toISO(),this.getLanguages(),this.getCampaignById()},methods:{getCampaignById(){"undefined"!==typeof this.campaignId&&""!==this.campaignId&&_.a.get("index.php?option=com_emundus&controller=campaign&task=getcampaignbyid&id="+this.campaignId).then(e=>{let t=e.data.data.campaign.label;this.form=e.data.data.campaign,this.$emit("getInformations",this.form),this.programForm=e.data.data.program,this.form.label=e.data.data.label,this.languages.forEach(e=>{""!==this.form.label[e.sef]&&null!=this.form.label[e.sef]||(this.form.label[e.sef]=t)}),this.form.start_date=ht["DateTime"].fromSQL(this.form.start_date).toISO(),this.form.end_date=ht["DateTime"].fromSQL(this.form.end_date).toISO(),"0000-00-00T00:00:00.000Z"==this.form.end_date?this.form.end_date="":this.olderDate=this.form.end_date,"undefined"!=typeof e.data.data.campaign.status?(this.form.limit_status=[],this.form.is_limited=1,Object.values(e.data.data.campaign.status).forEach(e=>{this.form.limit_status[parseInt(e.limit_status)]=!0})):this.form.limit_status=[]}).catch(e=>{console.log(e)}),this.getAllPrograms()},getAllPrograms(){_.a.get("index.php?option=com_emundus&controller=program&task=getallprogram").then(e=>{this.programs=e.data.data,0!==Object.keys(this.programs).length&&this.programs.sort((e,t)=>e.id-t.id)}).catch(e=>{console.log(e)}),this.getYears()},getYears(){_.a.get("index.php?option=com_emundus&controller=campaign&task=getyears").then(e=>{this.years=e.data.data,this.years.forEach(e=>{this.session.push(e.schoolyear)})}).catch(e=>{console.log(e)}),this.getStatus()},getLanguages(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=getactivelanguages"}).then(e=>{this.languages=e.data.data})},setCategory(e){this.year.programmes=e.target.options[e.target.options.selectedIndex].dataset.category,this.programForm=this.programs.find(e=>e.code==this.form.training)},updateCode(){""!==this.programForm.label?(this.programForm.code=this.programForm.label.toUpperCase().replace(/[^a-zA-Z0-9]/g,"_").substring(0,10)+"_00",0!==Object.keys(this.programs).length&&this.programs.forEach(e=>{if(this.programForm.code==e.code){let t=parseInt(e.code.split("_")[1])+1;this.programForm.code=t>10?this.programForm.label.toUpperCase()+"_"+t:this.programForm.label.toUpperCase()+"_0"+t}})):this.programForm.code=""},enableLabelTranslation(){this.translate.label=!this.translate.label,this.translate.label&&setTimeout(()=>{document.getElementById("label_en").focus()},100)},getStatus(){_.a.get("index.php?option=com_emundus&controller=settings&task=getstatus").then(e=>{this.status=e.data.data})},createCampaignWithExistingProgram(e){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=createcampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jt.stringify({body:e})}).then(e=>{this.campaignId=e.data.data,this.quitFunnelOrContinue(this.quit)}).catch(e=>{console.log(e)})},createCampainWithNoExistingProgram(e){_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=createprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jt.stringify({body:e})}).then(()=>{this.form.training=e.code,this.form.start_date=ht["DateTime"].fromISO(this.form.start_date).toISO(),this.form.end_date=ht["DateTime"].fromISO(this.form.end_date).toISO(),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=createcampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jt.stringify({body:this.form})}).then(e=>{this.campaignId=e.data.data,this.quitFunnelOrContinue(this.quit)}).catch(e=>{console.log(e)})})},submit(){if(this.errors={label:!1,progCode:!1,progLabel:!1,short_description:!1,limit_files_number:!1,limit_status:!1},""==this.form.label.fr&&""==this.form.label.en)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.label=!0,0;if(""==this.form.end_date)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("end_date").focus(),0;if(""==this.form.year)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("year").focus(),0;if(1==this.form.is_limited){let e=this.form.limit_status.every(e=>!1===e);if(""==this.form.limit)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.limit_files_number=!0,0;if(0==this.form.limit_status.length||e)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.limit_status=!0,0}if(""==this.form.training){if(!this.isHiddenProgram)return document.getElementById("select_prog").focus(),0;if(""==this.programForm.label)return this.errors.progLabel=!0,document.getElementById("prog_label").focus(),0;if(""==this.programForm.code)return this.errors.progCode=!0,document.getElementById("prog_code").focus(),0}if(this.year.label=this.form.label,this.year.code=this.form.training,this.year.schoolyear=this.form.year,this.year.published=this.form.published,this.year.profile_id=this.form.profile_id,""!=this.form.label.en&&null!=this.form.label.en&&"undefined"!=typeof this.form.label.en||(this.form.label.en=this.form.label.fr),this.submitted=!0,"undefined"!==typeof this.campaignId&&null!==this.campaignId&&""!==this.campaignId){let e="createprogram",t={body:this.programForm};""!=this.form.training&&(e="updateprogram",t={body:this.programForm,id:this.form.progid}),_()({method:"post",url:"index.php?option=com_emundus&controller=program&task="+e,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jt.stringify(t)}).then(()=>{this.form.training=this.programForm.code,this.form.start_date=ht["DateTime"].fromISO(this.form.start_date).toISO(),this.form.end_date=ht["DateTime"].fromISO(this.form.end_date).toISO(),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updatecampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jt.stringify({body:this.form,cid:this.campaignId})}).then(()=>{this.$emit("nextSection")}).catch(e=>{console.log(e)})}).catch(e=>{console.log(e)})}else""!==this.form.training?(this.programForm=this.programs.find(e=>e.code==this.form.training),this.form.training=this.programForm.code,this.form.start_date=ht["DateTime"].fromISO(this.form.start_date).toISO(),this.form.end_date=ht["DateTime"].fromISO(this.form.end_date).toISO(),this.createCampaignWithExistingProgram(this.form)):this.createCampainWithNoExistingProgram(this.programForm)},quitFunnelOrContinue(e){0==e?this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign"):1==e&&(document.cookie="campaign_"+this.campaignId+"_menu = 2; expires=Session; path=/",this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+this.campaignId+"&index=0"))},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>jt.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},onSearchYear(e){this.form.year=e},displayProgram(){this.isHiddenProgram?(document.getElementById("add-program").style="transform: rotate(0)",this.form.training=this.old_training,this.programForm=this.old_program_form,document.getElementById("select_prog").removeAttribute("disabled")):(this.old_training=this.form.training,this.old_program_form=this.programForm,this.form.training="",this.programForm={code:"",label:"",notes:"",programmes:"",published:1,apply_online:1},document.getElementById("add-program").style="transform: rotate(135deg)",document.getElementById("select_prog").setAttribute("disabled","disabled")),this.isHiddenProgram=!this.isHiddenProgram},enableTranslationTip(){this.enableTip||(this.enableTip=!0,this.tip())},checkMaxlength(e){var t=document.getElementById(e).getAttribute("maxlength");t==this.form.short_description.length?document.getElementById(e).style.borderColor="red":document.getElementById(e).style.borderColor="#3898ec"},removeBorderFocus(e){document.getElementById(e).style.borderColor="#cccccc"},tip(){0!=this.manyLanguages&&this.show("foo-velocity",this.translate("COM_EMUNDUS_ONBOARD_TRANSLATETIP")+'<em class="translate-icon"></em>',this.translate("COM_EMUNDUS_ONBOARD_TIP"))},show(e,t="",a="Information"){this.$notify({group:e,title:""+a,text:t,duration:1e5})},clean(e){this.$notify({group:e,clean:!0})}},watch:{"form.start_date":function(e){this.minDate=ht["DateTime"].fromISO(e).plus({days:1}).toISO(),""==this.form.end_date&&(this.form.end_date=ht["DateTime"].fromISO(e).plus({days:1}).toISO())}}},Ft=Pt,$t=(a("0c5f"),Object(b["a"])(Ft,ut,_t,!1,null,"2b0b0c1b",null)),Gt=$t.exports,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-principale"},[a("notifications",{attrs:{group:"foo-velocity",position:"bottom left","animation-type":"velocity",speed:500,classes:"vue-notification-custom"}}),a("div",{staticClass:"w-container"},[""==e.email?a("div",{staticClass:"section-sub-menu sub-form"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/email.png",srcset:"/images/emundus/menus/email.png",alt:"email"}}),a("h1",{staticClass:"tchooz-section-titles"},[e._v(e._s(e.translations.AddEmail))])])])]):e._e(),a("form",{attrs:{id:"program-form"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required mb-1"},[e._v(e._s(e.translations.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.translations.Informations))])]),a("div",{staticClass:"w-form"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.emailName)+" "),a("span",{staticStyle:{color:"#E5283B"}},[e._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.subject,expression:"form.subject"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.subject},attrs:{type:"text"},domProps:{value:e.form.subject},on:{input:function(t){t.target.composing||e.$set(e.form,"subject",t.target.value)}}})]),e.errors.subject?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.SubjectRequired))])]):e._e(),a("div",{staticClass:"form-group controls forms-emails-editor"},[a("label",[e._v(e._s(e.translations.emailBody)+" "),a("span",{staticStyle:{color:"#E5283B"}},[e._v("*")])]),e.dynamicComponent?a("editor",{class:{"is-invalid":e.errors.message},attrs:{id:"email",height:"30em",text:e.form.message,lang:e.actualLanguage,enable_variables:!0,placeholder:e.translations.EmailResume},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}}):e._e()],1),e.errors.message?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.BodyRequired))])]):e._e()])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form d-flex"},[a("h2",{staticClass:"heading mb-0"},[e._v(e._s(e.translations.Advanced))]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.displayAdvancedParameters,expression:"!displayAdvancedParameters"}],staticClass:"buttonAddDoc",attrs:{title:e.translations.Advanced,type:"button"},on:{click:e.displayAdvanced}},[a("em",{staticClass:"fas fa-plus"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.displayAdvancedParameters,expression:"displayAdvancedParameters"}],staticClass:"buttonAddDoc",attrs:{title:e.translations.Advanced,type:"button"},on:{click:e.displayAdvanced}},[a("em",{staticClass:"fas fa-minus"})])]),e.displayAdvancedParameters?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.receiverName))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.emailAddress))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.emailfrom,expression:"form.emailfrom"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.form.emailfrom},on:{input:function(t){t.target.composing||e.$set(e.form,"emailfrom",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.emailCategory))]),a("autocomplete",{attrs:{items:this.categories,year:this.form.category},on:{searched:e.onSearchCategory}})],1),a("div",{staticClass:"form-group",attrs:{id:"receivers_cc"}},[a("label",[e._v(e._s(e.translations.ReceiversCC))]),a("multiselect",{attrs:{label:"email","track-by":"email",options:e.receivers_cc,multiple:!0,searchable:!0,taggable:!0,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translations.ReceiversCCPlaceHolder,"close-on-select":!1,"clear-on-select":!1},on:{tag:e.addNewCC},model:{value:e.selectedReceiversCC,callback:function(t){e.selectedReceiversCC=t},expression:"selectedReceiversCC"}})],1),a("div",{staticClass:"form-group",attrs:{id:"receivers_bcc"}},[a("label",[e._v(e._s(e.translations.ReceiversBCC))]),a("multiselect",{attrs:{label:"email","track-by":"email",options:e.receivers_bcc,multiple:!0,searchable:!0,taggable:!0,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translations.ReceiversBCCPlaceHolder,"close-on-select":!1,"clear-on-select":!1},on:{tag:e.addNewBCC},model:{value:e.selectedReceiversBCC,callback:function(t){e.selectedReceiversBCC=t},expression:"selectedReceiversBCC"}})],1),e.attached_letters?a("div",{staticClass:"form-group",attrs:{id:"attached_letters"}},[a("label",[e._v(e._s(e.translations.Letters))]),a("multiselect",{attrs:{label:"value","track-by":"id",options:e.attached_letters,multiple:!0,taggable:!0,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translations.LettersPlaceHolder,"close-on-select":!1,"clear-on-select":!1},model:{value:e.selectedLetterAttachments,callback:function(t){e.selectedLetterAttachments=t},expression:"selectedLetterAttachments"}})],1):e._e(),e.tags?a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.Tags))]),a("multiselect",{attrs:{label:"label","track-by":"id",options:e.action_tags,multiple:!0,taggable:!0,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translations.TagsPlaceHolder,"close-on-select":!1,"clear-on-select":!1},model:{value:e.selectedTags,callback:function(t){e.selectedTags=t},expression:"selectedTags"}})],1):e._e(),a("div",{staticClass:"form-group",attrs:{id:""}},[a("label",[e._v(e._s(e.translations.CandidateAttachments))]),a("multiselect",{attrs:{label:"value","track-by":"id",options:e.candidate_attachments,multiple:!0,taggable:!0,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translations.CandidateAttachmentsPlaceholder,"close-on-select":!1,"clear-on-select":!1},model:{value:e.selectedCandidateAttachments,callback:function(t){e.selectedCandidateAttachments=t},expression:"selectedCandidateAttachments"}})],1)]):e._e()]),a("div",{staticClass:"divider"}),""==e.email?a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.translations.Trigger))])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.Program))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.trigger.program,expression:"trigger.program"}],staticClass:"dropdown-toggle w-select",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.trigger,"program",t.target.multiple?a:a[0])},e.addTrigger]}},[a("option",{domProps:{value:null}}),e._l(e.programs,(function(t){return a("option",{key:"program-"+t.id,domProps:{value:t.id}},[e._v(e._s(t.label))])}))],2)]),e.triggered?a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.Actions)),a("span",{staticStyle:{color:"#E5283B"}},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.trigger.action_status,expression:"trigger.action_status"}],staticClass:"dropdown-toggle w-select",class:{"is-invalid":e.errors.trigger.action_status},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.trigger,"action_status",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"to_current_user"}},[e._v(e._s(e.translations.TheCandidate))]),a("option",{attrs:{value:"to_applicant"}},[e._v(e._s(e.translations.Manual))])]),e.errors.trigger.action_status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.StatusRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.Status)),a("span",{staticStyle:{color:"#E5283B"}},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.trigger.status,expression:"trigger.status"}],staticClass:"dropdown-toggle w-select",class:{"is-invalid":e.errors.trigger.status},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.trigger,"status",t.target.multiple?a:a[0])}}},e._l(e.status,(function(t){return a("option",{key:"status-"+t.step,domProps:{value:t.step}},[e._v(e._s(t.value))])})),0),e.errors.trigger.status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.StatusRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.Target)),a("span",{staticStyle:{color:"#E5283B"}},[e._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.trigger.target,expression:"trigger.target"}],staticClass:"dropdown-toggle w-select",class:{"is-invalid":e.errors.trigger.target},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.trigger,"target",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5"}},[e._v(e._s(e.translations.Administrators))]),a("option",{attrs:{value:"6"}},[e._v(e._s(e.translations.Evaluators))]),a("option",{attrs:{value:"1000"}},[e._v(e._s(e.translations.Candidates))])]),e.errors.trigger.target?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.TargetRequired))])]):e._e()]),0==e.trigger.target?a("div",{staticClass:"form-group",staticStyle:{"align-items":"baseline"}},[a("label",[e._v(e._s(e.translations.ChooseUsers)),a("span",{staticStyle:{color:"#E5283B"}},[e._v("*")]),e._v(" :")]),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:e.Search},domProps:{value:e.searchTerm},on:{keyup:e.searchUserByTerm,input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:e.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),a("div",{staticClass:"select-all"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectall,expression:"selectall"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectall)?e._i(e.selectall,null)>-1:e.selectall},on:{click:e.selectAllUsers,change:function(t){var a=e.selectall,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.selectall=a.concat([o])):n>-1&&(e.selectall=a.slice(0,n).concat(a.slice(n+1)))}else e.selectall=i}}}),a("label",[e._v(" "+e._s(e.translations.SelectAll)+" ")])]),a("div",{staticClass:"users-block",class:{"is-invalid":e.errors.trigger.selectedUsers}},e._l(e.users,(function(t){return a("div",{key:"user-"+t.id,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers[t.id],expression:"selectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectedUsers[t.id])?e._i(e.selectedUsers[t.id],null)>-1:e.selectedUsers[t.id]},on:{change:function(a){var s=e.selectedUsers[t.id],i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(e.selectedUsers,t.id,s.concat([n])):r>-1&&e.$set(e.selectedUsers,t.id,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.selectedUsers,t.id,o)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.email))])])])})),0),e.errors.trigger.selectedUsers?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.UsersRequired))])]):e._e()]):e._e()]):e._e()]):e._e(),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation d-flex justify-content-between"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button",onclick:"history.back()"}},[e._v(" "+e._s(e.translations.retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green",attrs:{type:"submit"}},[e._v(" "+e._s(e.translations.continuer)+" ")])])])])])])],1)},zt=[],qt=a("e191"),Vt=a.n(qt);const Jt={lang:"",datas:[],actualLanguage:"",manyLanguages:"",coordinatorAccess:""},Yt={datas:e=>e.datas,actualLanguage:e=>e.actualLanguage,manyLanguages:e=>e.manyLanguages,coordinatorAccess:e=>e.coordinatorAccess},Wt={setLang({commit:e},t){e("setLang",t)}},Qt={setLang(e,t){e.lang=t},initDatas(e,t){return e.datas=t,e.datas},initCurrentLanguage(e,t){return e.actualLanguage=t,e.actualLanguage},initManyLanguages(e,t){return e.manyLanguages=t,e.manyLanguages},initCoordinatorAccess(e,t){return e.coordinatorAccess=t,e.coordinatorAccess}};var Xt={namespaced:!0,state:Jt,getters:Yt,actions:Wt,mutations:Qt};const Kt=a("bef5");var Zt={name:"addEmail",components:{Editor:Dt,Autocomplete:xt,Multiselect:Vt.a},data:()=>({email:0,actualLanguage:"",langue:0,dynamicComponent:!1,displayAdvancedParameters:!1,translations:{AddEmail:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_EMAIL"),Advanced:(void 0).translate("COM_EMUNDUS_ONBOARD_ADVANCED_CUSTOMING"),Informations:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_INFORMATION"),Trigger:(void 0).translate("COM_EMUNDUS_ONBOARD_EMAIL_TRIGGER"),emailType:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDEMAIL_CHOOSETYPE"),emailCategory:(void 0).translate("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),retour:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),continuer:(void 0).translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),emailName:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDEMAIL_NAME"),emailBody:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDEMAIL_BODY"),receiverName:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDEMAIL_RECEIVER"),emailAddress:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDEMAIL_ADDRESS"),EmailResume:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDEMAIL_RESUME"),RequiredFieldsIndicate:(void 0).translate("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),EmailType:(void 0).translate("COM_EMUNDUS_ONBOARD_EMAILTYPE"),SubjectRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_SUBJECT_REQUIRED"),BodyRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_BODY_REQUIRED"),Program:(void 0).translate("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),Model:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERMODEL"),ModelRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERMODEL_REQUIRED"),Status:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),StatusRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),Target:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),TargetRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGERTARGET_REQUIRED"),Administrators:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),Candidates:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_CANDIDATES"),DefinedUsers:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_DEFINED_USERS"),ChooseUsers:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGER_CHOOSE_USERS"),UsersRequired:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGER_USERS_REQUIRED"),Search:(void 0).translate("COM_EMUNDUS_ONBOARD_SEARCH_USERS"),TheCandidate:(void 0).translate("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:(void 0).translate("COM_EMUNDUS_ONBOARD_MANUAL"),Actions:(void 0).translate("COM_EMUNDUS_ONBOARD_TRIGGER_ACTIONS"),Tags:(void 0).translate("COM_EMUNDUS_ONBOARD_EMAIL_TAGS"),DocumentType:(void 0).translate("COM_EMUNDUS_ONBOARD_EMAIL_DOCUMENT"),Letters:(void 0).translate("COM_EMUNDUS_ONBOARD_EMAIL_DOCUMENT"),LettersPlaceHolder:(void 0).translate("COM_EMUNDUS_ONBOARD_PLACEHOLDER_EMAIL_DOCUMENT"),ReceiversCC:(void 0).translate("COM_EMUNDUS_ONBOARD_RECEIVER_CC_TAGS"),ReceiversCCPlaceHolder:(void 0).translate("COM_EMUNDUS_ONBOARD_RECEIVER_CC_TAGS_PLACEHOLDER"),ReceiversBCC:(void 0).translate("COM_EMUNDUS_ONBOARD_RECEIVER_BCC_TAGS"),ReceiversBCCPlaceHolder:(void 0).translate("COM_EMUNDUS_ONBOARD_RECEIVER_BCC_TAGS_PLACEHOLDER"),CopiesTooltips:(void 0).translate("COM_EMUNDUS_ONBOARD_CC_BCC_TOOLTIPS"),TagsPlaceHolder:(void 0).translate("COM_EMUNDUS_ONBOARD_PLACEHOLDER_EMAIL_TAGS"),CandidateAttachments:(void 0).translate("COM_EMUNDUS_ONBOARD_CANDIDAT_ATTACHMENTS"),CandidateAttachmentsPlaceholder:(void 0).translate("COM_EMUNDUS_ONBOARD_PLACEHOLDER_CANDIDAT_ATTACHMENTS")},categories:[],programs:[],status:[],users:[],selectedUsers:[],enableTip:!1,searchTerm:"",selectall:!1,tags:[],documents:[],selectedTags:[],selectedCandidateAttachments:[],form:{lbl:"",subject:"",name:"",emailfrom:"",message:"",type:2,category:"",published:1},trigger:{model:null,status:null,action_status:null,target:null,program:null},triggered:!1,errors:{subject:!1,message:!1,trigger:{model:!1,status:!1,target:!1,selectedUsers:!1,action_status:!1}},submitted:!1,selectedReceiversCC:[],selectedReceiversBCC:[],selectedLetterAttachments:[],receivers_cc:[],receivers_bcc:[],attached_letters:[],action_tags:[],candidate_attachments:[]}),created(){this.$parent.loading=!0,this.getAllAttachments(),this.getAllTags(),this.getAllDocumentLetter(),this.actualLanguage=this.$store.getters["global/actualLanguage"],_.a.get("index.php?option=com_emundus&controller=email&task=getemailcategories").then(e=>{this.categories=e.data.data,this.email=this.$store.getters["global/datas"].email.value,"undefined"!==typeof this.email&&0!==this.email&&""!==this.email?this.getEmailById(this.email):(this.dynamicComponent=!0,this.$parent.loading=!1)}).catch(e=>{console.log(e)}),setTimeout(()=>{this.enableVariablesTip()},2e3),this.getProgramsList(),this.getStatus(),this.getUsers()},mounted(){"en"===this.actualLanguage&&(this.langue=1)},methods:{getEmailById(){_.a.get("index.php?option=com_emundus&controller=email&task=getemailbyid&id="+this.email).then(e=>{!1!==e.data.data&&0!=e.data.status?(this.form=e.data.data.email,this.dynamicComponent=!0,this.selectedLetterAttachments=e.data.data.letter_attachment?e.data.data.letter_attachment:[],this.selectedCandidateAttachments=e.data.data.candidate_attachment?e.data.data.candidate_attachment:[],this.selectedTags=e.data.data.tags?e.data.data.tags:[],null!==e.data.data.receivers&&void 0!==e.data.data.receivers&&""!==e.data.data.receivers&&this.setEmailReceivers(e.data.data.receivers),this.$parent.loading=!1):this.runError(void 0,e.data.msg)}).catch(e=>{console.log(e),this.runError(void 0,e.data.msg)})},setEmailReceivers(e){let t=[],a=[];for(let o=0;o<e.length;o++)t[o]={},a[o]={},"receiver_cc_email"===e[o].type||"receiver_cc_fabrik"===e[o].type?(t[o]["id"]=e[o].id,t[o]["email"]=e[o].receivers):"receiver_bcc_email"!==e[o].type&&"receiver_bcc_fabrik"!==e[o].type||(a[o]["id"]=e[o].id,a[o]["email"]=e[o].receivers);const s=t.filter(e=>null!==e["id"]&&void 0!==e["id"]),i=a.filter(e=>null!==e["id"]&&void 0!==e["id"]);this.selectedReceiversCC=s,this.selectedReceiversBCC=i},displayAdvanced(){this.displayAdvancedParameters=!this.displayAdvancedParameters},addNewCC(e){const t={email:e,id:e.substring(0,2)+Math.floor(1e7*Math.random())};this.receivers_cc.push(t),this.selectedReceiversCC.push(t)},addNewBCC(e){const t={email:e,id:e.substring(0,2)+Math.floor(1e7*Math.random())};this.receivers_bcc.push(t),this.selectedReceiversBCC.push(t)},getAllUsers:function(){_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=getallusers",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.receivers_cc=e.data.users,this.receivers_bcc=e.data.users}).catch(e=>{console.log(e)})},getProgramsList(){_()({method:"get",url:"index.php?option=com_emundus&controller=program&task=getallprogram",params:{filter:"",sort:"",recherche:"",lim:100,page:1},paramsSerializer:e=>Kt.stringify(e)}).then(e=>{this.programs=e.data.data})},getStatus(){_.a.get("index.php?option=com_emundus&controller=email&task=getstatus").then(e=>{this.status=e.data.data})},getUsers(){_.a.get("index.php?option=com_emundus&controller=program&task=getuserswithoutapplicants").then(e=>{this.users=e.data.data})},searchUserByTerm(){_.a.get("index.php?option=com_emundus&controller=program&task=searchuserbytermwithoutapplicants&term="+this.searchTerm).then(e=>{this.users=e.data.data})},addTrigger(){null!=this.trigger.program?this.triggered=!0:this.triggered=!1},selectAllUsers(){this.users.forEach(e=>{this.selectall?this.selectedUsers[e.id]=!1:this.selectedUsers[e.id]=!0}),this.$forceUpdate()},submit(){if(this.errors={subject:!1,message:!1,trigger:{model:!1,status:!1,target:!1,selectedUsers:!1}},""==this.form.subject)return this.errors.subject=!0,0;if(""==this.form.message)return this.errors.message=!0,0;if(null!=this.trigger.program){if(null==this.trigger.action_status)return this.errors.trigger.action_status=!0,0;if(null==this.trigger.status)return this.errors.trigger.status=!0,0;if(null==this.trigger.target)return this.errors.trigger.target=!0,0;if(0==this.trigger.target&&0===this.selectedUsers.length)return this.errors.trigger.selectedUsers=!0,0}this.submitted=!0,""!==this.email?_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=updateemail",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Kt.stringify({body:this.form,code:this.email,selectedReceiversCC:this.selectedReceiversCC,selectedReceiversBCC:this.selectedReceiversBCC,selectedLetterAttachments:this.selectedLetterAttachments,selectedCandidateAttachments:this.selectedCandidateAttachments,selectedTags:this.selectedTags})}).then(()=>{this.redirectJRoute("index.php?option=com_emundus_onboard&view=email")}).catch(e=>{console.log(e)}):_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=createemail",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Kt.stringify({body:this.form,selectedReceiversCC:this.selectedReceiversCC,selectedReceiversBCC:this.selectedReceiversBCC,selectedLetterAttachments:this.selectedLetterAttachments,selectedCandidateAttachments:this.selectedCandidateAttachments,selectedTags:this.selectedTags})}).then(e=>{this.trigger.model=e.data.data,_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=createtrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Kt.stringify({trigger:this.trigger,users:this.selectedUsers})}).then(()=>{this.redirectJRoute("index.php?option=com_emundus_onboard&view=email")})}).catch(e=>{console.log(e)})},onSearchCategory(e){this.form.category=e},enableVariablesTip(){this.enableTip||(this.enableTip=!0,this.tip())},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>Kt.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},tip:function(){this.show("foo-velocity",this.translate("COM_EMUNDUS_ONBOARD_VARIABLESTIP")+' <strong style="font-size: 16px">/</strong>',this.translate("COM_EMUNDUS_ONBOARD_TIP"))},show(e,t="",a="Information"){this.$notify({group:e,title:""+a,text:t,duration:1e4})},clean(e){this.$notify({group:e,clean:!0})},getAllTags:function(){_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=gettags",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.action_tags=e.data.data}).catch(e=>{console.log(e)})},getAllDocumentLetter:function(){_()({method:"post",url:"index.php?option=com_emundus&controller=messages&task=getalldocumentsletters",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.attached_letters=e.data.documents}).catch(e=>{console.log(e)})},getAllAttachments:function(){_()({method:"get",url:"index.php?option=com_emundus&controller=messages&task=getallattachments",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.candidate_attachments=e.data.attachments}).catch(e=>{console.log(e)})}}},ea=Zt,ta=Object(b["a"])(ea,Ht,zt,!1,null,null,null),aa=ta.exports,sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ModalWarningFormBuilder",{attrs:{pid:e.getProfileId,cid:e.campaignId}}),a("div",{staticClass:"w-row"},[a("div",{staticClass:"col-md-12 col-sm-10 p-1",staticStyle:{"padding-left":"2em !important"}},[a("div",{staticClass:"section-sub-menu"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/megaphone.svg",srcset:"/images/emundus/menus/megaphone.svg",alt:"megaphone"}}),-1!=e.menuHighlight?a("h2",{staticClass:"tchooz-section-titles"},[e._v(e._s(e.formCategories[e.langue][e.menuHighlight]))]):e._e(),-1!=e.menuHighlightProg?a("h2",{staticClass:"tchooz-section-titles"},[e._v(e._s(e.formPrograms[e.langue][e.menuHighlightProg]))]):e._e()]),-1!=e.menuHighlight?a("p",{staticClass:"tchooz-section-description",staticStyle:{"margin-top":"20px"},domProps:{innerHTML:e._s(e.formCategoriesDesc[e.langue][e.menuHighlight])}}):e._e(),-1!=e.menuHighlightProg?a("p",{staticClass:"tchooz-section-description",staticStyle:{"margin-top":"20px"},domProps:{innerHTML:e._s(e.formProgramsDesc[e.langue][e.menuHighlightProg])}}):e._e(),a("hr"),a("div",{staticClass:"d-flex"},[a("p",[a("b",{staticStyle:{color:"#16afe1","font-weight":"700 !important"}},[e._v(" "+e._s(e.form.label))]),e._v(" "+e._s(e.translations.From)+" "),a("strong",[e._v(e._s(e.form.start_date))]),e._v(" "+e._s(e.translations.To)+" "),a("strong",[e._v(e._s(e.form.end_date))])])]),null==e.profileId&&0==e.loading?a("div",{staticClass:"d-flex required",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[e._v(e._s(e.translations.chooseProfileWarning))])]):e._e()])]),a("div",{staticClass:"d-flex"},[a("ul",{staticClass:"nav nav-tabs topnav"},[e._l(e.formCategories[e.langue],(function(t,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.closeSubmenu,expression:"closeSubmenu"}],key:"category-"+s},[a("a",{staticClass:"menu-item",class:[e.menuHighlight==s?"w--current":"",null==e.profileId?"grey-link":""],on:{click:function(t){null!=e.profileId&&e.changeToCampMenu(s)}}},[e._v(" "+e._s(t)+" ")])])})),e._l(e.formPrograms[e.langue],(function(t,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.closeSubmenu,expression:"closeSubmenu"}],key:"program-"+s},[a("a",{staticClass:"menu-item",class:[e.menuHighlightProg==s?"w--current":"",null==e.profileId?"grey-link":""],on:{click:function(t){null!=e.profileId&&e.changeToProgMenu(s)}}},[e._v(" "+e._s(t)+" ")])])}))],2)]),a("br"),-1!=e.menuHighlightProg?a("div",{staticClass:"warning-message-program mb-1"},[a("p",{staticStyle:{color:"#e5283b"}},[a("em",{staticClass:"fas fa-exclamation-triangle mr-1 red"}),e._v(e._s(e.translations.ProgramWarning))]),e.campaignsByProgram.length>0?a("ul",e._l(e.campaignsByProgram,(function(t,s){return a("li",{key:"camp_progs_"+s},[e._v(e._s(t.label))])})),0):e._e()]):e._e(),a("transition",{attrs:{name:"slide-right"}},[0==e.menuHighlight&&""!==e.campaignId?a("add-campaign",{attrs:{campaign:e.campaignId,coordinatorAccess:!0,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages},on:{nextSection:function(t){e.menuHighlight++},getInformations:e.initInformations}}):e._e(),2==e.menuHighlight?a("addFormulaire",{key:e.formReload,attrs:{profileId:e.profileId,campaignId:e.campaignId,profiles:e.profiles,visibility:null},on:{profileId:e.setProfileId}}):e._e(),1==e.menuHighlight?a("add-documents-dropfiles",{attrs:{funnelCategorie:e.formCategories[e.langue][e.menuHighlight],profileId:e.getProfileId,campaignId:e.campaignId,menuHighlight:e.menuHighlight,langue:e.actualLanguage,manyLanguages:e.manyLanguages}}):e._e(),0==e.menuHighlightProg&&0!=e.program.id?a("add-evaluation-grid",{attrs:{funnelCategorie:e.formPrograms[e.langue][e.menuHighlight],prog:Number(e.program.id)}}):e._e(),1==e.menuHighlightProg&&0!=e.program.id?a("add-email",{attrs:{prog:Number(e.program.id)}}):e._e()],1)],1)]),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()],1)},ia=[],oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalWarningFormBuilder"}},[a("modal",{attrs:{name:"modalWarningFormBuilder",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalWarningFormBuilder")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.Warning)+" ")]),a("p",[e._v(" "+e._s(e.FormAffectedToFiles)+" ")])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalWarningFormBuilder")}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer mr-1",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.formbuilder()}}},[e._v(" "+e._s(e.Update)+" ")])])])])])],1)},na=[];a("bef5");var ra={name:"modalWarningFormBuilder",props:{pid:Number,cid:Number},data(){return{Warning:this.translate("COM_EMUNDUS_ONBOARD_WARNING"),FormAffectedToFiles:this.translate("COM_EMUNDUS_ONBOARD_FORM_AFFECTEDFILES"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Duplicate:this.translate("COM_EMUNDUS_ONBOARD_DUPLICATE"),Update:this.translate("COM_EMUNDUS_ONBOARD_MODIFY")}},methods:{beforeClose(e){},beforeOpen(e){},formbuilder(){window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.pid+"&index=0&cid="+this.cid)}}},la=ra,da=(a("00ef"),Object(b["a"])(la,oa,na,!1,null,"393d31a4",null)),ca=da.exports,ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{staticClass:"w-form"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:e.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":e.afterAdded,"vdropzone-removed-file":e.afterRemoved,"vdropzone-success":e.onComplete,"vdropzone-error":e.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-upload"}),e._v(" "+e._s(e.DropHere)+" ")])]),a("hr"),a("ul",{staticClass:"w-100",staticStyle:{"padding-left":"0",margin:"0"}},[a("draggable",e._b({staticClass:"list-group",staticStyle:{margin:"0"},attrs:{tag:"ul",handle:".handle"},on:{end:e.updateDocumentsOrder},model:{value:e.documents,callback:function(t){e.documents=t},expression:"documents"}},"draggable",e.dragOptions,!1),[a("transition-group",{attrs:{type:"transition",value:e.drag?null:"flip-list"}},e._l(e.documents,(function(t){return a("li",{key:t.id,staticClass:"list-group-item",attrs:{id:"itemDoc"+t.id}},[a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"d-flex w-100"},[a("em",{staticClass:"fas fa-grip-vertical handle",staticStyle:{color:"#cecece"}}),a("span",{staticClass:"draggable em-overflow-ellipsis em-max-width-250 em-mr-4"},[e._v(" "+e._s(t.title)+" ")]),a("span",{staticClass:"document-allowed_types"},[e._v("("+e._s(t.ext)+")")]),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return e.editName(t)}}},[a("em",{staticClass:"fas fa-pen em-font-size-16"})])]),a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button"},on:{click:function(a){return e.deleteDoc(e.indexDoc,t.id)}}},[a("em",{staticClass:"fas fa-times"})])])])})),0)],1)],1)],1)])],1)},ua=[],_a=a("d9b7"),pa=a.n(_a),ha=a("ca98"),ga=a.n(ha);const fa=a("bef5"),ba=()=>'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n';var va={name:"addDocumentsDropfiles",components:{vueDropzone:pa.a,draggable:ga.a},props:{funnelCategorie:String,profileId:Number,campaignId:Number,langue:String,menuHighlight:Number,manyLanguages:Number},data(){return{dropzoneOptions:{url:"index.php?option=com_emundus&controller=settings&task=uploaddropfiledoc&cid="+this.campaignId,maxFilesize:10,maxFiles:1,autoProcessQueue:!0,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,acceptedFiles:"image/*,application/pdf,.doc,.csv,.xls,.xlsx,.docx,.odf",previewTemplate:ba(),dictCancelUpload:this.translate("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:this.translate("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:this.translate("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:this.translate("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:this.translate("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:this.translate("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},documents:[],Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:this.translate("COM_EMUNDUS_ONBOARD_DROP_FILE_HERE"),Error:this.translate("COM_EMUNDUS_ONBOARD_ERROR"),DocumentName:this.translate("COM_EMUNDUS_ONBOARD_DOCUMENT_NAME"),drag:!1}},methods:{getDocumentsDropfiles(){_()({method:"get",url:"index.php?option=com_emundus&controller=campaign&task=getdocumentsdropfiles",params:{cid:this.campaignId},paramsSerializer:e=>fa.stringify(e)}).then(e=>{this.documents=e.data.documents})},updateDocumentsOrder(){this.documents.forEach((e,t)=>{e.ordering=t}),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updateorderdropfiledocuments",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:fa.stringify({documents:this.documents})})},editName(e){j.a.fire({title:"",html:'<div class="form-group campaign-label"><label for="campLabel">'+this.DocumentName+'</label><input type="text" id="label_'+e.id+'" value="'+e.title+'"/></div>',confirmButtonColor:"#de6339",showCloseButton:!0,allowOutsideClick:!1,customClass:{popup:"swal-popup-custom"}}).then(t=>{if(t){let t=document.getElementById("label_"+e.id).value;_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=editdocumentdropfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:fa.stringify({did:e.id,name:t})}).then(()=>{e.title=t})}})},deleteDoc(e,t){this.documents.splice(e,1),_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=deletedocumentdropfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:fa.stringify({did:t})})},afterAdded(){document.getElementById("dropzone-message").style.display="none"},afterRemoved(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(e){this.documents.push(JSON.parse(e.xhr.response)),this.$refs.dropzone.removeFile(e)},catchError:function(e,t){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_ERROR"),text:t,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(e)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},created(){this.getDocumentsDropfiles()}},ya=va,wa=(a("92ab"),Object(b["a"])(ya,ma,ua,!1,null,"0f093a1e",null)),Oa=wa.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("ModalAddTrigger",{key:e.candidate_trigger,attrs:{prog:this.prog,trigger:this.triggerSelected,triggerAction:"candidate"},on:{UpdateTriggers:e.getTriggers}}),a("ModalAddTrigger",{key:e.manual_trigger,attrs:{prog:this.prog,trigger:this.triggerSelected,triggerAction:"manual"},on:{UpdateTriggers:e.getTriggers}}),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.CandidateAction))]),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",staticStyle:{width:"max-content"},on:{click:function(t){e.$modal.show("modalAddTriggercandidate"),e.triggerSelected=null}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),e._v(" "+e._s(e.addTrigger)+" ")])])]),a("p",[e._v(e._s(e.TheCandidateDescription))]),a("transition-group",{attrs:{name:"slide-down",type:"transition"}},e._l(e.candidateTriggers,(function(t){return a("div",{key:t.trigger_id,staticClass:"trigger-item"},[a("div",{staticStyle:{"max-width":"80%"}},[a("p",[e._v(e._s(t.subject))]),a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.Target)+" : ")]),e._l(e.triggerUsersWithProfile(t),(function(s,i){return a("span",{key:"user_"+i},[e._v(" "+e._s(s.firstname)+" "+e._s(s.lastname)+" "),i!=Object.keys(t.users).length-1?a("span",[e._v(", ")]):e._e()])})),0==t.users.length&&5!=t.profile&&6!=t.profile?a("span",[e._v(e._s(e.TheCandidate))]):e._e(),5==t.profile?a("span",[e._v(e._s(e.Administrators))]):e._e(),6==t.profile?a("span",[e._v(e._s(e.Evaluators))]):e._e()],2),a("p",[e._v(e._s(e.Status)+" "+e._s(t.status))])]),a("div",{staticStyle:{display:"grid"}},[a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button",title:e.removeTrig},on:{click:function(a){return e.removeTrigger(t.trigger_id)}}},[a("em",{staticClass:"fas fa-times"})]),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return e.editTrigger(t)}}},[a("em",{staticClass:"fas fa-pen"})])])])})),0),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.ManagerAction))]),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",staticStyle:{width:"max-content"},on:{click:function(t){e.$modal.show("modalAddTriggermanual"),e.triggerSelected=null}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),e._v(" "+e._s(e.addTrigger)+" ")])])]),a("p",[e._v(e._s(e.ManualDescription))]),a("transition-group",{attrs:{name:"slide-down",type:"transition"}},e._l(e.manualTriggers,(function(t){return a("div",{key:t.trigger_id,staticClass:"trigger-item"},[a("div",{staticStyle:{"max-width":"80%"}},[a("p",[e._v(e._s(t.subject))]),a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.Target)+" : ")]),e._l(e.triggerUsersNoProfile(t),(function(s,i){return a("span",{key:"user_manual_"+i},[e._v(" "+e._s(s.firstname)+" "+e._s(s.lastname)+" "),i!=Object.keys(t.users).length-1?a("span",[e._v(", ")]):e._e()])})),0==t.users.length&&5!=t.profile&&6!=t.profile?a("span",[e._v(e._s(e.TheCandidate))]):e._e(),5==t.profile?a("span",[e._v(e._s(e.Administrators))]):e._e(),6==t.profile?a("span",[e._v(e._s(e.Evaluators))]):e._e()],2),a("p",[e._v(e._s(e.Status)+" "+e._s(t.status))])]),a("div",{staticStyle:{display:"grid"}},[a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button"},on:{click:function(a){return e.removeTrigger(t.trigger_id)}}},[a("em",{staticClass:"fas fa-times"})]),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return e.editTrigger(t)}}},[a("em",{staticClass:"fas fa-pen"})])])])})),0)],1)},Ea=[],Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddTrigger"+e.triggerAction}},[a("modal",{attrs:{name:"modalAddTrigger"+e.triggerAction,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("ModalEmailPreview",{attrs:{model:this.form.model,models:this.models}}),a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddTrigger"+e.triggerAction)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addTrigger)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Model)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.model,expression:"form.model"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.model},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"model",t.target.multiple?a:a[0])}}},e._l(e.models,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.subject))])})),0),-1!=e.form.model?a("button",{staticClass:"btnPreview mb-0",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.show("modalEmailPreview_"+e.form.model)}}},[a("em",{staticClass:"fas fa-eye"})]):e._e()]),e.errors.model?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.ModelRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Status)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.status},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"status",t.target.multiple?a:a[0])}}},e._l(e.status,(function(t,s){return a("option",{key:s,domProps:{value:t.step}},[e._v(e._s(t.value))])})),0),e.errors.status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.StatusRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Target)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.target,expression:"form.target"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.target},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"target",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5"}},[e._v(e._s(e.Administrators))]),a("option",{attrs:{value:"6"}},[e._v(e._s(e.Evaluators))]),a("option",{attrs:{value:"1000"}},[e._v(e._s(e.Candidates))])]),e.errors.target?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.TargetRequired))])]):e._e()]),0==e.form.target?a("div",{staticClass:"form-group",staticStyle:{"align-items":"baseline"}},[a("label",[e._v(e._s(e.ChooseUsers)+"* :")]),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:e.Search},domProps:{value:e.searchTerm},on:{keyup:e.searchUserByTerm,input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:e.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),a("div",{staticClass:"select-all"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectall,expression:"selectall"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectall)?e._i(e.selectall,null)>-1:e.selectall},on:{click:e.selectAllUsers,change:function(t){var a=e.selectall,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.selectall=a.concat([o])):n>-1&&(e.selectall=a.slice(0,n).concat(a.slice(n+1)))}else e.selectall=i}}}),a("label",{staticClass:"mb-0 ml-10px"},[e._v(" "+e._s(e.SelectAll)+" ")])]),a("div",{staticClass:"users-block",class:{"is-invalid":e.errors.selectedUsers}},e._l(e.users,(function(t,s){return a("div",{key:s,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers[t.id],expression:"selectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectedUsers[t.id])?e._i(e.selectedUsers[t.id],null)>-1:e.selectedUsers[t.id]},on:{change:function(a){var s=e.selectedUsers[t.id],i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(e.selectedUsers,t.id,s.concat([n])):r>-1&&e.$set(e.selectedUsers,t.id,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.selectedUsers,t.id,o)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.email))])])])})),0),e.errors.selectedUsers?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.UsersRequired))])]):e._e()]):e._e()]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddTrigger"+e.triggerAction)}}},[e._v(e._s(e.Retour))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createTrigger()}}},[e._v(e._s(e.Continuer))])])],1)],1)},Na=[];const Aa=a("bef5");var Ma={name:"modalAddTrigger",components:{ModalEmailPreview:st},props:{prog:Number,trigger:Number,triggerAction:String},data(){return{errors:{model:!1,status:!1,action_status:!1,target:!1,selectedUsers:!1},form:{model:-1,status:null,action_status:null,target:null,program:this.prog},users:[],selectedUsers:[],models:[],status:[],searchTerm:"",changes:!1,selectall:!1,addTrigger:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_ADDTRIGGER"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Model:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERMODEL"),ModelRequired:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERMODEL_REQUIRED"),Status:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),StatusRequired:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),Target:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),TargetRequired:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERTARGET_REQUIRED"),Administrators:this.translate("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:this.translate("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),Candidates:this.translate("COM_EMUNDUS_ONBOARD_PROGRAM_CANDIDATES"),DefinedUsers:this.translate("COM_EMUNDUS_ONBOARD_PROGRAM_DEFINED_USERS"),ChooseUsers:this.translate("COM_EMUNDUS_ONBOARD_TRIGGER_CHOOSE_USERS"),UsersRequired:this.translate("COM_EMUNDUS_ONBOARD_TRIGGER_USERS_REQUIRED"),Search:this.translate("COM_EMUNDUS_ONBOARD_SEARCH_USERS"),ChangedActionStatus:this.translate("COM_EMUNDUS_ONBOARD_CHANGED_ACTION_STATUS"),TheCandidate:this.translate("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:this.translate("COM_EMUNDUS_ONBOARD_MANUAL"),SelectAll:this.translate("COM_EMUNDUS_ONBOARD_SELECT_ALL")}},methods:{beforeClose(e){this.trigger=null,this.form={model:-1,status:null,action_status:null,target:null,program:this.prog}},beforeOpen(e){this.searchTerm="",this.getUsers(),this.getEmailModels(),this.getStatus(),setTimeout(()=>{null!=this.trigger&&this.getTrigger()},200),"candidate"===this.triggerAction?this.form.action_status="to_current_user":this.form.action_status="to_applicant"},createTrigger(){return this.errors={model:!1,status:!1,action_status:!1,target:!1,selectedUsers:!1},-1===this.form.model?(this.errors.model=!0,0):null==this.form.status?(this.errors.status=!0,0):null==this.form.action_status?(this.errors.action_status=!0,0):null==this.form.target?(this.errors.target=!0,0):0==this.form.target&&0===this.selectedUsers.length?(this.errors.selectedUsers=!0,0):void(null!=this.trigger?_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=updatetrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Aa.stringify({tid:this.trigger,trigger:this.form,users:this.selectedUsers})}).then(e=>{this.selectedUsers=[],this.$emit("UpdateTriggers"),this.$modal.hide("modalAddTrigger"+this.triggerAction)}):_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=createtrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Aa.stringify({trigger:this.form,users:this.selectedUsers})}).then(e=>{this.selectedUsers=[],this.$emit("UpdateTriggers"),this.$modal.hide("modalAddTrigger"+this.triggerAction)}))},getUsers(){_.a.get("index.php?option=com_emundus&controller=program&task=getuserswithoutapplicants").then(e=>{this.users=e.data.data})},searchUserByTerm(){_.a.get("index.php?option=com_emundus&controller=program&task=searchuserbytermwithoutapplicants&term="+this.searchTerm).then(e=>{this.users=e.data.data})},getEmailModels(){_.a.get("index.php?option=com_emundus&controller=email&task=getallemail").then(e=>{this.models=e.data.data})},getStatus(){_.a.get("index.php?option=com_emundus&controller=email&task=getstatus").then(e=>{this.status=e.data.data})},getTrigger(){_.a.get("index.php?option=com_emundus&controller=email&task=gettriggerbyid&tid="+this.trigger).then(e=>{this.form.model=e.data.data.model,this.form.status=e.data.data.status,null==e.data.data.target?(this.form.target=0,e.data.data.users.forEach(e=>{this.selectedUsers[e.user_id]=!0})):5!=e.data.data.target&&6!=e.data.data.target?this.form.target=1e3:this.form.target=e.data.data.target})},selectAllUsers(){this.users.forEach(e=>{this.selectall?this.selectedUsers[e.id]=!1:this.selectedUsers[e.id]=!0}),this.$forceUpdate()}}},Ua=Ma,Sa=(a("be2a"),Object(b["a"])(Ua,Da,Na,!1,null,"6a1d63bf",null)),xa=Sa.exports;const Ta=a("bef5");var Ra={name:"addEmail",components:{ModalAddTrigger:xa},props:{funnelCategorie:String,prog:Number},data(){return{triggers:[],triggerSelected:null,manual_trigger:0,candidate_trigger:0,addTrigger:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_ADDTRIGGER"),removeTrig:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_REMOVETRIGGER"),affectTriggers:this.translate("COM_EMUNDUS_ONBOARD_EMAIL_AFFECTTRIGGERS"),ChooseEmailTrigger:this.translate("COM_EMUNDUS_ONBOARD_CHOOSE_EMAIL_TRIGGER"),Target:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),Status:this.translate("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),Administrators:this.translate("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:this.translate("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),TheCandidate:this.translate("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:this.translate("COM_EMUNDUS_ONBOARD_MANUAL"),TheCandidateDescription:this.translate("COM_EMUNDUS_ONBOARD_THE_CANDIDATE_DESCRIPTION"),ManualDescription:this.translate("COM_EMUNDUS_ONBOARD_MANUAL_DESCRIPTION"),CandidateAction:this.translate("COM_EMUNDUS_ONBOARD_CANDIDATE_ACTION"),ManagerAction:this.translate("COM_EMUNDUS_ONBOARD_MANAGER_ACTION")}},methods:{editTrigger(e){this.triggerSelected=e.trigger_id,this.manual_trigger+=1,this.candidate_trigger+=1,setTimeout(()=>{1==e.candidate?this.$modal.show("modalAddTriggercandidate"):this.$modal.show("modalAddTriggermanual")},500)},removeTrigger(e){_()({method:"post",url:"index.php?option=com_emundus&controller=email&task=removetrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ta.stringify({tid:e})}).then(()=>{this.getTriggers()})},getTriggers(){_.a.get("index.php?option=com_emundus&controller=email&task=gettriggersbyprogram&pid="+this.prog).then(e=>{this.triggers=e.data.data})},triggerUsersWithProfile(e){return null!==e.profile?e.users:[]},triggerUsersNoProfile(e){return null===e.profile&&e.users.length>0?e.users:[]}},computed:{candidateTriggers(){return this.triggers.filter(e=>1==e.candidate)},manualTriggers(){return this.triggers.filter(e=>1==e.manual)}},created(){this.getTriggers()}},ka=Ra,La=(a("cc79"),Object(b["a"])(ka,Ca,Ea,!1,null,"75b50ab9",null)),Ba=La.exports,Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation formulairedepresentation"},[a("p",{staticClass:"heading"},[e._v(e._s(e.ChooseForm))]),a("div",{staticClass:"heading-block",staticStyle:{"margin-left":"unset"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.$props.profileId,expression:"$props.profileId"}],staticClass:"dropdown-toggle",attrs:{id:"select_profile"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.$props,"profileId",t.target.multiple?a:a[0])},e.updateProfileCampaign]}},e._l(e.profiles,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(" "+e._s(t.form_label)+" ")])})),0),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",on:{click:e.addNewForm}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),e._v(" "+e._s(e.AddForm)+" ")])])]),e.formList?a("FormCarrousel",{key:e.formListReload,attrs:{formList:e.formList,documentsList:e.documentsList,visibility:e.visibility},on:{getEmitIndex:e.getEmitIndex,formbuilder:e.formbuilder}}):e._e()],1)},ja=[],Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"menu-block"},[a("div",{staticClass:"col-md-8 form-viewer-builder",staticStyle:{padding:"30px"}},[e.formLinkArray[e.indexHighlight]?a("FormViewer",{attrs:{link:e.formLinkArray[e.indexHighlight],visibility:this.visibility},on:{editPage:e.EditPage}}):e._e()],1),a("ul",{staticClass:"col-md-3 sticky-form-pages"},[a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{margin:"0",padding:"0 10px"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png",alt:e.Form}}),e._v(e._s(e.Form))]),e._l(e.formNameArray,(function(t,s){return a("li",{key:s,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem",class:e.indexHighlight==s?"MenuFormItem_current":"",domProps:{innerHTML:e._s(t.value)},on:{click:function(t){return e.ChangeIndex(s)}}},[e._v(e._s(t.value))])])}))],2),a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{margin:"0",padding:"0 10px"}},[a("em",{staticClass:"far fa-folder-open mr-1",attrs:{alt:e.Documents}}),e._v(e._s(e.Documents))]),e._l(e.documentsList,(function(t,s){return a("li",{key:s,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem"},[e._v(e._s(t.label))])])}))],2)])])])},Fa=[],$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FormViewer container-fluid",attrs:{id:"FormViewer"}},[e.object_json.show_page_heading?a("div",{class:e.object_json.show_page_heading.class,domProps:{innerHTML:e._s(e.object_json.show_page_heading.page_heading)}}):e._e(),a("div",{staticClass:"d-flex justify-content-between"},[e.object_json.show_title?a("h2",{staticClass:"page_header",domProps:{innerHTML:e._s(e.object_json.show_title.value)}}):e._e(),a("a",{staticClass:"cta-block pointer",on:{click:e.formbuilder}},[a("em",{staticClass:"fas fa-pen"})])]),e.object_json.intro_value?a("p",{staticClass:"introP",staticStyle:{"margin-top":"2em"},domProps:{innerHTML:e._s(e.object_json.intro_value)}}):e._e(),a("form",{staticClass:"form-page",attrs:{method:"post","object_json.attribs":""}},[e.object_json.plugintop?a("div",{domProps:{innerHTML:e._s(e.object_json.plugintop)}}):e._e(),e._l(e.object_json.Groups,(function(t){return a("div",{key:t.index,class:{unpublished:t.visibility&&null!=e.visibility},staticStyle:{padding:"5px"}},[a("fieldset",{class:t.group_class,style:t.group_css,attrs:{id:"group"+t.group_id}},[t.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[e._v(" "+e._s(t.group_showLegend)+" "),null!=e.visibility?a("button",{staticClass:"eye-button",attrs:{type:"button"},on:{click:function(a){return e.updateVisibility(t.group_id)}}},[a("em",{class:t.visibility?"eye-slash-icon":"eye-icon"})]):e._e()]):e._e(),t.group_intro?a("div",{staticClass:"groupintro",domProps:{innerHTML:e._s(t.group_intro)}}):e._e(),a("div",{staticClass:"elements-block"},e._l(t.elements,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.hidden,expression:"element.hidden === false"}],key:t.index,staticClass:"builder-item-element"},[t.label_value?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=t.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:e._s(t.label_value)}}):e._e(),t.params.date_table_format?a("div",[a("date-picker",{attrs:{config:e.options},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):0==t.labelsAbove?a("div",{staticClass:"controls"},[t.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]):a("span",[t.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]),t.tipBelow?a("span",{domProps:{innerHTML:e._s(t.tipBelow)}}):e._e()])})),0),t.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:e._s(e.group_outro)}}):e._e()])])})),e.object_json.pluginbottom?a("div",{domProps:{innerHTML:e._s(e.object_json.pluginbottom)}}):e._e()],2),e.submitted?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()])},Ga=[],Ha=a("daef"),za=a.n(Ha);const qa=a("bef5");var Va={name:"FormViewer",props:{link:{type:Object,default:{link:""}},visibility:Number},components:{datePicker:za.a},data(){return{object_json:"",date:new Date,submitted:!1,options:{format:"DD/MM/YYYY",useCurrent:!1}}},methods:{splitProfileIdfromLabel(e){return e.split(/-(.+)/)[1]},formbuilder(){this.$emit("editPage")},getDataObject:wt.a.debounce((function(){this.submitted=!0;let e=this.link.link.replace("fabrik","emundus_onboard");_.a.get(e+"&format=vue_jsonclean").then(e=>{this.object_json=e.data,null!=this.visibility&&_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=checkconstraintgroup",params:{cid:this.visibility},paramsSerializer:e=>qa.stringify(e)}).then(e=>{Object.keys(this.object_json.Groups).forEach(t=>{null!=e.data.data?_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=checkvisibility",params:{group:this.object_json.Groups[t]["group_id"],cid:this.visibility},paramsSerializer:e=>qa.stringify(e)}).then(e=>{parseInt(e.data.data)>0?this.object_json.Groups[t].visibility=!0:this.object_json.Groups[t].visibility=!1}):this.object_json.Groups[t].visibility=!0}),this.$forceUpdate()}),this.submitted=!1}).catch(e=>{console.log(e)})}),150),updateVisibility(e){this.object_json.Groups["group_"+e]["visibility"]=!this.object_json.Groups["group_"+e]["visibility"],_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=updatevisibility",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:qa.stringify({visibility:this.object_json.Groups["group_"+e]["visibility"],gid:e,cid:this.visibility})}).then(e=>{this.$forceUpdate()})}},created(){this.getDataObject()},watch:{link:function(){this.getDataObject()}}},Ja=Va,Ya=(a("f448"),Object(b["a"])(Ja,$a,Ga,!1,null,"07cb4003",null)),Wa=Ya.exports,Qa=(a("2051"),{name:"FormCarrousel",props:{formList:Array,documentsList:Array,visibility:Number},components:{FormViewer:Wa},data(){return{indexHighlight:"0",formNameArray:[],formLinkArray:[],formArray:[],FormPage:this.translate("COM_EMUNDUS_ONBOARD_FORM_PAGE"),Form:this.translate("COM_EMUNDUS_ONBOARD_FORM"),Documents:this.translate("COM_EMUNDUS_ONBOARD_DOCUMENTS")}},methods:{splitProfileIdfromLabel(e){return e.split(/-(.+)/)[1]},ChangeIndex(e){this.indexHighlight=e},EditPage(){this.$emit("formbuilder",this.indexHighlight)},getDataObject:function(){this.formList.forEach(e=>{let t=e.link.replace("fabrik","emundus_onboard");_.a.get(t+"&format=vue_jsonclean").then(t=>{this.formNameArray.push({value:t.data.show_title.value,rgt:e.rgt}),this.formLinkArray.push({link:e.link,rgt:e.rgt})}).then(e=>{this.formNameArray.sort((e,t)=>e.rgt-t.rgt),this.formLinkArray.sort((e,t)=>e.rgt-t.rgt)}).catch(e=>{console.log(e)})})}},created(){this.getDataObject()}}),Xa=Qa,Ka=(a("a6fe"),Object(b["a"])(Xa,Pa,Fa,!1,null,"5683dfaa",null)),Za=Ka.exports;const es=a("bef5");var ts={name:"addFormulaire",props:{profileId:String,campaignId:Number,profiles:Array,formulaireEmundus:Number,visibility:Number},components:{FormCarrousel:Za},data(){return{ChooseForm:this.translate("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),AddForm:this.translate("COM_EMUNDUS_ONBOARD_ADD_FORM"),EmitIndex:"0",formList:[],documentsList:[],formListReload:0,form:{label:"Nouveau formulaire",description:"",published:1},formdescription:this.translate("COM_EMUNDUS_ONBOARD_FORMDESCRIPTION")}},methods:{getEmitIndex(e){this.EmitIndex=e},getForms(e){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getFormsByProfileId",params:{profile_id:e},paramsSerializer:e=>es.stringify(e)}).then(e=>{this.formList=e.data.data,this.formListReload+=1}).catch(e=>{console.log(e)})},getDocuments(e){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getDocuments",params:{pid:e},paramsSerializer:e=>es.stringify(e)}).then(e=>{this.documentsList=e.data.data})},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>es.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},addNewForm(){this.loading=!0,_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=createform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:es.stringify({body:this.form})}).then(e=>{this.loading=!1,this.$props.profileId=e.data.data,this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.profileId+"&index=0&cid="+this.campaignId)}).catch(e=>{console.log(e)})},updateProfileCampaign(){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updateprofile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:es.stringify({profile:this.profileId,campaign:this.campaignId})}).then(()=>{this.getForms(this.profileId),this.getDocuments(this.profileId),this.$emit("profileId",this.profileId)})},formbuilder(e){_.a.get("index.php?option=com_emundus&controller=form&task=getfilesbyform&pid="+this.profileId).then(t=>{0!=t.data.data?this.$modal.show("modalWarningFormBuilder"):this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.profileId+"&index="+e+"&cid="+this.campaignId)})}},created(){this.getForms(this.profileId),this.getDocuments(this.profileId)}},as=ts,ss=(a("166e"),Object(b["a"])(as,Ia,ja,!1,null,"64abe6e6",null)),is=ss.exports,os=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ModalAddEvaluation",{attrs:{prog:e.prog,grid:e.grid},on:{updateGrid:function(t){return e.getEvaluationGridByProgram(1)}}}),a("div",{staticClass:"container-evaluation"},[null==e.grid?a("div",{staticClass:"text-center"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{float:"none"},attrs:{type:"button"},on:{click:function(t){return e.$modal.show("modalAddEvaluation")}}},[e._v(e._s(e.translations.addGrid))])]):e._e(),null!=e.grid?a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer mr-1",staticStyle:{float:"none"},attrs:{type:"button"},on:{click:e.evaluationBuilder}},[e._v(e._s(e.translations.editGrid))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-delete",staticStyle:{float:"none"},attrs:{type:"button"},on:{click:e.deleteGrid}},[e._v(" "+e._s(e.translations.deleteGrid))])]):e._e(),null!=e.grid?a("FormViewerEvaluation",{key:e.viewer,attrs:{link:e.link,prog:e.prog}}):e._e()],1)],1)},ns=[],rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FormViewer container-fluid",attrs:{id:"FormViewerEvaluation"}},[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"}}),a("notifications",{attrs:{group:"foo-velocity",position:"top right","animation-type":"velocity",speed:500}}),e.object_json.show_page_heading?a("div",{class:e.object_json.show_page_heading.class,domProps:{innerHTML:e._s(e.object_json.show_page_heading.page_heading)}}):e._e(),a("form",{attrs:{method:"post","object_json.attribs":""},on:{submit:function(e){e.preventDefault()}}},[e.object_json.plugintop?a("div",{domProps:{innerHTML:e._s(e.object_json.plugintop)}}):e._e(),e._l(e.object_json.Groups,(function(t,s){return a("div",{key:t.index},[a("fieldset",{class:t.group_class,style:t.group_css,attrs:{id:"group_"+t.group_id}},[a("div",{staticClass:"d-flex"},[t.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[e._v(e._s(t.group_showLegend))]):e._e()]),t.group_intro?a("div",{staticClass:"groupintro",domProps:{innerHTML:e._s(t.group_intro)}}):e._e(),a("div",{staticClass:"elements-block"},[a("transition-group",{attrs:{name:"slide-down",type:"transition"}},e._l(t.elts,(function(t,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.hidden,expression:"element.hidden === false"}],key:t.id,staticClass:"builder-item-element",class:{unpublished:!t.publish}},[a("div",{staticClass:"d-flex builder-item-element__properties"},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex",staticStyle:{"align-items":"baseline"}},[t.label_value?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=t.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:e._s(t.label_value)}}):e._e()]),t.params.date_table_format?a("div",[a("date-picker",{attrs:{config:e.options},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):0==t.labelsAbove?a("div",{staticClass:"controls"},[t.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]):a("span",{staticClass:"d-flex w-100"},[t.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{staticClass:"w-100",class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]),t.tipBelow?a("span",{domProps:{innerHTML:e._s(t.tipBelow)}}):e._e()])])])})),0)],1),t.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:e._s(e.group_outro)}}):e._e()])])})),e.object_json.pluginbottom?a("div",{domProps:{innerHTML:e._s(e.object_json.pluginbottom)}}):e._e()],2),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()],1)},ls=[],ds=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalEditElement"}},[a("modal",{attrs:{name:"modalEditElement"+e.ID,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalEditElement"+e.ID)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.ElementOptions)+" ")])])]),null!=e.element?a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"mb-1"},[a("a",{staticClass:"d-flex tool-icon mb-1",on:{click:function(t){return e.publishUnpublishElement()}}},[a("em",{class:[e.element.publish?"fa-eye-slash":"fa-eye","far"],staticStyle:{width:"45px"},attrs:{id:"publish_icon_"+e.element.id}}),e.element.publish?a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Unpublish))]):e._e(),e.element.publish?e._e():a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Publish))])]),"display"!=e.plugin?a("a",{staticClass:"d-flex tool-icon"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.FRequire,expression:"element.FRequire"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.element.FRequire)?e._i(e.element.FRequire,null)>-1:e.element.FRequire},on:{click:function(t){return e.updateRequireElement()},change:function(t){var a=e.element.FRequire,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&e.$set(e.element,"FRequire",a.concat([o])):n>-1&&e.$set(e.element,"FRequire",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.element,"FRequire",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Required))])]):e._e()]),a("div",{staticClass:"form-group mb-2"},[a("label",[e._v(e._s(e.fieldType)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.plugin,expression:"plugin"}],staticClass:"dropdown-toggle",attrs:{id:"select_type",disabled:0!=e.files&&"birthday"==e.element.plugin||0!=e.files&&6==e.element.params.password},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.plugin=t.target.multiple?a:a[0]}}},e._l(e.plugins,(function(t,s){return a("option",{key:s,domProps:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("div",{staticClass:"col-md-12 separator-top top-responsive"},["field"==e.plugin?a("fieldF",{attrs:{files:e.files,element:e.element}}):e._e(),"birthday"==e.plugin?a("birthdayF",{attrs:{element:e.element}}):e._e(),"checkbox"==e.plugin?a("checkboxF",{attrs:{element:e.element,databases:e.databases},on:{subOptions:e.subOptions}}):e._e(),"dropdown"==e.plugin?a("dropdownF",{attrs:{element:e.element,databases:e.databases},on:{subOptions:e.subOptions}}):e._e(),"radiobutton"==e.plugin?a("radiobtnF",{attrs:{element:e.element,databases:e.databases},on:{subOptions:e.subOptions}}):e._e(),"textarea"==e.plugin?a("textareaF",{attrs:{element:e.element}}):e._e(),"display"==e.plugin?a("displayF",{attrs:{element:e.element}}):e._e(),"emundus_fileupload"==e.plugin?a("fileF",{attrs:{element:e.element,prid:e.profileId}}):e._e(),"yesno"==e.plugin?a("yesnoF",{attrs:{element:e.element}}):e._e()],1)]):e._e(),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalEditElement"+e.ID)}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.UpdateParams.apply(null,arguments)}}},[e._v(e._s(e.Continuer))])]),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()])],1)},cs=[],ms=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"fieldF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.placeholdertext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.placeholder,expression:"element.params.placeholder"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.placeholder},on:{input:function(t){t.target.composing||e.$set(e.element.params,"placeholder",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.maxlength)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.maxlength,expression:"element.params.maxlength"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"1"},domProps:{value:e.element.params.maxlength},on:{input:function(t){t.target.composing||e.$set(e.element.params,"maxlength",t.target.value)}}})]),0==e.element.params.password?a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.inputmasktitle))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.text_input_mask,expression:"element.params.text_input_mask"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"format",placeholder:[[e.inputmaskplaceholder]]},domProps:{value:e.element.params.text_input_mask},on:{input:function(t){t.target.composing||e.$set(e.element.params,"text_input_mask",t.target.value)}}}),a("label",{staticStyle:{"font-size":"small"}},[e._v(e._s(e.tipData))])]):e._e()])])},us=[],_s={name:"fieldF",props:{element:Object,files:Number},data(){return{msg:"",path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),placeholdertext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER"),sizetext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_SIZE"),maxlength:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH"),fieldtype:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_FIELDTYPE"),textfield:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_FIELDTEXT"),phonefield:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_FIELDPHONE"),emailfield:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EMAIL"),numberfield:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_NUMBER"),placeholderHelp:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP"),text_input_mask:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK"),inputmasktitle:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_TITLE"),inputmaskplaceholder:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_PLACEHOLDER"),tipData:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_HINT")}},methods:{},created(){this.msg='<p style="color: white">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',"undefined"==typeof this.element.params.password&&(this.element.params.password=0),"undefined"==typeof this.element.params.maxlength&&(this.element.params.maxlength=255),"undefined"==typeof this.element.params.text_input_mask&&(this.element.params.text_input_mask=""),"undefined"==typeof this.element.params.placeholder&&(this.element.params.placeholder="")}},ps=_s,hs=(a("d9aa"),Object(b["a"])(ps,ms,us,!1,null,"736e54b6",null)),gs=hs.exports,fs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"birthdayF"}},[a("div",{staticClass:"rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Format))]),a("div",{staticClass:"flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.datepicker,expression:"datepicker"}],attrs:{type:"radio",id:"radio_default",value:"1"},domProps:{checked:e._q(e.datepicker,"1")},on:{change:function(t){e.datepicker="1"}}}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.birthdaySelect))])]),a("div",{staticClass:"flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.datepicker,expression:"datepicker"}],attrs:{type:"radio",id:"radio_years",value:"2"},domProps:{checked:e._q(e.datepicker,"2")},on:{change:function(t){e.datepicker="2"}}}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.yearSelect))])]),a("div",{staticClass:"flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.datepicker,expression:"datepicker"}],attrs:{type:"radio",id:"radio_dayMonth",value:"3"},domProps:{checked:e._q(e.datepicker,"3")},on:{change:function(t){e.datepicker="3"}}}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.dateSelect))])])]),1==e.datepicker||2==e.datepicker?a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.yearrange))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.birthday_forward,expression:"element.params.birthday_forward"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"format"},domProps:{value:e.element.params.birthday_forward},on:{input:function(t){t.target.composing||e.$set(e.element.params,"birthday_forward",t.target.value)}}}),a("label",{staticStyle:{"font-size":"small"}},[e._v(e._s(e.yeararrangetip))])]):e._e()])])},bs=[],vs={name:"birthdayF",components:{},props:{element:Object},data(){return{datepicker:null,birthdaySelect:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMAT_BIRTHDAY"),yearSelect:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMAT_YEAR"),dateSelect:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_CALENDAR"),Format:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMATTING"),birthday_forward:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_FUTURE_YEARS"),yearrange:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_YEAR_RANGE"),yeararrangetip:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_TIP_YEARS_FUTURE")}},created(){"birthday"==this.element.plugin?this.datepicker=1:"date"==this.element.plugin?this.datepicker=3:this.datepicker=2},watch:{datepicker:function(e){this.element.plugin=3==e?"date":2==e?"years":"birthday"}}},ys=vs,ws=(a("88bb"),Object(b["a"])(ys,fs,bs,!1,null,"6f6da594",null)),Os=ws.exports,Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"checkboxF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"d-flex mb-1"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.suboptions)+" :")])]),a("div",{staticClass:"col-md-10"},[1!=e.databasejoin?a("draggable",{attrs:{handle:".handle"},on:{end:function(t){return e.needtoemit()}},model:{value:e.arraySubValues,callback:function(t){e.arraySubValues=t},expression:"arraySubValues"}},e._l(e.arraySubValues,(function(t,s){return a("div",{key:s,staticClass:"d-flex mb-1"},[a("span",{staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.arraySubValues[s],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{height:"35px"},attrs:{type:"text",id:"suboption_"+s},domProps:{value:e.arraySubValues[s]},on:{change:function(t){return e.needtoemit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.arraySubValues,s,t.target.value)}}}),a("button",{staticClass:"remove-option",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.leave(s)}}},[e._v("-")])])})),0):e._e(),1!=e.databasejoin?a("button",{staticClass:"bouton-sauvergarder-et-continuer-3 button-add-option",staticStyle:{"margin-bottom":"2em"},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.add.apply(null,arguments)}}},[e._v(e._s(e.AddOption))]):e._e(),1==e.databasejoin?a("select",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin_data,expression:"databasejoin_data"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.databasejoin_data=t.target.multiple?a:a[0]}}},e._l(e.databases,(function(t,s){return a("option",{domProps:{value:s}},[e._v(e._s(t.label))])})),0):e._e()],1)])])},Es=[];const Ds=a("bef5");var Ns={name:"checkboxF",components:{draggable:ga.a},props:{element:Object,databases:Array},data(){return{arraySubValues:[],databasejoin:"0",databasejoin_data:0,helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS"),DataTables:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN")}},methods:{add:wt.a.debounce((function(){let e=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,e,""),this.needtoemit();let t="suboption_"+e.toString();setTimeout(()=>{document.getElementById(t).focus()},100)}),150),leave:function(e){this.$delete(this.arraySubValues,e),this.needtoemit()},initialised:function(){"databasejoin"===this.element.plugin?(this.databasejoin=1,this.databases.forEach((e,t)=>{e.database_name==this.element.params.join_db_name&&(this.databasejoin_data=t)})):"undefined"!==typeof this.element.params.sub_options?_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ds.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then(e=>{Object.values(e.data).forEach(e=>{this.arraySubValues.push(e)}),this.needtoemit()}).catch(e=>{console.log(e)}):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},needtoemit:wt.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)})),checkOnboarding(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=checkfirstdatabasejoin"}).then(e=>{e.data.status&&j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),text:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN_TEXT"),type:"info",showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK")}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=removeparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ds.stringify({param:"first_databasejoin"})})})})}},created:function(){this.initialised()},watch:{databasejoin:function(e){e?(this.checkOnboarding(),this.element.params.join_db_name=this.databases[this.databasejoin_data].database_name,this.element.params.database_join_display_type="checkbox",this.element.params.join_key_column=this.databases[this.databasejoin_data].join_column_id,"1"==this.databases[this.databasejoin_data].translation?(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val+"_fr",this.element.params.join_val_column_concat="{thistable}."+this.databases[this.databasejoin_data].join_column_val+"_{shortlang}"):(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val,this.element.params.join_val_column_concat="")):(this.element.plugin="checkbox",delete this.element.params.join_db_name,delete this.element.params.database_join_display_type,delete this.element.params.join_key_column,delete this.element.params.join_val_column,delete this.element.params.join_val_column_concat,"undefined"===typeof this.element.params.sub_options&&(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},databasejoin_data:function(e){this.element.params.join_db_name=this.databases[e].database_name,this.element.params.join_key_column=this.databases[e].join_column_id,this.element.params.database_join_display_type="checkbox","1"==this.databases[e].translation?(this.element.params.join_val_column=this.databases[e].join_column_val+"_fr",this.element.params.join_val_column_concat="{thistable}."+this.databases[e].join_column_val+"_{shortlang}"):(this.element.params.join_val_column=this.databases[e].join_column_val,this.element.params.join_val_column_concat="")}}},As=Ns,Ms=(a("3a02"),Object(b["a"])(As,Cs,Es,!1,null,"62ae73ba",null)),Us=Ms.exports,Ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dropdownF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"d-flex mb-1"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.translations.suboptions)+" :")])]),a("div",{staticClass:"col-md-12 form-group flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.no_default_value,expression:"no_default_value"}],staticClass:"check",attrs:{type:"checkbox","true-value":"true","false-value":"false",id:"no_default_value"},domProps:{checked:Array.isArray(e.no_default_value)?e._i(e.no_default_value,null)>-1:e._q(e.no_default_value,"true")},on:{change:function(t){var a=e.no_default_value,s=t.target,i=s.checked?"true":"false";if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.no_default_value=a.concat([o])):n>-1&&(e.no_default_value=a.slice(0,n).concat(a.slice(n+1)))}else e.no_default_value=i}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"no_default_value"}},[e._v(e._s(e.translations.No_Default_Value))])]),a("div",{staticClass:"col-md-10 form-group flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin,expression:"databasejoin"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"databasejoin_check",name:"'databasejoin_check'"},domProps:{checked:Array.isArray(e.databasejoin)?e._i(e.databasejoin,null)>-1:e._q(e.databasejoin,"1")},on:{change:function(t){var a=e.databasejoin,s=t.target,i=s.checked?"1":"0";if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.databasejoin=a.concat([o])):n>-1&&(e.databasejoin=a.slice(0,n).concat(a.slice(n+1)))}else e.databasejoin=i}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"databasejoin_check"}},[e._v(e._s(e.translations.DataTables))])]),a("div",{staticClass:"col-md-10"},[1!=e.databasejoin?a("draggable",{attrs:{handle:".handle"},on:{end:function(t){return e.needtoemit()}},model:{value:e.arraySubValues,callback:function(t){e.arraySubValues=t},expression:"arraySubValues"}},e._l(e.arraySubValues,(function(t,s){return e.display_first_option!=s?a("div",{key:s,staticClass:"d-flex mb-1"},[a("span",{staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.arraySubValues[s],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{height:"35px"},attrs:{type:"text",id:"suboption_"+s},domProps:{value:e.arraySubValues[s]},on:{change:function(t){return e.needtoemit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.arraySubValues,s,t.target.value)}}}),a("button",{staticClass:"remove-option",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.leave(s)}}},[e._v("-")])]):e._e()})),0):e._e(),1!=e.databasejoin?a("button",{staticClass:"bouton-sauvergarder-et-continuer-3 button-add-option",staticStyle:{"margin-bottom":"2em"},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.add.apply(null,arguments)}}},[e._v(e._s(e.translations.AddOption))]):e._e(),1==e.databasejoin?a("select",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin_data,expression:"databasejoin_data"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.databasejoin_data=t.target.multiple?a:a[0]},function(t){return e.retrieveDataBaseJoinColumns()}]}},e._l(e.databases,(function(t,s){return a("option",{domProps:{value:s}},[e._v(e._s(t.label))])})),0):e._e(),1==e.databasejoin?a("div",[a("label",[e._v(e._s(e.translations.OrderBy))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin_data_order,expression:"databasejoin_data_order"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.databasejoin_data_order=t.target.multiple?a:a[0]}}},e._l(e.databases_colums,(function(t){return a("option",{domProps:{value:t.COLUMN_NAME}},[e._v(e._s(t.COLUMN_NAME))])})),0)]):e._e()],1)])])},xs=[];const Ts=a("bef5");var Rs={name:"dropdownF",components:{draggable:ga.a},props:{element:Object,databases:Array},data(){return{arraySubValues:[],databases_colums:[],databasejoin:"0",no_default_value:!1,display_first_option:null,databasejoin_data:0,databasejoin_data_order:"",translations:{helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS"),DataTables:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),No_Default_Value:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_NO_DEFAULT_VALUE"),OrderBy:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ORDER_BY")}}},methods:{add:wt.a.debounce((function(){const e=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,e,""),this.needtoemit();const t="suboption_"+e.toString();setTimeout(()=>{document.getElementById(t).focus()},100)}),150),leave(e){this.$delete(this.arraySubValues,e),this.needtoemit()},initialised(){"databasejoin"===this.element.plugin?(this.databasejoin=1,"1"==this.element.params.database_join_show_please_select?this.no_default_value=!0:this.no_default_value=!1,this.databases.forEach((e,t)=>{if(e.database_name==this.element.params.join_db_name){this.databasejoin_data=t,this.retrieveDataBaseJoinColumns();const e=this.element.params.database_join_where_sql;this.databasejoin_data_order=e.replace(/order by /g,"")}})):(this.element.params.default_value=!1,this.no_default_value=!1,this.retrieveDataBaseJoinColumns(),"undefined"!==typeof this.element.params.sub_options?("undefined"!==typeof this.element.params.sub_options.sub_initial_selection&&(this.element.params.sub_options.sub_values.forEach((e,t)=>{e==this.element.params.sub_options.sub_initial_selection[0]&&(this.display_first_option=t)}),null!=this.display_first_option&&(this.element.params.default_value=!0,this.no_default_value=!0)),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ts.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then(e=>{Object.values(e.data).forEach(e=>{this.arraySubValues.push(e)}),this.needtoemit()}).catch(e=>{console.log(e)})):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},retrieveDataBaseJoinColumns(){_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getdatabasesjoinOrdonancementColomns",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ts.stringify({database_name:this.databases[this.databasejoin_data].database_name})}).then(e=>{this.databases_colums=e.data.data}).catch(e=>{console.log(e)})},needtoemit:wt.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)})),checkOnboarding(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=checkfirstdatabasejoin"}).then(e=>{e.data.status&&j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),text:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN_TEXT"),type:"info",showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK")}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=removeparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ts.stringify({param:"first_databasejoin"})})})})}},created(){this.initialised()},watch:{databasejoin(e){1==e?(this.checkOnboarding(),this.element.plugin="databasejoin",this.element.params.join_db_name=this.databases[this.databasejoin_data].database_name,this.element.params.database_join_display_type="dropdown",this.element.params.join_key_column=this.databases[this.databasejoin_data].join_column_id,"1"==this.databases[this.databasejoin_data].translation?(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val+"_fr",this.element.params.join_val_column_concat=`{thistable}.${this.databases[this.databasejoin_data].join_column_val}_{shortlang}`):(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val,this.element.params.join_val_column_concat="")):(this.element.plugin="dropdown",delete this.element.params.join_db_name,delete this.element.params.database_join_display_type,delete this.element.params.join_key_column,delete this.element.params.join_val_column,delete this.element.params.join_val_column_concat,delete this.element.params.database_join_where_sql,"undefined"===typeof this.element.params.sub_options&&(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},databasejoin_data(e){const t=this.databases[e];this.element.params.join_db_name=t.database_name,this.element.params.join_key_column=t.join_column_id,"1"===t.translation?(this.element.params.join_val_column=t.join_column_val+"_fr",this.element.params.join_val_column_concat=`{thistable}.${t.join_column_val}_{shortlang}`):(this.element.params.join_val_column=t.join_column_val,this.element.params.join_val_column_concat="")},databasejoin_data_order(e){1==this.databasejoin&&(this.element.params.database_join_where_sql="order by "+e)},no_default_value(e){this.element.params.default_value=e}}},ks=Rs,Ls=(a("ee47"),Object(b["a"])(ks,Ss,xs,!1,null,"641c8724",null)),Bs=Ls.exports,Is=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"radiobtnF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"d-flex mb-1"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.suboptions)+" :")])]),a("div",{staticClass:"col-md-10 form-group flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin,expression:"databasejoin"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"databasejoin_check",name:"'databasejoin_check'"},domProps:{checked:Array.isArray(e.databasejoin)?e._i(e.databasejoin,null)>-1:e._q(e.databasejoin,"1")},on:{change:function(t){var a=e.databasejoin,s=t.target,i=s.checked?"1":"0";if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.databasejoin=a.concat([o])):n>-1&&(e.databasejoin=a.slice(0,n).concat(a.slice(n+1)))}else e.databasejoin=i}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"databasejoin_check"}},[e._v(e._s(e.translations.DataTables))])]),a("div",{staticClass:"col-md-10"},[1!=e.databasejoin?a("draggable",{staticStyle:{"padding-bottom":"2em"},attrs:{handle:".handle"},on:{end:function(t){return e.needtoemit()}},model:{value:e.arraySubValues,callback:function(t){e.arraySubValues=t},expression:"arraySubValues"}},e._l(e.arraySubValues,(function(t,s){return a("div",{key:s,staticClass:"d-flex mb-1"},[a("span",{staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.arraySubValues[s],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{height:"35px"},attrs:{type:"text",id:"suboption_"+s},domProps:{value:e.arraySubValues[s]},on:{change:function(t){return e.needtoemit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.arraySubValues,s,t.target.value)}}}),a("button",{staticClass:"remove-option",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.leave(s)}}},[e._v("-")])])})),0):e._e(),1!=e.databasejoin?a("button",{staticClass:"bouton-sauvergarder-et-continuer-3 button-add-option",staticStyle:{"margin-bottom":"2em"},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.add.apply(null,arguments)}}},[e._v(e._s(e.AddOption)+" ")]):e._e(),1==e.databasejoin?a("select",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin_data,expression:"databasejoin_data"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.databasejoin_data=t.target.multiple?a:a[0]},function(t){return e.retrieveDataBaseJoinColumns()}]}},e._l(e.databases,(function(t,s){return a("option",{domProps:{value:s}},[e._v(e._s(t.label))])})),0):e._e(),1==e.databasejoin?a("div",[a("label",[e._v(e._s(e.translations.OrderBy))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.databasejoin_data_order,expression:"databasejoin_data_order"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.databasejoin_data_order=t.target.multiple?a:a[0]}}},e._l(e.databases_colums,(function(t){return a("option",{domProps:{value:t.COLUMN_NAME}},[e._v(e._s(t.COLUMN_NAME))])})),0)]):e._e()],1)])])},js=[];const Ps=a("bef5");var Fs={name:"radiobtnF",components:{draggable:ga.a},props:{element:Object,databases:Array},data(){return{arraySubValues:[],databases_colums:[],databasejoin:"0",no_default_value:!1,display_first_option:null,databasejoin_data:0,databasejoin_data_order:"",translations:{helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS"),DataTables:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),No_Default_Value:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_NO_DEFAULT_VALUE"),OrderBy:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ORDER_BY")},helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS"),DataTables:this.translate("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),No_Default_Value:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_NO_DEFAULT_VALUE"),OrderBy:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ORDER_BY")}},methods:{add:wt.a.debounce((function(){let e=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,e,""),this.needtoemit();let t="suboption_"+e.toString();setTimeout(()=>{document.getElementById(t).focus()},100)}),150),leave:function(e){this.$delete(this.arraySubValues,e),this.needtoemit()},initialised:function(){"databasejoin"===this.element.plugin?(this.databasejoin=1,this.databases.forEach((e,t)=>{if(e.database_name==this.element.params.join_db_name){this.databasejoin_data=t,this.retrieveDataBaseJoinColumns();const e=this.element.params.database_join_where_sql;this.databasejoin_data_order=e.replace(/order by /g,"")}})):"undefined"!==typeof this.element.params.sub_options?_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ps.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then(e=>{Object.values(e.data).forEach(e=>{this.arraySubValues.push(e)}),this.needtoemit()}).catch(e=>{console.log(e)}):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},retrieveDataBaseJoinColumns(){_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getdatabasesjoinOrdonancementColomns",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ps.stringify({database_name:this.databases[this.databasejoin_data].database_name})}).then(e=>{this.databases_colums=e.data.data}).catch(e=>{console.log(e)})},checkOnboarding(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=checkfirstdatabasejoin"}).then(e=>{e.data.status&&j.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN_TEXT"),type:"info",showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK")}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=removeparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ps.stringify({param:"first_databasejoin"})})})})},needtoemit:wt.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)}))},created:function(){this.initialised()},watch:{databasejoin(e){1==e?(this.checkOnboarding(),this.element.plugin="databasejoin",this.element.params.join_db_name=this.databases[this.databasejoin_data].database_name,this.element.params.database_join_display_type="radio",this.element.params.join_key_column=this.databases[this.databasejoin_data].join_column_id,"1"==this.databases[this.databasejoin_data].translation?(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val+"_fr",this.element.params.join_val_column_concat=`{thistable}.${this.databases[this.databasejoin_data].join_column_val}_{shortlang}`):(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val,this.element.params.join_val_column_concat="")):(this.element.plugin="radiobutton",delete this.element.params.join_db_name,delete this.element.params.database_join_display_type,delete this.element.params.join_key_column,delete this.element.params.join_val_column,delete this.element.params.join_val_column_concat,delete this.element.params.database_join_where_sql,"undefined"===typeof this.element.params.sub_options&&(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},databasejoin_data(e){const t=this.databases[e];this.element.params.join_db_name=t.database_name,this.element.params.join_key_column=t.join_column_id,"1"===t.translation?(this.element.params.join_val_column=t.join_column_val+"_fr",this.element.params.join_val_column_concat=`{thistable}.${t.join_column_val}_{shortlang}`):(this.element.params.join_val_column=t.join_column_val,this.element.params.join_val_column_concat="")},databasejoin_data_order(e){1==this.databasejoin&&(this.element.params.database_join_where_sql="order by "+e)},no_default_value(e){this.element.params.default_value=e}}},$s=Fs,Gs=(a("3624"),Object(b["a"])($s,Is,js,!1,null,"5a3f916f",null)),Hs=Gs.exports,zs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"textareaF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.wysiwyg,expression:"wysiwyg"}],staticClass:"form__input field-general w-input",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.wysiwyg)?e._i(e.wysiwyg,"1")>-1:e.wysiwyg},on:{change:function(t){var a=e.wysiwyg,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o="1",n=e._i(a,o);s.checked?n<0&&(e.wysiwyg=a.concat([o])):n>-1&&(e.wysiwyg=a.slice(0,n).concat(a.slice(n+1)))}else e.wysiwyg=i}}}),a("label",{staticClass:"ml-10px mb-0"},[e._v(e._s(e.UseAdvancedEditor))])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.heightext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.height,expression:"element.params.height"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"3"},domProps:{value:e.element.params.height},on:{input:function(t){t.target.composing||e.$set(e.element.params,"height",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.placeholdertext)+" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.msg,placement:"top-center",offset:5,delay:{show:500,hide:300}},expression:"{\n        content: msg,\n        placement: 'top-center',\n        offset: 5,\n        delay: {\n          show: 500,\n          hide: 300,\n          },\n        }"}]},[a("em",{staticClass:"fas fa-question-circle"})]),e._v(" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.textarea_placeholder,expression:"element.params.textarea_placeholder"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.textarea_placeholder},on:{input:function(t){t.target.composing||e.$set(e.element.params,"textarea_placeholder",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.maxlength)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params["textarea-maxlength"],expression:"element.params['textarea-maxlength']"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"1"},domProps:{value:e.element.params["textarea-maxlength"]},on:{input:function(t){t.target.composing||e.$set(e.element.params,"textarea-maxlength",t.target.value)}}})]),a("div",{staticClass:"form-group dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.showmax,expression:"showmax"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0 !important"},attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.showmax)?e._i(e.showmax,"1")>-1:e.showmax},on:{change:function(t){var a=e.showmax,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o="1",n=e._i(a,o);s.checked?n<0&&(e.showmax=a.concat([o])):n>-1&&(e.showmax=a.slice(0,n).concat(a.slice(n+1)))}else e.showmax=i}}}),a("label",{staticClass:"ml-10px mb-0"},[e._v(e._s(e.DisplayMaxLength))])])])])},qs=[],Vs={name:"textareaF",props:{element:Object},data(){return{msg:"",path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",arraySubValues:[],wysiwyg:!1,showmax:!1,widthtext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_WIDTH"),heightext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HEIGHT"),helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),placeholdertext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER"),sizetext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_SIZE"),maxlength:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH"),DisplayMaxLength:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_MAXLENGTH"),UseAdvancedEditor:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_USE_ADVANCED_EDITOR"),placeholderHelp:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP")}},methods:{},created(){this.msg='<p style="color: black">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',"undefined"==typeof this.element.params.height&&(this.element.params.height=6),"undefined"==typeof this.element.params["textarea-maxlength"]&&(this.element.params["textarea-maxlength"]=255),"undefined"==typeof this.element.params.use_wysiwyg?this.element.params.use_wysiwyg=0:"1"==this.element.params.use_wysiwyg&&(this.wysiwyg=!0),"undefined"==typeof this.element.params["textarea-showmax"]?this.element.params["textarea-showmax"]=0:"1"==this.element.params["textarea-showmax"]&&(this.showmax=!0)},watch:{wysiwyg:function(e){this.element.params.use_wysiwyg=e?"1":"0"},showmax:function(e){this.element.params["textarea-showmax"]=e?"1":"0"}}},Js=Vs,Ys=(a("36fb"),Object(b["a"])(Js,zs,qs,!1,null,"296e6200",null)),Ws=Ys.exports,Qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"displayF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Text)+" :")]),a("editor",{attrs:{height:"30em",text:e.element.default,lang:"fr",enable_variables:!1,id:"element_"+e.element.id},model:{value:e.element.default,callback:function(t){e.$set(e.element,"default",t)},expression:"element.default"}})],1)])])},Xs=[],Ks={name:"displayF",props:{element:Object,files:Number},components:{Editor:Dt},data(){return{Text:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_TEXT"),dynamicComponent:!1}},methods:{},created(){}},Zs=Ks,ei=(a("d196"),Object(b["a"])(Zs,Qs,Xs,!1,null,"3a13f6d2",null)),ti=ei.exports,ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"fileF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v("Max size (Mb) :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.size,expression:"size"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"1",max:"10"},domProps:{value:e.size},on:{keyup:function(t){return e.convertToByte()},input:function(t){t.target.composing||(e.size=t.target.value)}}}),e.errors.maxSize?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v("Saisir une valeur comprise entre 1 et 10 Mb")])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{class:{"is-invalid":e.errors.selectedTypes},attrs:{for:"max_size"}},[e._v(e._s(e.FileType)+"* :")]),a("div",{staticClass:"users-block",class:{"is-invalid":e.errors.selectedUsers}},e._l(e.types,(function(t,s){return a("div",{key:s,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.selectedTypes[t.value],expression:"form.selectedTypes[type.value]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.selectedTypes[t.value])?e._i(e.form.selectedTypes[t.value],null)>-1:e.form.selectedTypes[t.value]},on:{change:function(a){var s=e.form.selectedTypes[t.value],i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(e.form.selectedTypes,t.value,s.concat([n])):r>-1&&e.$set(e.form.selectedTypes,t.value,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form.selectedTypes,t.value,o)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.title)+" ("+e._s(t.value)+")")])])])})),0)])])])},si=[];const ii=a("bef5");var oi={name:"fileF",props:{value:File,element:Object,prid:String},data(){return{msg:"",size:this.element.params.size/1048576,types:[{title:this.translate("COM_EMUNDUS_ONBOARD_PDF_DOCUMENTS"),value:"pdf"},{title:this.translate("COM_EMUNDUS_ONBOARD_PICTURES_DOCUMENTS"),value:"jpg;png;gif"},{title:this.translate("COM_EMUNDUS_ONBOARD_OFFICE_DOCUMENTS"),value:"doc;docx;odt"},{title:this.translate("COM_EMUNDUS_ONBOARD_EXCEL_DOCUMENTS"),value:"xls;xlsx;odf"}],labels_name:{text_fr:"",text_en:"",did:""},form:{name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1}},errors:{name:!1,nbmax:!1,selectedTypes:!1,maxSize:!1},selectedTypes:[],path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",heightext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HEIGHT"),helptext:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),MaxRequired:this.translate("COM_EMUNDUS_ONBOARD_MAXPERUSER_REQUIRED"),TypeRequired:this.translate("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED_REQUIRED"),placeholderHelp:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP"),MaxPerUser:this.translate("COM_EMUNDUS_ONBOARD_MAXPERUSER"),FileType:this.translate("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED")}},methods:{handleFileChange(e){this.$emit("input",e.target.files[0])},convertToByte(){this.size>10||this.size<1?this.errors.maxSize=!0:(this.element.params.size=1048576*this.size,this.errors.maxSize=!1)},retrieveAssociateElementDoc(e){_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=retriveElementFormAssociatedDoc",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ii.stringify({gid:2,docid:e})}).then(e=>{this.form.description[this.actualLanguage]=e.data.description,e.data.allowed_types.includes("pdf")?this.form.selectedTypes.pdf=!0:this.form.selectedTypes.pdf=!1,e.data.allowed_types.includes("jpg")||e.data.allowed_types.includes("png")||e.data.allowed_types.includes("gif")?this.form.selectedTypes["jpg;png;gif"]=!0:this.form.selectedTypes["jpg;png;gif"]=!1,e.data.allowed_types.includes("xls")||e.data.allowed_types.includes("xlsx")||e.data.allowed_types.includes("odf")?this.form.selectedTypes["xls;xlsx;odf"]=!0:this.form.selectedTypes["xls;xlsx;odf"]=!1,this.form.nbmax=e.data.nbmax})},retrieveDocumentNameFalangs(e){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=getDocumentFalang",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ii.stringify({gid:2,docid:e})}).then(t=>{this.labels_name.text_fr=t.data.data.fr.value,this.labels_name.text_en=t.data.data.en.value,this.labels_name.did=e})},updateDocumentFalengs(e){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updateDocumentFalang",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ii.stringify(e)}).then(e=>{})},updateAssociateDocElement(e){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updatedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ii.stringify(e)}).then(e=>{this.$emit("UpdateDocuments")})}},created(){this.msg='<p style="color: black">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',this.retrieveAssociateElementDoc(this.element.params.attachmentId),this.retrieveDocumentNameFalangs(this.element.params.attachmentId)},beforeDestroy(){let e=[];Object.keys(this.form.selectedTypes).forEach(t=>{1==this.form.selectedTypes[t]&&e.push(t)});let t={document:this.form,types:e,cid:this.cid,pid:this.prid,did:this.element.params.attachmentId};this.updateAssociateDocElement(t),this.updateDocumentFalengs(this.labels_name)}},ni=oi,ri=(a("077f"),Object(b["a"])(ni,ai,si,!1,null,"c5f4a0a2",null)),li=ri.exports,di=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ci=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"yesnoF"}},[a("div",{staticClass:"row rowmodal"})])}],mi={name:"yesnoF"},ui=mi,_i=Object(b["a"])(ui,di,ci,!1,null,"e617e150",null),pi=_i.exports;const hi=a("bef5");var gi={name:"modalEditElement",props:{ID:Number,gid:Number,files:Number,manyLanguages:Number,actualLanguage:String,profileId:Number},components:{fieldF:gs,birthdayF:Os,checkboxF:Us,dropdownF:Bs,radiobtnF:Hs,textareaF:Ws,displayF:ti,fileF:li,yesnoF:pi},data(){return{label:{fr:"",en:""},done:!1,changes:!1,loading:!1,sublabel:"",plugin:"",element:null,translate:{label:!1},plugins:{field:{value:"field",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},birthday:{value:"birthday",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},checkbox:{value:"checkbox",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},dropdown:{value:"dropdown",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},radiobutton:{value:"radiobutton",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},textarea:{value:"textarea",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")},display:{value:"display",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_DISPLAY")},fileupload:{value:"emundus_fileupload",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_FILE")},yesno:{value:"yesno",name:"yesno"}},databases:[],Name:this.translate("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Require:this.translate("COM_EMUNDUS_ONBOARD_FIELD_REQUIRED"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_SAVE"),dataSaved:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),fieldType:this.translate("COM_EMUNDUS_ONBOARD_FIELD_TYPE"),Delete:this.translate("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),LabelRequired:this.translate("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),TranslateEnglish:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),ElementOptions:this.translate("COM_EMUNDUS_ONBOARD_ELEMENT_OPTIONS"),Unpublish:this.translate("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),Publish:this.translate("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),Required:this.translate("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),update:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),updateFailed:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED")}},methods:{subOptions(e){this.sublabel=e},UpdateParams(){this.changes=!0,"undefined"!==typeof this.element.params.sub_options&&(this.element.params.sub_options.sub_values=this.sublabel),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updateparams",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:hi.stringify({element:this.element})}).then(e=>{setTimeout(()=>{this.$emit("reloadElement")},200),this.$modal.hide("modalEditElement"+this.ID)}).catch(e=>{console.log(e)})},axiostrad:function(e){return _()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:hi.stringify({toJTEXT:e})})},getElement(){this.loading=!0,_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:this.ID,gid:this.gid},paramsSerializer:e=>hi.stringify(e)}).then(e=>{this.element=e.data,"databasejoin"==this.element.plugin?"radio"==this.element.params.database_join_display_type?this.plugin="radiobutton":this.plugin=this.element.params.database_join_display_type:"date"==this.element.plugin||"years"==this.element.plugin?this.plugin="birthday":this.plugin=this.element.plugin,this.axiostrad(this.element.label_tag).then(e=>{this.label.fr=e.data.fr,this.label.en=e.data.en}),0!=this.files&&"birthday"!=this.element.plugin&&delete this.plugins.birthday,this.loading=!1})},getDatabases(){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getdatabasesjoin"}).then(e=>{this.databases=e.data.data})},beforeClose(e){!0===this.changes&&(this.changes=!1,this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations)),this.$emit("modalClosed")},beforeOpen(e){this.initialisation()},initialisation(){this.getElement(),this.getDatabases()},publishUnpublishElement(){_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=publishunpublishelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:hi.stringify({element:this.element.id})}).then(e=>{this.element.publish=!this.element.publish,this.$emit("publishUnpublishEvent"),this.$emit("show","foo-velocity","success",this.updateSuccess,this.update)}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating),console.log(e)})},updateRequireElement(){setTimeout(()=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=changerequire",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:hi.stringify({element:this.element})}).then(()=>{this.$emit("updateRequireEvent")}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating),console.log(e)})},300)}},computed:{getlabel:function(){return this.tempEl.label_raw}},watch:{element:function(){this.tempEl=JSON.parse(JSON.stringify(this.element))},plugin:function(e){switch(e){case"dropdown":"databasejoin"!==this.element.plugin&&(this.element.plugin=e);break;case"radiobutton":"databasejoin"!==this.element.plugin&&(this.element.plugin=e);break;case"birthday":"date"!==this.element.plugin&&"years"!==this.element.plugin&&(this.element.plugin=e);break;default:this.element.plugin=e}}}},fi=gi,bi=(a("9b0c"),Object(b["a"])(fi,ds,cs,!1,null,"0d5e424e",null)),vi=bi.exports;a("bef5");var yi={name:"FormViewerEvaluation",props:{link:String,prog:Number},components:{datePicker:za.a,modalEditElement:vi},data(){return{object_json:"",date:new Date,groups:[],loading:!1,options:{format:"DD/MM/YYYY",useCurrent:!1}}},methods:{getDataObject:wt.a.debounce((function(){this.loading=!0;let e=this.link.link.replace("fabrik","emundus_onboard");_.a.get(e+"&format=vue_jsonclean").then(e=>{this.object_json=e.data,this.convertGroupElementsToArray(),this.loading=!1}).catch(e=>{this.loading=!1,console.log(e)})}),150),convertGroupElementsToArray(){Object.keys(this.object_json.Groups).forEach(e=>{this.groups.push(this.object_json.Groups[e]),this.object_json.Groups[e].elts=[],Object.keys(this.object_json.Groups[e].elements).forEach(t=>{this.object_json.Groups[e].elts.push(this.object_json.Groups[e].elements[t])})})}},created(){this.getDataObject()},computed:{dragOptions(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}},watch:{}},wi=yi,Oi=(a("870a"),Object(b["a"])(wi,rs,ls,!1,null,"581e2ffa",null)),Ci=Oi.exports,Ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddEvaluation"}},[a("modal",{attrs:{name:"modalAddEvaluation",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddEvaluation")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addGrid)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.ChooseExistingGridModel)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model_id,expression:"model_id"}],staticClass:"dropdown-toggle",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.model_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}}),e._l(e.models,(function(t,s){return a("option",{domProps:{value:t.form_id}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"form-group",class:{"mb-0":e.translate.label}},[a("label",[e._v(e._s(e.Name)),a("span",{staticClass:"em-red-500-color"},[e._v("*")]),e._v(" :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.fr,expression:"label.fr"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40",id:"menu_label"},domProps:{value:e.label.fr},on:{input:function(t){t.target.composing||e.$set(e.label,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}})])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[e.translate.label?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("i",{staticClass:"fas fa-sort-down"})]):e._e()]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[e.translate.label?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.en,expression:"label.en"}],staticClass:"form__input field-general w-input",attrs:{type:"text",maxlength:"40"},domProps:{value:e.label.en},on:{input:function(t){t.target.composing||e.$set(e.label,"en",t.target.value)}}})]):e._e()]),e.errors&&-1==e.model_id?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":e.translate.intro}},[a("label",[e._v(e._s(e.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.fr,expression:"intro.fr"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.fr},on:{input:function(t){t.target.composing||e.$set(e.intro,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.intro},attrs:{type:"button"},on:{click:function(t){e.translate.intro=!e.translate.intro}}})])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[e.translate.intro?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e()]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[e.translate.intro?a("div",{staticClass:"form-group mb-1"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.en,expression:"intro.en"}],staticClass:"form__input field-general w-input",attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.en},on:{input:function(t){t.target.composing||e.$set(e.intro,"en",t.target.value)}}})]):e._e()]),-1==e.model_id?a("div",{staticClass:"col-md-12 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.template)?e._i(e.template,null)>-1:e.template},on:{change:function(t){var a=e.template,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.template=a.concat([o])):n>-1&&(e.template=a.slice(0,n).concat(a.slice(n+1)))}else e.template=i}}}),a("label",{staticClass:"ml-10px"},[e._v(e._s(e.SaveAsTemplate)+" :")])]):e._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddEvaluation")}}},[e._v(e._s(e.Retour))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createGrid()}}},[e._v(e._s(e.Continuer))])]),e.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()])],1)},Di=[];const Ni=a("bef5");var Ai={name:"modalAddEvaluation",components:{},props:{prog:Number,grid:Number},data(){return{translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},model_id:-1,template:0,models:[],errors:!1,changes:!1,submitted:!1,addGrid:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDGRID"),ChooseExistingGridModel:this.translate("COM_EMUNDUS_ONBOARD_GRIDMODEL"),Name:this.translate("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:this.translate("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),LabelRequired:this.translate("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),TranslateEnglish:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),SaveAsTemplate:this.translate("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{beforeClose(e){},beforeOpen(e){this.getExistingGrids()},getExistingGrids(){_()({method:"get",url:"index.php?option=com_emundus&controller=program&task=getgridsmodel"}).then(e=>{this.models=e.data.data})},createGrid(){this.changes=!0,""!=this.label.fr||-1!=this.model_id?(this.translate.label||(this.label.en=this.label.fr),this.translate.intro||(this.intro.en=this.intro.fr),this.submitted=!0,_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=creategrid",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ni.stringify({label:this.label,intro:this.intro,modelid:this.model_id,template:this.template,pid:this.prog})}).then(e=>{this.submitted=!1,this.$emit("updateGrid"),this.$modal.hide("modalAddEvaluation")}).catch(e=>{console.log(e)})):this.errors=!0}},watch:{model_id:function(e){-1!=e?this.models.forEach(e=>{e.form_id==this.model_id&&(this.label.fr=e.label,this.intro.fr=e.intro)}):(this.label.fr="",this.intro.fr="")}}},Mi=Ai,Ui=Object(b["a"])(Mi,Ei,Di,!1,null,"3a02e294",null),Si=Ui.exports;const xi=a("bef5");var Ti={name:"addEvaluationGrid",components:{ModalAddEvaluation:Si,Datetime:pt["Datetime"],FormViewerEvaluation:Ci},props:{prog:{type:Number,default:""}},data(){return{link:{link:""},visibility:null,viewer:0,grid:null,translations:{addGrid:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDGRID"),editGrid:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EDITGRID"),deleteGrid:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGRID")}}},methods:{getEvaluationGridByProgram(e){_.a.get("index.php?option=com_emundus&controller=program&task=getevaluationgrid&pid="+this.prog).then(t=>{this.grid=t.data.data,null!=this.grid&&(this.link.link="index.php?option=com_fabrik&view=form&formid="+t.data.data,this.viewer++,e&&this.evaluationBuilder())})},evaluationBuilder(){this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid=&index=0&cid="+this.prog+"&evaluation="+this.grid)},deleteGrid(){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGRID"),text:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGRID_QUESTION"),type:"warning",showCancelButton:!0}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=deletegrid",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xi.stringify({grid:this.grid,pid:this.prog})}).then(()=>{j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_GRIDDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then(()=>{this.getEvaluationGridByProgram(0)})}).catch(e=>{console.log(e)})})},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>xi.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})}},created(){this.getEvaluationGridByProgram(0)}},Ri=Ti,ki=Object(b["a"])(Ri,os,ns,!1,null,null,null),Li=ki.exports;const Bi=a("bef5");var Ii={name:"addFormNextCampaign",components:{AddEvaluationGrid:Li,AddDocumentsDropfiles:Oa,addCampaign:Gt,ModalWarningFormBuilder:ca,addFormulaire:is,addEmail:Ba},props:{index:Number},data:()=>({campaignId:0,actualLanguage:"",manyLanguages:0,prid:"",EmitIndex:"0",menuHighlight:0,menuHighlightProg:-1,formReload:0,selectedform:"default",formList:"",prog:0,loading:!1,closeSubmenu:!0,profileId:null,profiles:[],campaignsByProgram:[],currentElement:"",currentSpan:"",langue:0,formCategoriesDesc:[["Vous pouvez modifier vos dates limites de campagne, vos descriptifs et définir une limite de dossiers","Proposez à vos visiteurs des documents d'informations avant même qu'il se connecte. Ces documents seront disponibles dans la section <em>Plus d'informations</em> de votre campagne","Choississez le formulaire de votre campagne. Nous vous proposons des modèles que vous pouvez modifier à tout moment.","Proposez des documents des documents à vos candidats qui remplissent le formulaire. Cela peut être des modèles que les candidats doivent compléter puis déposer ou simplement des documents complémentaires à certains informations demandées","Ajoutez des types de documents que le candidat doit déposer à la suite du formulaire. Glissez simplement les documents entre les 2 colonnes ou ajouter un nouveau type de document"],["You can change your campaign deadlines, your descriptions and set a file limit","Offer your visitors information documents before they even log in. These documents will be available in the <em>More information</em> section of your campaign","Choose the form for your campaign. We offer templates that you can modify at any time.","Offer documents to your applicants when they fill in the form. These can be templates that applicants need to complete and then submit, or simply documents to supplement some of the information requested","Add document types that the applicant should file after the form. Simply drag and drop documents between the 2 columns or add a new document type"]],formCategories:[["Informations générales","Documents préalables","Formulaire"],["Global informations","Preliminary documents","Form"]],formPrograms:[["Grille d'évaluation","Emails"],["Evaluation grid","Emails"]],formProgramsDesc:[["Définissez une phase d'évaluation en créant une grille avec différents critères.","Configurer des envois d'emails automatique aux changements de statuts de vos différents candidats."],["Evaluation grid","Emails"]],form:{},program:{id:0,label:"",code:"",programmes:"",notes:"",synthesis:'<ul><li><strong>[APPLICANT_NAME]</strong></li><li><a href="mailto:[EMAIL]">[EMAIL]</a></li></ul>',tmpl_trombinoscope:'<table cellpadding="2" style="width: 100%;"><tbody><tr style="border-collapse: collapse;"><td align="center" valign="top" style="text-align: center;"><p style="text-align: center;"><img src="[PHOTO]" alt="Photo" height="100" /> </p><p style="text-align: center;"><b>[NAME]</b><br /></p></td></tr></tbody></table>',tmpl_badge:'<table width="100%"><tbody><tr><td style="vertical-align: top; width: 100px;" align="left" valign="middle" width="30%"><img src="[LOGO]" alt="Logo" height="50" /></td><td style="vertical-align: top;" align="left" valign="top" width="70%"><b>[NAME]</b></td></tr></tbody></table>\n',published:1,apply_online:1},prog_group:{prog:null,evaluator:null,manager:null},translations:{DATE_FORMAT:(void 0).translate("DATE_FORMAT_JS_LC2"),From:(void 0).translate("COM_EMUNDUS_ONBOARD_FROM"),To:(void 0).translate("COM_EMUNDUS_ONBOARD_TO"),chooseProfileWarning:(void 0).translate("COM_EMUNDUS_ONBOARD_CHOOSE_PROFILE_WARNING"),ProgramWarning:(void 0).translate("COM_EMUNDUS_ONBOARD_PROGRAM_WARNING")}}),created(){this.campaignId=Number(this.$store.getters["global/datas"].campaignId.value),this.actualLanguage=this.$store.getters["global/actualLanguage"],this.manyLanguages=Number(this.$store.getters["global/manyLanguages"]),this.loading=!0,"en"===this.actualLanguage&&(this.langue=1)},methods:{initInformations(e){this.form.label=e.label,this.form.profile_id=e.profile_id,this.form.program_id=e.progid,this.form.start_date=e.start_date,this.form.end_date=e.end_date,this.form.start_date=r()(this.form.start_date).format(this.translations.DATE_FORMAT),"0000-00-00 00:00:00"==this.form.end_date?this.form.end_date=null:this.form.end_date=r()(this.form.end_date).format(this.translations.DATE_FORMAT),_.a.get("index.php?option=com_emundus&controller=form&task=getallformpublished").then(e=>{this.profiles=e.data.data,null==this.form.profile_id?(0!=this.profiles.length?this.profileId=this.profiles[0].id:this.profileId=null,null!=this.profileId&&(this.formReload+=1)):(this.formReload+=1,this.profileId=this.form.profile_id),this.loading=!1}),setTimeout(()=>{"undefined"==typeof this.menuHighlight&&(this.menuHighlight=0)},500)},changeToProgMenu(e){_.a.get("index.php?option=com_emundus&controller=program&task=getprogrambyid&id="+this.form.program_id).then(e=>{this.program.id=e.data.data.id,this.program.code=e.data.data.code,this.program.label=e.data.data.label,this.program.notes=e.data.data.notes,this.program.programmes=e.data.data.programmes,this.program.tmpl_badge=e.data.data.tmpl_badge,this.program.published=e.data.data.published,this.program.apply_online=e.data.data.apply_online,null!=e.data.data.synthesis&&(this.program.synthesis=e.data.data.synthesis.replace(/>\s+</g,"><")),null!=e.data.data.tmpl_trombinoscope&&(this.program.tmpl_trombinoscope=e.data.data.tmpl_trombinoscope.replace(/>\s+</g,"><")),this.prog_group.prog=e.data.data.group,this.prog_group.evaluator=e.data.data.evaluator_group,this.prog_group.manager=e.data.data.manager_group,_()({method:"get",url:"index.php?option=com_emundus&controller=program&task=getcampaignsbyprogram",params:{pid:this.program.id},paramsSerializer:e=>Bi.stringify(e)}).then(e=>{this.campaignsByProgram=e.data.campaigns})}).catch(e=>{console.log(e)}),this.menuHighlightProg=e,this.menuHighlight=-1},changeToCampMenu(e){this.menuHighlight=e,this.menuHighlightProg=-1},setProfileId(e){this.profileId=e},moment(e){return r()(e)},next(){this.menuHighlight<1?this.menuHighlight++:this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign")},previous(){this.menuHighlight>0?this.menuHighlight--:this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign")},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>Bi.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},getCookie(e){var t=e+"=",a=decodeURIComponent(document.cookie),s=a.split(";");for(let i of s){while(" "==i.charAt(0))i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}},computed:{console:()=>console,getProfileId(){return Number(this.profileId)}}},ji=Ii,Pi=(a("1c6b"),Object(b["a"])(ji,sa,ia,!1,null,"5a16921e",null)),Fi=Pi.exports,$i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),-1!=e.indexHighlight?a("div",[a("ModalAffectCampaign",{attrs:{prid:e.prid,testing:e.testing}}),a("ModalMenu",{attrs:{profileId:e.prid,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages,languages:e.languages},on:{AddMenu:e.pushMenu,modalClosed:function(t){e.optionsModal=!1}}}),e._l(e.formObjectArray,(function(t,s){return a("ModalSide",{directives:[{name:"show",rawName:"v-show",value:e.formObjectArray[e.indexHighlight],expression:"formObjectArray[indexHighlight]"}],key:s,attrs:{ID:t.rgt,element:t.object,link:e.formObjectArray[e.indexHighlight].link,menus:e.formObjectArray,index:s,files:e.files,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages,languages:e.languages},on:{show:e.show,UpdateUx:e.UpdateUXT,UpdateName:e.UpdateName,UpdateIntro:e.UpdateIntro,UpdateVue:e.updateFormObjectAndComponent,removeMenu:e.removeMenu,modalClosed:function(t){e.optionsModal=!1}}})})),a("ModalAddDocuments",{attrs:{pid:e.prid,currentDoc:e.currentDoc,langue:e.actualLanguage,manyLanguages:e.manyLanguages},on:{modalClosed:function(t){e.optionsModal=!1},UpdateDocuments:e.getDocuments}})],2):e._e(),-1!=e.indexHighlight?a("div",{staticClass:"row"},[a("div",{staticClass:"sidebar-formbuilder",style:e.actions_menu?"width: 250px":""},[a("transition",{attrs:{name:"move-right"}},[a("div",{staticClass:"actions-menu menu-block"},[a("a",{staticClass:"d-flex back-button-action pointer",staticStyle:{padding:"0 15px"},attrs:{title:e.translations.Back}},[e._v(" "+e._s(e.translations.BuildYourForm)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),a("div",[a("div",{staticClass:"action-links"},[a("a",{staticClass:"d-flex action-link",staticStyle:{"padding-top":"2em"},attrs:{title:e.translations.addMenu},on:{click:function(t){return e.$modal.show("modalMenu")}}},[a("em",{staticClass:"add-page-icon"}),a("label",{staticClass:"action-label col-md-offset-1 col-sm-offset-1"},[e._v(e._s(e.translations.addMenu))])]),a("a",{staticClass:"d-flex action-link",attrs:{title:e.translations.addGroup},on:{click:function(t){return e.showSections()}}},[a("em",{staticClass:"add-group-icon"}),a("label",{staticClass:"action-label col-md-offset-1 col-sm-offset-1"},[e._v(e._s(e.translations.addGroup))])]),a("a",{staticClass:"d-flex action-link",class:{"disable-element":e.elementDisabled},attrs:{title:e.translations.addItem},on:{click:e.showElements}},[a("em",{staticClass:"add-element-icon"}),a("label",{staticClass:"action-label col-md-offset-1 col-sm-offset-1",class:[{"disable-element":e.elementDisabled},e.addingElement?"down-arrow":"right-arrow"]},[e._v(e._s(e.translations.addItem))])]),a("transition",{attrs:{name:"slide-right",type:"transition"}},[e.addingElement?a("div",{staticClass:"plugins-list"},[a("a",{staticClass:"d-flex col-md-offset-1 back-button-action pointer",staticStyle:{padding:"0 15px"},attrs:{title:e.Back},on:{click:function(t){e.addingElement=!e.addingElement}}},[a("em",{staticClass:"fas fa-arrow-left mr-1"}),e._v(" "+e._s(e.translations.Back)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),a("draggable",e._b({staticStyle:{"padding-bottom":"2em","margin-top":"10%"},attrs:{handle:".handle","drag-class":"plugin-drag","chosen-class":"plugin-chosen","ghost-class":"plugin-ghost"},on:{start:function(t){e.startDragging(),e.dragging=!0,e.draggingIndex=e.index},end:function(t){return e.addingNewElement(t)}},model:{value:e.plugins,callback:function(t){e.plugins=t},expression:"plugins"}},"draggable",e.dragOptions,!1),e._l(e.plugins,(function(t,s){return a("div",{key:"plugin_"+s,staticClass:"d-flex plugin-link col-md-offset-1 col-sm-offset-1 handle",attrs:{id:"plugin_"+t.value,title:t.name},on:{dblclick:function(a){return e.addingNewElementByDblClick(t.value)}}},[a("em",{class:t.icon}),a("span",{staticClass:"ml-10px"},[e._v(e._s(t.name))])])})),0)],1):e._e()]),a("transition",{attrs:{name:"slide-right",type:"transition"}},[e.addingSection?a("div",{staticClass:"plugins-list"},[a("a",{staticClass:"d-flex col-md-offset-1 back-button-action pointer",staticStyle:{padding:"0 15px"},attrs:{title:e.Back},on:{click:function(t){e.addingSection=!e.addingSection}}},[a("em",{staticClass:"fas fa-arrow-left mr-1"}),e._v(" "+e._s(e.translations.Back)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),e._l(e.sections,(function(t,s){return a("div",{staticClass:"d-flex plugin-link col-md-offset-1 col-sm-offset-1 ",staticStyle:{cursor:"default"},attrs:{id:"section_"+t.value,title:t.name},on:{click:function(a){return e.createGroup(t.value,t.label)}}},[a("em",{class:t.icon}),a("span",{staticClass:"ml-10px"},[e._v(e._s(t.name))])])}))],2):e._e()])],1)])])])],1),a("div",{staticClass:"menu-block",class:e.actions_menu?"col-md-8 col-md-offset-4 col-sm-9 col-sm-offset-3":""},[a("div",{staticClass:"heading-block",class:e.addingElement||e.actions_menu?"col-md-6":"col-md-8"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.updateFormLabel,expression:"!updateFormLabel"}],staticClass:"d-flex form-title-block"},[a("h2",{staticClass:"form-title",staticStyle:{padding:"0",margin:"0"},on:{click:e.enableUpdatingForm}},[e._v(e._s(e.profileLabel))]),a("a",{staticClass:"cta-block pointer",staticStyle:{"margin-left":"1em"},attrs:{title:e.translations.Edit},on:{click:e.enableUpdatingForm}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.updateFormLabel,expression:"updateFormLabel"}],staticStyle:{width:"max-content","margin-left":"20px"}},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.profileLabel,expression:"profileLabel"}],staticClass:"form__input field-general w-input",staticStyle:{width:"400px"},attrs:{id:"update_label_form_"+e.prid},domProps:{value:e.profileLabel},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLabelForm()},input:function(t){t.target.composing||(e.profileLabel=t.target.value)}}}),a("div",{staticClass:"d-flex actions-update-label ml-10px"},[a("a",{attrs:{title:e.translations.Validate},on:{click:function(t){return e.updateLabelForm()}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])])])]),0===e.menuHighlight?a("div",{staticClass:"form-builder"},[a("div",{staticClass:"form-viewer-builder",class:[e.addingElement||e.actions_menu?"col-sm-offset-5 col-md-offset-4 col-lg-offset-1 col-sm-7 col-md-6":"col-md-8",e.optionsModal?"col-sm-5 col-md-6":"col-md-8"]},[e.formObjectArray[e.indexHighlight]?a("Builder",{key:e.builderKey,ref:"builder",attrs:{object:e.formObjectArray[e.indexHighlight],UpdateUx:e.UpdateUx,rgt:e.rgt,prid:e.prid,eval:0,files:e.files,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages},on:{show:e.show,UpdateFormBuilder:e.updateFormObjectAndComponent,removeGroup:e.removeGroup,modalClosed:function(t){e.optionsModal=!1},modalOpen:function(t){e.optionsModal=!0}}}):e._e()],1)]):e._e(),1===e.menuHighlight?a("div",{staticClass:"form-builder"},[a("div",{staticClass:"form-viewer-builder",class:[e.addingElement||e.actions_menu?"col-sm-offset-5 col-md-offset-4 col-lg-offset-1 col-sm-7 col-md-6":"col-md-8",e.optionsModal?"col-sm-5 col-md-6":"col-md-8"]},[e.submittionPages[e.indexHighlight]?a("Builder",{key:e.builderSubmitKey,ref:"builder_submit",attrs:{object:e.submittionPages[e.indexHighlight],UpdateUx:e.UpdateUx,rgt:e.rgt,prid:e.prid,eval:0,files:e.files,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages},on:{show:e.show,UpdateFormBuilder:e.updateFormObjectAndComponent,removeGroup:e.removeGroup,modalClosed:function(t){e.optionsModal=!1},modalOpen:function(t){e.optionsModal=!0}}}):e._e()],1)]):e._e(),e.formObjectArray?a("ul",{staticClass:"col-md-3 sticky-form-pages",class:[e.addingElement||e.actions_menu&&e.formList.length>0?"ml-10px col-sm-offset-5 col-sm-7":"",e.optionsModal?"col-sm-5":"",0===e.formList.length?"col-sm-offset-5 col-sm-7":""],staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("h3",{staticClass:"mb-0",staticStyle:{padding:"0"}},[e._v(e._s(e.translations.FormPage))]),a("label",{staticClass:"saving-at"},[e._v(e._s(e.translations.Savingat)+" "+e._s(e.lastUpdate)),a("em",{staticClass:"fas fa-sync ml-10px"})])]),a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{"margin-bottom":"0",padding:"0"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png",alt:e.translations.Form}}),e._v(e._s(e.translations.Form))]),a("draggable",{class:"draggables-list",attrs:{handle:".handle"},on:{end:e.SomethingChange},model:{value:e.formList,callback:function(t){e.formList=t},expression:"formList"}},e._l(e.formList,(function(t,s){return a("li",{key:s,staticClass:"MenuForm",on:{mouseover:function(t){return e.enableGrab(s)},mouseleave:function(t){return e.disableGrab()}}},[a("span",{staticClass:"icon-handle",style:e.grab&&e.indexGrab==s?"opacity: 1":"opacity: 0"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("a",{staticClass:"MenuFormItem",class:e.indexHighlight==s&&0===e.menuHighlight?"MenuFormItem_current":"",attrs:{title:t.label},on:{click:function(a){e.changeGroup(s,t.rgt),e.menuHighlight=0}}},[e._v(" "+e._s(t.label)+" ")])])})),0),a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{"margin-left":"30px"},attrs:{title:e.translations.addMenuAction},on:{click:function(t){e.$modal.show("modalMenu"),e.optionsModal=!0}}},[e._v(e._s(e.translations.addMenuAction))])],1),a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{"margin-bottom":"10px",padding:"0"}},[a("em",{staticClass:"far fa-folder-open mr-1",attrs:{alt:e.translations.Documents}}),e._v(e._s(e.translations.Documents))]),a("draggable",{class:"draggables-list",attrs:{handle:".handle"},on:{end:e.reorderingDocuments},model:{value:e.documentsList,callback:function(t){e.documentsList=t},expression:"documentsList"}},e._l(e.documentsList,(function(t,s){return 1==t.displayed?a("li",{key:s,staticClass:"MenuForm",on:{mouseover:function(t){return e.enableGrabDocuments(s)},mouseleave:function(t){return e.disableGrabDocuments()}}},[a("span",{staticClass:"icon-handle",style:e.grabDocs&&e.indexGrabDocuments==s?"opacity: 1":"opacity: 0"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("a",{staticClass:"MenuFormItem",attrs:{title:t.label}},[e._v(" "+e._s(t.label)),1==t.mandatory?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e()]),a("a",{staticClass:"cta-block pointer",style:e.grabDocs&&e.indexGrabDocuments==s?"opacity: 1":"opacity: 0",on:{click:function(a){return e.removeDocument(s,t.id)}}},[a("i",{staticClass:"fas fa-times",staticStyle:{width:"15px",height:"15px"}})]),a("a",{staticClass:"cta-block pointer",style:e.grabDocs&&e.indexGrabDocuments==s?"opacity: 1":"opacity: 0",attrs:{title:e.translations.Edit},on:{click:function(a){e.currentDoc=t.docid,e.$modal.show("modalAddDocuments"),e.optionsModal=!0}}},[a("em",{staticClass:"fas fa-pen",staticStyle:{width:"15px",height:"14px"},attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]):e._e()})),0),a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{"margin-left":"30px"},attrs:{title:e.translations.AddNewDocument},on:{click:function(t){e.currentDoc=null,e.$modal.show("modalAddDocuments"),e.optionsModal=!0}}},[e._v(e._s(e.translations.AddNewDocument))])],1),e.submittionPages?a("div",{staticClass:"form-pages",staticStyle:{"padding-top":"20px"}},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{"margin-bottom":"10px",padding:"0"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/confirmation.png",alt:e.translations.SubmitPage}}),e._v(e._s(e.translations.SubmitPage))]),e._l(e.submittionPages,(function(t,s){return a("li",{key:s,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem",class:e.indexHighlight==s&&1===e.menuHighlight?"MenuFormItem_current":"",staticStyle:{"margin-left":"5px"},attrs:{title:""!=t.object.show_title.value?t.object.show_title.value:e.translations.SubmittionPage},on:{click:function(t){e.menuHighlight=1,e.indexHighlight=s}}},[e._v(" "+e._s(t.object.show_title.value?t.object.show_title.value:e.translations.SubmittionPage)+" ")])])}))],2):e._e(),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:e.translations.Validate},on:{click:e.sendForm}},[e._v(e._s(e.translations.Validate))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:e.translations.Validate},on:{click:e.exitForm}},[e._v(e._s(e.translations.ExitFormbuilder))])])]):e._e()])]):e._e(),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()],1)},Gi=[],Hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid",attrs:{id:"FormBuilder"}},[a("div",{staticClass:"row"},[e.object_json?a("BuilderViewer",{key:e.builderViewKey,ref:"builder_viewer",staticClass:"col-md-12",attrs:{object:e.object,groups:e.GroupList,change:this.change,changedElement:this.changedElement,changedGroup:this.changedGroup,UpdateUx:e.UpdateUx,files:e.files,prid:e.prid,eval:e.eval,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages},on:{show:e.show,modalClosed:function(t){return e.$emit("modalClosed")},modalOpen:function(t){return e.$emit("modalOpen")},UpdateUxf:e.UpdateUXF}}):e._e()],1)])},zi=[],qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BuilderViewer",attrs:{id:"BuilderViewer"}},[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"}}),e.object_json.show_page_heading?a("div",{class:e.object_json.show_page_heading.class,domProps:{innerHTML:e._s(e.object_json.show_page_heading.page_heading)}}):e._e(),0!=e.eval||e.updatePage?e._e():a("div",{staticClass:"d-flex header-form-page mb-1"},[e.object_json.show_title?a("h2",{staticClass:"page_header mr-1",domProps:{innerHTML:e._s(e.object_json.show_title.value)},on:{click:function(t){return e.enableUpdatingPage(e.object_json)}}}):e._e(),a("span",{staticClass:"cta-block pointer",staticStyle:{"font-size":"16px"},attrs:{title:e.translations.Edit},on:{click:function(t){e.$emit("modalOpen"),e.$modal.show("modalSide"+e.object.rgt)}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.updatePage&&e.indexPage==e.object_json.id,expression:"updatePage && indexPage == object_json.id"}],staticStyle:{width:"max-content","margin-left":"20px"}},[a("div",{staticClass:"input-can-translate",staticStyle:{"margin-top":"40px"}},[e.object_json.show_title?a("input",{directives:[{name:"model",rawName:"v-model",value:e.object_json.show_title.label[e.actualLanguage],expression:"object_json.show_title.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:e.translate.label_page?"":"mb-1",staticStyle:{width:"400px"},attrs:{id:"update_input_"+e.object_json.id},domProps:{value:e.object_json.show_title.label[e.actualLanguage]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLabelPage(e.object_json)},input:function(t){t.target.composing||e.$set(e.object_json.show_title.label,e.actualLanguage,t.target.value)}}}):e._e(),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:e.translate.label_page?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(t){return e.enableTranslationPage(e.object_json.id)}}}):e._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==e.manyLanguages?"":"ml-10px",style:e.translate.label_page?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:e.translations.Validate},on:{click:function(t){return e.updateLabelPage(e.object_json)}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),e.object_json.show_title&&e.translate.label_page?a("translation",{attrs:{label:e.object_json.show_title.label,actualLanguage:e.actualLanguage}}):e._e()],1),0!=e.eval||e.updateIntroPage?e._e():a("p",{staticClass:"introP",domProps:{innerHTML:e._s(e.object_json.intro_value)}}),a("form",{staticClass:"form-page",style:1==e.eval?"margin-top: 30px":"",attrs:{method:"post","object_json.attribs":"",id:"form_"+e.object_json.id},on:{submit:function(e){e.preventDefault()}}},[e.object_json.plugintop?a("div",{domProps:{innerHTML:e._s(e.object_json.plugintop)}}):e._e(),a("draggable",{staticClass:"groups-block",attrs:{handle:".handle"},on:{start:e.startGroupDrag,end:e.SomethingChangeInGroup},model:{value:e.groups,callback:function(t){e.groups=t},expression:"groups"}},e._l(e.orderedGroups,(function(t,s){return a("div",{key:t.index,staticClass:"group-item-block",on:{mouseover:function(a){return e.enableGroupHover(t.group_id)},mouseleave:function(t){return e.disableGroupHover()}}},[a("fieldset",{class:[t.group_class],staticStyle:{"background-size":"20px",width:"100%"},style:-1==t.hidden_group?"background: #e3e3e3;":"",attrs:{id:"group_"+t.group_id}},[-1==t.hidden_group?a("div",{staticClass:"hidden-notice d-flex"},[a("i",{staticClass:"fas fa-exclamation-circle"}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.translations.HiddenGroup))])]):e._e(),a("div",{staticClass:"d-flex justify-content-between",class:e.updateGroup&&e.indexGroup==t.group_id?"hidden":"",staticStyle:{width:"100%"}},[a("div",{staticClass:"d-flex justify-content-between",staticStyle:{width:"100%"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverGroup&&e.indexGroup==t.group_id,expression:"hoverGroup && indexGroup == group.group_id"}],staticClass:"icon-handle-group"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),t.group_showLegend?a("legend",{staticClass:"legend ViewerLegend",on:{click:function(a){return e.enableUpdatingGroup(t)}}},[e._v(" "+e._s(t.group_showLegend)+" ")]):e._e(),a("div",{staticClass:"d-flex"},[a("a",{staticClass:"group-repeat-icon ml-10px pointer",class:t.repeat_group?"active-repeat":"",attrs:{title:e.translations.RepeatedGroup},on:{click:function(a){return e.enableRepatedGroup(t)}}},[a("em",{staticClass:"fas fa-clone",attrs:{"data-toggle":"tooltip","data-placement":"top"}})]),a("v-popover",{attrs:{popoverArrowClass:"custom-popover-arrow"}},[a("button",{staticClass:"tooltip-target b3 card-button"}),a("template",{slot:"popover"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",[a("nav",{staticClass:"actions-dropdown pointer",attrs:{"aria-label":"action"}},[a("a",{staticClass:"action-submenu",on:{click:function(a){return e.enableUpdatingGroup(t)}}},[e._v(" "+e._s(e.translations.EditName)+" ")]),a("a",{staticClass:"action-submenu",on:{click:function(a){return e.displayHideGroup(t)}}},[e._v(" "+e._s(e.translations.DisplayHide)+" ")]),0!=e.files||t.cannot_delete?e._e():a("a",{staticClass:"action-submenu",attrs:{title:e.translations.Delete},on:{click:function(a){return e.deleteAGroup(t,s)}}},[e._v(" "+e._s(e.translations.Delete)+" ")])])])])],1)])],2)],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.updateGroup&&e.indexGroup==t.group_id,expression:"updateGroup && indexGroup == group.group_id"}],staticStyle:{width:"max-content"}},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label[e.actualLanguage],expression:"group.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:e.translate.label_group?"":"mb-1",staticStyle:{width:"400px"},attrs:{id:"update_input_"+t.group_id},domProps:{value:t.label[e.actualLanguage]},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateLabelGroup(t)},input:function(a){a.target.composing||e.$set(t.label,e.actualLanguage,a.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:e.translate.label_group?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(a){return e.enableTranslationGroup(t.group_id)}}}):e._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==e.manyLanguages?"":"ml-10px",style:e.translate.label_group?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:e.translations.Validate},on:{click:function(a){return e.updateLabelGroup(t)}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),e.translate.label_group?a("translation",{attrs:{label:t.label,actualLanguage:e.actualLanguage}}):e._e()],1),t.group_intro?a("div",{staticClass:"groupintro",domProps:{innerHTML:e._s(t.group_intro)}}):e._e(),void 0!==t.elts?[0==t.elts.length?a("div",{staticClass:"no-elements-tip"},[e._v(e._s(e.translations.NoElementsTips))]):e._e()]:e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.openGroup[t.group_id],expression:"openGroup[group.group_id]"}],staticClass:"elements-block"},[a("draggable",{staticClass:"draggable-span",attrs:{handle:".handle",group:"items"},on:{start:function(t){e.draggable=!0},end:e.SomethingChange},model:{value:t.elts,callback:function(a){e.$set(t,"elts",a)},expression:"group.elts"}},[a("transition-group",{attrs:{name:"slide-down",type:"transition"}},e._l(t.elts,(function(s,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===s.hidden,expression:"element.hidden === false"}],key:s.id,staticClass:"builder-item-element",on:{mouseover:function(t){return e.enableActionBar(s.id)},mouseleave:function(t){return e.disableActionBar()}}},[a("modalEditElement",{key:e.keyElements["element"+s.id],attrs:{ID:s.id,gid:s.group_id,files:e.files,manyLanguages:e.manyLanguages,actualLanguage:e.actualLanguage,id:s.id,profileId:e.prid},on:{reloadElement:function(t){return e.reloadElement(s)},publishUnpublishEvent:function(t){return e.publishUnpublishEvent(s)},updateRequireEvent:function(t){return e.updateRequireEvent(s)},modalClosed:function(t){return e.$emit("modalClosed")},show:e.show}}),a("modalDuplicateElement",{key:e.keyElements["element"+s.id],attrs:{ID:s.id,currentGroup:t.group_id,currentPage:e.object_json.id,id:s.id,prid:e.prid},on:{reloadElement:function(t){return e.reloadElement(s)},modalClosed:function(t){return e.$emit("modalClosed")}}}),a("div",{staticClass:"d-flex builder-item-element__properties",class:{"element-updating":e.hoverUpdating&&e.indexHighlight==s.id,unpublished:!s.publish,"draggable-item":e.draggable&&e.indexHighlight==s.id,handle:!e.clickUpdatingLabel}},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex",class:e.clickUpdatingLabel&&e.indexHighlight==s.id?"hidden":"",staticStyle:{"align-items":"baseline"}},[s.label_value?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=s.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:e._s(s.label_value)},on:{click:function(t){return e.enableLabelInput(s.id)}}}):e._e(),a("a",{staticClass:"cta-block pointer",staticStyle:{"font-size":"16px"},style:e.hoverUpdating&&e.indexHighlight==s.id&&!e.clickUpdatingLabel?"opacity: 1":"opacity: 0",attrs:{title:e.translations.Edit},on:{click:function(t){return e.enableLabelInput(s.id)}}},[a("em",{staticClass:"fas fa-pen ml-10px",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.clickUpdatingLabel&&e.indexHighlight==s.id,expression:"clickUpdatingLabel && indexHighlight == element.id"}],staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.label[e.actualLanguage],expression:"element.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:e.translate.label?"":"mb-1",attrs:{id:"label_"+s.id},domProps:{value:s.label[e.actualLanguage]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLabelElement(s)},input:function(t){t.target.composing||e.$set(s.label,e.actualLanguage,t.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:e.translate.label?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(t){return e.enableTranslationLabel(s.id)}}}):e._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==e.manyLanguages?"":"ml-10px",style:e.translate.label?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:e.translations.Validate},on:{click:function(t){return e.updateLabelElement(s)}}},[a("em",{staticClass:"fas fa-check",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),e.translate.label&&e.clickUpdatingLabel&&e.indexHighlight==s.id?a("translation",{attrs:{label:s.label,actualLanguage:e.actualLanguage}}):0==s.labelsAbove?a("div",{staticClass:"controls"},[s.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(s.error)}}):e._e(),s.element?a("div",{class:s.errorClass,domProps:{innerHTML:e._s(s.element)}}):e._e(),s.tipSide?a("span",{domProps:{innerHTML:e._s(s.tipSide)}}):e._e()]):a("span",{staticClass:"d-flex w-100"},[s.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(s.error)}}):e._e(),s.element?a("div",{staticClass:"w-100",class:s.errorClass,domProps:{innerHTML:e._s(s.element)}}):e._e(),s.tipSide?a("span",{domProps:{innerHTML:e._s(s.tipSide)}}):e._e()]),s.tipBelow?a("span",{domProps:{innerHTML:e._s(s.tipBelow)}}):e._e()],1),a("div",{staticClass:"actions-item-bar",style:e.hoverUpdating&&e.indexHighlight==s.id?"opacity: 1":"opacity: 0"},["calc"!=s.plugin?a("a",{staticClass:"d-flex mr-2 mb-1",attrs:{title:e.translations.Settings},on:{click:function(t){return e.openParameters(s)}}},[a("em",{staticClass:"fas fa-cog settings-elt"})]):e._e(),0==e.files?a("a",{staticClass:"d-flex mr-2",staticStyle:{color:"red"},attrs:{title:e.translations.Delete},on:{click:function(t){return e.deleteElement(s,i)}}},[a("em",{staticClass:"fas fa-trash-alt delete-icon-elt"})]):e._e(),e.sysaccess?a("a",{staticClass:"d-flex mr-2 mt-1",attrs:{target:"_blank",href:"/administrator/index.php?option=com_fabrik&view=element&layout=edit&id="+s.id}},[a("em",{staticClass:"fas fa-link settings-elt"})]):e._e()]),"display"!=s.plugin?a("a",{staticClass:"d-flex mr-2",style:e.hoverUpdating&&e.indexHighlight==s.id?"opacity: 1":"opacity: 0"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.FRequire,expression:"element.FRequire"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.FRequire)?e._i(s.FRequire,null)>-1:s.FRequire},on:{click:function(t){return e.updateRequireElement(s)},change:function(t){var a=s.FRequire,i=t.target,o=!!i.checked;if(Array.isArray(a)){var n=null,r=e._i(a,n);i.checked?r<0&&e.$set(s,"FRequire",a.concat([n])):r>-1&&e.$set(s,"FRequire",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(s,"FRequire",o)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",staticStyle:{color:"black"}},[e._v(e._s(e.translations.Required)+" ")])]):e._e()])],1)})),0)],1)],1),t.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:e._s(e.group_outro)}}):e._e()],2)])})),0),e.object_json.pluginbottom?a("div",{domProps:{innerHTML:e._s(e.object_json.pluginbottom)}}):e._e()],1)])},Vi=[],Ji=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalDuplicateElement"}},[a("modal",{attrs:{name:"modalDuplicateElement"+e.ID,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalDuplicateElement"+e.ID)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.DuplicateElement)+" ")]),a("p",[e._v(e._s(e.Target))])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group mb-2"},[a("label",[e._v(e._s(e.Page)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.page},attrs:{id:"select_page"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.page=t.target.multiple?a:a[0]}}},e._l(e.pages,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),0)]),e.errors.page?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.PageRequired))])]):e._e(),a("transition",{attrs:{name:"slide-down",type:"transition"}},[-1!==e.page&&e.groups.length>1?a("div",{staticClass:"form-group mb-2"},[a("label",[e._v(e._s(e.Group)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.group,expression:"group"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.group},attrs:{id:"select_group"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.group=t.target.multiple?a:a[0]}}},e._l(e.groups,(function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])})),0)]):e._e()]),e.errors.group?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.GroupRequired))])]):e._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalDuplicateElement"+e.ID)}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.duplicate()}}},[e._v(e._s(e.Continuer))])]),e.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()])],1)},Yi=[];const Wi=a("bef5");var Qi={name:"modalDuplicateElement",props:{ID:Number,prid:String,currentGroup:Number,currentPage:Number},data(){return{page:-1,group:-1,pages:[],groups:[],errors:{page:!1,group:!1},DuplicateElement:this.translate("COM_EMUNDUS_ONBOARD_DUPLICATE_ELEMENT"),Page:this.translate("COM_EMUNDUS_ONBOARD_BUILDMENU"),Group:this.translate("COM_EMUNDUS_ONBOARD_GROUP"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_SAVE"),PageRequired:this.translate("COM_EMUNDUS_ONBOARD_REQUIRED_FORM"),GroupRequired:this.translate("COM_EMUNDUS_ONBOARD_REQUIRED_GROUP"),Target:this.translate("COM_EMUNDUS_ONBOARD_CHOOSE_TARGET")}},methods:{beforeClose(e){!0===this.changes&&this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations),this.$emit("modalClosed"),this.changes=!1},beforeOpen(e){this.page=-1,this.group=-1,this.errors={page:!1,group:!1},this.getFormPages()},duplicate(){return this.errors={page:!1,group:!1},-1==this.page?(this.errors.page=!0,0):-1==this.group?(this.errors.group=!0,0):void _()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=duplicateelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Wi.stringify({id:this.ID,group:this.group,old_group:this.currentGroup,form_id:this.page})}).then(e=>{window.location.reload()})},getFormPages(){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getFormsByProfileId",params:{profile_id:this.prid},paramsSerializer:e=>Wi.stringify(e)}).then(e=>{this.pages=e.data.data,this.page=this.currentPage})},getGroupsByForm(){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getgroupsbyform",params:{form_id:this.page},paramsSerializer:e=>Wi.stringify(e)}).then(e=>{this.groups=e.data.data,this.groups.length<=1&&(this.group=this.groups[0].id)})}},watch:{page:function(){this.getGroupsByForm()}}},Xi=Qi,Ki=Object(b["a"])(Xi,Ji,Yi,!1,null,"d2b70292",null),Zi=Ki.exports;const eo=a("bef5");var to={name:"BuilderViewer",props:{object:Object,groups:Array,change:Boolean,changedElement:Array,changedGroup:String,UpdateUx:Boolean,files:Number,eval:Number,prid:String,actualLanguage:String,manyLanguages:String,pid:Number},components:{Editor:Dt,datePicker:za.a,draggable:ga.a,modalEditElement:vi,modalDuplicateElement:Zi,Translation:It},data(){return{object_json:"",sysaccess:!1,updatePage:!1,updateIntroPage:!1,indexPage:-1,openGroup:{},hoverGroup:!1,indexGroup:-1,updateGroup:!1,hoverUpdating:!1,indexHighlight:0,clickUpdatingLabel:!1,draggable:!1,fieldChanges:!1,repeat:!1,keyElements:{},date:new Date,options:{format:"DD/MM/YYYY",useCurrent:!1},translate:{label:!1,label_group:!1,label_page:!1,intro_page:!1},elementAssociateDocUpdateForm:{name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1}},translations:{update:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),orderSuccess:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ORDERSUCESS"),orderFailed:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ORDERFAILED"),updateFailed:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED"),sidemenuhelp:this.translate("COM_EMUNDUS_ONBOARD_SIDEMENUHELP"),TranslateEnglish:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Unpublish:this.translate("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),Publish:this.translate("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),Required:this.translate("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),Settings:this.translate("COM_EMUNDUS_ONBOARD_ACTIONS_SETTINGS"),Delete:this.translate("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),Edit:this.translate("COM_EMUNDUS_ONBOARD_MODIFY"),Cancel:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),Validate:this.translate("COM_EMUNDUS_ONBOARD_OK"),RepeatGroup:this.translate("COM_EMUNDUS_ONBOARD_REPEAT_GROUP"),RepeatedGroup:this.translate("COM_EMUNDUS_ONBOARD_REPEATED_GROUP"),Duplicate:this.translate("COM_EMUNDUS_ONBOARD_DUPLICATE"),NoElementsTips:this.translate("COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS"),EditName:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EDIT_NAME"),EditIntro:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EDIT_INTRO"),DisplayHide:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_HIDE"),HiddenGroup:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_HIDDEN_GROUP")}}},methods:{splitProfileIdFromLabel(e){return e.split(/-(.+)/)[1]},async updateElementsOrder(e,t,a){var s=t.map((e,t)=>({id:e.id,order:t+1}));_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updateOrder",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({elements:s,group_id:e,moved_el:a})}).then(t=>{this.$emit("show","foo-velocity","success",this.orderSuccess,this.update);let s=this.object.link.replace("fabrik","emundus_onboard");_.a.get(s+"&format=vue_jsonclean").then(e=>{this.groups.forEach(t=>{this.$set(this.object_json.Groups["group_"+t.group_id],"elements",e.data.Groups["group_"+t.group_id].elements)})}),a.group_id=e}).catch(e=>{})},updateRequireElement(e){this.clickUpdatingLabel&&this.updateLabelElement(e),setTimeout(()=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=changerequire",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({element:e})}).then(()=>{this.updateRequireEvent(e)}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating)})},300)},updateRequireEvent(e){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:e=>eo.stringify(e)}).then(t=>{e.label_value=t.data.label_value,this.$emit("show","foo-velocity","success",this.updateSuccess,this.update)})},publishUnpublishEvent(e){e.publish=!e.publish,e.publish?(document.getElementById("publish_icon_"+e.id).classList.remove("fa-eye"),document.getElementById("publish_icon_"+e.id).classList.add("fa-eye-slash")):(document.getElementById("publish_icon_"+e.id).classList.add("fa-eye"),document.getElementById("publish_icon_"+e.id).classList.remove("fa-eye-slash"))},deleteAssociateElementDoc(e){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=deletedocumentdropfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({did:e})}).then(e=>{}),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=removeDocumentFromProfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({did:e})}).then(e=>{}),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=removeDocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({did:e,prid:this.prid,cid:this.cid})}).then(e=>{})},deleteElement(e,t){this.clickUpdatingLabel&&this.updateLabelElement(e),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEELEMENT"),text:this.translate("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(a=>{a.value&&("emundus_fileupload"==e.plugin&&this.deleteAssociateElementDoc(e.params.attachmentId),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=deleteElement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({element:e.id})}).then(()=>{j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ELEMENTDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then(()=>{this.object_json.Groups["group_"+e.group_id].elts.splice(t,1),delete this.object_json.Groups["group_"+e.group_id].elements["element"+e.id],this.$forceUpdate()})}).catch(e=>{}))})},openDuplicate(e){this.clickUpdatingLabel&&this.updateLabelElement(e),this.$emit("modalOpen"),this.$modal.show("modalDuplicateElement"+e.id)},openParameters(e){this.clickUpdatingLabel&&this.updateLabelElement(e),this.repeat=!1,this.$emit("modalOpen"),this.$modal.show("modalEditElement"+e.id)},retrieveAssociateElementDoc(e){_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=retriveElementFormAssociatedDoc",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({gid:2,docid:e})}).then(e=>{this.elementAssociateDocUpdateForm.description[this.actualLanguage]=e.data.description,e.data.allowed_types.includes("pdf")?this.elementAssociateDocUpdateForm.selectedTypes.pdf=!0:this.elementAssociateDocUpdateForm.selectedTypes.pdf=!1,e.data.allowed_types.includes("jpg")||e.data.allowed_types.includes("png")||e.data.allowed_types.includes("gif")?this.elementAssociateDocUpdateForm.selectedTypes["jpg;png;gif"]=!0:this.elementAssociateDocUpdateForm.selectedTypes["jpg;png;gif"]=!1,e.data.allowed_types.includes("xls")||e.data.allowed_types.includes("xlsx")||e.data.allowed_types.includes("odf")?this.elementAssociateDocUpdateForm.selectedTypes["xls;xlsx;odf"]=!0:this.elementAssociateDocUpdateForm.selectedTypes["xls;xlsx;odf"]=!1,this.elementAssociateDocUpdateForm.nbmax=e.data.nbmax})},updateAssociateDocElement(e){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updatedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify(e)}).then(t=>{_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updateDocumentFalang",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify(e)}).then(e=>{})})},updateLabelElement(e){"emundus_fileupload"==e.plugin&&this.retrieveAssociateElementDoc(e.params.attachmentId);let t=e.label;"Unnamed item"===t.en&&(t.en=t.fr,e.label.en=t.fr),"emundus_fileupload"==e.plugin&&(this.elementAssociateDocUpdateForm.name.en=t.en,this.elementAssociateDocUpdateForm.name.fr=t.fr),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({element:e.id,labelTofind:e.label_tag,NewSubLabel:t})}).then(a=>{if(0==a.data.status)_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updateelementlabelwithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({eid:e.id,label:e.label[this.actualLanguage]})}).then(()=>{_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:e=>eo.stringify(e)}).then(t=>{e.label_value=t.data.label_value,this.$emit("show","foo-velocity","success",this.updateSuccess,this.update)})});else{if("emundus_fileupload"==e.plugin){let a=[];Object.keys(this.elementAssociateDocUpdateForm.selectedTypes).forEach(e=>{1==this.elementAssociateDocUpdateForm.selectedTypes[e]&&a.push(e)});let s={document:this.elementAssociateDocUpdateForm,types:a,cid:this.cid,pid:this.prid,did:e.params.attachmentId,text_fr:t.fr,text_en:t.en};this.updateAssociateDocElement(s)}_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:e=>eo.stringify(e)}).then(t=>{this.$set(e,"element",t.data.element),e.label_value=t.data.label_value,this.$emit("show","foo-velocity","success",this.updateSuccess,this.update),this.translate.label=!1})}this.clickUpdatingLabel=!1}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating)})},reloadElement(e){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:e=>eo.stringify(e)}).then(t=>{"databasejoin"===t.data.plugin&&!1===this.repeat?(this.repeat=!0,this.reloadElement(e)):(this.$set(e,"element",t.data.element),e=t.data,this.$set(this.keyElements,"element"+e.id,this.keyElements["element"+e.id]+1))}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating)})},updateLabelGroup(e){let t=e.label;_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({group:e.group_id,labelTofind:e.group_tag,NewSubLabel:t})}).then(t=>{0==t.data.status&&_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updategrouplabelwithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({gid:e.group_id,label:e.label[this.actualLanguage]})}),this.$emit("show","foo-velocity","success",this.updateSuccess,this.update),e.group_showLegend=e.label[this.actualLanguage],this.translate.label_group=!1,this.updateGroup=!1}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating)})},deleteAGroup(e,t){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),text:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUPWARNING"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(a=>{a.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=deleteGroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({gid:e.group_id})}).then(()=>{j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_GROUPDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then(()=>{this.groups.splice(t,1),delete this.object_json.Groups["group_"+e.group_id],this.updateGroup=!1,this.$forceUpdate()})}).catch(e=>{})})},updateGroupsOrder(){var e=this.groups.map((e,t)=>(e.ordering=t+2,{id:e.group_id,order:t+2}));_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=reordergroups",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({groups:e,fid:this.object_json.id})}).then(e=>{this.$emit("show","foo-velocity","success",this.orderSuccess,this.update)}).catch(e=>{this.$emit("show","foo-velocity","error",this.orderFailed,this.updating)})},enableRepatedGroup(e){e.repeat_group?j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_REPEAT_GROUP_DISABLE"),text:this.translate("COM_EMUNDUS_ONBOARD_REPEAT_GROUP_MESSAGE_DISABLE"),type:"info",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&_()({method:"POST",url:"index.php?option=com_emundus&controller=formbuilder&task=disablegrouprepeat",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({gid:e.group_id})}).then(t=>{1==t.data.status&&(e.repeat_group=0,this.$emit("show","foo-velocity","success",this.updateSuccess,this.update),e.group_showLegend=e.label[this.actualLanguage],this.translate.label_group=!1,this.updateGroup=!1)})}):j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_REPEAT_GROUP"),text:this.translate("COM_EMUNDUS_ONBOARD_REPEAT_GROUP_MESSAGE"),type:"info",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&_()({method:"POST",url:"index.php?option=com_emundus&controller=formbuilder&task=enablegrouprepeat",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({gid:e.group_id})}).then(t=>{1==t.data.status&&(e.repeat_group=1,this.$emit("show","foo-velocity","success",this.updateSuccess,this.update),e.group_showLegend=e.label[this.actualLanguage],this.translate.label_group=!1,this.updateGroup=!1)})})},displayHideGroup(e){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_HIDE"),text:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_HIDE_MESSAGE"),type:"info",showCancelButton:!0,confirmButtonColor:"#12db42",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(t=>{t.value&&_()({method:"POST",url:"index.php?option=com_emundus&controller=formbuilder&task=displayhidegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({gid:e.group_id})}).then(t=>{e.hidden_group=t.data.status,this.$emit("show","foo-velocity","success",this.updateSuccess,this.update)})})},updateLabelPage(e){let t=e.show_title.label;_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({page:e.id,labelTofind:e.show_title.titleraw,NewSubLabel:t})}).then(a=>{0==a.data.status&&_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updatepagelabelwithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({pid:e.id,label:e.show_title.label[this.actualLanguage]})}),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updatemenulabel",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({pid:e.id,label:t})}).then(()=>{this.$emit("show","foo-velocity","success",this.updateSuccess,this.update),e.show_title.value=e.show_title.label[this.actualLanguage],e.label=e.show_title.label[this.actualLanguage],this.updatePage=!1})}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating)})},updateIntroValuePage(e){let t={fr:e.intro.fr,en:e.intro.en};_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({labelTofind:e.intro_raw,NewSubLabel:t})}).then(t=>{0==t.data.status&&_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updatepageintrowithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:eo.stringify({pid:e.id,intro:e.intro.fr})}),this.$emit("show","foo-velocity","success",this.updateSuccess,this.update),e.intro_value=e.intro[this.actualLanguage],this.updateIntroPage=!1}).catch(e=>{this.$emit("show","foo-velocity","error",this.updateFailed,this.updating)})},getDataObject:wt.a.debounce((function(){this.object_json=this.object.object,this.getElementsArray()}),500),getApiData:wt.a.debounce((function(){this.$emit("show","foo-velocity","",this.updating,this.update);let e=this.object.link.replace("fabrik","emundus_onboard");_.a.get(e+"&format=vue_jsonclean").then(e=>{this.object_json=e.data,this.$emit("UpdateUxf"),this.$emit("show","foo-velocity","success",this.updateSuccess,this.update)})}),1e3),getElementsArray(){Object.keys(this.object_json.Groups).forEach(e=>{this.object_json.Groups[e].elts=[],this.openGroup[this.object_json.Groups[e].group_id]=!0,Object.keys(this.object_json.Groups[e].elements).forEach(t=>{this.object_json.Groups[e].elts.push(this.object_json.Groups[e].elements[t]),this.keyElements[t]=0})})},enableActionBar(e){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverUpdating=!0,this.indexHighlight=e)},disableActionBar(){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverUpdating=!1,this.clickUpdatingLabel=!1,this.indexHighlight=0,this.translate.label=!1)},enableLabelInput(e){this.updateGroup||this.updateIntroPage||this.updatePage||(this.clickUpdatingLabel=!0,setTimeout(()=>{document.getElementById("label_"+e).focus()},100))},enableTranslationLabel(e){this.translate.label=!this.translate.label,this.translate.label||setTimeout(()=>{document.getElementById("label_"+e).focus()},100)},enableUpdatingPage(e){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||(this.updatePage=!0,this.indexPage=e.id,setTimeout(()=>{document.getElementById("update_input_"+e.id).focus()},100))},enableUpdatingPageIntro(e){this.clickUpdatingLabel||this.updateGroup||this.updatePage||(this.updateIntroPage=!0,this.indexPage=e.id,setTimeout(()=>{document.getElementById("update_intro_"+e.id).focus()},100))},enableTranslationPage(e){this.translate.label_page=!this.translate.label_page,this.translate.label_page||setTimeout(()=>{document.getElementById("update_input_"+e).focus()},100)},enableTranslationPageIntro(e){this.translate.intro_page=!this.translate.intro_page,this.translate.intro_page||setTimeout(()=>{document.getElementById("update_intro_"+e).focus()},100)},enableUpdatingGroup(e){this.clickUpdatingLabel||this.updateIntroPage||this.updatePage||(this.updateGroup=!0,this.indexGroup=e.group_id,setTimeout(()=>{document.getElementById("update_input_"+e.group_id).focus()},100))},enableUpdatingIntroGroup(e){},enableTranslationGroup(e){this.translate.label_group=!this.translate.label_group,this.translate.label_group||setTimeout(()=>{document.getElementById("update_input_"+e).focus()},100)},enableGroupHover(e){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverGroup=!0,this.indexGroup=e)},disableGroupHover(){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverGroup=!1,this.updateGroup=!1,this.indexGroup=-1)},handleGroup(e){this.updateGroup||(this.openGroup[e]?this.$set(this.openGroup,e,!1):this.$set(this.openGroup,e,!0))},startGroupDrag(){this.draggable=!0},SomethingChange:function(e){let t=e.item.childNodes[0].id;this.groups.forEach(e=>{e.elts.forEach(a=>{a.id==t&&this.updateElementsOrder(e.group_id,e.elts,a)})}),this.draggable=!1},SomethingChangeInGroup:function(){this.draggable=!1,this.updateGroupsOrder(),Object.keys(this.openGroup).forEach((e,t)=>{this.openGroup[e]=!0})},getAccess(){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getAccess"}).then(e=>{this.sysaccess=e.data.access})},show(e,t,a,s){this.$emit("show",e,t,a,s)}},created(){wt.a.isEmpty(this.object.object)||(this.getDataObject(),this.getAccess())},watch:{object:function(){this.getDataObject()},UpdateUx:function(){!0===this.UpdateUx&&this.getApiData()}},computed:{orderedGroups:function(){return wt.a.orderBy(this.groups,"ordering")}}},ao=to,so=(a("5d92"),Object(b["a"])(ao,qi,Vi,!1,null,"1ec532a6",null)),io=so.exports;const oo=a("bef5");var no={name:"Builder",props:{object:Object,UpdateUx:Boolean,rgt:Number,files:Number,prid:String,eval:Number,actualLanguage:String,manyLanguages:Number},components:{draggable:ga.a,BuilderViewer:io},data(){return{newlabel:[],dblckickLabel:[],testastos:[],ElementList:[],GroupList:[],object_json:Object,GroupsObject:Object,change:!1,changedElement:"",changedGroup:"",update:!1,builderViewKey:0,addGroup:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),editGroup:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EDITGROUP"),deleteGroup:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),deleteMenu:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU")}},methods:{UpdateUXT(){this.UpdateUx=!0},UpdateUXF(){this.UpdateUx=!1},UpdateLabel(e,t){e.label_raw=t},UpdateGroupName(e,t){this.object_json.Groups[e].group_showLegend=t},UpdateBuilderView(){this.$emit("UpdateFormBuilder")},show(e,t,a,s){this.$emit("show",e,t,a,s)},Initialised:function(){for(var e in this.GroupsObject){let t=this.object.rgt+"_"+this.GroupsObject[e].group_id;this.ElementList[t]=Object.values(this.GroupsObject[e].elements)}},deleteAMenu(e){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU"),text:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENUWARNING"),type:"warning",showCancelButton:!0}).then(t=>{t.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=deleteMenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:oo.stringify({mid:e})}).then(()=>{this.$modal.hide("modalSide"+this.ID),j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_MENUDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then(()=>{this.$emit("UpdateFormBuilder")})}).catch(e=>{console.log(e)})})},async updateOrder(e,t){await this.$refs.builder_viewer.updateElementsOrder(e,t)},getDataObject:function(){this.object_json=this.object.object,this.GroupList=Object.values(this.object_json.Groups),this.GroupsObject=this.object_json.Groups,this.Initialised()}},created(){wt.a.isEmpty(this.object.object)||this.getDataObject()},watch:{object:function(){this.getDataObject()},update:function(){!0===this.update&&this.getDataObject()},UpdateUx:function(){!0===this.UpdateUx&&this.UpdateUXT()}}},ro=no,lo=(a("bcf8"),Object(b["a"])(ro,Hi,zi,!1,null,"377f8448",null)),co=lo.exports,mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalSide"}},[a("modal",{attrs:{name:"modalSide"+e.ID,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalSide"+e.ID)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.translations.editMenu)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group",class:{"mb-0":e.translate.label}},[a("label",[e._v(e._s(e.translations.Name)+" :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label[e.actualLanguage],expression:"label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:e.label[e.actualLanguage]},on:{input:function(t){t.target.composing||e.$set(e.label,e.actualLanguage,t.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}}):e._e()]),e.translate.label?a("translation",{attrs:{label:e.label,actualLanguage:e.actualLanguage}}):e._e()],1),e.errors?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":e.translate.intro}},[a("div",{staticClass:"d-flex"},[a("label",[e._v(e._s(e.translations.Intro))]),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.intro},staticStyle:{right:"0"},attrs:{type:"button"},on:{click:function(t){e.translate.intro=!e.translate.intro}}}):e._e()]),a("div",[e.translate.intro?a("div",{staticClass:"d-flex"},[a("span",[e._v(e._s(e.translations.TranslateIn)+" : ")]),"0"!==e.manyLanguages?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLanguage,expression:"selectedLanguage"}],staticStyle:{margin:"10px 0"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLanguage=t.target.multiple?a:a[0]},function(t){e.dynamicComponent++}]}},e._l(e.languages,(function(t,s){return a("option",{domProps:{value:t.sef}},[e._v(e._s(t.title_native))])})),0):e._e()]):e._e(),a("div",{staticClass:"input-can-translate"},e._l(e.languages,(function(t,s){return t.sef===e.selectedLanguage&&e.intro.hasOwnProperty(t.sef)?a("editor",{key:e.dynamicComponent,attrs:{height:"30em",text:e.intro[t.sef],lang:e.actualLanguage,enable_variables:!1,id:"editor_"+t.sef},model:{value:e.intro[t.sef],callback:function(a){e.$set(e.intro,t.sef,a)},expression:"intro[language.sef]"}}):e._e()})),1)])]),a("div",{staticClass:"form-group d-flex mb-1",staticStyle:{"align-items":"center"},attrs:{id:"template_checkbox"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.template)?e._i(e.template,null)>-1:e.template},on:{change:function(t){var a=e.template,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.template=a.concat([o])):n>-1&&(e.template=a.slice(0,n).concat(a.slice(n+1)))}else e.template=i}}}),a("label",{staticClass:"ml-10px mb-0"},[e._v(e._s(e.translations.SaveAsTemplate))])]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalSide"+e.ID)}}},[e._v(" "+e._s(e.translations.Retour)+" ")]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",on:{click:function(t){t.preventDefault(),e.$modal.hide("modalSide"+e.ID),e.UpdateParams()}}},[e._v(" "+e._s(e.translations.Continuer)+" ")])])]),a("div",{staticClass:"form-group d-flex mb-1"},[e.menus.length>1&&0==e.files?a("button",{staticClass:"bouton-sauvergarder-et-continuer w-delete",on:{click:function(t){return t.preventDefault(),e.deleteMenu()}}},[e._v(" "+e._s(e.translations.Delete)+" ")]):e._e()])])])],1)},uo=[];const _o=a("bef5");var po={name:"modalSide",components:{List:mt,Editor:Dt,Translation:It},props:{ID:String,element:Object,index:Number,menus:Array,files:Number,link:String,manyLanguages:String,actualLanguage:String,languages:Array},data(){return{tempEl:[],translate:{label:!1,intro:!1},label:{},intro:{},dynamicComponent:0,template:!1,errors:!1,changes:!1,selectedLanguage:this.actualLanguage,translations:{Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),dataSaved:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),orderingMenu:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_MENUORDERING"),editMenu:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EDITMENU"),Name:this.translate("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:this.translate("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Delete:this.translate("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),TranslateEnglish:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),LabelRequired:this.translate("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),SaveAsTemplate:this.translate("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE"),TranslateIn:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_IN")}}},methods:{async UpdateParams(){this.changes=!0,await this.axioschange(this.intro,this.tempEl.intro_raw),await this.axioschange(this.label,this.tempEl.show_title.titleraw),await this.updatefalang(this.label),await this.saveAsTemplate(),this.element=JSON.parse(JSON.stringify(this.tempEl)),this.$emit("UpdateName",this.index,this.label[this.actualLanguage]),this.$emit("UpdateIntro",this.index,this.intro[this.actualLanguage])},beforeClose(e){!1!==this.changes&&(this.$emit("show","foo-velocity","success",this.dataSaved,this.informations),this.changes=!1),this.$emit("modalClosed")},beforeOpen(e){this.initialisation()},axioschange(e,t){return new Promise(a=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_o.stringify({labelTofind:t,NewSubLabel:e})}).then(e=>{a(e.data.status)}).catch(e=>{console.log(e)})})},updatefalang(e){return new Promise(t=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updatemenulabel",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_o.stringify({label:e,pid:this.element.id})}).then(e=>{t(e.data.status)})})},saveAsTemplate(){return new Promise(e=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=savemenuastemplate",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_o.stringify({menu:this.element,template:this.template})}).then(t=>{e(t.data.scalar)})})},async axiostrad(e){return await _()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getalltranslations",params:{toJTEXT:e},paramsSerializer:e=>_o.stringify(e)}).then(e=>e.data)},deleteMenu(){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU"),text:this.translate("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=deletemenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_o.stringify({mid:this.element.id})}).then(e=>{this.$emit("removeMenu",this.element.id),this.$modal.hide("modalSide"+this.ID)})})},checkIfTemplate(){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getPagesModel"}).then(e=>{var t={};try{Object.values(e.data).forEach((e,a)=>{if(e.form_id==this.element.id)throw this.template=!0,t})}catch(a){if(a!==t)throw this.template=!1}})},initialisation(){this.tempEl=JSON.parse(JSON.stringify(this.element)),this.axiostrad(this.tempEl.intro_raw).then(e=>{this.intro=e}).catch((function(e){console.log(e)})),this.axiostrad(this.tempEl.show_title.titleraw).then(e=>{this.label=e}).catch((function(e){console.log(e)})),this.checkIfTemplate()}},watch:{element:function(){this.tempEl=JSON.parse(JSON.stringify(this.element))}},created:function(){}},ho=po,go=(a("9d21"),Object(b["a"])(ho,mo,uo,!1,null,"7891cf0b",null)),fo=go.exports,bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalMenu"}},[a("modal",{attrs:{name:"modalMenu",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalMenu")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.translations.addMenu)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.translations.ChooseExistingPageModel)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model_id,expression:"model_id"}],staticClass:"dropdown-toggle",attrs:{disabled:Object.keys(e.models).length<=0},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.model_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}}),e._l(e.models,(function(t,s){return a("option",{domProps:{value:t.form_id}},[e._v(e._s(t.label[e.actualLanguage]))])}))],2)]),a("div",{staticClass:"form-group",class:{"mb-0":e.translate.label}},[a("label",[e._v(e._s(e.translations.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label[e.actualLanguage],expression:"label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40",id:"menu_label"},domProps:{value:e.label[e.actualLanguage]},on:{input:function(t){t.target.composing||e.$set(e.label,e.actualLanguage,t.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}}):e._e()])]),e.translate.label?a("translation",{attrs:{label:e.label,actualLanguage:e.actualLanguage}}):e._e(),e.errors&&-1==e.model_id?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":e.translate.intro}},[a("div",{staticClass:"d-flex"},[a("label",[e._v(e._s(e.translations.Intro))]),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.intro},staticStyle:{right:"0"},attrs:{type:"button"},on:{click:function(t){e.translate.intro=!e.translate.intro}}}):e._e()]),a("div",[e.translate.intro?a("div",{staticClass:"d-flex"},[a("span",[e._v(e._s(e.translations.TranslateIn)+" : ")]),"0"!==e.manyLanguages?a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLanguage,expression:"selectedLanguage"}],staticStyle:{margin:"10px 0"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedLanguage=t.target.multiple?a:a[0]},function(t){e.dynamicComponent++}]}},e._l(e.languages,(function(t,s){return a("option",{domProps:{value:t.sef}},[e._v(e._s(t.title_native))])})),0):e._e()]):e._e(),a("div",{staticClass:"input-can-translate"},e._l(e.languages,(function(t,s){return t.sef===e.selectedLanguage?a("editor",{key:e.dynamicComponent,attrs:{height:"30em",text:e.intro[t.sef],lang:e.actualLanguage,enable_variables:!1,id:"editor_"+t.sef},model:{value:e.intro[t.sef],callback:function(a){e.$set(e.intro,t.sef,a)},expression:"intro[language.sef]"}}):e._e()})),1)])])],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalMenu")}}},[e._v(" "+e._s(e.translations.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createMenu()}}},[e._v(" "+e._s(e.translations.Add)+" ")])]),e.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):e._e()])],1)},vo=[];const yo=a("bef5");var wo={name:"modalMenu",components:{Editor:Dt,translation:It},props:{profileId:String,actualLanguage:String,manyLanguages:String,languages:Array},data(){return{translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},dynamicComponent:0,model_id:-1,template:!1,models:[],errors:!1,changes:!1,submitted:!1,selectedLanguage:this.actualLanguage,translations:{Name:this.translate("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:this.translate("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Add:this.translate("COM_EMUNDUS_ONBOARD_ADD"),dataSaved:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),addMenu:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),LabelRequired:this.translate("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),ChooseExistingPageModel:this.translate("COM_EMUNDUS_ONBOARD_FORM_CHOOSE_EXISTING_MODEL_PAGE"),TranslateEnglish:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),SaveAsTemplate:this.translate("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}}},methods:{beforeClose(e){!0===this.changes&&this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations),this.label={fr:"",en:""},this.intro={fr:"",en:""},this.$emit("modalClosed"),this.changes=!1},beforeOpen(e){this.getExistingPages()},getExistingPages(){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getPagesModel"}).then(e=>{this.models=e.data})},createMenu(){this.changes=!0,""!=this.label[this.actualLanguage]||-1!=this.model_id?(this.submitted=!0,"fr"==this.actualLanguage&&""==this.label.en?this.label.en="My new page":"en"==this.actualLanguage&&""==this.label.fr?this.label.fr="Ma nouvelle page":(this.label.en=this.label.en,this.label.fr=this.label.fr),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createMenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:yo.stringify({label:this.label,intro:this.intro,prid:this.profileId,modelid:this.model_id,template:this.template})}).then(e=>{this.submitted=!1,this.$modal.hide("modalMenu"),this.$emit("AddMenu",e.data)}).catch(e=>{console.log(e)})):this.errors=!0}},watch:{model_id:function(e){-1!=e?Object.values(this.models).forEach(e=>{if(e.form_id==this.model_id){this.label.fr=e.label.fr,this.label.en=e.label.en;var t=document.createElement("div"),a=document.createElement("div");t.innerHTML=e.intro.fr,a.innerHTML=e.intro.en,this.intro.fr=t.innerText,this.intro.en=a.innerText}}):(this.label.fr="",this.intro.fr="")}}},Oo=wo,Co=Object(b["a"])(Oo,bo,vo,!1,null,"2b3e3888",null),Eo=Co.exports,Do=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAffectCampaign"}},[a("modal",{attrs:{name:"modalAffectCampaign",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAffectCampaign")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.translations.affectCampaigns)+" ")])])]),a("div",{staticClass:"modalC-content"},[0===e.campaigns.length?a("p",{staticClass:"mt-1 mb-1"},[e._v(e._s(e.translations.campaignsEmpty))]):e._e(),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:e.translations.Search},domProps:{value:e.searchTerm},on:{keyup:e.searchCampaignByTerm,input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:e.searchCampaignByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),a("div",{staticClass:"campaigns-list"},e._l(e.campaigns,(function(t,s){return a("div",{key:s,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.affectedCampaigns[t.id],expression:"affectedCampaigns[campaign.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.affectedCampaigns[t.id])?e._i(e.affectedCampaigns[t.id],null)>-1:e.affectedCampaigns[t.id]},on:{change:function(a){var s=e.affectedCampaigns[t.id],i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(e.affectedCampaigns,t.id,s.concat([n])):r>-1&&e.$set(e.affectedCampaigns,t.id,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.affectedCampaigns,t.id,o)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.label))])])])})),0)]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.affectToForm.apply(null,arguments)}}},[e._v(" "+e._s(e.translations.Continuer)+" ")]),e.testing?e._e():a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.goAddCampaign.apply(null,arguments)}}},[e._v(" "+e._s(e.translations.addCampaign)+" ")])]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.redirectJRoute("index.php?option=com_emundus_onboard&view=form")}}},[e._v(" "+e._s(e.translations.BackWithoutAssociation)+" ")])])],1)},No=[];const Ao=a("bef5");var Mo={name:"modalAffectCampaign",props:{prid:String,testing:Boolean},data(){return{campaigns:[],affectedCampaigns:[],searchTerm:"",translations:{Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),affectCampaigns:this.translate("COM_EMUNDUS_ONBOARD_FORM_AFFECTCAMPAIGNS"),campaignsEmpty:this.translate("COM_EMUNDUS_ONBOARD_FORM_CAMPAIGNSEMPTY"),addCampaign:this.translate("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN"),BackWithoutAssociation:this.translate("COM_EMUNDUS_ONBOARD_BACK_WITHOUT_ASSOCIATION")}}},methods:{beforeClose(e){},beforeOpen(e){this.getCampaigns()},affectToForm(){let e=[];this.affectedCampaigns.length>0?(this.campaigns.forEach(t=>{this.affectedCampaigns[t.id]&&e.push(t.id)}),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=affectcampaignstoform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ao.stringify({prid:this.prid,campaigns:e})}).then(()=>{this.testing?e.length>0&&(this.$emit("testForm"),this.$modal.hide("modalAffectCampaign")):this.redirectJRoute("index.php?option=com_emundus_onboard&view=form")})):this.testing?this.$modal.hide("modalAffectCampaign"):this.redirectJRoute("index.php?option=com_emundus_onboard&view=form")},goAddCampaign(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:"index.php?option=com_emundus_onboard&view=campaign&layout=add&cid="},paramsSerializer:e=>Ao.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},getCampaigns(){_.a.get("index.php?option=com_emundus&controller=campaign&task=getcampaignstoaffect").then(e=>{this.campaigns=e.data.data})},searchCampaignByTerm(){_.a.get("index.php?option=com_emundus&controller=campaign&task=getcampaignstoaffectbyterm&term="+this.searchTerm).then(e=>{this.campaigns=e.data.data})},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>Ao.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})}}},Uo=Mo,So=(a("a3e6"),Object(b["a"])(Uo,Do,No,!1,null,"319d6950",null)),xo=So.exports,To=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddDocuments"}},[a("modal",{attrs:{name:"modalAddDocuments",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddDocuments")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[null==e.currentDoc?a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.translations.createDocument)+" ")]):e._e(),null!=e.currentDoc?a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.translations.editDocument)+" ")]):e._e()])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"mb-1"},[a("a",{staticClass:"d-flex tool-icon"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.req,expression:"req"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.req)?e._i(e.req,null)>-1:e.req},on:{click:function(t){return e.updateRequireMandatory()},change:function(t){var a=e.req,s=t.target,i=!!s.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);s.checked?n<0&&(e.req=a.concat([o])):n>-1&&(e.req=a.slice(0,n).concat(a.slice(n+1)))}else e.req=i}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.translations.Required))])])]),e.can_be_deleted?a("div",{staticClass:"form-group"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-delete",attrs:{type:"button"},on:{click:e.deleteModel}},[e._v(e._s(e.translations.DeleteDocTemplate))])]):e._e(),null==e.currentDoc?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"modelName"}},[e._v(e._s(e.translations.DocTemplate)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.doc,expression:"doc"}],staticClass:"dropdown-toggle",attrs:{id:"modelName",disabled:Object.keys(e.models).length<=0},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.doc=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}}),e._l(e.models,(function(t,s){return a("option",{key:"option_"+s,domProps:{value:t.id}},[e._v(e._s(t.name[e.langue])+" ("+e._s(t.allowed_types)+")")])}))],2)]):e._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v(e._s(e.translations.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name[e.langue],expression:"form.name[langue]"}],staticClass:"form__input field-general w-input mb-0",class:{"is-invalid":e.errors.name},attrs:{type:"text",maxlength:"100",id:"name"},domProps:{value:e.form.name[e.langue]},on:{input:function(t){t.target.composing||e.$set(e.form.name,e.langue,t.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.name},attrs:{type:"button"},on:{click:function(t){e.translate.name=!e.translate.name}}}):e._e()]),e.translate.name?a("translation",{attrs:{label:e.form.name,actualLanguage:e.langue}}):e._e(),e.errors.name?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.NameRequired))])]):e._e()],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[e._v(e._s(e.translations.Description)+" :")]),a("div",{staticClass:"input-can-translate"},[a("editor",{key:e.dynamicComponent,attrs:{height:"20em",text:e.form.description[e.langue],lang:e.langue,enable_variables:!1,id:"editor_fr"},model:{value:e.form.description[e.langue],callback:function(t){e.$set(e.form.description,e.langue,t)},expression:"form.description[langue]"}})],1)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nbmax"}},[e._v(e._s(e.translations.MaxPerUser)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nbmax,expression:"form.nbmax"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.nbmax},attrs:{type:"number",min:"1",id:"nbmax"},domProps:{value:e.form.nbmax},on:{input:function(t){t.target.composing||e.$set(e.form,"nbmax",t.target.value)}}}),e.errors.nbmax?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.MaxRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{class:{"is-invalid":e.errors.selectedTypes},attrs:{for:"nbmax"}},[e._v(e._s(e.translations.FileType)+"* :")]),a("div",{staticClass:"users-block",class:{"is-invalid":e.errors.selectedUsers}},e._l(e.types,(function(t,s){return a("div",{key:s,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.selectedTypes[t.value],expression:"form.selectedTypes[type.value]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.form.selectedTypes[t.value])?e._i(e.form.selectedTypes[t.value],null)>-1:e.form.selectedTypes[t.value]},on:{change:[function(a){var s=e.form.selectedTypes[t.value],i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,r=e._i(s,n);i.checked?r<0&&e.$set(e.form.selectedTypes,t.value,s.concat([n])):r>-1&&e.$set(e.form.selectedTypes,t.value,s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.form.selectedTypes,t.value,o)},function(a){return e.selectType(t)}]}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.title)+" ("+e._s(t.value)+")")])])])})),0),e.errors.selectedTypes?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.translations.TypeRequired))])]):e._e()])]),1==e.show?a("div",{attrs:{id:"imageResolutionZone"}},[a("hr"),a("h4",{staticClass:"image-resolution-header"},[e._v(e._s(e.translations.ImageDimensionsTitle))]),a("div",{staticClass:"image-resolution-tooltips"},[a("i",[e._v(e._s(e.translations.ImageResolutionTooltips))])]),a("br"),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image-min-width"}},[e._v(e._s(e.translations.ImageWidth))]),a("div",{staticClass:"input-can-translate d-flex justify-content-between"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.minResolution.width,expression:"form.minResolution.width"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{"max-width":"48%"},attrs:{type:"number",maxlength:"100",id:"image-min-width",min:"300",placeholder:e.translations.MinResolutionPlaceholder},domProps:{value:e.form.minResolution.width},on:{keyup:function(t){return e.ZeroOrNegative()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.ZeroOrNegative()},input:function(t){t.target.composing||e.$set(e.form.minResolution,"width",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.maxResolution.width,expression:"form.maxResolution.width"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{"max-width":"48%"},attrs:{type:"number",maxlength:"100",id:"image-max-width",min:"300",placeholder:e.translations.MaxResolutionPlaceholder},domProps:{value:e.form.maxResolution.width},on:{keyup:function(t){return e.ZeroOrNegative()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.ZeroOrNegative()},input:function(t){t.target.composing||e.$set(e.form.maxResolution,"width",t.target.value)}}})]),a("transition",{attrs:{name:"fade"}},[e.errorWidth.error?a("span",{staticStyle:{"font-size":"smaller",color:"red"}},[e._v(" "+e._s(e.errorWidth.message)+" ")]):e._e()])],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image-min-height"}},[e._v(e._s(e.translations.ImageHeight))]),a("div",{staticClass:"input-can-translate d-flex justify-content-between"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.minResolution.height,expression:"form.minResolution.height"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{"max-width":"48%"},attrs:{type:"number",maxlength:"100",id:"image-min-height",min:"300",placeholder:e.translations.MinResolutionPlaceholder},domProps:{value:e.form.minResolution.height},on:{keyup:function(t){return e.ZeroOrNegative()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.ZeroOrNegative()},input:function(t){t.target.composing||e.$set(e.form.minResolution,"height",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.maxResolution.height,expression:"form.maxResolution.height"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{"max-width":"48%"},attrs:{type:"number",maxlength:"100",id:"image-max-height",min:"300",placeholder:e.translations.MaxResolutionPlaceholder},domProps:{value:e.form.maxResolution.height},on:{keyup:function(t){return e.ZeroOrNegative()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.ZeroOrNegative()},input:function(t){t.target.composing||e.$set(e.form.maxResolution,"height",t.target.value)}}})]),a("transition",{attrs:{name:"fade"}},[e.errorHeight.error?a("span",{staticStyle:{"font-size":"smaller",color:"red"}},[e._v(" "+e._s(e.errorHeight.message)+" ")]):e._e()])],1)]):e._e(),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddDocuments")}}},[e._v(" "+e._s(e.translations.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.createNewDocument()}}},[e._v(" "+e._s(e.translations.Continuer)+" ")])])])],1)},Ro=[];const ko=a("bef5");var Lo={name:"modalAddDocuments",props:{cid:Number,pid:Number,currentDoc:Number,manyLanguages:Number,langue:String},components:{Translation:It,Editor:Dt},data(){return{show:!1,dynamicComponent:0,errorWidth:{error:!1,message:""},errorHeight:{error:!1,message:""},doc:null,model:{allowed_types:"",can_be_deleted:!1,category:"",description:{fr:"",en:""},id:"",lbl:"",mandatory:0,name:{fr:"",en:""},nbmax:"",ocr_keywords:null,ordering:"",published:"",value:"",video_max_length:"",minResolution:{width:300,height:300},maxResolution:{width:null,height:null}},form:{name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpeg;jpg;png;gif":!1,"doc;docx;odt;ppt;pptx":!1,"xls;xlsx;odf":!1},mandatory:0,minResolution:{width:null,height:null},maxResolution:{width:null,height:null}},translate:{name:!1,description:!1},req:!1,errors:{name:!1,nbmax:!1,selectedTypes:!1},types:[{title:this.translate("COM_EMUNDUS_ONBOARD_PDF_DOCUMENTS"),value:"pdf"},{title:this.translate("COM_EMUNDUS_ONBOARD_PICTURES_DOCUMENTS"),value:"jpeg;jpg;png;gif"},{title:this.translate("COM_EMUNDUS_ONBOARD_OFFICE_DOCUMENTS"),value:"doc;docx;odt;ppt;pptx"},{title:this.translate("COM_EMUNDUS_ONBOARD_EXCEL_DOCUMENTS"),value:"xls;xlsx;odf"}],selectedTypes:[],models:[],can_be_deleted:!1,translations:{DeleteDocTemplate:this.translate("COM_EMUNDUS_ONBOARD_DELETE_TEMPLATE_DOC"),createDocument:this.translate("COM_EMUNDUS_ONBOARD_CREATE_DOCUMENT"),editDocument:this.translate("COM_EMUNDUS_ONBOARD_EDIT_DOCUMENT"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_OK"),DocTemplate:this.translate("COM_EMUNDUS_ONBOARD_TEMPLATE_DOC"),Name:this.translate("COM_EMUNDUS_ONBOARD_LASTNAME"),Description:this.translate("COM_EMUNDUS_ONBOARD_ADDDOC_DESCRIPTION"),MaxPerUser:this.translate("COM_EMUNDUS_ONBOARD_MAXPERUSER"),FileType:this.translate("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED"),NameRequired:this.translate("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_LABEL"),MaxRequired:this.translate("COM_EMUNDUS_ONBOARD_MAXPERUSER_REQUIRED"),TypeRequired:this.translate("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED_REQUIRED"),TranslateEnglish:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Required:this.translate("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),ImageWidth:this.translate("COM_EMUNDUS_ONBOARD_IMAGE_WIDTH"),ImageHeight:this.translate("COM_EMUNDUS_ONBOARD_IMAGE_HEIGHT"),ImageResolutionTooltips:this.translate("COM_EMUNDUS_ONBOARD_IMAGE_RESOLUTION_TOOLTIPS"),MinResolutionPlaceholder:this.translate("COM_EMUNDUS_ONBOARD_MIN_RESOLUTION_PLACEHOLDER"),MaxResolutionPlaceholder:this.translate("COM_EMUNDUS_ONBOARD_MAX_RESOLUTION_PLACEHOLDER"),ErrorResolution:this.translate("COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION"),ErrorResolutionNegative:this.translate("COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION_NEGATIVE"),ErrorResolutionTooSmall:this.translate("COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION_TOO_SMALL"),ErrorResolutionNotNumber:this.translate("COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION_NOT_NUMBER"),ImageDimensionsTitle:this.translate("COM_EMUNDUS_ONBOARD_IMAGE_DIMENSION_TITLE")}}},methods:{beforeClose(){this.show=!1,this.doc=null,this.currentDoc=null,this.can_be_deleted=!1,this.errorWidth.error=!1,this.errorHeight.error=!1,this.form={name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpeg;jpg;png;gif":!1,"doc;docx;odt;ppt;pptx":!1,"xls;xlsx;odf":!1},minResolution:{width:null,height:null},maxResolution:{width:null,height:null}},this.$emit("modalClosed")},beforeOpen(){this.getModelsDocs()},createNewDocument(){if(this.errors={name:!1,nbmax:!1,selectedTypes:!1},""===this.form.name[this.langue])return this.errors.name=!0,0;if(""===this.form.nbmax||0===this.form.nbmax)return this.errors.nbmax=!0,0;if(Object.values(this.form.selectedTypes).every(e=>!1===e))return this.errors.selectedTypes=!0,0;!1===this.translate.name&&(0==this.manyLanguages&&"en"==this.langue&&(this.form.name.fr=this.form.name.en),0==this.manyLanguages&&"fr"===this.langue&&(this.form.name.en=this.form.name.fr)),!1===this.translate.description&&(0==this.manyLanguages&&"en"==this.langue?this.form.description.fr=this.form.description.en:this.form.description.en=this.form.description.fr);let e=[];Object.keys(this.form.selectedTypes).forEach(t=>{1==this.form.selectedTypes[t]&&e.push(t)});let t={document:this.form,types:e,cid:this.cid,pid:this.pid,isModeleAndUpdate:!1};this.form.name[this.langue]!=this.model.value&&null==this.currentDoc&&(t.isModeleAndUpdate=!0);let a=[];this.model.allowed_types.includes("pdf")&&a.push("pdf"),(this.model.allowed_types.includes("jpg")||this.model.allowed_types.includes("jpeg")||this.model.allowed_types.includes("png")||this.model.allowed_types.includes("gif"))&&a.push("jpeg;jpg;png;gif"),(this.model.allowed_types.includes("xls")||this.model.allowed_types.includes("xlsx")||this.model.allowed_types.includes("odf"))&&a.push("xls;xlsx;odf");let s=a.filter(t=>!e.includes(t));s.length>0&&null==this.currentDoc&&(t.isModeleAndUpdate=!0);let i=!1;if(e.includes("jpeg;jpg;png;gif")&&(i=this.isImageError()),i)return!1;{let e="index.php?option=com_emundus&controller=campaign&task=createdocument";this.form.name[this.langue]===this.model.value&&null!=this.doc&&(e="index.php?option=com_emundus&controller=campaign&task=updatedocument",t.did=this.doc),null!=this.currentDoc&&(e="index.php?option=com_emundus&controller=campaign&task=updatedocument",t.did=this.doc),_()({method:"post",url:e,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ko.stringify(t)}).then(()=>{this.req=!1,this.$emit("UpdateDocuments"),this.$modal.hide("modalAddDocuments")})}},isImageError(){let e=!1;const t=Object.values(this.form.minResolution).some(e=>e),a=Object.values(this.form.maxResolution).some(e=>e);return t||a?(this.form.minResolution.height&&this.form.maxResolution.height?parseInt(this.form.minResolution.width)>=300&&parseInt(this.form.maxResolution.width)>=300?parseInt(this.form.minResolution.width)>parseInt(this.form.maxResolution.width)?(this.errorWidth.error=!0,this.errorWidth.message=parseInt(this.form.minResolution.width)<=0?this.translations.ErrorResolutionNegative:this.translations.ErrorResolution,document.getElementById("image-min-width").style.setProperty("border-color","red","important"),e=!0):(this.errorWidth.error=!1,this.errorWidth.message="",document.getElementById("image-min-width").style.setProperty("border-color","#ccc","important"),document.getElementById("image-max-width").style.setProperty("border-color","#ccc","important")):(this.errorWidth.error=!0,this.errorWidth.message=this.translations.ErrorResolutionTooSmall,e=!0,parseInt(this.form.minResolution.width)<300&&document.getElementById("image-min-width").style.setProperty("border-color","red","important"),parseInt(this.form.maxResolution.width)<300&&document.getElementById("image-max-width").style.setProperty("border-color","red","important")):(this.errorHeight.error=!0,this.errorHeight.message=this.translations.ErrorResolutionTooSmall,e=!0,this.form.minResolution.height&&""!==this.form.minResolution.height||document.getElementById("image-min-height").style.setProperty("border-color","red","important"),this.form.maxResolution.height&&""!==this.form.maxResolution.height||document.getElementById("image-max-height").style.setProperty("border-color","red","important")),this.form.minResolution.width&&this.form.maxResolution.width?parseInt(this.form.minResolution.height)>=300&&parseInt(this.form.maxResolution.height)>=300?parseInt(this.form.minResolution.height)>parseInt(this.form.maxResolution.height)?(this.errorHeight.error=!0,this.errorHeight.message=parseInt(this.form.minResolution.height)<=0?this.translations.ErrorResolutionNegative:this.translations.ErrorResolution,document.getElementById("image-min-height").style.setProperty("border-color","red","important"),e=!0):(this.errorHeight.error=!1,this.errorHeight.message="",document.getElementById("image-min-height").style.setProperty("border-color","#ccc","important"),document.getElementById("image-max-height").style.setProperty("border-color","#ccc","important")):(this.errorHeight.error=!0,this.errorHeight.message=this.translations.ErrorResolutionTooSmall,e=!0,parseInt(this.form.minResolution.height)<300&&document.getElementById("image-min-height").style.setProperty("border-color","red","important"),parseInt(this.form.maxResolution.height)<300&&document.getElementById("image-max-height").style.setProperty("border-color","red","important")):(this.errorWidth.error=!0,this.errorWidth.message=this.translations.ErrorResolutionTooSmall,e=!0,this.form.minResolution.width&&""!==this.form.minResolution.width||document.getElementById("image-min-width").style.setProperty("border-color","red","important"),this.form.maxResolution.width&&""!==this.form.maxResolution.width||document.getElementById("image-max-width").style.setProperty("border-color","red","important"))):(document.getElementById("image-min-width").style.setProperty("border-color","#ccc","important"),document.getElementById("image-max-width").style.setProperty("border-color","#ccc","important"),document.getElementById("image-min-height").style.setProperty("border-color","#ccc","important"),document.getElementById("image-max-height").style.setProperty("border-color","#ccc","important"),e=!1,this.errorWidth.message="",this.errorHeight.message=""),e},deleteModel(){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_DELETE_TEMPLATE_DOC"),type:"warning",showCancelButton:!0,confirmButtonColor:"#12db42",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=deletemodeldocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ko.stringify({did:this.doc})}).then(e=>{console.log(e),e.data.allowed?j.a.fire({backdrop:!0,title:this.translate("COM_EMUNDUS_ONBOARD_MODEL_DELETED"),text:this.translate("COM_EMUNDUS_ONBOARD_MODEL_DELETED_TEXT"),showConfirmButton:!0,timer:5e3}).then(()=>{this.$modal.hide("modalAddDocuments")}):j.a.fire({backdrop:!0,title:this.translate("COM_EMUNDUS_ONBOARD_CANNOT_DELETE"),text:this.translate("COM_EMUNDUS_ONBOARD_CANNOT_DELETE_TEXT"),showConfirmButton:!0,timer:5e3})})})},getModelsDocs(){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getundocuments"}).then(e=>{this.models=e.data.data,null!=this.currentDoc&&(this.doc=this.currentDoc)})},updateRequireMandatory(){1==this.req?this.form.mandatory=0:this.form.mandatory=1},selectType(e){let t=e.value,a=t.split(";");(a.includes("jpeg")||a.includes("jpg")||a.includes("png")||a.includes("gif"))&&(this.show=!this.show)},ZeroOrNegative(){let e=event.target.id,t=parseInt(event.target.value),a=this.form.minResolution.width,s=this.form.maxResolution.width,i=this.form.minResolution.height,o=this.form.maxResolution.height;isNaN(t)?(document.getElementById(e).style.color="red",document.getElementById(e).style.setProperty("border-color","red","important"),"image-min-width"!=e&&"image-max-width"!=e||(this.errorWidth.error=!0,this.errorWidth.message=this.translations.ErrorResolutionTooSmall),"image-min-height"!=e&&"image-max-height"!=e||(this.errorHeight.error=!0,this.errorHeight.message=this.translations.ErrorResolutionTooSmall)):t<300?(document.getElementById(e).style.color="red",document.getElementById(e).style.setProperty("border-color","red","important"),"image-min-width"!=e&&"image-max-width"!=e||(this.errorWidth.error=!0,(parseInt(a)<300||!a)&&document.getElementById("image-min-width").style.setProperty("border-color","red","important"),(parseInt(s)<300||!s)&&document.getElementById("image-max-width").style.setProperty("border-color","red","important"),this.errorWidth.message=this.translations.ErrorResolutionTooSmall),"image-min-height"!=e&&"image-max-height"!=e||(this.errorHeight.error=!0,(parseInt(i)<300||!i)&&document.getElementById("image-min-height").style.setProperty("border-color","red","important"),(parseInt(o)<300||!o)&&document.getElementById("image-max-height").style.setProperty("border-color","red","important"),this.errorHeight.message=this.translations.ErrorResolutionTooSmall)):(document.getElementById(e).style.color="unset",document.getElementById(e).style.setProperty("border-color","#ccc","important"),parseInt(a)>=300&&parseInt(s)>=300&&(parseInt(a)>parseInt(s)?(document.getElementById("image-min-width").style.setProperty("border-color","red","important"),this.errorWidth.error=!0,this.errorWidth.message=this.translations.ErrorResolution):(document.getElementById("image-min-width").style.setProperty("border-color","#ccc","important"),this.errorWidth.error=!1,this.errorWidth.message="")),i>=300&&o>=300&&(parseInt(i)>parseInt(o)?(document.getElementById("image-min-height").style.setProperty("border-color","red","important"),this.errorHeight.error=!0,this.errorHeight.message=this.translations.ErrorResolution):(document.getElementById("image-min-height").style.setProperty("border-color","#ccc","important"),this.errorHeight.error=!1,this.errorHeight.message="")),a>=300&&s>=300&&i>=300&&o>=300&&s>=a&&o>=i&&(this.errorWidth.error=!1,this.errorWidth.message="",this.errorHeight.error=!1,this.errorHeight.message=""))}},watch:{doc:function(e){null!=e?(this.model=this.models.find(t=>t.id==e),this.form.name=this.model.name,this.form.description=this.model.description,this.form.mandatory=parseInt(this.model.mandatory),this.form.minResolution={},this.form.maxResolution={},this.req=parseInt(this.model.mandatory),this.form.selectedTypes.pdf=this.model.allowed_types.includes("pdf"),this.model.allowed_types.includes("jpg")||this.model.allowed_types.includes("jpeg")||this.model.allowed_types.includes("png")||this.model.allowed_types.includes("gif")?(null!==this.model.min_width&&null!==this.model.min_height&&(this.form.minResolution.width=this.model.min_width,this.form.minResolution.height=this.model.min_height),null!==this.model.max_width&&null!==this.model.max_height&&(this.form.maxResolution.width=this.model.max_width,this.form.maxResolution.height=this.model.max_height),this.form.selectedTypes["jpeg;jpg;png;gif"]=!0,this.show=!0):(this.form.selectedTypes["jpeg;jpg;png;gif"]=!1,this.show=!1),this.form.selectedTypes["xls;xlsx;odf"]=this.model.allowed_types.includes("xls")||this.model.allowed_types.includes("xlsx")||this.model.allowed_types.includes("odf"),this.can_be_deleted=this.model.can_be_deleted,this.form.nbmax=this.model.nbmax):this.form={name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,mandatory:0,selectedTypes:{pdf:!1,"jpeg;jpg;png;gif":!1,"doc;docx;odt;ppt;pptx":!1,"xls;xlsx;odf":!1}}}}},Bo=Lo,Io=(a("09d2"),Object(b["a"])(Bo,To,Ro,!1,null,"65e2f7ee",null)),jo=Io.exports;const Po=a("bef5");var Fo={name:"FormBuilder",components:{ModalAddDocuments:jo,ModalAffectCampaign:xo,Builder:co,ModalSide:fo,ModalMenu:Eo,draggable:ga.a},data(){return{prid:"",index:"",cid:"",manyLanguages:0,actualLanguage:"",actions_menu:!0,optionsModal:!1,UpdateUx:!1,menuHighlight:0,indexHighlight:-1,indexGrab:"0",indexGrabDocuments:"0",updateFormLabel:!1,animation:{enter:{opacity:[1,0],translateX:[0,-300],scale:[1,.2]},leave:{opacity:0,height:0}},loading:!1,first_loading:!1,lastUpdate:(new Date).getHours()+":"+((new Date).getMinutes()<10?"0":"")+(new Date).getMinutes(),formObjectArray:[],submittionPages:[],formList:[],profileLabel:"",id:0,grab:0,grabDocs:0,rgt:0,builderKey:0,builderSubmitKey:0,files:0,currentDoc:null,documentsList:[],campaignsAffected:{},testing:!1,link:"",languages:[],dragging:!1,draggingIndex:-1,elementDisabled:!1,addingElement:!1,addingSection:!1,plugins:{field:{id:0,value:"field",icon:"fas fa-font",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},nom:{id:8,value:"nom",icon:"fas fa-font",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_LASTNAME")},prenom:{id:9,value:"prenom",icon:"fas fa-font",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_FIRSTNAME")},email:{id:10,value:"email",icon:"fas fa-at",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_EMAIL")},yesno:{id:12,value:"yesno",icon:"fas fa-toggle-on",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_YESNO")},textarea:{id:5,value:"textarea",icon:"far fa-square",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")},checkbox:{id:2,value:"checkbox",icon:"far fa-check-square",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},radiobutton:{id:4,value:"radiobutton",icon:"fas fa-list-ul",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},dropdown:{id:3,value:"dropdown",icon:"fas fa-th-list",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},birthday:{id:1,value:"birthday",icon:"far fa-calendar-alt",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},display:{id:6,value:"display",icon:"fas fa-paragraph",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_DISPLAY")}},sections:{default_empty:{id:0,value:[],icon:"fas fa-font",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMPTY_SECTION")},personal_informations:{id:0,value:["nom","prenom","email","telephone","birthday","nationalite"],icon:"fas fa-id-card-alt",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_PERSONAL_INFORMATIONS"),label:{fr:"Informations Personelles",en:"Personal Informations"}},adress:{id:1,value:["adresse","code postal","pays","ville","adresseComplementaire"],icon:"fas fa-address-card",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADRESSE"),label:{fr:"Adresse",en:"Adress"}},eexperience_pro:{id:1,value:["date_debut","date_fin","fonction","employeur","ville_employeur","pays","missions"],icon:"fas fa-briefcase",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_WORK_EXPERIENCE"),label:{fr:"Expérience professionnelle",en:"Work experience"}}},docForm:{name:{fr:"Autres document",en:"Other documents"},description:{fr:"",en:""},nbmax:5,selectedTypes:{pdf:!0,jpg:!0,jpeg:!0}},translations:{addMenu:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),addMenuAction:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU_ACTION"),addGroup:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),Actions:this.translate("COM_EMUNDUS_ONBOARD_ACTIONS"),sendFormButton:this.translate("COM_EMUNDUS_ONBOARD_SEND_FORM"),Edit:this.translate("COM_EMUNDUS_ONBOARD_MODIFY"),FormPage:this.translate("COM_EMUNDUS_ONBOARD_FORM_PAGE"),SubmitPage:this.translate("COM_EMUNDUS_ONBOARD_SUBMIT_PAGE"),testingForm:this.translate("COM_EMUNDUS_ONBOARD_TESTING_FORM"),Form:this.translate("COM_EMUNDUS_ONBOARD_FORM"),Documents:this.translate("COM_EMUNDUS_ONBOARD_DOCUMENTS"),AddNewDocument:this.translate("COM_EMUNDUS_ONBOARD_ADD_NEW_DOCUMENT"),Back:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Savingat:this.translate("COM_EMUNDUS_ONBOARD_SAVING_AT"),Validate:this.translate("COM_EMUNDUS_ONBOARD_OK"),update:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),updateFailed:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED"),ExitFormbuilder:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EXIT_FORMBUILDER"),BuildYourForm:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_BUILD_YOUR_FORM"),SubmittionPage:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_SUBMITTION_PAGE")}}},methods:{slpitProfileIdfromLabel(e){return e.split(/-(.+)/)[1]},showModal(){j.a.fire({text:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_NOFORMPAGEWARNING"),type:"warning"})},hide(){this.$modal.hide("my-first-modal")},createElement(e,t,a){let s=this.formObjectArray;if(1===this.menuHighlight&&(s=this.submittionPages),!wt.a.isEmpty(s[this.indexHighlight].object.Groups))if(this.loading=!0,"emundus_fileupload"==t){let s=[];Object.keys(this.docForm.selectedTypes).forEach(e=>{1==this.docForm.selectedTypes[e]&&s.push(e)});let i={document:this.docForm,types:s,cid:this.cid,pid:this.prid,did:20};this.createElementEMundusFileUpload(i,e,t,a)}else _()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createsimpleelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({gid:e,plugin:t})}).then(s=>{this.getSimpleElement(e,s.data.scalar,a,t),this.loading=!1})},getSimpleElement(e,t,a,s){this.loading=!0,_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:t,gid:e},paramsSerializer:e=>Po.stringify(e)}).then(t=>{t.data.params.password="email"==s?3:0,_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=updateparams",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({element:t.data})}),this.menuHighlightCustumisation(t,e,a),this.loading=!1})},createElementEMundusFileUpload(e,t,a,s){_()({method:"post",url:"index.php?option=com_emundus&controller=campaign&task=updatedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify(e)}).then(e=>{this.$emit("UpdateDocuments"),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createsimpleelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({gid:t,plugin:a,attachementId:e.data.data})}).then(e=>{_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e.data.scalar,gid:t},paramsSerializer:e=>Po.stringify(e)}).then(e=>{this.menuHighlightCustumisation(e,t,s),this.getDocuments(),this.loading=!1})})})},menuHighlightCustumisation(e,t,a){0===this.menuHighlight?(this.$set(this.formObjectArray[this.indexHighlight].object.Groups["group_"+t],"elements[element"+e.data.id+"]",e.data),this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elts.splice(a,0,e.data),this.$refs.builder.updateOrder(t,this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elts),this.$refs.builder.$refs.builder_viewer.keyElements["element"+e.data.id]=0,this.$refs.builder.$refs.builder_viewer.enableActionBar(e.data.id),this.$refs.builder.$refs.builder_viewer.enableLabelInput(e.data.id)):(this.$set(this.submittionPages[this.indexHighlight].object.Groups["group_"+t],"elements[element"+e.data.id+"]",e.data),this.submittionPages[this.indexHighlight].object.Groups["group_"+t].elts.splice(a,0,e.data),this.$refs.builder_submit.updateOrder(t,this.submittionPages[this.indexHighlight].object.Groups["group_"+t].elts),this.$refs.builder_submit.$refs.builder_viewer.keyElements["element"+e.data.id]=0,this.$refs.builder_submit.$refs.builder_viewer.enableActionBar(e.data.id),this.$refs.builder_submit.$refs.builder_viewer.enableLabelInput(e.data.id))},addingNewElement:function(e){this.dragging=!1,this.draggingIndex=-1,"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#e4e4e9",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #c3c3ce",document.getElementsByClassName("no-elements-tip")[0].innerHTML=this.translate("COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS"));let t=e.clone.id.split(/_(.+)/)[1],a=e.to.parentElement.parentElement.parentElement.id.split("_")[1];"undefined"!=typeof a&&this.createElement(a,t,e.newIndex)},addingNewElementByDblClick:wt.a.debounce((function(e){let t=Object.keys(this.formObjectArray[this.indexHighlight].object.Groups)[Object.keys(this.formObjectArray[this.indexHighlight].object.Groups).length-1].split("_")[1],a=this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elts.length;"undefined"!=typeof t&&this.createElement(t,e,a)}),250,{maxWait:1e3}),createGroupSimpleElements(e,t){_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createsectionsimpleelements",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({gid:e,plugins:t})}).then(t=>{t.data.data.forEach((t,a)=>{this.getSimpleElement(e,t,a)})})},createGroup(e,t){this.loading=!0;let a=this.formObjectArray[this.indexHighlight].object.id;1===this.menuHighlight&&(a=this.submittionPages[this.indexHighlight].object.id),_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createsimplegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({fid:a,label:t})}).then(t=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getJTEXT",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({toJTEXT:t.data.group_tag})}).then(a=>{t.data.group_showLegend=a.data,_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({toJTEXT:t.data.group_tag})}).then(a=>{t.data.label.fr=a.data.fr,t.data.label.en=a.data.en,this.pushGroup(t.data),e.length>0?this.createGroupSimpleElements(t.data.group_id,e):this.loading=!1})})})},UpdateName(e,t){this.formObjectArray[e].object.show_title.value=t},UpdateIntro(e,t){this.formObjectArray[e].object.intro_value=t},UpdateUXT(){this.UpdateUx=!0},updateLabelForm(){_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=updateformlabel",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({label:this.profileLabel,prid:this.prid})}).then(()=>{this.show("foo-velocity","success",this.updateSuccess,this.update),this.updateFormLabel=!1}).catch(e=>{this.show("foo-velocity","error",this.updateFailed,this.updating),console.log(e)})},pushGroup(e){0===this.menuHighlight?(this.formObjectArray.forEach((t,a)=>{t.object.id==e.formid&&(this.formObjectArray[a]["object"]["Groups"]["group_"+e.group_id]={elements:{},elts:[],group_id:e.group_id,group_showLegend:e.group_showLegend,label:{fr:e.label.fr,en:e.label.en},group_tag:e.group_tag,ordering:e.ordering})}),this.$refs.builder.getDataObject(),this.$refs.builder.$refs.builder_viewer.openGroup[e.group_id]=!0):(this.submittionPages.forEach((t,a)=>{t.object.id==e.formid&&(this.submittionPages[a]["object"]["Groups"]["group_"+e.group_id]={elements:{},elts:[],group_id:e.group_id,group_showLegend:e.group_showLegend,label:{fr:e.label.fr,en:e.label.en},group_tag:e.group_tag,ordering:e.ordering})}),this.$refs.builder_submit.getDataObject(),this.$refs.builder_submit.$refs.builder_viewer.openGroup[e.group_id]=!0),this.elementDisabled=!1,setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)},200)},pushMenu(e){this.formList.push(e),_.a.get("index.php?option=com_emundus_onboard&view=form&formid="+e.id+"&format=vue_jsonclean").then(t=>{this.formObjectArray.push({object:t.data,rgt:e.rgt,link:e.link}),this.indexHighlight=this.formObjectArray.length-1})},removeMenu(e){this.formObjectArray.forEach((t,a)=>{t.object.id==e&&this.formObjectArray.splice(a,1)}),this.formList.forEach((t,a)=>{t.id==e&&this.formList.splice(a,1)}),this.builderKey+=1,this.indexHighlight-=1},removeGroup(e,t){this.formObjectArray.forEach((a,s)=>{a.object.id==t&&delete this.formObjectArray[s]["object"]["Groups"]["group_"+e]}),this.builderKey+=1},updateFormObjectAndComponent(){this.formObjectArray=[],this.getDataObjectSingle(this.indexHighlight),this.builderKey+=1},getElement(e,t){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e,gid:t},paramsSerializer:e=>Po.stringify(e)}).then(e=>{this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elements["element"+e.data.id]=e.data,this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elts.push(e.data),this.builderKey+=1})},tip(){this.showTip("foo-velocity",this.translate("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP")+"<br/>"+this.translate("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP1")+"<br/>"+this.translate("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP2"),this.translate("COM_EMUNDUS_ONBOARD_TIP"))},show(e,t="",a="",s="Information"){this.$notify({group:e,title:""+s,text:a,type:t}),this.lastUpdate=(new Date).getHours()+":"+((new Date).getMinutes()<10?"0":"")+(new Date).getMinutes(),document.getElementsByClassName("fa-sync")[0].style.transform="rotate(360deg)",setTimeout(()=>{document.getElementsByClassName("fa-sync")[0].style.transform="unset"},1500)},showTip(e,t="",a="Information"){this.$notify({group:e,title:""+a,text:t,duration:2e4})},clean(e){this.$notify({group:e,clean:!0})},enableUpdatingForm(){this.updateFormLabel=!0,setTimeout(()=>{document.getElementById("update_label_form_"+this.prid).focus()},100)},async getDataObject(){await this.asyncForEach(this.formList,async e=>{let t=e.link.replace("fabrik","emundus_onboard");await _.a.get(t+"&format=vue_jsonclean").then(t=>{this.formObjectArray.push({object:t.data,rgt:e.rgt,link:e.link})}).then(()=>{this.formObjectArray.sort((e,t)=>e.rgt-t.rgt)}).catch(e=>{console.log(e)})}),this.loading=!1,this.indexHighlight=0,this.elementDisabled=wt.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups),this.rgt=this.formObjectArray[this.indexHighlight].rgt},async getDataObjectSingle(e){if(this.formList.length>0){let t=this.formList[e].link.replace("fabrik","emundus_onboard");await _.a.get(t+"&format=vue_jsonclean").then(t=>{this.formObjectArray[e].object=t.data}).then(()=>{this.formObjectArray.sort((e,t)=>e.rgt-t.rgt)}).catch(e=>{console.log(e)}),this.elementDisabled=wt.a.isEmpty(this.formObjectArray[e].object.Groups),this.rgt=this.formObjectArray[e].rgt}this.loading=!1,this.indexHighlight=e},async asyncForEach(e,t){for(let a=0;a<e.length;a++)await t(e[a],a,e)},getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie),s=a.split(";"),i=0;i<s.length;i++){var o=s[i];while(" "==o.charAt(0))o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},getFilesByForm(){_.a.get("index.php?option=com_emundus&controller=form&task=getfilesbyform&pid="+this.prid).then(e=>{this.files=e.data.data,0!=this.files&&this.tip()})},getSubmittionPage(){_()({method:"GET",url:"index.php?option=com_emundus&controller=form&task=getsubmittionpage",params:{prid:this.prid},paramsSerializer:e=>Po.stringify(e)}).then(e=>{let t=e.data.link.replace("fabrik","emundus_onboard");_.a.get(t+"&format=vue_jsonclean").then(t=>{this.submittionPages.push({object:t.data,rgt:e.data.rgt,link:e.data.link})})})},getForms(){this.loading=!0,_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getFormsByProfileId",params:{profile_id:this.prid},paramsSerializer:e=>Po.stringify(e)}).then(e=>{this.formList=e.data.data,setTimeout(()=>{this.formList.length>0?this.formList.forEach(e=>{this.formObjectArray.push({object:{},rgt:e.rgt,link:e.link})}):this.showModal(),this.loading=!1,this.getDataObjectSingle(0),this.getProfileLabel(this.prid)},100)}).catch(e=>{console.log(e)})},getDocuments(){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getDocuments",params:{pid:this.prid},paramsSerializer:e=>Po.stringify(e)}).then(e=>{this.documentsList=e.data.data})},removeDocument(e,t){_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=removeDocumentFromProfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({did:t})}).then(()=>{this.documentsList.splice(e,1)})},getProfileLabel(e){_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getProfileLabelByProfileId",params:{profile_id:e},paramsSerializer:e=>Po.stringify(e)}).then(e=>{this.profileLabel=e.data.data.label}).catch(e=>{console.log(e)})},exitForm(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:"index.php?option=com_emundus_onboard&view=form"},paramsSerializer:e=>Po.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},sendForm(){this.formList.length>0?0!=this.cid?_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:"index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+this.cid+"&index=4"},paramsSerializer:e=>Po.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data}):_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getassociatedcampaign",params:{pid:this.prid},paramsSerializer:e=>Po.stringify(e)}).then(e=>{e.data.data.length>0?history.go(-1):this.$modal.show("modalAffectCampaign")}).catch(e=>{console.log(e)}):this.showModal()},testForm(){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=gettestingparams",params:{prid:this.prid},paramsSerializer:e=>Po.stringify(e)}).then(e=>{this.campaignsAffected=e.data.campaign_files,Object.keys(this.campaignsAffected).length>1?this.$modal.show("modalTestingForm"):Object.keys(this.campaignsAffected).length>0?this.campaignsAffected[0].files.length>0?this.$modal.show("modalTestingForm"):_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createtestingfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({cid:this.campaignsAffected[0].id})}).then(e=>{window.open("/index.php?option=com_emundus&task=openfile&fnum="+e.data.fnum+"&redirect=1==&Itemid=1079#em-panel")}):(this.testing=!0,_()({method:"get",url:"index.php?option=com_emundus&controller=form&task=getassociatedcampaign",params:{pid:this.prid},paramsSerializer:e=>Po.stringify(e)}).then(()=>{this.$modal.show("modalAffectCampaign")}))})},changeGroup(e){this.loading=!0,wt.a.isEmpty(this.formObjectArray[e].object)?this.getDataObjectSingle(e).then(()=>{this.loading=!1}):(this.elementDisabled=wt.a.isEmpty(this.formObjectArray[e].object.Groups),this.rgt=this.formObjectArray[e].rgt,this.indexHighlight=e,this.loading=!1),1===this.menuHighlight?(this.$refs.builder_submit.$refs.builder_viewer.clickUpdatingLabel=!1,this.$refs.builder_submit.$refs.builder_viewer.translate.label=!1):(this.$refs.builder.$refs.builder_viewer.clickUpdatingLabel=!1,this.$refs.builder.$refs.builder_viewer.translate.label=!1),document.cookie="page_"+this.prid+"="+e+"; expires=Session; path=/"},SomethingChange:function(){this.dragging=!0,this.formList.forEach((e,t)=>{e.rgt=this.formObjectArray[t].rgt}),this.reorderItems()},showElements(){this.elementDisabled?this.addingElement=!1:this.addingElement=!this.addingElement},showSections(){this.addingSection=!this.addingSection},reorderingDocuments:function(){this.documentsList.forEach((e,t)=>{e.ordering=t}),_()({method:"post",url:"index.php?option=com_emundus&controller=form&task=reorderDocuments",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({documents:this.documentsList})})},reorderItems(){this.formList.forEach(e=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=reordermenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Po.stringify({rgt:e.rgt,link:e.link})}).catch(e=>{console.log(e)})})},enableGrab(e){1!==this.formList.length&&(this.indexGrab=e,this.grab=!0)},disableGrab(){this.indexGrab=0,this.grab=!1},enableGrabDocuments(e){this.indexGrabDocuments=e,this.grabDocs=!0},disableGrabDocuments(){this.indexGrabDocuments=0,this.grabDocs=!1},startDragging(){"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#fff",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #16afe1",document.getElementsByClassName("no-elements-tip")[0].innerHTML="")},enableActionsMenu(){const e=document.getElementsByClassName("action-label");this.actions_menu=!this.actions_menu,this.addingElement=!1,this.actions_menu?setTimeout(()=>{e.forEach(e=>{e.style.display="block"})},300):e.forEach(e=>{e.style.display="none"})},getLanguages(){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=getactivelanguages"}).then(e=>{this.languages=e.data.data})}},created(){this.actualLanguage=this.$store.getters["global/actualLanguage"],this.manyLanguages=this.$store.getters["global/manyLanguages"],this.index=this.$store.getters["global/datas"].index.value,this.prid=this.$store.getters["global/datas"].prid.value,this.cid=this.$store.getters["global/datas"].cid.value,this.getForms(),this.getDocuments(),this.getSubmittionPage(),this.getFilesByForm(),this.getLanguages()},computed:{dragOptions(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}}},$o=Fo,Go=(a("1bec"),Object(b["a"])($o,$i,Gi,!1,null,"6ffd4f27",null)),Ho=Go.exports,zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"sidebar-formbuilder",style:e.actions_menu?"width: 250px":""},[a("transition",{attrs:{name:"move-right"}},[a("div",{staticClass:"actions-menu menu-block"},[a("a",{staticClass:"d-flex back-button-action pointer",staticStyle:{padding:"0 15px"},attrs:{title:e.Back}},[e._v(" "+e._s(e.BuildYourForm)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),a("div",[a("div",{staticClass:"action-links"},[a("a",{staticClass:"d-flex action-link",staticStyle:{"padding-top":"2em"},attrs:{title:e.addMenu},on:{click:function(t){return e.$modal.show("modalMenu")}}},[a("em",{staticClass:"add-page-icon"}),a("label",{directives:[{name:"show",rawName:"v-show",value:e.actions_menu,expression:"actions_menu"}],staticClass:"action-label col-md-offset-1 col-sm-offset-1"},[e._v(e._s(e.addMenu))])]),a("a",{staticClass:"d-flex action-link",attrs:{title:e.addGroup},on:{click:function(t){return e.createGroup()}}},[a("em",{staticClass:"add-group-icon"}),a("label",{directives:[{name:"show",rawName:"v-show",value:e.actions_menu,expression:"actions_menu"}],staticClass:"action-label col-md-offset-1 col-sm-offset-1"},[e._v(e._s(e.addGroup))])]),a("a",{staticClass:"d-flex action-link",class:{"disable-element":e.elementDisabled},attrs:{title:e.addItem},on:{click:e.showElements}},[a("em",{staticClass:"add-element-icon"}),a("label",{directives:[{name:"show",rawName:"v-show",value:e.actions_menu,expression:"actions_menu"}],staticClass:"action-label col-md-offset-1 col-sm-offset-1",class:[{"disable-element":e.elementDisabled},e.addingElement?"down-arrow":"right-arrow"]},[e._v(e._s(e.addItem))])]),a("transition",{attrs:{name:"slide-right",type:"transition"}},[e.addingElement?a("div",{staticClass:"plugins-list"},[a("a",{staticClass:"d-flex col-md-offset-1 back-button-action pointer",staticStyle:{padding:"0 15px"},attrs:{title:e.Back},on:{click:function(t){e.addingElement=!e.addingElement}}},[a("em",{staticClass:"fas fa-arrow-left mr-1"}),e._v(" "+e._s(e.Back)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),a("draggable",e._b({staticStyle:{"padding-bottom":"2em","margin-top":"10%"},attrs:{handle:".handle","drag-class":"plugin-drag","chosen-class":"plugin-chosen","ghost-class":"plugin-ghost"},on:{start:function(t){e.startDragging(),e.dragging=!0,e.draggingIndex=e.index},end:function(t){return e.addingNewElement(t)}},model:{value:e.plugins,callback:function(t){e.plugins=t},expression:"plugins"}},"draggable",e.dragOptions,!1),e._l(e.plugins,(function(t,s){return a("div",{staticClass:"d-flex plugin-link col-md-offset-1 col-sm-offset-1 handle",attrs:{id:"plugin_"+t.value,title:t.name},on:{dblclick:function(a){return e.addingNewElementByDblClick(t.value)}}},[a("em",{class:t.icon}),a("span",{staticClass:"ml-10px"},[e._v(e._s(t.name))])])})),0)],1):e._e()])],1)])])])],1),a("div",{staticClass:"menu-block",class:e.actions_menu?"col-md-8 col-md-offset-4 col-sm-9 col-sm-offset-3":""},[a("div",{staticClass:"heading-block",class:e.addingElement||e.actions_menu?"col-md-offset-2 col-md-9":"col-md-12"},[e._m(0),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:e.Validate},on:{click:e.sendForm}},[e._v(e._s(e.Validate))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:e.Validate},on:{click:e.sendForm}},[e._v(e._s(e.ExitFormbuilder))])])]),a("div",{staticClass:"form-viewer-builder",class:[e.addingElement||e.actions_menu?"col-sm-offset-5 col-md-offset-4 col-lg-offset-1 col-sm-7":"col-md-10",e.optionsModal?"col-sm-5 col-md-6":"col-md-10"]},[e.formObjectArray[e.indexHighlight]?a("Builder",{key:e.builderKey,ref:"builder",attrs:{object:e.formObjectArray[e.indexHighlight],UpdateUx:e.UpdateUx,rgt:e.rgt,prid:e.prid,eval:1,files:e.files,actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages},on:{show:e.show,UpdateFormBuilder:e.updateFormObjectAndComponent,removeGroup:e.removeGroup,modalClosed:function(t){e.optionsModal=!1},modalOpen:function(t){e.optionsModal=!0}}}):e._e()],1)])]),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):e._e()],1)},qo=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h2",{staticClass:"form-title",staticStyle:{padding:"0",margin:"0"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png"}}),e._v("Evaluation")])}];const Vo=a("bef5");var Jo={name:"EvaluationBuilder",props:{prid:String,index:Number,cid:Number,eval:Number,actualLanguage:String,manyLanguages:Number},components:{List:mt,ModalAffectCampaign:xo,Builder:co,ModalSide:fo,ModalMenu:Eo,draggable:ga.a},data(){return{actions_menu:!0,optionsModal:!1,UpdateUx:!1,indexHighlight:0,animation:{enter:{opacity:[1,0],translateX:[0,-300],scale:[1,.2]},leave:{opacity:0,height:0}},loading:!1,first_loading:!1,formObjectArray:[],rgt:0,builderKey:0,files:0,link:"",dragging:!1,draggingIndex:-1,elementDisabled:!1,addingElement:!1,plugins:{field:{id:0,value:"field",icon:"fas fa-font",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},textarea:{id:5,value:"textarea",icon:"far fa-square",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")},checkbox:{id:2,value:"checkbox",icon:"far fa-check-square",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},radiobutton:{id:4,value:"radiobutton",icon:"fas fa-list-ul",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},dropdown:{id:3,value:"dropdown",icon:"fas fa-th-list",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},birthday:{id:1,value:"birthday",icon:"far fa-calendar-alt",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},display:{id:6,value:"display",icon:"fas fa-paragraph",name:this.translate("COM_EMUNDUS_ONBOARD_TYPE_DISPLAY")}},addMenu:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),addMenuAction:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU_ACTION"),addGroup:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),Actions:this.translate("COM_EMUNDUS_ONBOARD_ACTIONS"),sendFormButton:this.translate("COM_EMUNDUS_ONBOARD_SEND_FORM"),Edit:this.translate("COM_EMUNDUS_ONBOARD_MODIFY"),FormPage:this.translate("COM_EMUNDUS_ONBOARD_FORM_PAGE"),SubmitPage:this.translate("COM_EMUNDUS_ONBOARD_SUBMIT_PAGE"),groupCreated:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_CREATEDGROUPSUCCES"),update:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),Back:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Validate:this.translate("COM_EMUNDUS_ONBOARD_OK"),ExitFormbuilder:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_EXIT_FORMBUILDER"),BuildYourForm:this.translate("COM_EMUNDUS_ONBOARD_BUILDER_BUILD_YOUR_FORM")}},methods:{createElement(e,t,a){wt.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups)||(this.loading=!0,_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createcriteria",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Vo.stringify({gid:e,plugin:t})}).then(t=>{_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:t.data.scalar,gid:e},paramsSerializer:e=>Vo.stringify(e)}).then(t=>{this.$set(this.formObjectArray[this.indexHighlight].object.Groups["group_"+e],"elements[element"+t.data.id+"]",t.data),this.formObjectArray[this.indexHighlight].object.Groups["group_"+e].elts.splice(a,0,t.data),this.$refs.builder.updateOrder(e,this.formObjectArray[this.indexHighlight].object.Groups["group_"+e].elts),this.$refs.builder.$refs.builder_viewer.keyElements["element"+t.data.id]=0,this.$refs.builder.$refs.builder_viewer.enableActionBar(t.data.id),this.$refs.builder.$refs.builder_viewer.enableLabelInput(t.data.id),this.loading=!1})}))},addingNewElement:function(e){this.dragging=!1,this.draggingIndex=-1,"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#e4e4e9",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #c3c3ce",document.getElementsByClassName("no-elements-tip")[0].innerHTML=this.translate("COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS"));let t=e.clone.id.split("_")[1],a=e.to.parentElement.parentElement.parentElement.id.split("_")[1];"undefined"!=typeof a&&this.createElement(a,t,e.newIndex)},addingNewElementByDblClick:wt.a.debounce((function(e){let t=Object.keys(this.formObjectArray[this.indexHighlight].object.Groups)[Object.keys(this.formObjectArray[this.indexHighlight].object.Groups).length-1].split("_")[1],a=this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elts.length;"undefined"!=typeof t&&this.createElement(t,e,a)}),250,{maxWait:1e3}),createGroup(){this.loading=!0,_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=createsimplegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Vo.stringify({fid:this.formObjectArray[this.indexHighlight].object.id})}).then(e=>{_()({method:"post",url:"index.php?option=com_emundus&controller=formbuilder&task=getJTEXT",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Vo.stringify({toJTEXT:e.data.group_tag})}).then(t=>{e.data.group_showLegend=t.data,_()({method:"post",url:"index.php?option=com_emundus&controller=program&task=affectgrouptoprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Vo.stringify({group:e.data.group_id,pid:this.cid})}).then(e=>{this.show("foo-velocity","success",this.groupCreated,this.update)}),this.loading=!1,this.pushGroup(e.data)})})},UpdateName(e,t){this.formObjectArray[e].object.show_title.value=t},UpdateUXT(){this.UpdateUx=!0},pushGroup(e){this.formObjectArray[this.indexHighlight]["object"]["Groups"]["group_"+e.group_id]={elements:{},elts:[],group_id:e.group_id,group_showLegend:e.group_showLegend,label:{fr:e.label.fr,en:e.label.en},group_tag:e.group_tag,ordering:e.ordering},this.elementDisabled=!1,this.$refs.builder.getDataObject(),this.$refs.builder.$refs.builder_viewer.openGroup[e.group_id]=!0,setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)},200)},removeGroup(e,t){this.formObjectArray.forEach((a,s)=>{a.object.id==t&&delete this.formObjectArray[s]["object"]["Groups"]["group_"+e]}),this.builderKey+=1},updateFormObjectAndComponent(){this.formObjectArray=[],this.getDataObject(),this.builderKey+=1},getElement(e,t){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getElement",params:{element:e,gid:t},paramsSerializer:e=>Vo.stringify(e)}).then(e=>{this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elements["element"+e.data.id]=e.data,this.formObjectArray[this.indexHighlight].object.Groups["group_"+t].elts.push(e.data),this.builderKey+=1})},tip(){this.showTip("foo-velocity",this.translate("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP")+"<br/>"+this.translate("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP1")+"<br/>"+this.translate("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP2"),this.translate("COM_EMUNDUS_ONBOARD_TIP"))},show(e,t="",a="",s="Information"){this.$notify({group:e,title:""+s,text:a,type:t})},showTip(e,t="",a="Information"){this.$notify({group:e,title:""+a,text:t,duration:2e4})},clean(e){this.$notify({group:e,clean:!0})},async getDataObject(){let e=this.link.replace("fabrik","emundus_onboard");await _.a.get(e+"&format=vue_jsonclean").then(e=>{this.formObjectArray.push({object:e.data,link:this.link}),this.loading=!1,this.indexHighlight=0,this.elementDisabled=wt.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups)})},sendForm(){this.redirectJRoute("index.php?option=com_emundus_onboard&view=form")},redirectJRoute(e){_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=redirectjroute",params:{link:e},paramsSerializer:e=>Vo.stringify(e)}).then(e=>{window.location.href=window.location.pathname+e.data.data})},showElements(){this.elementDisabled?this.addingElement=!1:this.addingElement=!this.addingElement},startDragging(){"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#fff",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #16afe1",document.getElementsByClassName("no-elements-tip")[0].innerHTML="")}},created(){this.$props.actualLanguage=this.$store.getters["global/actualLanguage"],this.$props.manyLanguages=this.$store.getters["global/manyLanguages"],this.$props.index=this.$store.getters["global/datas"].index.value,this.$props.prid=this.$store.getters["global/datas"].prid.value,this.$props.cid=this.$store.getters["global/datas"].cid.value,this.$props.eval=this.$store.getters["global/datas"].eval.value,this.link="index.php?option=com_fabrik&view=form&formid="+this.eval,this.getDataObject()},computed:{dragOptions(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}}},Yo=Jo,Wo=(a("54a6"),Object(b["a"])(Yo,zo,qo,!1,null,"67bfec12",null)),Qo=Wo.exports,Xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-row em-mt-80"},[a("div",{staticClass:"w-100"},[0!==e.menuHighlight&&9!==e.menuHighlight&&2!==e.menuHighlight&&3!==e.menuHighlight?a("div",{staticClass:"em-flex-row em-flex-start em-pointer em-m-24",staticStyle:{"margin-left":"10%"},on:{click:function(t){e.menuHighlight=0}}},[a("span",{staticClass:"material-icons-outlined"},[e._v("arrow_back")]),a("span",{staticClass:"em-ml-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR")))])]):e._e(),0!==e.menuHighlight||e.modal_ready?0!==e.menuHighlight&&9!==e.menuHighlight&&2!==e.menuHighlight&&3!==e.menuHighlight?a("h5",{staticClass:"em-h5 em-m-24",staticStyle:{"margin-left":"10%"}},[e._v(e._s(e.translate(e.currentTitle)))]):e._e():a("h5",{staticClass:"em-h5 em-m-24",staticStyle:{"margin-left":"10%"}},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_ADDCAMP_PARAMETER")))]),a("transition",{attrs:{name:"slide-right"}},[0===e.menuHighlight?a("div",{staticClass:"em-settings-menu",staticStyle:{"margin-left":"10%"}},e._l(e.menus,(function(t,s){return a("div",{directives:[{name:"wave",rawName:"v-wave"}],key:"menu_"+t.index,staticClass:"em-shadow-cards col-md-3",on:{click:function(a){e.menuHighlight=t.index,e.currentTitle=t.title}}},[a("span",{staticClass:"material-icons-outlined em-gradient-icons em-mb-16"},[e._v(e._s(t.icon))]),a("p",{staticClass:"em-body-16-semibold em-mb-8"},[e._v(e._s(e.translate(t.title)))]),a("p",{staticClass:"em-font-size-14"},[e._v(e._s(e.translate(t.description)))])])})),0):e._e()]),a("transition",{attrs:{name:"fade"}},[1===e.menuHighlight?a("editStyle",{ref:"styling"}):e._e(),2===e.menuHighlight?a("ContentTool",{directives:[{name:"show",rawName:"v-show",value:e.modal_ready,expression:"modal_ready"}],on:{resetMenuIndex:function(t){e.menuHighlight=0}}}):e._e(),3===e.menuHighlight?a("FilesTool",{directives:[{name:"show",rawName:"v-show",value:e.modal_ready,expression:"modal_ready"}],on:{resetMenuIndex:function(t){e.menuHighlight=0}}}):e._e(),9===e.menuHighlight?a("TranslationTool",{directives:[{name:"show",rawName:"v-show",value:e.modal_ready,expression:"modal_ready"}],ref:"translations",on:{resetMenuIndex:function(t){e.menuHighlight=0}}}):e._e()],1)],1)])},Ko=[],Zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-settings-menu"},[a("div",{staticClass:"em-w-80"},[a("div",{staticClass:"em-grid-3 em-mb-16"},[a("button",{staticClass:"em-primary-button em-mb-24",staticStyle:{width:"max-content"},on:{click:e.pushStatus}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),e._v(" "+e._s(e.translate("COM_EMUNDUS_ONBOARD_ADD_STATUS"))+" ")])])]),a("draggable",{class:"draggables-list",attrs:{handle:".handle"},on:{end:e.updateStatusOrder},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.status,(function(t,s){return a("div",{staticClass:"em-mb-24",attrs:{title:"step_"+t.step,id:"step_"+t.step},on:{mouseover:function(t){return e.enableGrab(s)},mouseleave:function(t){return e.disableGrab()}}},[a("div",{staticClass:"em-flex-row em-flex-row-start em-w-100"},[a("span",{staticClass:"handle",style:e.grab&&e.indexGrab==s?"opacity: 1":"opacity: 0"},[a("span",{staticClass:"material-icons"},[e._v("drag_indicator")])]),a("div",{staticClass:"status-field"},[a("div",[a("p",{staticClass:"em-p-8-12 em-editable-content",attrs:{contenteditable:"true",id:"status_label_"+t.step},on:{focusout:function(a){return e.updateStatus(t)},keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateStatus(t)}}},[e._v(e._s(t.label[e.actualLanguage]))])]),a("input",{class:"label-"+t.class,attrs:{type:"hidden"}})]),a("div",{staticClass:"em-flex-row"},[a("v-swatches",{attrs:{swatches:e.swatches,shapes:"circles","row-length":"8","show-border":"","popover-x":"left","popover-y":"top"},on:{input:function(a){return e.updateStatus(t)}},model:{value:t.class,callback:function(a){e.$set(t,"class",a)},expression:"statu.class"}}),a("a",{staticClass:"em-flex-row em-ml-8 em-pointer",style:1==t.edit&&0!=t.step&&1!=t.step?"opacity: 1":"opacity: 0",attrs:{type:"button",title:e.translate("COM_EMUNDUS_ONBOARD_DELETE_STATUS")},on:{click:function(a){return e.removeStatus(t,s)}}},[a("span",{staticClass:"material-icons em-red-500-color"},[e._v("delete_outline")])])],1)]),a("hr")])})),0)],1),e.loading?a("div",{staticClass:"em-page-loader"}):e._e()])},en=[],tn=a("b26c"),an=a.n(tn);a("afdb");const sn=a("bef5");var on={name:"editStatus",components:{VSwatches:an.a,draggable:ga.a},props:{},mixins:[D],data(){return{index:"",indexGrab:"0",grab:0,loading:!1,status:[],show:!1,actualLanguage:"",swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"]}},created(){this.getStatus(),this.actualLanguage=this.$store.getters["global/actualLanguage"]},methods:{getStatus(){_.a.get("index.php?option=com_emundus&controller=settings&task=getstatus").then(e=>{this.status=e.data.data,setTimeout(()=>{this.status.forEach(e=>{this.getHexColors(e)})},100)})},async updateStatus(e){this.$emit("updateSaving",!0);const t=new FormData;t.append("status",e.step),t.append("label",document.getElementById("status_label_"+e.step).textContent),t.append("color",e.class),await p().post("index.php?option=com_emundus&controller=settings&task=updatestatus",t,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})},async updateStatusOrder(){let e=[];this.status.forEach(t=>{e.push(t.step)}),this.$emit("updateSaving",!0);const t=new FormData;t.append("status",e.join(",")),await p().post("index.php?option=com_emundus&controller=settings&task=updatestatusorder",t,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))}),console.log(e)},pushStatus(){this.$emit("updateSaving",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=createstatus",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.status.push(e.data),setTimeout(()=>{this.getHexColors(e.data)},100),this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})},removeStatus(e,t){1==statu.edit&&0!=statu.step&&1!=statu.step&&(this.$emit("updateSaving",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=deletestatus",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:sn.stringify({id:e.id,step:e.step})}).then(()=>{this.status.splice(t,1),this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))}))},getHexColors(e){e.translate=!1;let t=document.querySelector(".label-"+e.class),a=getComputedStyle(t),s=a.backgroundColor.split("(")[1].split(")")[0].split(",");e.class=this.rgbToHex(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]))},rgbToHex(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1).toUpperCase()},enableGrab(e){1!==this.status.length&&(this.indexGrab=e,this.grab=!0)},disableGrab(){this.indexGrab=0,this.grab=!1}}},nn=on,rn=(a("5d9f"),Object(b["a"])(nn,Zo,en,!1,null,"73c0fef1",null)),ln=rn.exports,dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-settings-menu"},[a("div",{staticClass:"em-w-80"},[a("div",{staticClass:"em-grid-3 em-mb-16"},[a("button",{staticClass:"em-primary-button em-mb-24",staticStyle:{width:"max-content"},on:{click:e.pushTag}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),e._v(" "+e._s(e.translate("COM_EMUNDUS_ONBOARD_SETTINGS_ADDTAG"))+" ")])])]),e._l(e.tags,(function(t,s){return a("div",{staticClass:"em-mb-24",attrs:{id:"tag_"+t.id},on:{mouseover:function(t){return e.enableGrab(s)},mouseleave:function(t){return e.disableGrab()}}},[a("div",{staticClass:"em-flex-row em-flex-row-start em-w-100"},[a("div",{staticClass:"status-field"},[a("div",{staticStyle:{width:"100%"}},[a("p",{staticClass:"em-p-8-12 em-editable-content",attrs:{contenteditable:"true",id:"tag_label_"+t.id},on:{focusout:function(a){return e.updateTag(t)},keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateTag(t)}}},[e._v(e._s(t.label))])]),a("input",{class:t.class,attrs:{type:"hidden"}})]),a("div",{staticClass:"em-flex-row"},[a("v-swatches",{attrs:{swatches:e.swatches,shapes:"circles","row-length":"8","show-border":"","popover-x":"left","popover-y":"top"},on:{input:function(a){return e.updateTag(t)}},model:{value:t.class,callback:function(a){e.$set(t,"class",a)},expression:"tag.class"}}),a("a",{staticClass:"em-flex-row em-ml-8 em-pointer",attrs:{type:"button",title:e.translate("COM_EMUNDUS_ONBOARD_DELETE_TAGS")},on:{click:function(a){return e.removeTag(t,s)}}},[a("span",{staticClass:"material-icons em-red-500-color"},[e._v("delete_outline")])])],1)]),a("hr")])}))],2)])},cn=[];const mn=a("bef5");var un={name:"editTags",components:{VSwatches:an.a,draggable:ga.a},props:{},mixins:[D],data(){return{index:"",indexGrab:"0",grab:0,loading:!1,tags:[],show:!1,actualLanguage:"",swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"]}},created(){this.getTags(),this.actualLanguage=this.$store.getters["global/actualLanguage"]},methods:{getTags(){_.a.get("index.php?option=com_emundus&controller=settings&task=gettags").then(e=>{this.tags=e.data.data,setTimeout(()=>{this.tags.forEach(e=>{this.getHexColors(e)})},100)})},async updateTag(e){this.$emit("updateSaving",!0);const t=new FormData;t.append("tag",e.id),t.append("label",document.getElementById("tag_label_"+e.id).textContent),t.append("color",e.class),await p().post("index.php?option=com_emundus&controller=settings&task=updatetags",t,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})},pushTag(){this.$emit("updateSaving",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=createtag",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.tags.push(e.data),setTimeout(()=>{this.getHexColors(e.data)},100),this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})},removeTag(e,t){this.$emit("updateSaving",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=deletetag",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mn.stringify({id:e.id})}).then(()=>{this.tags.splice(t,1),this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})},getHexColors(e){let t=document.querySelector("."+e.class),a=getComputedStyle(t),s=a.backgroundColor.split("(")[1].split(")")[0].split(",");e.class=this.rgbToHex(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]))},rgbToHex(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1).toUpperCase()},enableGrab(e){1!==this.tags.length&&(this.indexGrab=e,this.grab=!0)},disableGrab(){this.indexGrab=0,this.grab=!1}}},_n=un,pn=(a("d089"),Object(b["a"])(_n,dn,cn,!1,null,"3aa33748",null)),hn=pn.exports,gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-flex-column"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),a("ModalUpdateLogo",{on:{UpdateLogo:e.updateView}}),a("ModalUpdateIcon",{on:{UpdateIcon:e.updateIcon}}),a("ModalUpdateColors",{on:{UpdateColors:e.updateColors}}),a("div",{staticClass:"em-w-80",staticStyle:{display:"flex","flex-direction":"column"}},[a("div",{staticClass:"em-h-auto em-flex-row col-md-4 em-mb-32",staticStyle:{"align-items":"start"}},[a("div",{staticClass:"em-logo-box pointer",on:{click:function(t){return e.$modal.show("modalUpdateLogo")}}},[a("img",{staticClass:"logo-settings",attrs:{src:e.imageLink,srcset:"/"+e.imageLink,alt:e.InsertLogo}})]),a("div",{staticClass:"em-w-100 em-ml-24"},[a("div",{staticClass:"em-flex-row em-flex-space-between"},[a("h2",{staticStyle:{margin:"0"}},[e._v("Logo")]),a("a",{staticClass:"pointer em-main-500-color",on:{click:function(t){return e.$modal.show("modalUpdateLogo")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ONBOARD_MODIFY"))+" ")])])])]),a("div",{staticClass:"em-h-auto em-flex-row col-md-4 em-mb-32",staticStyle:{"align-items":"start"}},[a("div",{staticClass:"em-logo-box pointer",on:{click:function(t){return e.$modal.show("modalUpdateIcon")}}},[a("img",{staticClass:"logo-settings",attrs:{src:e.iconLink,srcset:"/"+e.iconLink,alt:e.InsertIcon}})]),a("div",{staticClass:"em-w-100 em-ml-24"},[a("div",{staticClass:"em-flex-row em-flex-space-between"},[a("h2",{staticStyle:{margin:"0"}},[e._v(e._s(e.Icon))]),a("a",{staticClass:"pointer em-main-500-color",on:{click:function(t){return e.$modal.show("modalUpdateIcon")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ONBOARD_MODIFY"))+" ")])])])]),a("div",{staticClass:"em-h-auto em-flex-row col-md-4 em-mb-32",staticStyle:{"align-items":"start"}},[a("div",{staticClass:"em-logo-box pointer",on:{click:function(t){return e.$modal.show("modalUpdateColors")}}},[a("div",{staticClass:"color-preset",style:"background-color:"+e.primary+";border-right: 25px solid"+e.secondary})]),a("div",{staticClass:"em-w-100 em-ml-24"},[a("div",{staticClass:"em-flex-row em-flex-space-between"},[a("h2",{staticStyle:{margin:"0"}},[e._v(e._s(e.Colors))]),a("a",{staticClass:"pointer em-main-500-color",on:{click:function(t){return e.$modal.show("modalUpdateColors")}}},[e._v(" "+e._s(e.translate("COM_EMUNDUS_ONBOARD_MODIFY"))+" ")])])])])])],1)},fn=[],bn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalUpdateIcon"}},[a("modal",{attrs:{name:"modalUpdateIcon",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalUpdateIcon")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.updateIcon)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:e.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":e.afterAdded,"vdropzone-thumbnail":e.thumbnail,"vdropzone-removed-file":e.afterRemoved,"vdropzone-complete":e.onComplete,"vdropzone-error":e.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-image"}),e._v(" "+e._s(e.DropHere)+" ")])])],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalUpdateIcon")}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.uploadNewLogo()}}},[e._v(" "+e._s(e.Continuer)+" ")])])])],1)},vn=[];a("bef5");const yn=()=>'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n';var wn={name:"modalUpdateIcon",props:{},components:{vueDropzone:pa.a},data(){return{dropzoneOptions:{url:"index.php?option=com_emundus&controller=settings&task=updateicon",maxFilesize:10,maxFiles:1,autoProcessQueue:!1,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,resizeMimeType:"image/png",acceptedFiles:"image/*",previewTemplate:yn(),dictCancelUpload:this.translate("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:this.translate("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:this.translate("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:this.translate("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:this.translate("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:this.translate("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},updateIcon:this.translate("COM_EMUNDUS_ONBOARD_UPDATE_ICON"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:this.translate("COM_EMUNDUS_ONBOARD_DROP_HERE"),Error:this.translate("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{beforeClose(e){},beforeOpen(e){},afterAdded(){document.getElementById("dropzone-message").style.display="none"},afterRemoved(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(e){"success"==e.status&&(this.$emit("UpdateIcon",e.dataURL),this.$modal.hide("modalUpdateIcon"))},catchError:function(e,t,a){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_ERROR"),text:t,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(e)},thumbnail:function(e,t){var a,s,i,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),a=0,s=i.length;a<s;a++)o=i[a],o.alt=e.name,o.style.backgroundImage='url("'+t+'")';return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadNewLogo(){this.$refs.dropzone.processQueue()}}},On=wn,Cn=(a("c1a2"),Object(b["a"])(On,bn,vn,!1,null,"1dc7e0da",null)),En=Cn.exports,Dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalUpdateLogo"}},[a("modal",{attrs:{name:"modalUpdateLogo",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalUpdateLogo")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.updateLogo)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:e.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":e.afterAdded,"vdropzone-thumbnail":e.thumbnail,"vdropzone-removed-file":e.afterRemoved,"vdropzone-complete":e.onComplete,"vdropzone-error":e.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-image"}),e._v(" "+e._s(e.DropHere)+" ")])])],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalUpdateLogo")}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.uploadNewLogo()}}},[e._v(" "+e._s(e.Continuer)+" ")])])])],1)},Nn=[];a("bef5");const An=()=>'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n';var Mn={name:"modalUpdateLogo",props:{},components:{vueDropzone:pa.a},data(){return{dropzoneOptions:{url:"index.php?option=com_emundus&controller=settings&task=updatelogo",maxFilesize:10,maxFiles:1,autoProcessQueue:!1,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,resizeMimeType:"image/png",acceptedFiles:"image/*",previewTemplate:An(),dictCancelUpload:this.translate("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:this.translate("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:this.translate("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:this.translate("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:this.translate("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:this.translate("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},updateLogo:this.translate("COM_EMUNDUS_ONBOARD_UPDATE_LOGO"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:this.translate("COM_EMUNDUS_ONBOARD_DROP_HERE"),Error:this.translate("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{beforeClose(e){},beforeOpen(e){},afterAdded(){document.getElementById("dropzone-message").style.display="none"},afterRemoved(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(e){"success"==e.status&&(this.$emit("UpdateLogo",e.dataURL),this.$modal.hide("modalUpdateLogo"))},catchError:function(e,t,a){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_ERROR"),text:t,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(e)},thumbnail:function(e,t){var a,s,i,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),a=0,s=i.length;a<s;a++)o=i[a],o.alt=e.name,o.style.backgroundImage='url("'+t+'")';return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadNewLogo(){this.$refs.dropzone.processQueue()}}},Un=Mn,Sn=(a("ff37"),Object(b["a"])(Un,Dn,Nn,!1,null,"28771cbe",null)),xn=Sn.exports,Tn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalUpdateColors"}},[a("modal",{attrs:{name:"modalUpdateColors",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalUpdateColors")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.updateColors)+" ")])])]),a("div",{staticClass:"modalC-content"},e._l(e.presets,(function(t){return a("div",{staticClass:"preset-presentation",style:"background-color:"+t.primary+";border-right: 100px solid"+t.secondary,on:{click:function(a){return e.changeColors(t)}}})})),0)])],1)},Rn=[];const kn=a("bef5");var Ln={name:"modalUpdateColors",props:{},components:{},data(){return{presets:[{primary:"#1b1f3c",secondary:"#de6339"},{primary:"#DA3832",secondary:"#204382"},{primary:"#727378",secondary:"#A0BD51"},{primary:"#727378",secondary:"#000000"},{primary:"#000000",secondary:"#5AA6DC"},{primary:"#A0BD51",secondary:"#204382"}],updateColors:this.translate("COM_EMUNDUS_ONBOARD_UPDATE_COLORS"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Error:this.translate("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{changeColors(e){_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=updatecolor",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:kn.stringify({preset:e})}).then(t=>{this.$emit("UpdateColors",e),this.$modal.hide("modalUpdateColors")})}}},Bn=Ln,In=(a("3054"),Object(b["a"])(Bn,Tn,Rn,!1,null,"1548af99",null)),jn=In.exports;a("bef5");var Pn={name:"editStyle",components:{ModalUpdateColors:jn,ModalUpdateIcon:En,ModalUpdateLogo:xn,VSwatches:an.a},props:{actualLanguage:String},data(){return{imageLink:"images/custom/logo_custom.png",iconLink:"images/custom/favicon.png",primary:"",secondary:"",swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"],changes:!1,PrimaryColor:this.translate("COM_EMUNDUS_ONBOARD_PRIMARY_COLOR"),SecondaryColor:this.translate("COM_EMUNDUS_ONBOARD_SECONDARY_COLOR"),Colors:this.translate("COM_EMUNDUS_ONBOARD_COLORS"),Icon:this.translate("COM_EMUNDUS_ONBOARD_ICON"),InsertLogo:this.translate("COM_EMUNDUS_ONBOARD_INSERT_LOGO"),InsertIcon:this.translate("COM_EMUNDUS_ONBOARD_INSERT_ICON")}},methods:{updateView(e){this.imageLink="images/custom/logo_custom.png?"+(new Date).getTime(),this.$forceUpdate()},updateIcon(e){this.iconLink="images/custom/favicon.png?"+(new Date).getTime(),this.$forceUpdate()},updateColors(e){this.primary=e.primary,this.secondary=e.secondary},removeIcon(){j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_REMOVE_ICON"),text:this.translate("COM_EMUNDUS_ONBOARD_REMOVE_ICON_TEXT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#12db42",confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then(e=>{e.value&&_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=removeicon",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.iconLink="",this.$forceUpdate()})})},imageExists(e,t){var a=new Image;a.onload=function(){t(!0)},a.onerror=function(){t(!1)},a.src=e},tip(){this.show("foo-velocity",this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),this.translate("COM_EMUNDUS_ONBOARD_COLOR_SUCCESS"))},show(e,t="",a="Information"){this.$notify({group:e,title:""+a,text:t,duration:3e3})},clean(e){this.$notify({group:e,clean:!0})}},created(){this.changes=!1,this.imageExists(this.imageLink,e=>{e||(this.imageLink="images/custom/logo.png")}),_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=getappcolors"}).then(e=>{this.primary=e.data.primary,this.secondary=e.data.secondary,setTimeout(()=>{this.changes=!0},1e3)})}},Fn=Pn,$n=(a("3b69"),Object(b["a"])(Fn,gn,fn,!1,null,"5e033c6c",null)),Gn=$n.exports,Hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-settings-menu"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),a("ModalAddDatas",{attrs:{actualLanguage:e.actualLanguage,manyLanguages:e.manyLanguages},on:{updateDatabases:e.getDatabases}}),a("ModalImportDatas",{on:{updateDatabases:e.getDatabases}}),a("div",{staticClass:"d-flex"},[a("a",{staticClass:"bouton-ajouter-green bouton-ajouter pointer mr-1",staticStyle:{width:"max-content"},on:{click:function(t){return e.$modal.show("modalAddDatas")}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),e._v(" "+e._s(e.CreateDatas)+" ")])]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return e.$modal.show("modalImportDatas")}}},[e._v(" "+e._s(e.ImportDatas)+" ")])]),a("div",{staticClass:"mt-1"},e._l(e.databases,(function(t,s){return a("div",{staticClass:"db-table"},[a("div",{staticClass:"db-item",class:[s==e.indexOpen?"down-arrow":"right-arrow"],on:{click:function(a){return e.getDatas(t.database_name,s)}}},[a("h3",[e._v(e._s(t.label))]),a("p",[e._v(e._s(t.description))])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[s==e.indexOpen?a("div",{staticClass:"mt-1"},[a("table",{staticClass:"db-description"},[a("tr",{staticClass:"db-columns"},e._l(e.datas.columns,(function(t,s){return a("th",{attrs:{id:"column_"+t}},[e._v(e._s(t))])})),0),e._l(e.datas.datas,(function(t,s){return a("tr",{staticClass:"db-values"},e._l(t,(function(t){return a("th",[e._v(e._s(t))])})),0)}))],2)]):e._e()])],1)})),0),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):e._e()],1)},zn=[],qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddDatas"}},[a("modal",{attrs:{name:"modalAddDatas",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddDatas")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.CreateDatasTable)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Name)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.label,expression:"form.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.label},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:e.form.label},on:{input:function(t){t.target.composing||e.$set(e.form,"label",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Description)+" :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.desc,expression:"form.desc"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{maxlength:"150"},domProps:{value:e.form.desc},on:{input:function(t){t.target.composing||e.$set(e.form,"desc",t.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.Values)+" :")]),a("button",{staticClass:"add-option",on:{click:function(t){return t.preventDefault(),e.add.apply(null,arguments)}}},[e._v("+")])]),a("div",{staticClass:"col-md-12"},e._l(e.form.db_values,(function(t,s){return a("div",{key:s,staticClass:"dpflex"},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.db_values[s][e.actualLanguage],expression:"form.db_values[i][actualLanguage]"}],staticClass:"form__input field-general w-input db-values",attrs:{type:"text",id:"values_fr_"+s},domProps:{value:e.form.db_values[s][e.actualLanguage]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form.db_values[s],e.actualLanguage,t.target.value)}}}),"0"!==e.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.form.db_values[s].translate},attrs:{type:"button",title:e.Translate},on:{click:function(t){e.form.db_values[s].translate=!e.form.db_values[s].translate}}}):e._e()]),e.form.db_values[s].translate?a("translation",{attrs:{label:e.form.db_values[s],actualLanguage:e.actualLanguage}}):e._e(),a("button",{staticClass:"remove-option",on:{click:function(t){return t.preventDefault(),e.leave(s)}}},[e._v("-")])],1)})),0)]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddDatas")}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.saveDatas()}}},[e._v(" "+e._s(e.Continuer)+" ")])])])],1)},Vn=[];const Jn=a("bef5");var Yn={name:"modalAddDatas",props:{actualLanguage:String,manyLanguages:Number},components:{Translation:It},data(){return{form:{label:"",desc:"",db_values:[]},errors:{label:!1},Name:this.translate("COM_EMUNDUS_ONBOARD_LASTNAME"),Translate:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Values:this.translate("COM_EMUNDUS_ONBOARD_VALUES"),Description:this.translate("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),CreateDatasTable:this.translate("COM_EMUNDUS_ONBOARD_CREATE_DATAS"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_ADD_CONTINUER")}},methods:{add:wt.a.debounce((function(){let e=Object.keys(this.form.db_values).length;this.$set(this.form.db_values,e,{fr:"",en:"",translate:!1});let t="values_fr_"+e.toString();setTimeout(()=>{document.getElementById(t).focus()},100)}),150),leave:function(e){this.$delete(this.form.db_values,e)},saveDatas(){if(this.errors={label:!1},""==this.form.label)return this.errors.label=!0,!1;this.form.db_values.forEach(e=>{e.translate||(e.en=e.fr)}),_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=savedatas",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Jn.stringify({form:this.form})}).then(()=>{this.$emit("updateDatabases"),this.$modal.hide("modalAddDatas")})}}},Wn=Yn,Qn=(a("8f25"),Object(b["a"])(Wn,qn,Vn,!1,null,"29110d43",null)),Xn=Qn.exports,Kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalImportDatas"}},[a("modal",{attrs:{name:"modalImportDatas",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalImportDatas")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.ImportDatasTable)+" ")])])]),a("div",{staticClass:"modalC-content"},[e.importCSV?e._e():a("div",[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Name)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.label,expression:"form.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.label},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:e.form.label},on:{input:function(t){t.target.composing||e.$set(e.form,"label",t.target.value)}}}),e.errors.label?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.NameRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Description)+" :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.desc,expression:"form.desc"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{maxlength:"150"},domProps:{value:e.form.desc},on:{input:function(t){t.target.composing||e.$set(e.form,"desc",t.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.Columns)+" :")]),a("button",{staticClass:"add-option",on:{click:function(t){return t.preventDefault(),e.add.apply(null,arguments)}}},[e._v("+")])]),a("div",{staticClass:"col-md-12"},[e._l(e.form.db_columns,(function(t,s){return a("div",{key:s,staticClass:"dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.db_columns[s],expression:"form.db_columns[i]"}],staticClass:"form__input field-general w-input db-values",attrs:{type:"text",id:"columns_"+s},domProps:{value:e.form.db_columns[s]},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.form.db_columns,s,t.target.value)}}}),a("button",{staticClass:"remove-option",on:{click:function(t){return t.preventDefault(),e.leave(s)}}},[e._v("-")])])})),e.errors.db_columns?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.LeastOneColumnRequired))])]):e._e()],2)]),e.importCSV?a("vue-csv-import",{key:e.csv_comp,ref:"csvimport",attrs:{"map-fields":e.form.db_columns,tableSelectClass:"dropdown-toggle",tableClass:"custom-table-csv"},scopedSlots:e._u([{key:"hasHeaders",fn:function(t){var s=t.headers,i=t.toggle;return[a("label",{staticStyle:{display:"none"}},[a("input",{attrs:{type:"checkbox",id:"hasHeaders"},domProps:{value:s},on:{change:i}}),e._v(" Headers? ")])]}},{key:"next",fn:function(t){var s=t.load;return[a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{float:"left"},on:{click:function(e){return e.preventDefault(),s.apply(null,arguments)}}},[e._v(e._s(e.Load))])]}},{key:"submit",fn:function(t){var s=t.submit;return[a("button",{on:{click:function(e){return e.preventDefault(),s.apply(null,arguments)}}},[e._v("send!")])]}}],null,!1,504235837),model:{value:e.csv,callback:function(t){e.csv=t},expression:"csv"}},[a("template",{slot:"error"},[e._v(" "+e._s(e.FileTypeInvalid)+" ")]),a("template",{slot:"thead"},[a("p",{staticStyle:{"margin-top":"2em",width:"max-content"}},[e._v(e._s(e.CSVAssociate))]),a("tr",[a("th",[e._v(e._s(e.MyColumns))]),a("th",[e._v(e._s(e.CSVColumns))])])])],2):e._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.goBack.apply(null,arguments)}}},[e._v(" "+e._s(e.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.saveDatas()}}},[e._v(" "+e._s(e.Continuer)+" ")])])])],1)},Zn=[],er=a("1b04");const tr=a("bef5");var ar={name:"modalImportDatas",props:{},components:{VueCsvImport:er["VueCsvImport"]},data(){return{form:{label:"",desc:"",db_columns:[]},errors:{label:!1,db_columns:!1},csv:null,csv_comp:0,importCSV:!1,Name:this.translate("COM_EMUNDUS_ONBOARD_LASTNAME"),NameRequired:this.translate("COM_EMUNDUS_ONBOARD_LASTNAME_REQUIRED"),Translate:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Columns:this.translate("COM_EMUNDUS_ONBOARD_COLUMNS"),Description:this.translate("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),ImportDatasTable:this.translate("COM_EMUNDUS_ONBOARD_IMPORT_DATAS"),Retour:this.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:this.translate("COM_EMUNDUS_ONBOARD_NEXT"),Load:this.translate("COM_EMUNDUS_ONBOARD_LOAD_FILE"),MyColumns:this.translate("COM_EMUNDUS_ONBOARD_MY_COLUMNS"),CSVColumns:this.translate("COM_EMUNDUS_ONBOARD_CSV_COLUMNS"),CSVAssociate:this.translate("COM_EMUNDUS_ONBOARD_CSV_ASSOCIATION"),LeastOneColumnRequired:this.translate("COM_EMUNDUS_ONBOARD_LEAST_ONE_COLUMN_REQUIRED"),FileTypeInvalid:this.translate("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE")}},methods:{beforeClose(e){},beforeOpen(e){},goBack(){this.importCSV?this.importCSV=!1:this.$modal.hide("modalImportDatas")},add:wt.a.debounce((function(){let e=Object.keys(this.form.db_columns).length;this.$set(this.form.db_columns,e,"");let t="columns_"+e.toString();setTimeout(()=>{document.getElementById(t).focus()},100)}),150),leave:function(e){this.$delete(this.form.db_columns,e)},saveDatas(){return this.errors={label:!1,db_columns:!1},""==this.form.label?(this.errors.label=!0,!1):0==this.form.db_columns.length?(this.errors.db_columns=!0,!1):void(this.importCSV?_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=saveimporteddatas",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:tr.stringify({form:this.form,datas:this.csv})}).then(()=>{this.$emit("updateDatabases"),this.$modal.hide("modalImportDatas")}):(this.importCSV=!0,this.csv_comp+=1))}}},sr=ar,ir=(a("9e9b"),Object(b["a"])(sr,Kn,Zn,!1,null,"5c8f4064",null)),or=ir.exports;const nr=a("bef5");var rr={name:"editDatas",components:{ModalAddDatas:Xn,ModalImportDatas:or},props:{actualLanguage:String,manyLanguages:Number},data(){return{databases:[],datas:{columns:[],datas:[]},indexOpen:-1,loading:!1,CreateDatas:this.translate("COM_EMUNDUS_ONBOARD_CREATE_DATAS"),ImportDatas:this.translate("COM_EMUNDUS_ONBOARD_IMPORT_DATAS"),UpdateDatas:this.translate("COM_EMUNDUS_ONBOARD_UPDATE_DATAS")}},methods:{getDatabases(){_()({method:"get",url:"index.php?option=com_emundus&controller=formbuilder&task=getdatabasesjoin"}).then(e=>{this.databases=e.data.data})},getDatas(e,t){t==this.indexOpen?this.indexOpen=-1:(this.loading=!0,this.indexOpen=t,this.datas={columns:[],datas:[]},_()({method:"get",url:"index.php?option=com_emundus&controller=settings&task=getdatasfromtable",params:{db:e},paramsSerializer:e=>nr.stringify(e)}).then(e=>{this.loading=!1,this.datas.datas=e.data.data,this.datas.columns=Object.keys(this.datas.datas[0])}))},tip(){this.show("foo-velocity",this.translate("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),this.translate("COM_EMUNDUS_ONBOARD_COLOR_SUCCESS"))},show(e,t="",a="Information"){this.$notify({group:e,title:""+a,text:t,duration:3e3})},clean(e){this.$notify({group:e,clean:!0})}},created(){this.getDatabases()},watch:{}},lr=rr,dr=(a("18bf"),Object(b["a"])(lr,Hn,zn,!1,null,null,null)),cr=dr.exports,mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"translationTool"}},[a("modal",{attrs:{name:"translationTool",height:"auto",transition:"fade",delay:100,adaptive:!0,clickToClose:!1},on:{opened:e.checkSetup,closed:e.beforeClose}},[a("div",{staticClass:"em-modal-header"},[a("div",{staticClass:"em-flex-space-between em-flex-row em-pointer",on:{click:function(t){return t.preventDefault(),e.$modal.hide("translationTool")}}},[a("div",{staticClass:"em-w-max-content em-flex-row"},[a("span",{staticClass:"material-icons-outlined"},[e._v("arrow_back")]),a("span",{staticClass:"em-ml-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR")))])]),e.saving?a("div",{staticClass:"em-flex-row em-flex-start"},[a("div",{staticClass:"em-loader em-mr-8"}),a("p",{staticClass:"em-font-size-14 em-flex-row"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_PROGRESS")))])]):e._e(),e.saving||null==e.last_save?e._e():a("p",{staticClass:"em-font-size-14"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_LAST")+e.last_save))])])]),a("div",{staticClass:"em-modal-content"},[a("div",{staticClass:"em-modal-menu__sidebar"},e._l(e.menus,(function(t,s){return a("div",{key:"menu_"+t.index,staticClass:"translation-menu-item em-p-16 em-flex-row em-flex-space-between pointer",class:e.currentMenu===t.index?"em-modal-menu__current":"",on:{click:function(a){e.currentMenu=t.index}}},[a("p",{staticClass:"em-font-size-16"},[e._v(e._s(e.translate(t.title)))]),3===t.index&&e.orphelins_count>0?a("div",{staticClass:"em-notifications-yellow"}):e._e()])})),0),a("transition",{attrs:{name:"fade"}},[1===e.currentMenu?a("Global",{directives:[{name:"show",rawName:"v-show",value:!e.setup_success,expression:"!setup_success"}],staticClass:"em-modal-component",on:{updateOrphelinsCount:e.updateOrphelinsCount}}):e._e(),2===e.currentMenu?a("Translations",{directives:[{name:"show",rawName:"v-show",value:!e.setup_success,expression:"!setup_success"}],staticClass:"em-modal-component",on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),3===e.currentMenu?a("Orphelins",{directives:[{name:"show",rawName:"v-show",value:!e.setup_success,expression:"!setup_success"}],staticClass:"em-modal-component"}):e._e()],1),e.setup_success?a("img",{staticClass:"em-success-animation",attrs:{alt:"checked-animation",src:"/images/emundus/animations/checked.gif"}}):e._e()],1),e.loading?a("div",[e.setup_success?e._e():a("div",{staticClass:"em-page-loader"}),e.setup_success?e._e():a("p",{staticClass:"em-page-loader-text"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SETUP_PROGRESSING")))]),e.setup_success?a("p",{staticClass:"em-page-loader-text em-fade-loader"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SETUP_SUCCESS")))]):e._e()]):e._e()])],1)},ur=[],_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_GLOBAL")))]),a("div",{staticClass:"em-mb-24 em-flex-row em-flex-space-between"},[a("div",[a("p",{staticClass:"em-body-16-semibold em-mb-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_DEFAULT")))]),a("p",{staticClass:"em-font-size-14"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_DEFAULT_DESC")))])]),a("div",{staticClass:"em-w-33"},[a("multiselect",{attrs:{label:"title_native","track-by":"lang_code",options:e.allLanguages,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"","close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!1},on:{select:e.updateDefaultLanguage},model:{value:e.defaultLang,callback:function(t){e.defaultLang=t},expression:"defaultLang"}})],1)]),a("div",{staticClass:"em-mb-24 em-flex-row em-flex-space-between"},[a("div",[a("p",{staticClass:"em-body-16-semibold em-mb-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SECONDARY")))]),a("p",{staticClass:"em-font-size-14"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SECONDARY_DESC")))])]),a("div",{staticClass:"em-w-33"},[a("multiselect",{attrs:{label:"title_native","track-by":"lang_code",options:e.otherLanguages,multiple:!0,taggable:!1,"select-label":"","selected-label":"","deselect-label":"","close-on-select":!1,"clear-on-select":!1,searchable:!1},on:{remove:e.unpublishLanguage,select:e.publishLanguage},model:{value:e.secondaryLanguages,callback:function(t){e.secondaryLanguages=t},expression:"secondaryLanguages"}}),a("a",{staticClass:"em-pointer em-blue-500-color em-mt-16 em-font-size-12 em-hover-blue-500",on:{click:e.purposeLanguage}},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_OTHER_LANGUAGE")))])],1)]),e.loading?a("div",{staticClass:"em-page-loader"}):e._e()])},pr=[],hr=a("bef5"),gr=a.n(hr),fr={async checkSetup(){try{return await p().get("index.php?option=com_emundus&controller=translations&task=checksetup")}catch(e){return!1}},async configureSetup(){try{return await p().get("index.php?option=com_emundus&controller=translations&task=configuresetup")}catch(e){return!1}},async getAllLanguages(){try{const e=await p().get("index.php?option=com_emundus&controller=translations&task=getlanguages");return e.data}catch(e){return!1}},async getDefaultLanguage(){try{const e=await p().get("index.php?option=com_emundus&controller=translations&task=getdefaultlanguage");return e.data}catch(e){return!1}},async updateLanguage(e,t,a=0){try{const s=new FormData;return s.append("published",t),s.append("lang_code",e),s.append("default_lang",a),await p().post("index.php?option=com_emundus&controller=translations&task=updatelanguage",s,{headers:{"Content-Type":"multipart/form-data"}})}catch(s){return{status:!1,msg:s.message}}},async getObjects(){try{return await p().get("index.php?option=com_emundus&controller=translations&task=gettranslationsobjects")}catch(e){return{status:!1,msg:e.message}}},async getDatas(e,t,a,s){try{return await p().get("index.php?option=com_emundus&controller=translations&task=getdatas",{params:{table:e,reference_id:t,label:a,filters:s}})}catch(i){return{status:!1,msg:i.message}}},async getChildrens(e,t,a){try{return await p().get("index.php?option=com_emundus&controller=translations&task=getchildrens",{params:{table:e,reference_id:t,label:a}})}catch(s){return{status:!1,msg:s.message}}},async getTranslations(e,t,a,s="",i="",o=""){switch(e){case"falang":try{return await p().get("index.php?option=com_emundus&controller=translations&task=getfalangtranslations",{params:{default_lang:t,lang_to:a,reference_table:o,reference_id:s,fields:i}})}catch(n){return{status:!1,msg:n.message}}break;case"override":let e={default_lang:t,lang_to:a,reference_table:o,reference_id:s,fields:i},r=_.a.create({paramsSerializer:e=>gr.a.stringify(e)});try{return await r.get("index.php?option=com_emundus&controller=translations&task=gettranslations",{params:e})}catch(n){return{status:!1,msg:n.message}}break;default:}},async updateTranslations(e,t,a,s,i,o){switch(t){case"falang":try{const t=new FormData;return t.append("value",e),t.append("lang_to",a),t.append("field",i),t.append("reference_table",o),t.append("reference_id",s),await p().post("index.php?option=com_emundus&controller=translations&task=updatefalangtranslation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(n){return{status:!1,msg:n.message}}break;case"override":try{const t=new FormData;return t.append("value",e),t.append("lang_to",a),t.append("tag",i),t.append("reference_table",o),t.append("reference_id",s),await p().post("index.php?option=com_emundus&controller=translations&task=updatetranslation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(n){return{status:!1,msg:n.message}}break;default:}},async insertTranslation(e,t,a,s,i,o){switch(t){case"override":try{const t=new FormData;return t.append("value",e),t.append("lang_to",a),t.append("tag",i),t.append("reference_table",o),t.append("reference_id",s),await p().post("index.php?option=com_emundus&controller=translations&task=inserttranslation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(n){return{status:!1,msg:n.message}}break;default:}},async getOrphelins(e,t){try{return await p().get("index.php?option=com_emundus&controller=translations&task=getorphelins",{params:{default_lang:e,lang_to:t}})}catch(a){return{status:!1,msg:a.message}}},async sendMailToInstallLanguage(e,t=""){try{const a=new FormData;return a.append("suggest_language",e),a.append("comment",t),await p().post("index.php?option=com_emundus&controller=translations&task=sendpurposenewlanguage",a,{headers:{"Content-Type":"multipart/form-data"}})}catch(a){return{status:!1,msg:a.message}}}},br={name:"global",props:{},components:{Multiselect:Vt.a},data(){return{defaultLang:null,secondaryLanguages:[],allLanguages:[],otherLanguages:[],orphelins_count:0,loading:!1}},created(){this.loading=!0,fr.getDefaultLanguage().then(e=>{this.defaultLang=e,this.getAllLanguages(),this.loading=!1})},methods:{async getAllLanguages(){try{const e=await p().get("index.php?option=com_emundus&controller=translations&task=getlanguages");this.allLanguages=e.data,this.allLanguages.forEach(e=>{e.lang_code!==this.defaultLang.lang_code&&(1==e.published&&this.secondaryLanguages.push(e),this.otherLanguages.push(e))}),this.secondaryLanguages.forEach(e=>{fr.getOrphelins(this.defaultLang.lang_code,e.lang_code).then(e=>{this.orphelins_count=e.data.length,this.$emit("updateOrphelinsCount",this.orphelins_count)})})}catch(e){return!1}},unpublishLanguage(e){fr.updateLanguage(e.lang_code,0)},publishLanguage(e){fr.updateLanguage(e.lang_code,1)},updateDefaultLanguage(e){fr.updateLanguage(e.lang_code,1,1).then(()=>{let t=this.secondaryLanguages.findIndex(t=>t.lang_code==e.lang_code);-1!==t&&this.secondaryLanguages.splice(t,1),this.getAllLanguages()})},async purposeLanguage(){const{value:e}=await j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SUGGEST_LANGUAGE"),html:'<p class="em-body-16-semibold em-mb-8 em-text-align-left">'+this.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SUGGEST_LANGUAGE_FIELD")+'</p><input id="language_purpose" class="em-input">',showCancelButton:!0,cancelButtonText:this.translate("COM_EMUNDUS_ONBOARD_CANCEL"),confirmButtonText:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SUGGEST_LANGUAGE_SEND"),showLoaderOnConfirm:!0,reverseButtons:!0,customClass:{title:"em-swal-title",cancelButton:"em-swal-cancel-button",confirmButton:"em-swal-confirm-button"},preConfirm:()=>{const e=document.getElementById("language_purpose").value;return fr.sendMailToInstallLanguage(e)},allowOutsideClick:()=>!j.a.isLoading()});e&&await j.a.fire({title:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SUGGEST_LANGUAGE_SENDED"),text:this.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SUGGEST_LANGUAGE_SENDED_TEXT"),showCancelButton:!1,showConfirmButton:!1,timer:3e3,customClass:{title:"em-swal-title"}})}}},vr=br,yr=Object(b["a"])(vr,_r,pr,!1,null,"53503a92",null),wr=yr.exports,Or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"em-h4 em-mb-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS")))]),a("p",{staticClass:"em-font-size-14 em-mb-24 em-h-25"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE")))]),a("div",{staticClass:"em-grid-4"},[a("div",[a("multiselect",{attrs:{label:"title_native","track-by":"lang_code",options:e.availableLanguages,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT_LANGUAGE"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},on:{select:e.getObjects},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}})],1),e.lang?a("div",[a("multiselect",{attrs:{label:"name","track-by":"name",options:e.objects,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT_OBJECT"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},model:{value:e.object,callback:function(t){e.object=t},expression:"object"}})],1):e._e(),e.object?a("div",[a("multiselect",{attrs:{label:"label","track-by":"id",options:e.datas,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1):e._e(),e.childrens.length>0?a("div",[a("multiselect",{attrs:{label:"label","track-by":"id",options:e.childrens,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},model:{value:e.children,callback:function(t){e.children=t},expression:"children"}})],1):e._e()]),a("hr",{staticClass:"col-md-12",staticStyle:{"z-index":"0"}}),a("div",{staticClass:"col-md-12"},[""===e.lang||null==e.lang||""===e.object||null==e.object||!1===e.init_translations?a("div",{staticClass:"text-center em-mt-80"},[a("p",{staticClass:"em-h5 em-mb-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_NO_TRANSLATION_TITLE")))]),a("p",{staticClass:"em-font-size-14 em-text-neutral-600"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_NO_TRANSLATION_TEXT")))])]):a("div",e._l(e.object.fields.Sections,(function(t){return a("div",{staticClass:"em-mb-32"},[a("h4",[e._v(e._s(t.Label))]),a("TranslationRow",{attrs:{section:t,translations:e.translations},on:{saveTranslation:e.saveTranslation}})],1)})),0)]),e.loading?a("div",{staticClass:"em-page-loader"}):e._e()])},Cr=[],Er=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.translations_rows,(function(t){return a("div",{staticClass:"em-mb-32 em-neutral-100-box em-p-24"},e._l(t,(function(t,s){return a("div",{staticClass:"em-mb-24"},[a("p",[e._v(e._s(t.reference_label.toUpperCase()))]),a("div",{staticClass:"justify-content-between em-mt-16 em-grid-50 em-ml-24"},[a("p",{staticClass:"em-neutral-700-color"},[e._v(e._s(t.default_lang))]),"field"===t.field_type?a("input",{staticClass:"mb-0 em-input",attrs:{type:"text"},domProps:{value:t.lang_to},on:{focusout:function(a){return e.saveTranslation(a.target.value,t)}}}):e._e(),"textarea"===t.field_type?a("textarea",{staticClass:"mb-0 em-input",domProps:{value:t.lang_to},on:{focusout:function(a){return e.saveTranslation(a.target.value,t)}}}):e._e()])])})),0)})),0)},Dr=[],Nr={name:"TranslationRow",components:{Multiselect:Vt.a},mixins:[D],props:{section:Object,translations:Array},data(){return{translations_rows:{},key_fields:[]}},created(){this.initTranslations()},methods:{initTranslations(){this.key_fields=Object.keys(this.$props.section.indexedFields),Object.values(this.$props.translations).forEach(e=>{Object.values(e).forEach(e=>{this.key_fields.includes(e.reference_field)&&e.reference_table===this.$props.section.Name&&(e.reference_field_order=this.key_fields.indexOf(e.reference_field),e.reference_label=this.$props.section.indexedFields[e.reference_field].Label,e.field_type=this.$props.section.indexedFields[e.reference_field].Type,e.hasOwnProperty("tag")||(e.tag=e.reference_field),this.translations_rows.hasOwnProperty(e.reference_id)||(this.translations_rows[e.reference_id]=[]),this.translations_rows[e.reference_id].push(e))})}),Object.values(this.translations_rows).forEach(e=>{e.sort((e,t)=>e.reference_field_order>t.reference_field_order?1:-1)})},async saveTranslation(e,t){this.$emit("saveTranslation",{value:e,translation:t})}}},Ar=Nr,Mr=Object(b["a"])(Ar,Er,Dr,!1,null,"1cb7ed76",null),Ur=Mr.exports,Sr={name:"Translations",components:{TranslationRow:Ur,Multiselect:Vt.a},mixins:[D],data(){return{defaultLang:null,availableLanguages:[],objects:[],datas:[],childrens:[],translations:{},lang:null,object:null,data:null,children_type:null,children:null,loading:!1,init_translations:!1}},created(){this.loading=!0,fr.getDefaultLanguage().then(e=>{this.defaultLang=e,this.getAllLanguages(),this.loading=!1})},methods:{async getAllLanguages(){try{const e=await p().get("index.php?option=com_emundus&controller=translations&task=getlanguages");this.allLanguages=e.data,this.allLanguages.forEach(e=>{e.lang_code!==this.defaultLang.lang_code&&1==e.published&&this.availableLanguages.push(e)})}catch(e){return!1}},async getObjects(){this.loading=!0,this.translations=[],this.childrens=[],this.datas=[],this.objects=[],this.object=null,this.data=null,this.children=null,fr.getObjects().then(e=>{this.objects=e.data,this.loading=!1})},async getDatas(e){this.loading=!0,fr.getDatas(e.table.name,e.table.reference,e.table.label,e.table.filters).then(async t=>{if(this.datas=t.data,"true"===e.table.load_all){let e=[];await this.asyncForEach(this.object.fields.Fields,async t=>{e.push(t.Name)}),e=e.join(",");const t=async()=>{for(const t of this.datas)await fr.getTranslations(this.object.table.type,this.defaultLang.lang_code,this.lang.lang_code,t.id,e,this.object.table.name).then(async e=>{for(const a of Object.values(e.data))this.translations[t.id]={},this.object.fields.Fields.forEach(e=>{this.translations[t.id][e.Name]=a[e.Name]})});this.init_translations=!0,this.loading=!1};await t()}else this.loading=!1})},async getTranslations(e){let t=[];this.object.fields.Fields.forEach(e=>{t.push(e.Name)}),t=t.join(","),fr.getTranslations(this.object.table.type,this.defaultLang.lang_code,this.lang.lang_code,e.id,t,this.object.table.name).then(e=>{this.translations=e.data,this.init_translations=!0,this.loading=!1})},async saveTranslation({value:e,translation:t}){this.$emit("updateSaving",!0),fr.updateTranslations(e,this.object.table.type,this.lang.lang_code,t.reference_id,t.tag,t.reference_table).then(e=>{this.$emit("updateLastSaving",this.formattedDate("","LT")),this.$emit("updateSaving",!1)})}},watch:{object:function(e){this.init_translations=!1,this.translations={},this.childrens=[],this.children=null,this.datas=[],this.data=null,null!=e&&this.getDatas(e)},data:function(e){this.loading=!0,this.init_translations=!1,this.translations={},this.childrens=[],this.children=null,this.children_type=null;var t=!1;null!=e?(this.object.fields.Fields.forEach(e=>{"children"===e.Type&&(this.children_type=e.Label,t=!0,fr.getChildrens(e.Label,this.data.id,e.Name).then(e=>{this.childrens=e.data,this.loading=!1}))}),t||this.getTranslations(e)):this.getDatas(this.object)},children:function(e){if(this.loading=!0,this.init_translations=!1,this.translations={},null!=e){let t=[];this.object.fields.Sections.forEach(e=>{const a={table:e.Table,join_table:e.TableJoin,join_column:e.TableJoinColumn,reference_column:e.ReferenceColumn,fields:Object.keys(e.indexedFields)};t.push(a)}),fr.getTranslations(this.object.table.type,this.defaultLang.lang_code,this.lang.lang_code,e.id,"",t).then(e=>{this.translations=e.data,this.init_translations=!0,this.loading=!1})}else this.loading=!1}}},xr=Sr,Tr=Object(b["a"])(xr,Or,Cr,!1,null,"454b049f",null),Rr=Tr.exports,kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticClass:"em-h4 em-mb-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_ORPHELINS")))]),e.saving||null!=e.last_save?e._e():a("p",{staticClass:"em-font-size-14 em-mb-24 em-h-25"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE")))]),e.saving?a("div",{staticClass:"em-mb-24 em-flex-row em-flex-start"},[a("div",{staticClass:"em-loader em-mr-8"}),a("p",{staticClass:"em-font-size-14 em-flex-row"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_PROGRESS")))])]):e._e(),e.saving||null==e.last_save?e._e():a("p",{staticClass:"em-font-size-14 em-mb-24 em-h-25"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_LAST")+e.last_save))]),a("div",{staticClass:"em-grid-4"},[a("div",[a("multiselect",{attrs:{label:"title_native","track-by":"lang_code",options:e.availableLanguages,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT_LANGUAGE"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}})],1)]),a("hr",{staticClass:"col-md-12",staticStyle:{"z-index":"0"}}),a("div",{staticClass:"col-md-12"},[""===e.lang||null==e.lang||0===e.translations.length?a("div",{staticClass:"text-center em-mt-80"},[a("p",{staticClass:"em-h5 em-mb-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_NO_ORPHELINS_TITLE")))]),""===e.lang||null==e.lang?a("p",{staticClass:"em-font-size-14 em-text-neutral-600"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_NO_ORPHELINS_TEXT")))]):e._e()]):a("div",e._l(e.translations,(function(t,s){return a("div",[a("div",{staticClass:"em-mb-32 em-neutral-100-box em-p-24"},[a("div",{staticClass:"justify-content-between em-mt-16 em-grid-50"},[a("p",{staticClass:"em-neutral-700-color"},[e._v(e._s(t.override))]),a("div",[a("input",{staticClass:"mb-0 em-input",attrs:{type:"text"},domProps:{value:t.override},on:{focusout:function(a){return e.saveTranslation(a.target.value,t,s)}}}),a("a",{staticClass:"em-pointer em-blue-500-color em-mt-16 em-font-size-12 em-hover-blue-500",on:{click:function(a){return e.saveTranslation(t.override,t,s)}}},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_ORPHELIN_CONFIRM_TRANSLATION")))])])])])])})),0)]),e.loading?a("div",{staticClass:"em-page-loader"}):e._e()])},Lr=[],Br={name:"Orphelins",components:{Multiselect:Vt.a},mixins:[D],data(){return{defaultLang:null,availableLanguages:[],translations:[],lang:null,loading:!1,saving:!1,last_save:null}},created(){this.loading=!0,fr.getDefaultLanguage().then(e=>{this.defaultLang=e,this.getAllLanguages(),this.loading=!1})},methods:{async getAllLanguages(){try{const e=await p().get("index.php?option=com_emundus&controller=translations&task=getlanguages");this.allLanguages=e.data,this.allLanguages.forEach(e=>{e.lang_code!==this.defaultLang.lang_code&&1==e.published&&this.availableLanguages.push(e)})}catch(e){return!1}},async saveTranslation(e,t,a){this.saving=!0,fr.insertTranslation(e,"override",this.lang.lang_code,t.reference_id,t.tag,t.reference_table).then(e=>{this.last_save=this.formattedDate("","LT"),this.saving=!1,this.translations.splice(a,1)})}},watch:{lang:function(e){this.loading=!0,this.translations=[],fr.getOrphelins(this.defaultLang.lang_code,e.lang_code).then(e=>{this.translations=e.data,this.loading=!1})}}},Ir=Br,jr=Object(b["a"])(Ir,kr,Lr,!1,null,"ac0a05d6",null),Pr=jr.exports,Fr={name:"translationTool",props:{},components:{Orphelins:Pr,Translations:Rr,Global:wr},data(){return{orphelins_count:0,currentMenu:0,menus:[{title:"COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_GLOBAL",index:1},{title:"COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS",index:2},{title:"COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_ORPHELINS",index:3}],loading:!1,setup_success:!1,saving:!1,last_save:null}},methods:{beforeClose(e){this.$emit("resetMenuIndex")},updateOrphelinsCount(e){this.orphelins_count=e},checkSetup(){fr.checkSetup().then(e=>{0===e.data?(this.loading=!0,fr.configureSetup().then(e=>{1===e.data&&(this.loading=!1,this.setup_success=!0,this.currentMenu=1,setTimeout(()=>{this.setup_success=!1},2700))})):this.currentMenu=1})},updateSaving(e){this.saving=e},updateLastSaving(e){this.last_save=e}}},$r=Fr,Gr=Object(b["a"])($r,mr,ur,!1,null,"44ee664e",null),Hr=Gr.exports,zr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"contentTool"}},[a("modal",{attrs:{name:"contentTool",height:"auto",transition:"fade",delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose}},[a("div",{staticClass:"em-modal-header"},[a("div",{staticClass:"em-flex-space-between em-flex-row em-pointer",on:{click:function(t){return t.preventDefault(),e.$modal.hide("contentTool")}}},[a("div",{staticClass:"em-w-max-content em-flex-row"},[a("span",{staticClass:"material-icons-outlined"},[e._v("arrow_back")]),a("span",{staticClass:"em-ml-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR")))])]),e.saving?a("div",{staticClass:"em-flex-row em-flex-start"},[a("div",{staticClass:"em-loader em-mr-8"}),a("p",{staticClass:"em-font-size-14 em-flex-row"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_PROGRESS")))])]):e._e(),e.saving||null==e.last_save?e._e():a("p",{staticClass:"em-font-size-14"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_LAST")+e.last_save))])])]),a("div",{staticClass:"em-modal-content"},[a("div",{staticClass:"em-modal-menu__sidebar"},e._l(e.menus,(function(t){return a("div",{key:"menu_"+t.index,staticClass:"translation-menu-item em-p-16 em-flex-row em-flex-space-between pointer",class:e.currentMenu===t.index?"em-modal-menu__current":"",on:{click:function(a){e.currentMenu=t.index}}},[a("p",{staticClass:"em-font-size-16"},[e._v(e._s(e.translate(t.title)))])])})),0),a("transition",{attrs:{name:"fade"}},[1===e.currentMenu?a("EditArticle",{key:e.currentMenu,staticClass:"em-modal-component",attrs:{article_id:"52"},on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),2===e.currentMenu?a("EditArticle",{key:e.currentMenu,staticClass:"em-modal-component",attrs:{article_alias:"mentions-legales"},on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),3===e.currentMenu?a("EditArticle",{key:e.currentMenu,staticClass:"em-modal-component",attrs:{article_alias:"politique-de-confidentialite-des-donnees"},on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),4===e.currentMenu?a("EditArticle",{key:e.currentMenu,staticClass:"em-modal-component",attrs:{article_alias:"gestion-de-vos-droits"},on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),5===e.currentMenu?a("EditArticle",{key:e.currentMenu,staticClass:"em-modal-component",attrs:{article_alias:"gestion-des-cookies"},on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),6===e.currentMenu?a("EditFooter",{staticClass:"em-modal-component",on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e()],1)],1),e.loading?a("div"):e._e()])],1)},qr=[],Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-settings-menu"},[a("div",{staticClass:"em-w-80"},[a("div",{staticClass:"em-grid-3 em-mb-16"},[a("multiselect",{attrs:{label:"title_native","track-by":"lang_code",options:e.availableLanguages,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT_LANGUAGE"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}})],1),a("div",{staticClass:"form-group controls"},[a("editor",{key:e.dynamicComponent,attrs:{height:"30em",text:e.form.content,lang:e.actualLanguage,enable_variables:!1,id:"editor"},on:{focusout:e.saveContent},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)]),e.loading?a("div",{staticClass:"em-page-loader"}):e._e()])},Jr=[],Yr={name:"editArticle",components:{Editor:Dt,Multiselect:Vt.a},props:{actualLanguage:String,manyLanguages:Number,article_alias:String,article_id:Number},mixins:[D],data(){return{defaultLang:null,availableLanguages:[],lang:null,loading:!1,dynamicComponent:0,form:{content:""}}},created(){this.loading=!0,fr.getDefaultLanguage().then(e=>{this.defaultLang=e,this.getAllLanguages(),this.loading=!1})},methods:{async getArticle(){let e={article_id:this.$props.article_id,lang:this.lang.lang_code,field:"introtext"};"undefined"!==typeof this.$props.article_alias&&(e={article_alias:this.$props.article_alias,lang:this.lang.lang_code,field:"introtext"}),await p().get("index.php?option=com_emundus&controller=settings&task=getarticle",{params:e}).then(e=>{this.form.content=e.data.data.introtext,this.dynamicComponent++})},async saveContent(){this.$emit("updateSaving",!0);const e=new FormData;e.append("content",this.form.content),e.append("lang",this.lang.lang_code),"undefined"!==typeof this.$props.article_alias?e.append("article_alias",this.$props.article_alias):e.append("article_id",this.$props.article_id),e.append("field","introtext"),await p().post("index.php?option=com_emundus&controller=settings&task=updatearticle",e,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})},async getAllLanguages(){await fr.getAllLanguages().then(e=>{this.availableLanguages=e,this.lang=this.defaultLang})}},watch:{lang:function(){this.getArticle()}}},Wr=Yr,Qr=Object(b["a"])(Wr,Vr,Jr,!1,null,"1f0b8732",null),Xr=Qr.exports,Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-settings-menu"},[a("div",{staticClass:"em-w-80"},[a("div",{staticClass:"em-grid-3 em-mb-16"},[a("multiselect",{attrs:{label:"label","track-by":"index",options:e.columns,multiple:!1,taggable:!1,"select-label":"","selected-label":"","deselect-label":"",placeholder:e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_SELECT_COLUMN"),"close-on-select":!0,"clear-on-select":!1,searchable:!1,"allow-empty":!0},model:{value:e.selectedColumn,callback:function(t){e.selectedColumn=t},expression:"selectedColumn"}})],1),0===e.selectedColumn.index&&null!=this.form.content.col1?a("div",{staticClass:"form-group controls"},[a("editor",{key:e.dynamicComponent,attrs:{height:"30em",text:e.form.content.col1,lang:e.actualLanguage,enable_variables:!1,id:"editor_1"},on:{focusout:e.saveFooter},model:{value:e.form.content.col1,callback:function(t){e.$set(e.form.content,"col1",t)},expression:"form.content.col1"}})],1):e._e(),1===e.selectedColumn.index&&null!=this.form.content.col2?a("div",{staticClass:"form-group controls"},[a("editor",{key:e.dynamicComponent,attrs:{height:"30em",text:e.form.content.col2,lang:e.actualLanguage,enable_variables:!1,id:"editor_2"},on:{focusout:e.saveFooter},model:{value:e.form.content.col2,callback:function(t){e.$set(e.form.content,"col2",t)},expression:"form.content.col2"}})],1):e._e()]),e.loading?a("div",{staticClass:"em-page-loader"}):e._e()])},Zr=[],el={name:"editFooter",components:{Editor:Dt,Multiselect:Vt.a},props:{actualLanguage:String},mixins:[D],data(){return{loading:!1,dynamicComponent:0,selectedColumn:0,form:{content:{col1:null,col2:null}},columns:[{index:0,label:this.translate("COM_EMUNDUS_ONBOARD_COLUMN")+" 1"},{index:1,label:this.translate("COM_EMUNDUS_ONBOARD_COLUMN")+" 2"}]}},created(){this.loading=!0,this.getArticles(),this.selectedColumn=this.columns[0]},methods:{async getArticles(){await p().get("index.php?option=com_emundus&controller=settings&task=getfooterarticles").then(e=>{this.form.content.col1=e.data.data.column1,this.form.content.col2=e.data.data.column2,this.loading=!1})},async saveFooter(){this.$emit("updateSaving",!0);const e=new FormData;e.append("col1",this.form.content.col1),e.append("col2",this.form.content.col2),await p().post("index.php?option=com_emundus&controller=settings&task=updatefooter",e,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})}},watch:{selectedColumn:function(){this.dynamicComponent++}}},tl=el,al=Object(b["a"])(tl,Kr,Zr,!1,null,"2539be08",null),sl=al.exports,il={name:"contentTool",props:{},components:{EditFooter:sl,EditArticle:Xr},data(){return{currentMenu:1,menus:[{title:"COM_EMUNDUS_ONBOARD_CONTENT_TOOL_HOMEPAGE",index:1},{title:"COM_EMUNDUS_ONBOARD_CONTENT_TOOL_LEGAL_MENTION",index:2},{title:"COM_EMUNDUS_ONBOARD_CONTENT_TOOL_DATAS",index:3},{title:"COM_EMUNDUS_ONBOARD_CONTENT_TOOL_RIGHTS",index:4},{title:"COM_EMUNDUS_ONBOARD_CONTENT_TOOL_COOKIES",index:5},{title:"COM_EMUNDUS_ONBOARD_CONTENT_TOOL_FOOTER",index:6}],loading:!1,saving:!1,last_save:null}},methods:{beforeClose(e){this.$emit("resetMenuIndex")},updateSaving(e){this.saving=e},updateLastSaving(e){this.last_save=e}}},ol=il,nl=Object(b["a"])(ol,zr,qr,!1,null,"105553eb",null),rl=nl.exports,ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"filesTool"}},[a("modal",{attrs:{name:"filesTool",height:"auto",transition:"fade",delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose}},[a("div",{staticClass:"em-modal-header"},[a("div",{staticClass:"em-flex-space-between em-flex-row em-pointer",on:{click:function(t){return t.preventDefault(),e.$modal.hide("filesTool")}}},[a("div",{staticClass:"em-w-max-content em-flex-row"},[a("span",{staticClass:"material-icons-outlined"},[e._v("arrow_back")]),a("span",{staticClass:"em-ml-8"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_ADD_RETOUR")))])]),e.saving?a("div",{staticClass:"em-flex-row em-flex-start"},[a("div",{staticClass:"em-loader em-mr-8"}),a("p",{staticClass:"em-font-size-14 em-flex-row"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_PROGRESS")))])]):e._e(),e.saving||null==e.last_save?e._e():a("p",{staticClass:"em-font-size-14"},[e._v(e._s(e.translate("COM_EMUNDUS_ONBOARD_TRANSLATION_TOOL_TRANSLATIONS_AUTOSAVE_LAST")+e.last_save))])])]),a("div",{staticClass:"em-modal-content"},[a("div",{staticClass:"em-modal-menu__sidebar"},e._l(e.menus,(function(t){return a("div",{key:"menu_"+t.index,staticClass:"translation-menu-item em-p-16 em-flex-row em-flex-space-between pointer",class:e.currentMenu===t.index?"em-modal-menu__current":"",on:{click:function(a){e.currentMenu=t.index}}},[a("p",{staticClass:"em-font-size-16"},[e._v(e._s(e.translate(t.title)))])])})),0),a("transition",{attrs:{name:"fade"}},[1===e.currentMenu?a("EditStatus",{key:e.currentMenu,staticClass:"em-modal-component",on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),2===e.currentMenu?a("EditTags",{key:e.currentMenu,staticClass:"em-modal-component",on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e(),3===e.currentMenu?a("EditApplicants",{key:e.currentMenu,staticClass:"em-modal-component",on:{updateSaving:e.updateSaving,updateLastSaving:e.updateLastSaving}}):e._e()],1)],1),e.loading?a("div"):e._e()])],1)},dl=[],cl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"em-settings-menu"},[a("div",{staticClass:"em-w-80"},e._l(e.params,(function(t,s){return a("div",{staticClass:"form-group em-flex-center em-w-100"},[a("label",{attrs:{for:"param_"+s}},[e._v(e._s(t.label))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"param.value"}],staticClass:"dropdown-toggle w-select",staticStyle:{"margin-bottom":"0"},attrs:{id:"param_"+s},on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"value",a.target.multiple?s:s[0])},function(a){return e.saveEmundusParam(t)}]}},e._l(t.options,(function(t,s){return a("option",{domProps:{value:t.value}},[e._v(e._s(t.label))])})),0)])})),0)])},ml=[];const ul=a("bef5");var _l={name:"editApplicants",components:{},props:{},mixins:[D],data(){return{params:{applicant_can_renew:{label:this.translate("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_CAN_RENEW"),param:"applicant_can_renew",options:[{label:this.translate("JNO"),value:0},{label:this.translate("JYES"),value:1},{label:this.translate("COM_EMUNDUS_APPLICANT_CAN_RENEW_CAMPAIGN"),value:2},{label:this.translate("COM_EMUNDUS_APPLICANT_CAN_RENEW_YEAR"),value:3}],value:0},can_edit_until_deadline:{label:this.translate("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_CAN_EDIT_UNTIL_DEADLINE"),param:"can_edit_until_deadline",options:[{label:this.translate("JNO"),value:0},{label:this.translate("JYES"),value:1}],value:0},copy_application_form:{label:this.translate("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_COPY_APPLICATION_FORM"),param:"copy_application_form",options:[{label:this.translate("JNO"),value:0},{label:this.translate("JYES"),value:1}],value:0},can_submit_encrypted:{label:this.translate("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_CAN_SUBMIT_ENCRYPTED"),param:"can_submit_encrypted",options:[{label:this.translate("JNO"),value:0},{label:this.translate("JYES"),value:1}],value:0}},config:{}}},created(){this.getEmundusParams()},methods:{getEmundusParams(){_.a.get("index.php?option=com_emundus&controller=settings&task=getemundusparams").then(e=>{this.config=e.data.config,this.params.applicant_can_renew.value=parseInt(this.config.applicant_can_renew),this.params.can_edit_until_deadline.value=parseInt(this.config.can_edit_until_deadline),this.params.copy_application_form.value=parseInt(this.config.copy_application_form),this.params.can_submit_encrypted.value=parseInt(this.config.can_submit_encrypted)})},saveEmundusParam(e){this.$emit("updateSaving",!0),_()({method:"post",url:"index.php?option=com_emundus&controller=settings&task=updateemundusparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ul.stringify({param:e.param,value:e.value})}).then(()=>{this.$emit("updateSaving",!1),this.$emit("updateLastSaving",this.formattedDate("","LT"))})}}},pl=_l,hl=(a("b573"),Object(b["a"])(pl,cl,ml,!1,null,"bd89954a",null)),gl=hl.exports,fl={name:"filesTool",props:{},components:{EditApplicants:gl,EditTags:hn,EditStatus:ln},data(){return{currentMenu:1,menus:[{title:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_STATUS",index:1},{title:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_TAGS",index:2},{title:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_APPLICANTS",index:3}],loading:!1,saving:!1,last_save:null}},methods:{beforeClose(e){this.$emit("resetMenuIndex")},updateSaving(e){this.saving=e},updateLastSaving(e){this.last_save=e}}},bl=fl,vl=Object(b["a"])(bl,ll,dl,!1,null,"6455ee3b",null),yl=vl.exports;a("bef5");var wl={name:"globalSettings",components:{FilesTool:yl,ContentTool:rl,TranslationTool:Hr,editStatus:ln,editTags:hn,editStyle:Gn,editDatas:cr},props:{actualLanguage:String,coordinatorAccess:Number,manyLanguages:Number},data:()=>({menuHighlight:0,currentTitle:"",langue:0,saving:!1,endSaving:!1,menus:[{title:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_STYLE",description:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_STYLE_DESC",icon:"style",index:1},{title:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_CONTENT",description:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_CONTENT_DESC",icon:"notes",index:2},{title:"COM_EMUNDUS_ONBOARD_SETTINGS_FILES_TOOL",description:"COM_EMUNDUS_ONBOARD_SETTINGS_FILES_TOOL_DESC",icon:"source",index:3},{title:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_TRANSLATIONS",description:"COM_EMUNDUS_ONBOARD_SETTINGS_MENU_TRANSLATIONS_DESC",icon:"language",index:9}],modal_ready:!1}),created(){"en"==this.actualLanguage&&(this.langue=1)},methods:{},watch:{menuHighlight:function(e){this.modal_ready=!1,setTimeout(()=>{switch(e){case 2:this.$modal.show("contentTool"),this.modal_ready=!0;break;case 3:this.$modal.show("filesTool"),this.modal_ready=!0;break;case 9:this.$modal.show("translationTool"),this.modal_ready=!0;break;default:break}},500)}}},Ol=wl,Cl=Object(b["a"])(Ol,Xo,Ko,!1,null,"5a9b6d67",null),El=Cl.exports,Dl=(a("e382"),a("81b3"),a("16b4"),a("8d2f"),a("0e4e"),a("f717"),{props:{component:String,datas:Object,actualLanguage:String,manyLanguages:String,coordinatorAccess:String,componentName:{type:String,required:!0},data:{type:Object,default:{}}},components:{Attachments:G,list:mt,addcampaign:Gt,addformnextcampaign:Fi,addemail:aa,formbuilder:Ho,evaluationbuilder:Qo,settings:El},created(){"undefined"!=typeof this.$props.datas&&this.$store.commit("global/initDatas",this.$props.datas),"undefined"!=typeof this.$props.actualLanguage&&this.$store.commit("global/initCurrentLanguage",this.$props.actualLanguage),"undefined"!=typeof this.$props.manyLanguages&&this.$store.commit("global/initManyLanguages",this.$props.manyLanguages),"undefined"!=typeof this.$props.coordinatorAccess&&this.$store.commit("global/initCoordinatorAccess",this.$props.coordinatorAccess)},mounted(){this.data.lang?this.$store.dispatch("global/setLang",this.data.lang.split("-")[0]):this.$store.dispatch("global/setLang","fr"),r.a.locale(this.$store.state.global.lang),this.data.base&&this.$store.dispatch("attachment/setAttachmentPath",this.data.base+"/images/emundus/files/")}}),Nl=Dl,Al=(a("5c0b"),Object(b["a"])(Nl,i,o,!1,null,null,null)),Ml=Al.exports,Ul=a("209f"),Sl=a.n(Ul),xl=a("3332"),Tl=a("4859"),Rl=(a("9e26"),a("c2ca")),kl=a("66d6"),Ll=a.n(kl),Bl=a("6db0"),Il=a.n(Bl),jl=a("7cdb"),Pl={methods:{translate(e){return void 0!=typeof e&&null!=e?Joomla.JText._(e)?Joomla.JText._(e):e:""}}};const Fl={users:{},currentUser:0,displayedUser:0,rights:{}},$l={},Gl={setUsers({commit:e},t){e("setUser",t)},setCurrentUser({commit:e},t){e("setCurrentUser",t)},setDisplayedUser({commit:e},t){e("setDisplayedUser",t)},setAccessRights({commit:e},t){e("setAccessRights",t)}},Hl={setUser(e,t){t&&t.length>0&&t.forEach(t=>{e.users[t.user_id]=t})},setCurrentUser(e,t){e.currentUser=t},setDisplayedUser(e,t){e.displayedUser=t},setAccessRights(e,t){e.rights[t.fnum]=t.rights}};var zl={namespaced:!0,state:Fl,getters:$l,actions:Gl,mutations:Hl};const ql={attachmentPath:"images/emundus/files/",attachments:{},selectedAttachment:{},previews:{},categories:{},checkedAttachments:[]},Vl={},Jl={setAttachments({commit:e},t){e("setAttachments",t)},setAttachmentsOfFnum({commit:e},t){e("setAttachmentsOfFnum",t)},updateAttachmentOfFnum({commit:e},t){e("updateAttachmentOfFnum",t)},setSelectedAttachment({commit:e},t){e("setSelectedAttachment",t)},setPreview({commit:e},t){e("setPreview",t)},setCategories({commit:e},t){e("setCategories",t)},setAttachmentPath({commit:e},t){e("setAttachmentPath",t)},setCheckedAttachments({commit:e},t){e("setCheckedAttachments",t)}},Yl={setAttachments(e,t){e.attachments=t},setAttachmentsOfFnum(e,t){e.attachments[t.fnum]=t.attachments},updateAttachmentOfFnum(e,t){const a=e.attachments[t.fnum].findIndex(e=>e.aid===t.attachment.aid);e.attachments[t.fnum][a]=t.attachment},setSelectedAttachment(e,t){e.selectedAttachment=t},setPreview(e,t){e.previews[t.id]=t.preview},setCategories(e,t){e.categories=t},setAttachmentPath(e,t){e.attachmentPath=t},setCheckedAttachments(e,t){e.checkedAttachments=t}};var Wl={namespaced:!0,state:ql,getters:Vl,actions:Jl,mutations:Yl};const Ql={list:[],selectedItems:[],formsAccess:[]},Xl={list:e=>e.list,formsAccess:e=>e.formsAccess,selectedItems:e=>e.selectedItems,isSelected:e=>t=>e.selectedItems.includes(t),isSomething:e=>Array.isArray(e.selectedItems)&&e.selectedItems.length},Kl={deleteSelected({commit:e,state:t},a){a.forEach(t=>{e("deleteSelected",t)})}},Zl={selectItem(e,t){return e.selectedItems.includes(t)?e.selectedItems.splice(e.selectedItems.indexOf(t),1):e.selectedItems.push(t),e.selectedItems},resetSelectedItemsList(e){e.selectedItems=[]},listUpdate(e,t){e.list=t},formsAccessUpdate(e,t){e.formsAccess=t},listInsert(e,t){t.forEach(t=>{e.list.push(t)})},publish(e,t){e.list.forEach((a,s)=>{t.includes(a.id)&&(e.list[s].published=1)})},unpublish(e,t){e.list.forEach((a,s)=>{t.includes(a.id)&&(e.list[s].published=0)})},deleteSelected(e,t){e.list.some((a,s)=>{if(t==a.id)return e.list.splice(s,1),!0})}};var ed={namespaced:!0,state:Ql,getters:Xl,actions:Kl,mutations:Zl};const td={fnums:[]},ad={},sd={},id={};var od={namespaced:!0,state:td,getters:ad,actions:sd,mutations:id},nd=a("94ea");s["default"].use(nd["a"]);var rd=new nd["a"].Store({modules:{global:Xt,user:zl,attachment:Wl,file:od,lists:ed}});s["default"].config.productionTip=!1,s["default"].component("v-popover",xl["b"]),s["default"].component("table-component",Rl["TableComponent"]),s["default"].component("table-column",Rl["TableColumn"]),s["default"].use(Ll.a,{velocity:Il.a}),s["default"].use(Sl.a),s["default"].use(Tl),s["default"].use(jl["a"]),s["default"].mixin(Pl),s["default"].directive("tooltip",xl["c"]),s["default"].directive("close-popover",xl["a"]);let ld=!1,dd="",cd={},md="";if(document.getElementById("em-application-attachment")){const e=document.getElementById("em-application-attachment");if(Array.prototype.slice.call(e.attributes).forEach((function(e){cd[e.name]=e.value})),md="attachments",dd="#em-application-attachment",ld=!0,ld){const e=document.querySelectorAll("#em-appli-menu .list-group-item");function ud(t){document.querySelector("#em-assoc-files .panel-body").empty();const a=document.querySelector(".em-check:checked");a&&(a.checked=!1);const s=document.getElementById(t.detail.fnum.fnum+"_check");s&&(s.checked=!0),e.forEach((function(e){e.setAttribute("href",e.getAttribute("href").replace(/fnum=\d+/,"fnum="+t.detail.fnum.fnum))})),openFiles(t.detail.fnum,"attachment",!0)}new s["default"]({el:dd,store:rd,render(e){return e(Ml,{props:{componentName:md,data:cd}})}});document.querySelector(".com_emundus_vue").addEventListener("changeFile",ud)}}if(console.log("here"),document.getElementById("em-component-vue")){new s["default"]({el:"#em-component-vue",store:rd,render(e){return e(Ml,{props:{component:this.$el.attributes.component.value,datas:this.$el.attributes,actualLanguage:this.$el.attributes.actualLanguage.value,manyLanguages:this.$el.attributes.manyLanguages.value,coordinatorAccess:this.$el.attributes.coordinatorAccess.value}})}})}},5763:function(e,t,a){},"57ab":function(e,t,a){"use strict";a("5763")},"5c0b":function(e,t,a){"use strict";a("4dc7")},"5c32":function(e,t,a){},"5d92":function(e,t,a){"use strict";a("9912")},"5d9f":function(e,t,a){"use strict";a("1b61")},"5db1":function(e,t,a){},"6bfe":function(e,t,a){},"6c51":function(e,t,a){},"6ecb":function(e,t,a){},"6fb4":function(e,t,a){},"71a2":function(e,t,a){},"71fa":function(e,t,a){},"72d7":function(e,t,a){"use strict";a("d956")},"76c2":function(e,t,a){},"81af":function(e,t,a){},"81b3":function(e,t,a){e.exports={"slide-fade-enter-active":"emundus-webflow_slide-fade-enter-active_16n1Q","slide-fade-leave-active":"emundus-webflow_slide-fade-leave-active_3UQ3b","slide-fade-enter":"emundus-webflow_slide-fade-enter_2YIvt","slide-right-enter-active":"emundus-webflow_slide-right-enter-active_3kO9W","slide-right-leave-active":"emundus-webflow_slide-right-leave-active_2SguH","slide-right-enter":"emundus-webflow_slide-right-enter_3oWIL","slide-right-leave-to":"emundus-webflow_slide-right-leave-to_3zOhZ","slide-down-enter-active":"emundus-webflow_slide-down-enter-active_3Rign","slide-down-leave-active":"emundus-webflow_slide-down-leave-active_6qr8x","slide-down-enter":"emundus-webflow_slide-down-enter_1snb5","slide-down-leave-to":"emundus-webflow_slide-down-leave-to_cH9QC","move-right-enter-active":"emundus-webflow_move-right-enter-active_3J36v","move-right-leave-active":"emundus-webflow_move-right-leave-active_1xOkM","move-right-enter":"emundus-webflow_move-right-enter_3BNIl","move-right-leave-to":"emundus-webflow_move-right-leave-to_pWpTN","move-left-enter-active":"emundus-webflow_move-left-enter-active_jsXdc","move-left-leave-active":"emundus-webflow_move-left-leave-active_DLL-M","move-left-enter":"emundus-webflow_move-left-enter_1C1hi","move-left-leave-to":"emundus-webflow_move-left-leave-to_1esE8","little-move-right-enter-active":"emundus-webflow_little-move-right-enter-active_1N7gT","little-move-right-leave-active":"emundus-webflow_little-move-right-leave-active_1CeOg","little-move-right-enter":"emundus-webflow_little-move-right-enter_2MyyQ","little-move-right-leave-to":"emundus-webflow_little-move-right-leave-to_evOSw","little-move-left-enter-active":"emundus-webflow_little-move-left-enter-active_3NyEN","little-move-left-leave-active":"emundus-webflow_little-move-left-leave-active_23RoW","little-move-left-enter":"emundus-webflow_little-move-left-enter_2RERQ","little-move-left-leave-to":"emundus-webflow_little-move-left-leave-to_ZYqFF","is-editor-empty":"emundus-webflow_is-editor-empty_1aov0","p-1":"emundus-webflow_p-1_1WKBT","pl-30px":"emundus-webflow_pl-30px_1HUJk","heading-form":"emundus-webflow_heading-form_dXG09","mb-0":"emundus-webflow_mb-0_3rhlr","mb-2":"emundus-webflow_mb-2_LLfFC","ml-0":"emundus-webflow_ml-0_kM17M","ml-10px":"emundus-webflow_ml-10px_2nzgO","ml-20px":"emundus-webflow_ml-20px_1HwRy","mt-2":"emundus-webflow_mt-2_31Lm6","mt-1":"emundus-webflow_mt-1_28dkj","mb-1":"emundus-webflow_mb-1_oJVqt","mr-20px":"emundus-webflow_mr-20px_3cDdv","mr-1":"emundus-webflow_mr-1_3Y9mL","mr-2":"emundus-webflow_mr-2_3WBok","is-invalid":"emundus-webflow_is-invalid_2uTI8",error:"emundus-webflow_error_2g7HK",require:"emundus-webflow_require_3i81P",required:"emundus-webflow_required_RJOp7","d-flex":"emundus-webflow_d-flex_39NNp",gap:"emundus-webflow_gap_1sVAg","g-container-main":"emundus-webflow_g-container-main_1sDgW","g-container":"emundus-webflow_g-container_25J1i",pagination:"emundus-webflow_pagination_3US4I","pagination-number":"emundus-webflow_pagination-number_2n4GT","current-number":"emundus-webflow_current-number_1I-2u","pagination-pages":"emundus-webflow_pagination-pages_Y6Fo4","pagination-arrow":"emundus-webflow_pagination-arrow_TDoNf","arrow-left":"emundus-webflow_arrow-left_3aemB",noneDiscover:"emundus-webflow_noneDiscover_32kV7","email-sections":"emundus-webflow_email-sections_isz8_",noPagination:"emundus-webflow_noPagination_3ICJy","tchooz-dark-blue":"emundus-webflow_tchooz-dark-blue_pquis","w-input":"emundus-webflow_w-input_Tta9N","w-select":"emundus-webflow_w-select_19xHt","dropdown-menu":"emundus-webflow_dropdown-menu_12Xce","dropdown-toggle":"emundus-webflow_dropdown-toggle_3pRlD","field-general":"emundus-webflow_field-general_G9575","text-area":"emundus-webflow_text-area_3cvvM",email:"emundus-webflow_email_XgAQV","text-area-with-margin":"emundus-webflow_text-area-with-margin_2W1UN","w-row":"emundus-webflow_w-row_3wAXj","tchooz-sidebar-menu":"emundus-webflow_tchooz-sidebar-menu_2x4Zy","tchooz-sidebar-menus":"emundus-webflow_tchooz-sidebar-menus_4RXQ-","menus-home-row":"emundus-webflow_menus-home-row_UO_uh",MenuFormHome:"emundus-webflow_MenuFormHome_1D40o",MenuFormItemHome:"emundus-webflow_MenuFormItemHome_3FaX3",MenuFormItemHome_current:"emundus-webflow_MenuFormItemHome_current_EFfH_","bouton-sauvergarder-et-continuer":"emundus-webflow_bouton-sauvergarder-et-continuer_11XKs","bouton-sauvergarder-et-continuer-3":"emundus-webflow_bouton-sauvergarder-et-continuer-3_3QATD","bouton-sauvergarder-et-continuer-green":"emundus-webflow_bouton-sauvergarder-et-continuer-green_Se3L5","w-retour":"emundus-webflow_w-retour_3ALUz","w-delete":"emundus-webflow_w-delete_pXvz6","tox-tinymce":"emundus-webflow_tox-tinymce_2CNjT","translate-icon":"emundus-webflow_translate-icon_1l51y","modalC-content":"emundus-webflow_modalC-content_14qwZ",topright:"emundus-webflow_topright_1_ek6",btnCloseModal:"emundus-webflow_btnCloseModal_1OX_m","update-field-header":"emundus-webflow_update-field-header_2rLzP","update-title-header":"emundus-webflow_update-title-header_38v8U","user-item":"emundus-webflow_user-item_13E87","users-block":"emundus-webflow_users-block_1wDs5","select-all":"emundus-webflow_select-all_3Evyr","section-principale":"emundus-webflow_section-principale_20ca6","paragraphe-sous-titre":"emundus-webflow_paragraphe-sous-titre_ONS8M","sous-container":"emundus-webflow_sous-container_3LMnA","container-flexbox-choisir-ou-plus":"emundus-webflow_container-flexbox-choisir-ou-plus_3NraH",heading:"emundus-webflow_heading_3KX3y",divider:"emundus-webflow_divider_2egpA","section-sauvegarder-et-continuer":"emundus-webflow_section-sauvegarder-et-continuer_c8L2A","date-menu":"emundus-webflow_date-menu_1FrjB",white:"emundus-webflow_white_1NnkA","menu-item":"emundus-webflow_menu-item_36ngK","w--current":"emundus-webflow_w--current_1QzqL","container-menu-funnel":"emundus-webflow_container-menu-funnel_2ifm0","block-dash":"emundus-webflow_block-dash_3Rih4",passee:"emundus-webflow_passee_3uC5T","column-blocks":"emundus-webflow_column-blocks_2ugFK","column-inner-block":"emundus-webflow_column-inner-block_2PB8R","button-programme":"emundus-webflow_button-programme_6CoO1","cta-block":"emundus-webflow_cta-block_nj2tn",unpublishedBlock:"emundus-webflow_unpublishedBlock_1Kf_h","nom-campagne-block":"emundus-webflow_nom-campagne-block_1m8XK",center:"emundus-webflow_center_v1GTp","description-block":"emundus-webflow_description-block_IAGHl","column-block":"emundus-webflow_column-block_18HEQ","main-column-block":"emundus-webflow_main-column-block_1E-1K","item-select":"emundus-webflow_item-select_3xGfT",active:"emundus-webflow_active_OsCv3","list-item-header":"emundus-webflow_list-item-header_1NtBd","column-inner-block-2":"emundus-webflow_column-inner-block-2_3QDIh","nb-dossier":"emundus-webflow_nb-dossier_Lecx0","type-color-1":"emundus-webflow_type-color-1_npokh","type-color-2":"emundus-webflow_type-color-2_-WR5c","tchooz-section-titles":"emundus-webflow_tchooz-section-titles_jtXRn","section-sub-menu":"emundus-webflow_section-sub-menu_31mD-","sub-form":"emundus-webflow_sub-form_35CIU","dropdown-toggle-2":"emundus-webflow_dropdown-toggle-2_2APIB","action-submenu":"emundus-webflow_action-submenu_2rBUy",publishedTag:"emundus-webflow_publishedTag_3SEzv",unpublishedTag:"emundus-webflow_unpublishedTag_jhWvV",passeeTag:"emundus-webflow_passeeTag_2Nwyj","dropdown-list":"emundus-webflow_dropdown-list_3D4Py","bouton-ajouter":"emundus-webflow_bouton-ajouter_33R3I","fa-pen":"emundus-webflow_fa-pen_eHQMT","bouton-ajouter-green":"emundus-webflow_bouton-ajouter-green_3gStj","card-button":"emundus-webflow_card-button_2CReJ","actions-dropdown":"emundus-webflow_actions-dropdown_2fNrT","container-2":"emundus-webflow_container-2_2IMEF","btn-selectAll":"emundus-webflow_btn-selectAll_3DzES",buttonSelectDeselect:"emundus-webflow_buttonSelectDeselect_3zNtq","w-container":"emundus-webflow_w-container_1qyue",table:"emundus-webflow_table_2SBIe","w-icon-dropdown-toggle":"emundus-webflow_w-icon-dropdown-toggle_3xLNN","w-dropdown-toggle":"emundus-webflow_w-dropdown-toggle_3_-nU","w-dropdown-link":"emundus-webflow_w-dropdown-link_3i8zE","w-dropdown":"emundus-webflow_w-dropdown_1VLl5","w-dropdown-list":"emundus-webflow_w-dropdown-list_3uPTQ","w-inline-block":"emundus-webflow_w-inline-block_10fjN",hr:"emundus-webflow_hr_2hfZl",hidden:"emundus-webflow_hidden_2zTLm",draggable:"emundus-webflow_draggable_1gHeq","list-group-item":"emundus-webflow_list-group-item_1vyIe",handle:"emundus-webflow_handle_3RLji",buttonDeleteDoc:"emundus-webflow_buttonDeleteDoc_JtuZQ","fa-times":"emundus-webflow_fa-times_1vQiE",buttonAddDoc:"emundus-webflow_buttonAddDoc_jtZ5W",changeStateDoc:"emundus-webflow_changeStateDoc_2xVZp","container-evaluation":"emundus-webflow_container-evaluation_ah_6A","email-form":"emundus-webflow_email-form_RgTT7",vdatetime:"emundus-webflow_vdatetime_eib2w",toggle:"emundus-webflow_toggle_2cg_S",check:"emundus-webflow_check_lw82h",track:"emundus-webflow_track_2D4Pw",switch:"emundus-webflow_switch_2w1Se","em-actions-table-line":"emundus-webflow_em-actions-table-line_2aaLj","add-button-div":"emundus-webflow_add-button-div_1Bfkc",tooltip:"emundus-webflow_tooltip_1Oxk3","tooltip-inner":"emundus-webflow_tooltip-inner_vfrIF","tooltip-arrow":"emundus-webflow_tooltip-arrow_qvx1X",popover:"emundus-webflow_popover_2kBP_","popover-inner":"emundus-webflow_popover-inner_3Mvd4","popover-arrow":"emundus-webflow_popover-arrow_3jM7W","remove-tag":"emundus-webflow_remove-tag_1G6Ip","vue-swatches__wrapper":"emundus-webflow_vue-swatches__wrapper_1DPqR","vue-swatches__trigger":"emundus-webflow_vue-swatches__trigger_6YNWa","vue-swatches__swatch":"emundus-webflow_vue-swatches__swatch_YD7ti","vue-swatches__container":"emundus-webflow_vue-swatches__container_29HXM","label-lightpurple":"emundus-webflow_label-lightpurple_37nWP","label-purple":"emundus-webflow_label-purple_37CHi","label-darkpurple":"emundus-webflow_label-darkpurple_3X3nh","label-lightblue":"emundus-webflow_label-lightblue_2w3PX","label-blue":"emundus-webflow_label-blue_2kNYx","label-darkblue":"emundus-webflow_label-darkblue_3LMF9","label-lightgreen":"emundus-webflow_label-lightgreen_3qpUE","label-green":"emundus-webflow_label-green_TBlCN","label-darkgreen":"emundus-webflow_label-darkgreen_3lnwN","label-lightyellow":"emundus-webflow_label-lightyellow_14O8-","label-yellow":"emundus-webflow_label-yellow_2vXR5","label-darkyellow":"emundus-webflow_label-darkyellow_3Dd40","label-lightorange":"emundus-webflow_label-lightorange_oyfSo","label-orange":"emundus-webflow_label-orange_hq0dS","label-darkorange":"emundus-webflow_label-darkorange_QZ1FI","label-lightred":"emundus-webflow_label-lightred_37QW_","label-red":"emundus-webflow_label-red_81mlD","label-darkred":"emundus-webflow_label-darkred_IVr89","label-lightpink":"emundus-webflow_label-lightpink_3zQ6t","label-pink":"emundus-webflow_label-pink_Wu89H","label-darkpink":"emundus-webflow_label-darkpink_2xnZ_","label-default":"emundus-webflow_label-default_37GgG","loading-form":"emundus-webflow_loading-form_mROgQ","lds-ring":"emundus-webflow_lds-ring_2wfrk","loading-form-save":"emundus-webflow_loading-form-save_JLJoK",search:"emundus-webflow_search_2bdPE",searchTerm:"emundus-webflow_searchTerm_PSJ22",searchButton:"emundus-webflow_searchButton_1likm",wrap:"emundus-webflow_wrap_-JPVs","input-can-translate":"emundus-webflow_input-can-translate_FvaRL","v--modal-overlay":"emundus-webflow_v--modal-overlay_1hDOD","stats-block":"emundus-webflow_stats-block_30Ovy","divider-card":"emundus-webflow_divider-card_1E0Jk","block-label":"emundus-webflow_block-label_3TjFN","filters-action":"emundus-webflow_filters-action_gzox0","filters-menu-space-between":"emundus-webflow_filters-menu-space-between_UBCi7","filters-menu":"emundus-webflow_filters-menu_1DqKU","filter-subtitle":"emundus-webflow_filter-subtitle_3Vbvs","actions-add-block":"emundus-webflow_actions-add-block_1jNAc","tchooz-icon-title":"emundus-webflow_tchooz-icon-title_JX96P","tchooz-section-description":"emundus-webflow_tchooz-section-description_3ERzO","add-page-icon":"emundus-webflow_add-page-icon_2CqvB","add-group-icon":"emundus-webflow_add-group-icon_lCldC","add-element-icon":"emundus-webflow_add-element-icon_1HJ_o","icon-rotate":"emundus-webflow_icon-rotate_259Wm","text-orange":"emundus-webflow_text-orange_3yvZQ","w-100":"emundus-webflow_w-100_3gPZb","form-control":"emundus-webflow_form-control_14Q6X","icon-star":"emundus-webflow_icon-star_QYwGv","remove-option":"emundus-webflow_remove-option_36M9B","add-option":"emundus-webflow_add-option_3k4-x","vue-notification-custom":"emundus-webflow_vue-notification-custom_6ENB6","notification-content":"emundus-webflow_notification-content_HokYp",success:"emundus-webflow_success_hL2qU",MenuForm:"emundus-webflow_MenuForm_1lgI6",MenuFormItem:"emundus-webflow_MenuFormItem_1FnMV",MenuFormItem_current:"emundus-webflow_MenuFormItem_current_1Xf-m","menus-row":"emundus-webflow_menus-row_19Tvc","down-arrow":"emundus-webflow_down-arrow_2CW2c","down-arrow-evaluation":"emundus-webflow_down-arrow-evaluation_3GOox","right-arrow":"emundus-webflow_right-arrow_3kuwe","eye-icon":"emundus-webflow_eye-icon_2i_06","eye-slash-icon":"emundus-webflow_eye-slash-icon_HrPeM","plugin-link":"emundus-webflow_plugin-link_3Zhgv","flip-list-move":"emundus-webflow_flip-list-move_3ajR2","sidebar-formbuilder":"emundus-webflow_sidebar-formbuilder_3mRzK","actions-button":"emundus-webflow_actions-button_3U1Sj","heading-block":"emundus-webflow_heading-block_3NfRu","menu-block":"emundus-webflow_menu-block_CwnuQ","actions-menu":"emundus-webflow_actions-menu_3yL_Y","heading-actions":"emundus-webflow_heading-actions_3y7pt","action-link":"emundus-webflow_action-link_IsDQW","action-label":"emundus-webflow_action-label_rqmxm","vdatetime-popup__header":"emundus-webflow_vdatetime-popup__header_uGWHb","vdatetime-calendar__month__day--selected":"emundus-webflow_vdatetime-calendar__month__day--selected_21E7g","vdatetime-popup__actions__button":"emundus-webflow_vdatetime-popup__actions__button_33wSC","jello-horizontal":"emundus-webflow_jello-horizontal_3XtH6","plugin-chosen":"emundus-webflow_plugin-chosen_3ILY_","plugin-chosen-elt":"emundus-webflow_plugin-chosen-elt_2xfQV","plugin-ghost":"emundus-webflow_plugin-ghost_17FrR","plugin-drag":"emundus-webflow_plugin-drag_2jo_d","logo-settings":"emundus-webflow_logo-settings_1Ihei",customdropzone:"emundus-webflow_customdropzone_1kWy9","dz-preview":"emundus-webflow_dz-preview_1duC2","dz-image":"emundus-webflow_dz-image_2zsou","dz-details":"emundus-webflow_dz-details_2zeAv","dz-success-mark":"emundus-webflow_dz-success-mark_2Wk2b","dz-default":"emundus-webflow_dz-default_knsVe","dz-message":"emundus-webflow_dz-message_1oaJd","dz-error-mark":"emundus-webflow_dz-error-mark_35-B1","color-picker":"emundus-webflow_color-picker_16LYP","color-input":"emundus-webflow_color-input_TXNT3","add-databasejoin":"emundus-webflow_add-databasejoin_Xl9UC","databasejoin-active":"emundus-webflow_databasejoin-active_3b9QE","db-table":"emundus-webflow_db-table_1zADl","db-description":"emundus-webflow_db-description_1UgTS","db-columns":"emundus-webflow_db-columns_2WSID","db-values":"emundus-webflow_db-values_1QSGi","table-component":"emundus-webflow_table-component_Thx-F","table-component__filter":"emundus-webflow_table-component__filter_31Uw9","table-component__filter__field":"emundus-webflow_table-component__filter__field_33nGZ","table-component__filter__clear":"emundus-webflow_table-component__filter__clear_1_tnK","table-component__table-wrapper":"emundus-webflow_table-component__table-wrapper_24sg1","table-component__table":"emundus-webflow_table-component__table_2lqvw","table-component__table__caption":"emundus-webflow_table-component__table__caption_3KnJp","table-component__message":"emundus-webflow_table-component__message_2GvGX","table-component__th--sort":"emundus-webflow_table-component__th--sort_2R6Rq","table-component__th--sort-asc":"emundus-webflow_table-component__th--sort-asc_3ZyLs","table-component__th--sort-desc":"emundus-webflow_table-component__th--sort-desc_17T7X","table-component__table__head":"emundus-webflow_table-component__table__head_yEBcV","create-user-admin__button":"emundus-webflow_create-user-admin__button_1w_u3","custom-table-csv":"emundus-webflow_custom-table-csv_2RK7Y","justify-content-between":"emundus-webflow_justify-content-between_kMVoF","document-allowed_types":"emundus-webflow_document-allowed_types_BDVxv",pointer:"emundus-webflow_pointer_3gXWB","rte-autocomplete":"emundus-webflow_rte-autocomplete_2Vp32","v--modal-box":"emundus-webflow_v--modal-box_jLpl_",container:"emundus-webflow_container_msBkr","actions-block":"emundus-webflow_actions-block_38HoE","actions-filters-block":"emundus-webflow_actions-filters-block_24RhP","task-title":"emundus-webflow_task-title_3zo_n","task-content":"emundus-webflow_task-content_3W8kZ","close-tasks":"emundus-webflow_close-tasks_2KESq","open-tasks":"emundus-webflow_open-tasks_6HN5t",tasks_list:"emundus-webflow_tasks_list_3ch30","task-container":"emundus-webflow_task-container_34gCz","translate-label":"emundus-webflow_translate-label_3EaQh","fixed-header-modal":"emundus-webflow_fixed-header-modal_1WKqQ","status-field":"emundus-webflow_status-field_3dmMG","status-item":"emundus-webflow_status-item_3IeAR","vertical-divider":"emundus-webflow_vertical-divider_14YOU","list-doc-item":"emundus-webflow_list-doc-item_2_gUM","w-50":"emundus-webflow_w-50_20oIi","doc-desc":"emundus-webflow_doc-desc_vvdXb","blue-text-instruction":"emundus-webflow_blue-text-instruction_rRNXr","text-required":"emundus-webflow_text-required_1QG8a","form-viewer-builder":"emundus-webflow_form-viewer-builder_IS9_-","back-button-action":"emundus-webflow_back-button-action_1YDPN","close-submenu":"emundus-webflow_close-submenu_3vx1c","rotate-icon":"emundus-webflow_rotate-icon_2m9BR","warning-message-program":"emundus-webflow_warning-message-program_3OPqS",dropdown:"emundus-webflow_dropdown_2ttKi","campaigns-item":"emundus-webflow_campaigns-item_1vHVf","saving-at":"emundus-webflow_saving-at_1xKQm","sticky-form-pages":"emundus-webflow_sticky-form-pages_Qfm2A","form-page":"emundus-webflow_form-page_1w4FO","uneditable-input":"emundus-webflow_uneditable-input_Q4tYf","email-tags":"emundus-webflow_email-tags_mbc_T","group-repeat-icon":"emundus-webflow_group-repeat-icon_13JoG","active-repeat":"emundus-webflow_active-repeat_1KN7G","hidden-notice":"emundus-webflow_hidden-notice_2VL0y","em-logo":"emundus-webflow_em-logo_1kQ7x","em-filter-grayscale":"emundus-webflow_em-filter-grayscale_2n9zF","em-primary-button":"emundus-webflow_em-primary-button_3EyAP","em-primary-disabled":"emundus-webflow_em-primary-disabled_p4vwa","em-secondary-button":"emundus-webflow_em-secondary-button_2MVpU","em-tertiary-button":"emundus-webflow_em-tertiary-button_2QjqW","em-radio-button":"emundus-webflow_em-radio-button_2NHqP","em-switch":"emundus-webflow_em-switch_15yls","em-slider":"emundus-webflow_em-slider_z2L-s","em-round":"emundus-webflow_em-round_2BK2A","em-flex-column":"emundus-webflow_em-flex-column_2S1in","em-errors-alert":"emundus-webflow_em-errors-alert_cPS2b",alert:"emundus-webflow_alert_1PKrW","em-flex-row":"emundus-webflow_em-flex-row_2_D8W","em-z-index-10":"emundus-webflow_em-z-index-10_2GT17","em-min-height-100":"emundus-webflow_em-min-height-100_3rE4N","em-max-height-20":"emundus-webflow_em-max-height-20_1S9zA","em-max-width-48":"emundus-webflow_em-max-width-48_1wsKZ","em-max-width-250":"emundus-webflow_em-max-width-250_22ypq","em-max-width-448":"emundus-webflow_em-max-width-448_1ewmp","em-max-width-600":"emundus-webflow_em-max-width-600_3uTil","em-max-width-1200":"emundus-webflow_em-max-width-1200_11Yg6","em-w-90":"emundus-webflow_em-w-90_1wcPb","em-w-380":"emundus-webflow_em-w-380_1maKu","em-color-white":"emundus-webflow_em-color-white_2Q6y2","em-green-color":"emundus-webflow_em-green-color_1E-qT","em-main-100-color":"emundus-webflow_em-main-100-color_N88uQ","em-main-500-color":"emundus-webflow_em-main-500-color_2r7FJ","em-yellow-500-color":"emundus-webflow_em-yellow-500-color_boCoq","em-blue-color":"emundus-webflow_em-blue-color_23-9S","em-gray-color":"emundus-webflow_em-gray-color_1mSGp","em-neutral-700-color":"emundus-webflow_em-neutral-700-color_F_rEw","em-text-neutral-900":"emundus-webflow_em-text-neutral-900_2NT4v","em-red-500-color":"emundus-webflow_em-red-500-color_rOm2y","em-green-bg":"emundus-webflow_em-green-bg_18bap","em-blue-bg":"emundus-webflow_em-blue-bg_106BI","em-gray-bg":"emundus-webflow_em-gray-bg_35bH9","em-lightgray-bg":"emundus-webflow_em-lightgray-bg_1Owsr","em-bg-main-500":"emundus-webflow_em-bg-main-500_1T8_O","em-m-24":"emundus-webflow_em-m-24_1decT","em-p-16":"emundus-webflow_em-p-16_2mqP5","em-p-16-0":"emundus-webflow_em-p-16-0_2oNra","em-p-12-16":"emundus-webflow_em-p-12-16_y6xli","em-p-24":"emundus-webflow_em-p-24_3BGA-","em-pt-16":"emundus-webflow_em-pt-16_1uji0","em-pt-24":"emundus-webflow_em-pt-24_1HNhY","em-pb-16":"emundus-webflow_em-pb-16_TTmJt","em-pb-24":"emundus-webflow_em-pb-24_k397B","em-pr-4":"emundus-webflow_em-pr-4_LxaK0","em-pl-4":"emundus-webflow_em-pl-4_kjrZM","em-pr-8":"emundus-webflow_em-pr-8_uhysN","em-pl-8":"emundus-webflow_em-pl-8_3JzoC","em-mr-4":"emundus-webflow_em-mr-4_2sIfK","em-mr-8":"emundus-webflow_em-mr-8_2VCMJ","em-mr-16":"emundus-webflow_em-mr-16_3XEZ2","em-mr-24":"emundus-webflow_em-mr-24_3teHx","em-ml-4":"emundus-webflow_em-ml-4_24Pyr","em-ml-8":"emundus-webflow_em-ml-8_1iPQl","em-ml-16":"emundus-webflow_em-ml-16_2R1is","em-ml-24":"emundus-webflow_em-ml-24_31c9h","em-ml-64":"emundus-webflow_em-ml-64_3Vlrq","em-ml-120":"emundus-webflow_em-ml-120_1LqeP","em-mr-120":"emundus-webflow_em-mr-120_977E-","em-mt-4":"emundus-webflow_em-mt-4_2P961","em-mt-8":"emundus-webflow_em-mt-8_2zZxn","em-mt-16":"emundus-webflow_em-mt-16_VTC2J","em-mt-24":"emundus-webflow_em-mt-24_2FaTw","em-mt-32":"emundus-webflow_em-mt-32_2SkNV","em-mt-48":"emundus-webflow_em-mt-48_2qRg5","em-mt-80":"emundus-webflow_em-mt-80_3vzT0","em-mb-16":"emundus-webflow_em-mb-16_2XhsD","em-mb-32":"emundus-webflow_em-mb-32_6DvTK","em-mb-44":"emundus-webflow_em-mb-44_1pJBA","em-mb-64":"emundus-webflow_em-mb-64_2a-ee","em-divider":"emundus-webflow_em-divider_90U0E","em-h-32":"emundus-webflow_em-h-32_2Z17o","em-border-neutral-300":"emundus-webflow_em-border-neutral-300_VCKlQ","em-border-left-neutral-700":"emundus-webflow_em-border-left-neutral-700_pHkcf","em-border-left-yellow-500":"emundus-webflow_em-border-left-yellow-500_2_0ib","em-border-left-main-500":"emundus-webflow_em-border-left-main-500_3nzD_","em-border-left-red-500":"emundus-webflow_em-border-left-red-500_3pPUD","em-border-bottom-neutral-300":"emundus-webflow_em-border-bottom-neutral-300_3eBQF","em-border-top-neutral-300":"emundus-webflow_em-border-top-neutral-300_2_TMI","em-border-blue-400":"emundus-webflow_em-border-blue-400_hcMF9","em-underline":"emundus-webflow_em-underline_2ZPJn","em-box-shadow":"emundus-webflow_em-box-shadow_1q5qn","em-h1":"emundus-webflow_em-h1_WjuuN","em-h2":"emundus-webflow_em-h2_34UC4","em-h3":"emundus-webflow_em-h3_22_uc","em-h4":"emundus-webflow_em-h4_2MlBC","em-h5":"emundus-webflow_em-h5_2na4x","em-h6":"emundus-webflow_em-h6_2PSdN","em-caption":"emundus-webflow_em-caption_2m80h","em-font-size-14":"emundus-webflow_em-font-size-14_1Cttq","em-font-size-16":"emundus-webflow_em-font-size-16_2N8L4","em-font-size-24":"emundus-webflow_em-font-size-24_LCdRR","em-font-size-32":"emundus-webflow_em-font-size-32_3pRsb","em-font-size-48":"emundus-webflow_em-font-size-48_JmosC","em-available":"emundus-webflow_em-available_GKeuv","em-border-available":"emundus-webflow_em-border-available_AxWL5","em-not-available":"emundus-webflow_em-not-available_yMQIp","em-border-notavailable":"emundus-webflow_em-border-notavailable_36nsW","em-overflow-ellipsis":"emundus-webflow_em-overflow-ellipsis_1kGhi","em-card-plan":"emundus-webflow_em-card-plan_1MQ-2","em-mt-s-4":"emundus-webflow_em-mt-s-4_2JZOt","em-mb-16-xs":"emundus-webflow_em-mb-16-xs_1_t_m","em-mt-32-xs":"emundus-webflow_em-mt-32-xs_1Jnsv","em-s-display-none":"emundus-webflow_em-s-display-none_VMZoe","em-input-icon":"emundus-webflow_em-input-icon_1MA98","col-sm-12":"emundus-webflow_col-sm-12_2e4bw","em-w-s-100":"emundus-webflow_em-w-s-100_1KKA4","em-minw-s-100":"emundus-webflow_em-minw-s-100_1cGSi","em-p-s-16":"emundus-webflow_em-p-s-16_375YP","em-ml-s-16":"emundus-webflow_em-ml-s-16_9sp_2","em-mr-s-16":"emundus-webflow_em-mr-s-16_pP2YT","em-ml-s-unset":"emundus-webflow_em-ml-s-unset_V7pDe","em-mr-s-unset":"emundus-webflow_em-mr-s-unset_2hV7G","em-mt-s-8":"emundus-webflow_em-mt-s-8_KwrVo","em-s-justify-content-center":"emundus-webflow_em-s-justify-content-center_1Thn1","em-mt-xs-8":"emundus-webflow_em-mt-xs-8_3I9vk","multiselect__tag-icon":"emundus-webflow_multiselect__tag-icon_Aytj-","multiselect__option--highlight":"emundus-webflow_multiselect__option--highlight_1jWka",multiselect__tag:"emundus-webflow_multiselect__tag_2-ctP",multiselect__placeholder:"emundus-webflow_multiselect__placeholder_Y32Hf",multiselect:"emundus-webflow_multiselect_nZiWE",multiselect__spinner:"emundus-webflow_multiselect__spinner_2VVh4",spinning:"emundus-webflow_spinning_3p-9u","multiselect__loading-enter-active":"emundus-webflow_multiselect__loading-enter-active_3nFkh","multiselect__loading-leave-active":"emundus-webflow_multiselect__loading-leave-active_3L8xH","multiselect__loading-enter":"emundus-webflow_multiselect__loading-enter_3KdqY",multiselect__input:"emundus-webflow_multiselect__input_1uyuU",multiselect__single:"emundus-webflow_multiselect__single_1LWiS","multiselect--disabled":"emundus-webflow_multiselect--disabled_1J4n_","multiselect--active":"emundus-webflow_multiselect--active_2HCkL","multiselect--above":"emundus-webflow_multiselect--above_2H3Bw",multiselect__current:"emundus-webflow_multiselect__current_2mI-X",multiselect__tags:"emundus-webflow_multiselect__tags_yEpEC",multiselect__select:"emundus-webflow_multiselect__select_2WZFE","multiselect__tags-wrap":"emundus-webflow_multiselect__tags-wrap_galeu","multiselect__content-wrapper":"emundus-webflow_multiselect__content-wrapper_4vmff",multiselect__content:"emundus-webflow_multiselect__content__O4u9",multiselect__element:"emundus-webflow_multiselect__element_2L7gP",multiselect__option:"emundus-webflow_multiselect__option_2s3ZC","multiselect__option--selected":"emundus-webflow_multiselect__option--selected_3DkNm","multiselect__option--disabled":"emundus-webflow_multiselect__option--disabled_1WN7z","multiselect__option--group":"emundus-webflow_multiselect__option--group_5Nf6s","multiselect__option--group-selected":"emundus-webflow_multiselect__option--group-selected_2MyGo","multiselect-enter-active":"emundus-webflow_multiselect-enter-active_1yZYp","multiselect-leave-active":"emundus-webflow_multiselect-leave-active_1nh1C","multiselect-enter":"emundus-webflow_multiselect-enter_Mvodu",multiselect__strong:"emundus-webflow_multiselect__strong_1wToX",multiselect__clear:"emundus-webflow_multiselect__clear_24maa"}},8220:function(e,t,a){"use strict";a("3d47")},"86c6":function(e,t,a){},"870a":function(e,t,a){"use strict";a("86c6")},"88bb":function(e,t,a){"use strict";a("76c2")},"8d2f":function(e,t,a){e.exports={CodeMirror:"codemirror_CodeMirror_2wqaY","CodeMirror-lines":"codemirror_CodeMirror-lines_1kRIq","CodeMirror-scrollbar-filler":"codemirror_CodeMirror-scrollbar-filler_1-2Oe","CodeMirror-gutter-filler":"codemirror_CodeMirror-gutter-filler_14jdn","CodeMirror-gutters":"codemirror_CodeMirror-gutters_mWRaw","CodeMirror-linenumbers":"codemirror_CodeMirror-linenumbers_76ow6","CodeMirror-linenumber":"codemirror_CodeMirror-linenumber_1E5nu","CodeMirror-guttermarker":"codemirror_CodeMirror-guttermarker_XJ5Rt","CodeMirror-guttermarker-subtle":"codemirror_CodeMirror-guttermarker-subtle_1yAXY","CodeMirror-cursor":"codemirror_CodeMirror-cursor_TGRJB","CodeMirror-secondarycursor":"codemirror_CodeMirror-secondarycursor_2pCS-","cm-fat-cursor":"codemirror_cm-fat-cursor_2P82l","CodeMirror-cursors":"codemirror_CodeMirror-cursors_3wFtN","cm-fat-cursor-mark":"codemirror_cm-fat-cursor-mark_1EDfV",blink:"codemirror_blink_2QUbX","cm-animate-fat-cursor":"codemirror_cm-animate-fat-cursor_3vDae","CodeMirror-overwrite":"codemirror_CodeMirror-overwrite_a2OnG","cm-tab":"codemirror_cm-tab_3hS74","CodeMirror-rulers":"codemirror_CodeMirror-rulers_2A4r-","CodeMirror-ruler":"codemirror_CodeMirror-ruler_1xwza","cm-s-default":"codemirror_cm-s-default_1oSBI","cm-header":"codemirror_cm-header_28CYA","cm-quote":"codemirror_cm-quote_2hPIo","cm-negative":"codemirror_cm-negative_1zcsZ","cm-positive":"codemirror_cm-positive_30_hj","cm-strong":"codemirror_cm-strong_3x465","cm-em":"codemirror_cm-em_18c3U","cm-link":"codemirror_cm-link_2OoG7","cm-strikethrough":"codemirror_cm-strikethrough_2LiwB","cm-keyword":"codemirror_cm-keyword_1tgsg","cm-atom":"codemirror_cm-atom_w9ZtN","cm-number":"codemirror_cm-number_266wi","cm-def":"codemirror_cm-def_1BwOr","cm-variable":"codemirror_cm-variable_3-V7E","cm-punctuation":"codemirror_cm-punctuation_XWeEi","cm-property":"codemirror_cm-property_38AmK","cm-operator":"codemirror_cm-operator_6Amvb","cm-variable-2":"codemirror_cm-variable-2_2v9V5","cm-variable-3":"codemirror_cm-variable-3_3sviH","cm-type":"codemirror_cm-type_2UwA-","cm-comment":"codemirror_cm-comment_kHc9Z","cm-string":"codemirror_cm-string_1H5mr","cm-string-2":"codemirror_cm-string-2_6x5In","cm-meta":"codemirror_cm-meta_2dyJ6","cm-qualifier":"codemirror_cm-qualifier_2nQTh","cm-builtin":"codemirror_cm-builtin_dXa1j","cm-bracket":"codemirror_cm-bracket_1VtXh","cm-tag":"codemirror_cm-tag_1LBdm","cm-attribute":"codemirror_cm-attribute_2l-yA","cm-hr":"codemirror_cm-hr_1BFnt","cm-error":"codemirror_cm-error_2a8us","cm-invalidchar":"codemirror_cm-invalidchar_1AUYH","CodeMirror-composing":"codemirror_CodeMirror-composing_2ypxF","CodeMirror-matchingbracket":"codemirror_CodeMirror-matchingbracket_2bLJi","CodeMirror-nonmatchingbracket":"codemirror_CodeMirror-nonmatchingbracket_NQ7_u","CodeMirror-matchingtag":"codemirror_CodeMirror-matchingtag_3hebU","CodeMirror-activeline-background":"codemirror_CodeMirror-activeline-background_az7up","CodeMirror-scroll":"codemirror_CodeMirror-scroll_1mxb7","CodeMirror-sizer":"codemirror_CodeMirror-sizer_2eKDv","CodeMirror-vscrollbar":"codemirror_CodeMirror-vscrollbar_dOHVM","CodeMirror-hscrollbar":"codemirror_CodeMirror-hscrollbar_aEde7","CodeMirror-gutter":"codemirror_CodeMirror-gutter_3IQ-8","CodeMirror-gutter-wrapper":"codemirror_CodeMirror-gutter-wrapper_xofpR","CodeMirror-gutter-background":"codemirror_CodeMirror-gutter-background_1nxxm","CodeMirror-gutter-elt":"codemirror_CodeMirror-gutter-elt_2MFP5","CodeMirror-wrap":"codemirror_CodeMirror-wrap_BWZpS","CodeMirror-linebackground":"codemirror_CodeMirror-linebackground_JrW9-","CodeMirror-linewidget":"codemirror_CodeMirror-linewidget_1OCi0","CodeMirror-widget":"codemirror_CodeMirror-widget_24j67","CodeMirror-rtl":"codemirror_CodeMirror-rtl_ztmBB","CodeMirror-code":"codemirror_CodeMirror-code_1LEGj","CodeMirror-measure":"codemirror_CodeMirror-measure_3SIJx","CodeMirror-dragcursors":"codemirror_CodeMirror-dragcursors_25RyA","CodeMirror-focused":"codemirror_CodeMirror-focused_3xiwW","CodeMirror-selected":"codemirror_CodeMirror-selected_2jl5o","CodeMirror-crosshair":"codemirror_CodeMirror-crosshair_2xUxc","CodeMirror-line":"codemirror_CodeMirror-line_2iQsC","cm-searching":"codemirror_cm-searching_2P9NM","cm-force-border":"codemirror_cm-force-border_Sp4GJ","cm-tab-wrap-hack":"codemirror_cm-tab-wrap-hack_3oSn7","CodeMirror-selectedtext":"codemirror_CodeMirror-selectedtext_9BR57"}},"8f25":function(e,t,a){"use strict";a("f4ae")},9266:function(e,t,a){},"92ab":function(e,t,a){"use strict";a("f310")},"94a1":function(e,t,a){},9912:function(e,t,a){},9977:function(e,t,a){},"9b0c":function(e,t,a){"use strict";a("3645")},"9d21":function(e,t,a){"use strict";a("6ecb")},"9e9b":function(e,t,a){"use strict";a("3414")},a35e:function(e,t,a){"use strict";a("ea95")},a38e:function(e,t,a){},a3e6:function(e,t,a){"use strict";a("71a2")},a6fe:function(e,t,a){"use strict";a("2259")},b573:function(e,t,a){"use strict";a("d5b0")},bb8f:function(e,t,a){"use strict";a("e219")},bcf8:function(e,t,a){"use strict";a("81af")},be2a:function(e,t,a){"use strict";a("2a5d")},c0ed:function(e,t,a){"use strict";a("37a1")},c1a2:function(e,t,a){"use strict";a("25da")},c6c5:function(e,t,a){},cc79:function(e,t,a){"use strict";a("6fb4")},d089:function(e,t,a){"use strict";a("2b4b")},d196:function(e,t,a){"use strict";a("420f")},d5b0:function(e,t,a){},d5d9:function(e,t,a){},d90e:function(e,t,a){},d956:function(e,t,a){},d9aa:function(e,t,a){"use strict";a("4e62")},dcfc:function(e,t,a){},e0a3:function(e,t,a){},e219:function(e,t,a){},e382:function(e,t,a){},ea95:function(e,t,a){},ee47:function(e,t,a){"use strict";a("417c")},f276:function(e,t,a){"use strict";a("a38e")},f310:function(e,t,a){},f335:function(e,t,a){},f448:function(e,t,a){"use strict";a("005e")},f4ae:function(e,t,a){},f586:function(e,t,a){"use strict";a("6bfe")},f654:function(e,t,a){},f717:function(e,t,a){e.exports={"vdatetime-fade-enter-active":"date-time_vdatetime-fade-enter-active_35U_L","vdatetime-fade-leave-active":"date-time_vdatetime-fade-leave-active_hzPWm","vdatetime-fade-enter":"date-time_vdatetime-fade-enter_z_2vd","vdatetime-fade-leave-to":"date-time_vdatetime-fade-leave-to_1kHj6","vdatetime-overlay":"date-time_vdatetime-overlay_3no3G","vdatetime-popup":"date-time_vdatetime-popup_2av0G","vdatetime-popup__header":"date-time_vdatetime-popup__header_d55dz","vdatetime-popup__title":"date-time_vdatetime-popup__title_FJQqj","vdatetime-popup__year":"date-time_vdatetime-popup__year_2ylxU","vdatetime-popup__date":"date-time_vdatetime-popup__date_3_K8Q","vdatetime-popup__actions":"date-time_vdatetime-popup__actions_3Nbxq","vdatetime-popup__actions__button":"date-time_vdatetime-popup__actions__button_2x6Sq","vdatetime-calendar__navigation--previous":"date-time_vdatetime-calendar__navigation--previous_3E5Mo","vdatetime-calendar__navigation--next":"date-time_vdatetime-calendar__navigation--next_1hu1b","vdatetime-calendar__navigation":"date-time_vdatetime-calendar__navigation_yMZQw","vdatetime-calendar__current--month":"date-time_vdatetime-calendar__current--month_KevSW","vdatetime-calendar__month":"date-time_vdatetime-calendar__month_2F6W2","vdatetime-calendar__month__weekday":"date-time_vdatetime-calendar__month__weekday_3PgcI","vdatetime-calendar__month__day":"date-time_vdatetime-calendar__month__day_1-Bli","vdatetime-calendar__month__day--selected":"date-time_vdatetime-calendar__month__day--selected_3sV97","vdatetime-calendar__month__day--disabled":"date-time_vdatetime-calendar__month__day--disabled_3w5t1","vdatetime-time-picker__list":"date-time_vdatetime-time-picker__list_38uNo","vdatetime-time-picker":"date-time_vdatetime-time-picker_2ubtr","vdatetime-time-picker__with-suffix":"date-time_vdatetime-time-picker__with-suffix_1S1n5","vdatetime-time-picker__item":"date-time_vdatetime-time-picker__item_2Rjco","vdatetime-time-picker__item--selected":"date-time_vdatetime-time-picker__item--selected_1O4Lv","vdatetime-time-picker__item--disabled":"date-time_vdatetime-time-picker__item--disabled_3-oKj","vdatetime-year-picker__list":"date-time_vdatetime-year-picker__list_1ODRv","vdatetime-year-picker":"date-time_vdatetime-year-picker_2ZnkR","vdatetime-year-picker__item":"date-time_vdatetime-year-picker__item_1XVQV","vdatetime-year-picker__item--selected":"date-time_vdatetime-year-picker__item--selected_3qNE4","vdatetime-year-picker__item--disabled":"date-time_vdatetime-year-picker__item--disabled_BE1Od","vdatetime-month-picker__list":"date-time_vdatetime-month-picker__list_Pp2Xu","vdatetime-month-picker":"date-time_vdatetime-month-picker_33KAO","vdatetime-month-picker__item":"date-time_vdatetime-month-picker__item_1hVNG","vdatetime-month-picker__item--selected":"date-time_vdatetime-month-picker__item--selected_fyja6","vdatetime-month-picker__item--disabled":"date-time_vdatetime-month-picker__item--disabled_3UtQl","vdatetime-input":"date-time_vdatetime-input_2NOPl"}},f976:function(e,t,a){},fc1d:function(e,t,a){"use strict";a("50c0")},fd69:function(e,t,a){"use strict";a("c6c5")},ff37:function(e,t,a){"use strict";a("d5d9")}});
//# sourceMappingURL=app_emundus.js.map