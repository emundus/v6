{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/AttachmentPreview.vue?215f","webpack:///./src/components/FilterBuilder/FilterRow.vue?2549","webpack:///./src/views/Attachments.vue?a09b","webpack:///./src/store/global/index.js","webpack:///./src/store/user/user.js","webpack:///./src/store/attachment/attachment.js","webpack:///./src/store/file/file.js","webpack:///./src/store/filterBuilder/filterBuilder.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?48f1","webpack:///./src/views/Attachments.vue?2c28","webpack:///./src/components/AttachmentPreview.vue?55be","webpack:///./src/services/axiosClient.js","webpack:///./src/services/attachment.js","webpack:///src/components/AttachmentPreview.vue","webpack:///./src/components/AttachmentPreview.vue?c080","webpack:///./src/components/AttachmentPreview.vue","webpack:///./src/components/AttachmentEdit.vue?7b64","webpack:///./src/services/user.js","webpack:///./src/mixins/mixin.js","webpack:///src/components/AttachmentEdit.vue","webpack:///./src/components/AttachmentEdit.vue?69d0","webpack:///./src/components/AttachmentEdit.vue","webpack:///./src/components/FilterBuilder/FilterBuilder.vue?4928","webpack:///./src/services/filter.js","webpack:///./src/components/FilterBuilder/FilterRow.vue?7495","webpack:///src/components/FilterBuilder/FilterRow.vue","webpack:///./src/components/FilterBuilder/FilterRow.vue?0ebc","webpack:///./src/components/FilterBuilder/FilterRow.vue","webpack:///./src/components/FilterBuilder/FilterGroup.vue?601d","webpack:///src/components/FilterBuilder/FilterGroup.vue","webpack:///./src/components/FilterBuilder/FilterGroup.vue?3d65","webpack:///./src/components/FilterBuilder/FilterGroup.vue","webpack:///src/components/FilterBuilder/FilterBuilder.vue","webpack:///./src/components/FilterBuilder/FilterBuilder.vue?7353","webpack:///./src/components/FilterBuilder/FilterBuilder.vue","webpack:///./src/components/AttachmentRow.vue?a6ac","webpack:///src/components/AttachmentRow.vue","webpack:///./src/components/AttachmentRow.vue?99dd","webpack:///./src/components/AttachmentRow.vue","webpack:///./src/services/file.js","webpack:///src/views/Attachments.vue","webpack:///./src/views/Attachments.vue?6c51","webpack:///./src/views/Attachments.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1fa5","webpack:///./src/App.vue","webpack:///./src/mixins/translate.js","webpack:///./src/store/filterBuilder/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?affa","webpack:///./src/components/AttachmentRow.vue?6883","webpack:///./src/components/FilterBuilder/FilterGroup.vue?7778","webpack:///./src/components/FilterBuilder/FilterBuilder.vue?ea35","webpack:///./src/components/AttachmentEdit.vue?68b4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","state","lang","getters","actions","commit","mutations","namespaced","users","currentUser","displayedUser","rights","user","forEach","user_id","fnum","attachmentPath","attachments","selectedAttachment","previews","categories","checkedAttachments","attachment","previewData","path","attachmentIndex","findIndex","aid","preview","fnums","filters","queryFilters","relation","groups","0","group","filter","and_or","use","Store","global","file","filterBuilder","render","_vm","this","_h","$createElement","_c","_self","staticClass","componentName","attrs","_e","staticRenderFns","_v","_s","firstname","lastname","email","progress","translate","class","active","fnumPosition","on","$event","changeFile","loading","ref","searchInFiles","resetSearch","filterAttachmentSelection","entries","thisAttachmentCategories","filterByCategory","_l","category","domProps","disabled","exportAttachments","refreshAttachments","confirmDeleteAttachments","updateAllCheckedAttachments","orderBy","sort","order","canUpdate","openModal","updateCheckedAttachments","updateStatus","changePermission","filename","selectedAttachmentPosition","changeAttachment","displayedAttachments","closeModal","slideTransition","beforeLeaveSlide","modalLoading","displayedFnum","canDownload","updateAttachment","overflowX","overflowY","msg","openMsg","a","timeout","headers","responseType","withCredentials","response","params","status","message","JSON","parse","values","is_validated","show","student_id","attachment_ids","formData","FormData","append","stringify","post","student","sqlRequest","encodeURI","props","type","Number","required","$store","style","getPreview","methods","$emit","content","setTimeout","error","$refs","shadowRoot","attachShadow","innerHTML","addSheetStyles","addPresentationStyles","addWordStyles","pages","querySelectorAll","div","width","margin","boxShadow","display","navigation","querySelector","flexDirection","justifyContent","alignItems","li","li_key","listStyleType","addEventListener","div_key","slides","slide","padding","borderRadius","backgroundColor","wrapper","border","overflow","watch","component","directives","rawName","expression","target","composing","attachmentDescription","success","attachmentIsValidated","warning","$$selectedVal","Array","options","selected","val","_value","multiple","updateAttachmentStatus","allowedType","updateFile","isArray","attachmentCanBeViewed","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","attachmentCanBeDeleted","formattedDate","timedate","getUserNameById","modified_by","modified","saveChanges","errorMessage","mixin","date","format","completeName","parseInt","getUserById","then","dispatch","getAttachmentCategories","String","mixins","can_be_viewed","can_be_deleted","description","canBeViewed","canBeDeleted","update","file_update","showError","event","files","computed","allowed_type","split","pop","open","cancel","applyFilters","andOr","toggleAndOr","element","removeFilter","removeGroup","addGroup","otherids","hoverDelete","selectedFilter","label","selectedAction","action","selectedValue","default","names","index","updateFilter","currentFilter","find","groupClasses","addFilter","addDeleteClass","removeDeleteClass","components","FilterRow","Math","floor","random","Date","now","filterId","FilterGroup","otherIds","orderedElements","getFilters","mountQuery","query","includes","existsOnServer","checkedAttachmentsProp","Boolean","catch","indexOf","permission","AttachmentPreview","AttachmentEdit","AttachmentRow","FilterBuilder","last","canExport","canDelete","changeFileEvent","Event","getFormProgress","getFnums","getUsers","getAttachments","setAccessRights","displayErrorMessage","getAttachmentProgress","attachment_progress","fnumsOnPage","document","getElementsByClassName","setDisplayedUser","getFnumInfos","fnumInfos","foundUser","applicant_id","resp","addLoading","resetOrder","getAttachmentsByFnum","categoriesResponse","$modal","hide","getAccessRights","link","html","list","substring","fire","title","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","deleteAttachments","position","oldFnumPosition","resetCategoryFilters","detail","next","previous","dispatchEvent","reverse","toLowerCase","b","console","warn","text","el","transform","setAttribute","undefined","displayedCategories","Attachments","locale","base","Joomla","JText","_","mountApp","elementId","getElementById","attributes","attr","items","empty","checkedEm","check","item","getAttribute","replace","openFiles","config","productionTip","store","h","App"],"mappings":"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","file":"app_emundus.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"8206\",\n\t\"./af.js\": \"8206\",\n\t\"./ar\": \"cdac\",\n\t\"./ar-dz\": \"7f26\",\n\t\"./ar-dz.js\": \"7f26\",\n\t\"./ar-kw\": \"8e88\",\n\t\"./ar-kw.js\": \"8e88\",\n\t\"./ar-ly\": \"cd65\",\n\t\"./ar-ly.js\": \"cd65\",\n\t\"./ar-ma\": \"e8d6\",\n\t\"./ar-ma.js\": \"e8d6\",\n\t\"./ar-sa\": \"a284\",\n\t\"./ar-sa.js\": \"a284\",\n\t\"./ar-tn\": \"64f7\",\n\t\"./ar-tn.js\": \"64f7\",\n\t\"./ar.js\": \"cdac\",\n\t\"./az\": \"b139\",\n\t\"./az.js\": \"b139\",\n\t\"./be\": \"98e2\",\n\t\"./be.js\": \"98e2\",\n\t\"./bg\": \"a1a5\",\n\t\"./bg.js\": \"a1a5\",\n\t\"./bm\": \"4d0d\",\n\t\"./bm.js\": \"4d0d\",\n\t\"./bn\": \"e8ae\",\n\t\"./bn-bd\": \"5dd8\",\n\t\"./bn-bd.js\": \"5dd8\",\n\t\"./bn.js\": \"e8ae\",\n\t\"./bo\": \"bcf2\",\n\t\"./bo.js\": \"bcf2\",\n\t\"./br\": \"69f1\",\n\t\"./br.js\": \"69f1\",\n\t\"./bs\": \"24d1\",\n\t\"./bs.js\": \"24d1\",\n\t\"./ca\": \"3507\",\n\t\"./ca.js\": \"3507\",\n\t\"./cs\": \"d15f\",\n\t\"./cs.js\": \"d15f\",\n\t\"./cv\": \"7bfe\",\n\t\"./cv.js\": \"7bfe\",\n\t\"./cy\": \"1d35\",\n\t\"./cy.js\": \"1d35\",\n\t\"./da\": \"a019\",\n\t\"./da.js\": \"a019\",\n\t\"./de\": \"0cfa\",\n\t\"./de-at\": \"edea\",\n\t\"./de-at.js\": \"edea\",\n\t\"./de-ch\": \"9aae\",\n\t\"./de-ch.js\": \"9aae\",\n\t\"./de.js\": \"0cfa\",\n\t\"./dv\": \"1722\",\n\t\"./dv.js\": \"1722\",\n\t\"./el\": \"5390\",\n\t\"./el.js\": \"5390\",\n\t\"./en-au\": \"dad9\",\n\t\"./en-au.js\": \"dad9\",\n\t\"./en-ca\": \"6f13\",\n\t\"./en-ca.js\": \"6f13\",\n\t\"./en-gb\": \"6267\",\n\t\"./en-gb.js\": \"6267\",\n\t\"./en-ie\": \"80b1\",\n\t\"./en-ie.js\": \"80b1\",\n\t\"./en-il\": \"ad38\",\n\t\"./en-il.js\": \"ad38\",\n\t\"./en-in\": \"eb60\",\n\t\"./en-in.js\": \"eb60\",\n\t\"./en-nz\": \"39db\",\n\t\"./en-nz.js\": \"39db\",\n\t\"./en-sg\": \"c30d\",\n\t\"./en-sg.js\": \"c30d\",\n\t\"./eo\": \"1a30\",\n\t\"./eo.js\": \"1a30\",\n\t\"./es\": \"48a3\",\n\t\"./es-do\": \"f306\",\n\t\"./es-do.js\": \"f306\",\n\t\"./es-mx\": \"56d9\",\n\t\"./es-mx.js\": \"56d9\",\n\t\"./es-us\": \"60bf\",\n\t\"./es-us.js\": \"60bf\",\n\t\"./es.js\": \"48a3\",\n\t\"./et\": \"f891\",\n\t\"./et.js\": \"f891\",\n\t\"./eu\": \"a403\",\n\t\"./eu.js\": \"a403\",\n\t\"./fa\": \"ce14\",\n\t\"./fa.js\": \"ce14\",\n\t\"./fi\": \"fc14\",\n\t\"./fi.js\": \"fc14\",\n\t\"./fil\": \"f46e\",\n\t\"./fil.js\": \"f46e\",\n\t\"./fo\": \"2bf2\",\n\t\"./fo.js\": \"2bf2\",\n\t\"./fr\": \"c1e8\",\n\t\"./fr-ca\": \"50a2\",\n\t\"./fr-ca.js\": \"50a2\",\n\t\"./fr-ch\": \"b087\",\n\t\"./fr-ch.js\": \"b087\",\n\t\"./fr.js\": \"c1e8\",\n\t\"./fy\": \"4665\",\n\t\"./fy.js\": \"4665\",\n\t\"./ga\": \"b396\",\n\t\"./ga.js\": \"b396\",\n\t\"./gd\": \"056c\",\n\t\"./gd.js\": \"056c\",\n\t\"./gl\": \"efde\",\n\t\"./gl.js\": \"efde\",\n\t\"./gom-deva\": \"12ea\",\n\t\"./gom-deva.js\": \"12ea\",\n\t\"./gom-latn\": \"8e2c\",\n\t\"./gom-latn.js\": \"8e2c\",\n\t\"./gu\": \"533d\",\n\t\"./gu.js\": \"533d\",\n\t\"./he\": \"7520\",\n\t\"./he.js\": \"7520\",\n\t\"./hi\": \"d2f3\",\n\t\"./hi.js\": \"d2f3\",\n\t\"./hr\": \"7e79\",\n\t\"./hr.js\": \"7e79\",\n\t\"./hu\": \"148f\",\n\t\"./hu.js\": \"148f\",\n\t\"./hy-am\": \"6711\",\n\t\"./hy-am.js\": \"6711\",\n\t\"./id\": \"2b10\",\n\t\"./id.js\": \"2b10\",\n\t\"./is\": \"1feb\",\n\t\"./is.js\": \"1feb\",\n\t\"./it\": \"1b21\",\n\t\"./it-ch\": \"8d2c\",\n\t\"./it-ch.js\": \"8d2c\",\n\t\"./it.js\": \"1b21\",\n\t\"./ja\": \"926e\",\n\t\"./ja.js\": \"926e\",\n\t\"./jv\": \"5a78\",\n\t\"./jv.js\": \"5a78\",\n\t\"./ka\": \"5975\",\n\t\"./ka.js\": \"5975\",\n\t\"./kk\": \"cc93\",\n\t\"./kk.js\": \"cc93\",\n\t\"./km\": \"66e1\",\n\t\"./km.js\": \"66e1\",\n\t\"./kn\": \"5421\",\n\t\"./kn.js\": \"5421\",\n\t\"./ko\": \"1297\",\n\t\"./ko.js\": \"1297\",\n\t\"./ku\": \"16f8\",\n\t\"./ku.js\": \"16f8\",\n\t\"./ky\": \"3df9\",\n\t\"./ky.js\": \"3df9\",\n\t\"./lb\": \"c124\",\n\t\"./lb.js\": \"c124\",\n\t\"./lo\": \"20a5\",\n\t\"./lo.js\": \"20a5\",\n\t\"./lt\": \"c14a\",\n\t\"./lt.js\": \"c14a\",\n\t\"./lv\": \"c553\",\n\t\"./lv.js\": \"c553\",\n\t\"./me\": \"ae25\",\n\t\"./me.js\": \"ae25\",\n\t\"./mi\": \"6f56\",\n\t\"./mi.js\": \"6f56\",\n\t\"./mk\": \"c8fc\",\n\t\"./mk.js\": \"c8fc\",\n\t\"./ml\": \"752d\",\n\t\"./ml.js\": \"752d\",\n\t\"./mn\": \"f09e\",\n\t\"./mn.js\": \"f09e\",\n\t\"./mr\": \"0a56\",\n\t\"./mr.js\": \"0a56\",\n\t\"./ms\": \"55b6\",\n\t\"./ms-my\": \"a9e9\",\n\t\"./ms-my.js\": \"a9e9\",\n\t\"./ms.js\": \"55b6\",\n\t\"./mt\": \"624b\",\n\t\"./mt.js\": \"624b\",\n\t\"./my\": \"e256\",\n\t\"./my.js\": \"e256\",\n\t\"./nb\": \"e1d5\",\n\t\"./nb.js\": \"e1d5\",\n\t\"./ne\": \"761a\",\n\t\"./ne.js\": \"761a\",\n\t\"./nl\": \"a0f2\",\n\t\"./nl-be\": \"5cb2\",\n\t\"./nl-be.js\": \"5cb2\",\n\t\"./nl.js\": \"a0f2\",\n\t\"./nn\": \"4fda\",\n\t\"./nn.js\": \"4fda\",\n\t\"./oc-lnc\": \"ec3d\",\n\t\"./oc-lnc.js\": \"ec3d\",\n\t\"./pa-in\": \"2f2f\",\n\t\"./pa-in.js\": \"2f2f\",\n\t\"./pl\": \"317f\",\n\t\"./pl.js\": \"317f\",\n\t\"./pt\": \"5553\",\n\t\"./pt-br\": \"a9ab\",\n\t\"./pt-br.js\": \"a9ab\",\n\t\"./pt.js\": \"5553\",\n\t\"./ro\": \"db12\",\n\t\"./ro.js\": \"db12\",\n\t\"./ru\": \"7aa4\",\n\t\"./ru.js\": \"7aa4\",\n\t\"./sd\": \"e87b\",\n\t\"./sd.js\": \"e87b\",\n\t\"./se\": \"a296\",\n\t\"./se.js\": \"a296\",\n\t\"./si\": \"51ec\",\n\t\"./si.js\": \"51ec\",\n\t\"./sk\": \"608b\",\n\t\"./sk.js\": \"608b\",\n\t\"./sl\": \"b367\",\n\t\"./sl.js\": \"b367\",\n\t\"./sq\": \"f68f\",\n\t\"./sq.js\": \"f68f\",\n\t\"./sr\": \"0991\",\n\t\"./sr-cyrl\": \"c577\",\n\t\"./sr-cyrl.js\": \"c577\",\n\t\"./sr.js\": \"0991\",\n\t\"./ss\": \"cf76\",\n\t\"./ss.js\": \"cf76\",\n\t\"./sv\": \"0153\",\n\t\"./sv.js\": \"0153\",\n\t\"./sw\": \"cb6f\",\n\t\"./sw.js\": \"cb6f\",\n\t\"./ta\": \"8bfa\",\n\t\"./ta.js\": \"8bfa\",\n\t\"./te\": \"668b\",\n\t\"./te.js\": \"668b\",\n\t\"./tet\": \"eae7\",\n\t\"./tet.js\": \"eae7\",\n\t\"./tg\": \"70b1\",\n\t\"./tg.js\": \"70b1\",\n\t\"./th\": \"7180\",\n\t\"./th.js\": \"7180\",\n\t\"./tk\": \"4912\",\n\t\"./tk.js\": \"4912\",\n\t\"./tl-ph\": \"f8bb\",\n\t\"./tl-ph.js\": \"f8bb\",\n\t\"./tlh\": \"b026\",\n\t\"./tlh.js\": \"b026\",\n\t\"./tr\": \"371d\",\n\t\"./tr.js\": \"371d\",\n\t\"./tzl\": \"c744\",\n\t\"./tzl.js\": \"c744\",\n\t\"./tzm\": \"787a\",\n\t\"./tzm-latn\": \"71e0\",\n\t\"./tzm-latn.js\": \"71e0\",\n\t\"./tzm.js\": \"787a\",\n\t\"./ug-cn\": \"6b5c\",\n\t\"./ug-cn.js\": \"6b5c\",\n\t\"./uk\": \"8c0c\",\n\t\"./uk.js\": \"8c0c\",\n\t\"./ur\": \"519e\",\n\t\"./ur.js\": \"519e\",\n\t\"./uz\": \"7982\",\n\t\"./uz-latn\": \"3137\",\n\t\"./uz-latn.js\": \"3137\",\n\t\"./uz.js\": \"7982\",\n\t\"./vi\": \"ae22\",\n\t\"./vi.js\": \"ae22\",\n\t\"./x-pseudo\": \"1129\",\n\t\"./x-pseudo.js\": \"1129\",\n\t\"./yo\": \"b4bf\",\n\t\"./yo.js\": \"b4bf\",\n\t\"./zh-cn\": \"fdc4\",\n\t\"./zh-cn.js\": \"fdc4\",\n\t\"./zh-hk\": \"747d\",\n\t\"./zh-hk.js\": \"747d\",\n\t\"./zh-mo\": \"fe39\",\n\t\"./zh-mo.js\": \"fe39\",\n\t\"./zh-tw\": \"d3e0\",\n\t\"./zh-tw.js\": \"d3e0\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"0fd5\";","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentPreview.vue?vue&type=style&index=0&id=5f4fcbf4&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterRow.vue?vue&type=style&index=0&id=741485a4&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=style&index=0&id=40be2e22&lang=scss&scoped=true&\"","const state = {\n    lang: ''\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n    setLang({ commit }, lang) {\n        commit('setLang', lang);\n    }\n};\n\nconst mutations = {\n    setLang(state, lang) {\n        state.lang = lang;\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    users: {},\n    currentUser: 0,\n    displayedUser: 0,\n    rights: {},\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n    setUsers({ commit }, users) {\n        commit('setUser', users);\n    },\n    setCurrentUser({ commit }, user) {\n        commit('setCurrentUser', user);\n    },\n    setDisplayedUser({ commit }, user) {\n        commit('setDisplayedUser', user);\n    },\n    setAccessRights({ commit }, data) {\n        commit('setAccessRights', data);\n    }\n};\n\nconst mutations = {\n    setUser(state, users) {\n        if (users && users.length > 0) {\n            users.forEach(user => {\n                state.users[user.user_id] = user;\n            });\n        }\n    },\n    setCurrentUser(state, user) {\n        state.currentUser = user;\n    },\n    setDisplayedUser(state, user) {\n        state.displayedUser = user;\n    },\n    setAccessRights(state, data) {\n        state.rights[data.fnum] = data.rights;\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    attachmentPath: \"images/emundus/files/\",\n    attachments: {},\n    selectedAttachment: {},\n    previews: {},\n    categories: {},\n    checkedAttachments: [],\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n    setAttachments({ commit }, attachments) {\n        commit('setAttachments', attachments);\n    },\n    setAttachmentsOfFnum({ commit }, data) {\n        commit('setAttachmentsOfFnum', data);\n    },\n    updateAttachmentOfFnum({ commit }, data) {\n        commit('updateAttachmentOfFnum', data);\n    },\n    setSelectedAttachment({ commit }, attachment) {\n        commit('setSelectedAttachment', attachment);\n    },\n    setPreview({ commit }, previewData) {\n        commit('setPreview', previewData);\n    },\n    setCategories({ commit }, categories) {\n        commit('setCategories', categories);\n    },\n    setAttachmentPath({ commit }, path) {\n        commit('setAttachmentPath', path);\n    },\n    setCheckedAttachments({ commit }, attachments) {\n        commit('setCheckedAttachments', attachments);\n    }\n};\n\nconst mutations = {\n    setAttachments(state, attachments) {\n        state.attachments = attachments;\n    },\n    setAttachmentsOfFnum(state, data) {\n        state.attachments[data.fnum] = data.attachments;\n    },\n    updateAttachmentOfFnum(state, data) {\n        const attachmentIndex = state.attachments[data.fnum].findIndex(attachment => attachment.aid === data.attachment.aid);\n\n        state.attachments[data.fnum][attachmentIndex] = data.attachment;\n    },\n    setSelectedAttachment(state, attachment) {\n        state.selectedAttachment = attachment;\n    },\n    setPreview(state, previewData) {\n        state.previews[previewData.id] = previewData.preview;\n    },\n    setCategories(state, categories) {\n        state.categories = categories;\n    },\n    setAttachmentPath(state, path) {\n        state.attachmentPath = path;\n    },\n    setCheckedAttachments(state, attachments) {\n        state.checkedAttachments = attachments;\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    fnums: []\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n\n};\n\nconst mutations = {\n\n};\n\nexport default {\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    filters: [],\n    queryFilters: {\n        relation: 'AND',\n        groups: {\n            0: {\n                filters: {},\n            }\n        }\n    },\n};\n\nconst mutations = {\n    setFilters(state, filters) {\n        state.filters = filters\n    },\n    updateQueryFilters(state, data) {\n        if (!state.queryFilters.groups[data.group]) {\n            state.queryFilters.groups[data.group] = {\n                relation: 'AND',\n                filters: {}\n            };\n        }\n\n        if (!state.queryFilters.groups[data.group].filters) {\n            state.queryFilters.groups[data.group].filters = {};\n        }\n\n        state.queryFilters.groups[data.group].filters[data.id] = data.filter;\n    },\n    removeGroup(state, group) {\n        delete state.queryFilters.groups[group];\n    },\n    removeQueryFilter(state, data) {\n        delete state.queryFilters.groups[data.group].filters[data.id];\n    },\n    updateAndOr(state, data) {\n        if (data.group != '0') {\n            state.queryFilters.groups[data.group].relation = data.and_or;\n        } else {\n            state.queryFilters.relation = data.and_or;\n        }\n    }\n};\n\nconst actions = {\n    setFilters({ commit }, filters) {\n        commit('setFilters', filters)\n    },\n    updateQueryFilters({ commit }, data) {\n        commit('updateQueryFilters', data)\n    },\n    removeGroup({ commit }, group) {\n        commit('removeGroup', group)\n    },\n    removeQueryFilter({ commit }, data) {\n        commit('removeQueryFilter', data)\n    },\n    updateAndOr({ commit }, data) {\n        commit('updateAndOr', data)\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n};","import global from './global';\nimport user from './user/user';\nimport attachment from './attachment/attachment';\nimport file from './file/file';\nimport filterBuilder from './filterBuilder/filterBuilder';\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    global,\n    user,\n    attachment,\n    file,\n    filterBuilder\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"com_emundus_vue\"},[(_vm.componentName === 'attachments')?_c('Attachments',{attrs:{\"fnum\":_vm.data.fnum,\"user\":_vm.data.user}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"em-attachments\"}},[_c('div',{staticClass:\"head\"},[_c('div',{staticClass:\"displayed-user\"},[_c('p',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.displayedUser.firstname)+\" \"+_vm._s(_vm.displayedUser.lastname)+\" \")]),_c('p',{staticClass:\"email\"},[_vm._v(_vm._s(_vm.displayedUser.email)+\" \")]),(_vm.progress)?_c('p',{staticClass:\"attachment-progress\"},[_vm._v(\" - \"+_vm._s(_vm.progress)+\"% \"+_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_COMPLETED')))]):_vm._e()]),_c('div',{staticClass:\"prev-next-files\"},[(_vm.fnums.length > 1)?_c('div',{staticClass:\"prev\",class:{ active: _vm.fnumPosition > 0 },on:{\"click\":function($event){return _vm.changeFile(_vm.fnumPosition - 1)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_back\")])]):_vm._e(),(_vm.fnums.length > 1)?_c('div',{staticClass:\"next\",class:{ active: _vm.fnumPosition < _vm.fnums.length - 1 },on:{\"click\":function($event){return _vm.changeFile(_vm.fnumPosition + 1)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_forward\")])]):_vm._e()])]),_c('div',{staticClass:\"wrapper\",class:{ loading: _vm.loading}},[_c('div',{attrs:{\"id\":\"filters\"}},[_c('div',{staticClass:\"searchbar-wrapper\"},[_c('input',{ref:\"searchbar\",attrs:{\"id\":\"searchbar\",\"type\":\"text\",\"placeholder\":_vm.translate('SEARCH')},on:{\"input\":_vm.searchInFiles}}),_c('span',{staticClass:\"material-icons search\"},[_vm._v(\"search\")]),_c('span',{staticClass:\"material-icons clear\",on:{\"click\":_vm.resetSearch}},[_vm._v(\"clear\")])]),_c('div',{staticClass:\"actions\"},[_c('FilterBuilder',{attrs:{\"id\":\"70\",\"otherIds\":\"36\"},on:{\"applyFilters\":_vm.filterAttachmentSelection}}),(Object.entries(_vm.thisAttachmentCategories).length > 0)?_c('select',{ref:\"categoryFilter\",staticClass:\"category-select\",attrs:{\"name\":\"category\"},on:{\"change\":_vm.filterByCategory}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(_vm._s(_vm.translate(\"SELECT_CATEGORY\")))]),_vm._l((_vm.thisAttachmentCategories),function(category,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(category)+\" \")])})],2):_vm._e(),(_vm.canExport)?_c('div',{staticClass:\"btn-icon-text\",class:{ disabled: _vm.checkedAttachments.length < 1 },on:{\"click\":_vm.exportAttachments}},[_c('span',{staticClass:\"material-icons export\"},[_vm._v(\"file_upload\")]),_c('span',[_vm._v(_vm._s(_vm.translate(\"EXPORT\")))])]):_vm._e(),_c('span',{staticClass:\"material-icons refresh\",attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_REFRESH_TITLE')},on:{\"click\":function($event){return _vm.refreshAttachments(true)}}},[_vm._v(\" autorenew \")]),(_vm.canDelete)?_c('span',{staticClass:\"material-icons delete\",class:{ disabled: _vm.checkedAttachments.length < 1 },attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_DELETE_TITLE')},on:{\"click\":_vm.confirmDeleteAttachments}},[_vm._v(\" delete_outlined \")]):_vm._e()],1)]),(_vm.attachments.length)?_c('div',{staticClass:\"table-wrapper\"},[_c('table',{class:{ loading: _vm.loading },attrs:{\"aria-describedby\":\"Table of attachments information\"}},[_c('thead',[_c('tr',[_c('th',{attrs:{\"id\":\"check-th\"}},[_c('input',{staticClass:\"attachment-check\",attrs:{\"type\":\"checkbox\"},on:{\"change\":_vm.updateAllCheckedAttachments}})]),_c('th',{attrs:{\"id\":\"name\"},on:{\"click\":function($event){return _vm.orderBy('value')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"NAME\"))+\" \"),(_vm.sort.orderBy == 'value' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'value' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"date\",attrs:{\"id\":\"date\"},on:{\"click\":function($event){return _vm.orderBy('timedate')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_SEND_DATE\"))+\" \"),(_vm.sort.orderBy == 'timedate' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'timedate' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"desc\",attrs:{\"id\":\"desc\"},on:{\"click\":function($event){return _vm.orderBy('description')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"DESCRIPTION\"))+\" \"),(_vm.sort.orderBy == 'description' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'description' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"category\",attrs:{\"id\":\"category\"},on:{\"click\":function($event){return _vm.orderBy('category')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_CATEGORY\"))+\" \"),(_vm.sort.orderBy == 'category' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'category' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"status\",attrs:{\"id\":\"status\"},on:{\"click\":function($event){return _vm.orderBy('is_validated')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_CHECK\"))+\" \"),(_vm.sort.orderBy == 'is_validated' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'is_validated' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{attrs:{\"id\":\"user\"},on:{\"click\":function($event){return _vm.orderBy('user_id')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_UPLOADED_BY\"))+\" \"),(_vm.sort.orderBy == 'user_id' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'user_id' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{attrs:{\"id\":\"modified_by\"},on:{\"click\":function($event){return _vm.orderBy('modified_by')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY\"))+\" \"),(_vm.sort.orderBy == 'modified_by' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'modified_by' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"date\",attrs:{\"id\":\"modified\"},on:{\"click\":function($event){return _vm.orderBy('modified')}}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE\"))+\" \"),(_vm.sort.orderBy == 'modified' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'modified' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"permissions\",attrs:{\"id\":\"permissions\"}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_PERMISSIONS\"))+\" \")])])]),_c('tbody',_vm._l((_vm.displayedAttachments),function(attachment){return _c('AttachmentRow',{key:attachment.aid,attrs:{\"attachment\":attachment,\"checkedAttachmentsProp\":_vm.checkedAttachments,\"canUpdate\":_vm.canUpdate},on:{\"open-modal\":function($event){return _vm.openModal(attachment)},\"update-checked-attachments\":_vm.updateCheckedAttachments,\"update-status\":_vm.updateStatus,\"change-permission\":_vm.changePermission}})}),1)])]):_c('p',[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_NO_ATTACHMENTS_FOUND\"))+\" \")])]),_c('modal',{attrs:{\"id\":\"edit-modal\",\"name\":\"edit\",\"height\":\"70%\",\"width\":\"70%\",\"minWidth\":690,\"minHeight\":550,\"styles\":\"display:flex;flex-direction:column;justify-content:center;align-items:center;\"}},[_c('div',{staticClass:\"modal-head\"},[_c('div',{staticClass:\"flex-start\"},[_c('span',[_vm._v(_vm._s(_vm.selectedAttachment.filename))])]),_c('div',{staticClass:\"flex-end\"},[(_vm.canDownload)?_c('a',{staticClass:\"download btn-icon-text\",attrs:{\"href\":_vm.attachmentPath,\"download\":\"\"}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" file_download \")]),_c('span',[_vm._v(_vm._s(_vm.translate(\"LINK_TO_DOWNLOAD\")))])]):_vm._e(),_c('div',{staticClass:\"prev-next-attachments\"},[_c('div',{staticClass:\"prev\",class:{ active: _vm.selectedAttachmentPosition > 0 },on:{\"click\":function($event){return _vm.changeAttachment(_vm.selectedAttachmentPosition - 1, true)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" navigate_before \")])]),_c('span',{staticClass:\"lvl\"},[_vm._v(_vm._s(_vm.selectedAttachmentPosition + 1)+\" / \"+_vm._s(_vm.displayedAttachments.length))]),_c('div',{staticClass:\"next\",class:{\n\t\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\t\t_vm.selectedAttachmentPosition < _vm.displayedAttachments.length - 1,\n\t\t\t\t\t\t\t},on:{\"click\":function($event){return _vm.changeAttachment(_vm.selectedAttachmentPosition + 1)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" navigate_next \")])])]),_c('span',{staticClass:\"material-icons em-pointer\",on:{\"click\":_vm.closeModal}},[_vm._v(\" close \")])])]),_c('transition',{attrs:{\"name\":_vm.slideTransition},on:{\"before-leave\":_vm.beforeLeaveSlide}},[(!_vm.modalLoading && _vm.displayedUser.user_id && _vm.displayedFnum)?_c('div',{staticClass:\"modal-body\"},[_c('AttachmentPreview',{attrs:{\"user\":_vm.displayedUser.user_id},on:{\"fileNotFound\":function($event){_vm.canDownload = false},\"canDownload\":function($event){_vm.canDownload = true}}}),_c('AttachmentEdit',{attrs:{\"fnum\":_vm.displayedFnum},on:{\"closeModal\":_vm.closeModal,\"saveChanges\":_vm.updateAttachment}})],1):_vm._e()])],1),(_vm.loading)?_c('div',{staticClass:\"vue-em-loader\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"em-attachment-preview\"}},[_c('div',{ref:\"a-preview\",class:{ 'overflow-x': _vm.overflowX, 'overflow-y': _vm.overflowY },attrs:{\"id\":\"attachment-preview\"}}),_c('div',{class:{ active: _vm.msg && _vm.openMsg },attrs:{\"id\":\"msg\"}},[_c('p',[_vm._v(_vm._s(_vm.msg))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\n\nexport default (headers = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache',\n}) =>\n    axios.create({\n        timeout: 30000,\n        headers,\n        responseType: 'json',\n        withCredentials: true,\n    });","import client from './axiosClient';\n\nexport default {\n  async getAttachmentProgress(fnum) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=files&task=getattachmentprogress', {\n        params: {\n          fnum: fnum,\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n  async getAttachmentsByUser(user) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=getuserattachments', {\n        params: {\n          user_id: user,\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n\n  async getAttachmentsByFnum(fnum) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=getattachmentsbyfnum', {\n        params: {\n          fnum: fnum,\n        }\n      });\n\n\n      if (response.data.status) {\n        // add show attribute to true to all attchments in response data\n\n        if (typeof response.data.attachments === 'string') {\n          response.data.attachments = JSON.parse(response.data.attachments);\n        }\n\n        if (typeof response.data.attachments === 'object') {\n          // cast object to array of objects\n          response.data.attachments = Object.values(response.data.attachments);\n        }\n\n        response.data.attachments.forEach(attachment => {\n          if (attachment.is_validated === null) {\n            attachment.is_validated = -2;\n          }\n\n          attachment.show = true;\n        });\n      }\n\n      return response.data;\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n\n  async getAttachmentCategories() {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=files&task=getattachmentcategories');\n\n      return response.data;\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n\n  async deleteAttachments(fnum, student_id, attachment_ids) {\n    try {\n      const formData = new FormData();\n      formData.append('ids', JSON.stringify(attachment_ids));\n\n      return await client().post(`index.php?option=com_emundus&controller=application&task=deleteattachement&fnum=${fnum}&student_id=${student_id}`,\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          }\n      );\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n\n  async updateAttachment(formData) {\n    try {\n      const response = await client().post('index.php?option=com_emundus&controller=application&task=updateattachment', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n\n  async getPreview(user, filename) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=getattachmentpreview', {\n        params: {\n          user: user,\n          filename: filename,\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      return {\n        status: false,\n        msg: e.message\n      };\n    }\n  },\n  exportAttachments(student, fnum, attachment_ids) {\n    const formData = new FormData();\n    formData.append('student_id', student);\n    formData.append('fnum', fnum);\n    attachment_ids.forEach(id => {\n      formData.append('ids[]', id);\n    });\n\n    return client().post('index.php?option=com_emundus&controller=application&task=exportpdf', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  async filterAttachmentSelection(fnum, sqlRequest) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=filterattachmentselection', {\n        params: {\n          fnum: fnum,\n          sqlRequest: encodeURI(sqlRequest),\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      return { status: false, data: null, message: e.message };\n    }\n  }\n};\n","<template>\n\t<div id=\"em-attachment-preview\">\n\t\t<div\n\t\t\tref=\"a-preview\"\n\t\t\tid=\"attachment-preview\"\n\t\t\t:class=\"{ 'overflow-x': overflowX, 'overflow-y': overflowY }\"\n\t\t></div>\n\t\t<div id=\"msg\" :class=\"{ active: msg && openMsg }\">\n\t\t\t<p>{{ msg }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport attachmentService from \"../services/attachment\";\n\nexport default {\n\tprops: {\n\t\tuser: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tattachment: this.$store.state.attachment.selectedAttachment,\n\t\t\tpreview: \"\",\n\t\t\toverflowX: false,\n\t\t\toverflowY: false,\n\t\t\tstyle: \"\",\n\t\t\tmsg: \"\",\n\t\t\topenMsg: false,\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.attachment = this.$store.state.attachment.selectedAttachment;\n\t\tthis.getPreview();\n\t},\n\tmethods: {\n\t\tasync getPreview() {\n\t\t\tlet data;\n\t\t\tif (!this.$store.state.attachment.previews[this.attachment.aid]) {\n\t\t\t\tdata = await attachmentService.getPreview(\n\t\t\t\t\tthis.user,\n\t\t\t\t\tthis.attachment.filename\n\t\t\t\t);\n\n\t\t\t\t// store preview data\n\t\t\t\tif (data.status) {\n\t\t\t\t\tthis.$store.commit(\"attachment/setPreview\", {\n\t\t\t\t\t\tpreview: data,\n\t\t\t\t\t\tid: this.attachment.aid,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdata = this.$store.state.attachment.previews[this.attachment.aid];\n\t\t\t}\n\n\t\t\tthis.$emit(\"canDownload\");\n\t\t\tif (data.status) {\n\t\t\t\tthis.preview = data.content;\n\t\t\t\tthis.overflowX = data.overflowX;\n\t\t\t\tthis.overflowY = data.overflowY;\n\t\t\t\tthis.style = data.style;\n\n\t\t\t\tif (data.msg) {\n\t\t\t\t\tthis.msg = data.msg;\n\t\t\t\t\tthis.openMsg = true;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.openMsg = false;\n\t\t\t\t\t}, 3000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (data.error === \"file_not_found\") {\n\t\t\t\t\tthis.$emit(\"fileNotFound\");\n\t\t\t\t}\n\n\t\t\t\tthis.overflowX = false;\n\t\t\t\tthis.overflowY = false;\n\t\t\t\tthis.preview = data.content;\n\t\t\t\tthis.msg = \"\";\n\t\t\t}\n\n\t\t\tif (this.$refs[\"a-preview\"].shadowRoot === null) {\n\t\t\t\tthis.$refs[\"a-preview\"].attachShadow({ mode: \"open\" });\n\t\t\t}\n\n\t\t\tthis.$refs[\"a-preview\"].shadowRoot.innerHTML =\n\t\t\t\tthis.preview != null ? this.preview : \"\";\n\n\t\t\tif (this.style == \"sheet\") {\n\t\t\t\tthis.addSheetStyles();\n\t\t\t} else if (this.style == \"presentation\") {\n\t\t\t\tthis.addPresentationStyles();\n\t\t\t} else if (this.style == \"word\") {\n\t\t\t\tthis.addWordStyles();\n\t\t\t}\n\t\t},\n\t\taddSheetStyles() {\n\t\t\t// get div elements of first level\n\t\t\tconst pages = this.$refs[\"a-preview\"].shadowRoot.querySelectorAll(\"div\");\n\t\t\tpages.forEach((div, key) => {\n\t\t\t\tdiv.style.width = \"fit-content\";\n\t\t\t\tdiv.style.margin = \"20px auto\";\n\t\t\t\tdiv.style.boxShadow = \"0px 0px 10px rgba(0, 0, 0, 0.1)\";\n\n\t\t\t\tif (key > 0) {\n\t\t\t\t\tdiv.style.display = \"none\";\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst navigation =\n\t\t\t\tthis.$refs[\"a-preview\"].shadowRoot.querySelector(\".navigation\");\n\t\t\tif (navigation) {\n\t\t\t\tnavigation.style.display = \"flex\";\n\t\t\t\tnavigation.style.flexDirection = \"row\";\n\t\t\t\tnavigation.style.justifyContent = \"flex-start\";\n\t\t\t\tnavigation.style.alignItems = \"center\";\n\n\t\t\t\tnavigation.querySelectorAll(\"li\").forEach((li, li_key) => {\n\t\t\t\t\tli.style.listStyleType = \"none\";\n\t\t\t\t\tli.style.margin = \"0 10px\";\n\n\t\t\t\t\tli.addEventListener(\"click\", () => {\n\t\t\t\t\t\tpages.forEach((div, div_key) => {\n\t\t\t\t\t\t\tif (div_key == li_key) {\n\t\t\t\t\t\t\t\tdiv.style.display = \"block\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdiv.style.display = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\taddPresentationStyles() {\n\t\t\tconst slides =\n\t\t\t\tthis.$refs[\"a-preview\"].shadowRoot.querySelectorAll(\".slide\");\n\t\t\tslides.forEach((slide) => {\n\t\t\t\tslide.style.padding = \"16px\";\n\t\t\t\tslide.style.margin = \"20px\";\n\t\t\t\tslide.style.width = \"calc(100% - 72px)\";\n\t\t\t\tslide.style.boxShadow = \"0px 0px 10px rgba(0, 0, 0, 0.1)\";\n\t\t\t\tslide.style.borderRadius = \"8px\";\n\t\t\t\tslide.style.backgroundColor = \"white\";\n\t\t\t});\n\t\t},\n\t\taddWordStyles() {\n\t\t\tconst wrapper =\n\t\t\t\tthis.$refs[\"a-preview\"].shadowRoot.querySelector(\".wrapper\");\n\n\t\t\tif (wrapper) {\n\t\t\t\twrapper.style.border = \"var(--border-color)\";\n\t\t\t\twrapper.style.boxShadow = \"var(--box-shadow)\";\n\t\t\t\twrapper.style.backgroundColor = \"white\";\n\t\t\t\twrapper.style.padding = \"20px\";\n\t\t\t\twrapper.style.margin = \"16px\";\n\t\t\t\twrapper.style.overflow = \"hidden\";\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\t\"$store.state.attachment.selectedAttachment\": function () {\n\t\t\t// check if selected attchment is not an empty object\n\t\t\tconst keys = Object.keys(this.$store.state.attachment.selectedAttachment);\n\n\t\t\tif (keys.length !== 0) {\n\t\t\t\tthis.attachment = this.$store.state.attachment.selectedAttachment;\n\t\t\t\tthis.openMsg = false;\n\t\t\t\tthis.getPreview();\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#em-attachment-preview {\n\twidth: 60%;\n\theight: 100%;\n\toverflow: hidden;\n\tposition: relative;\n\n\t#attachment-preview {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: hidden;\n\t\tbackground-color: var(--grey-bg-color);\n\n\t\t&.overflow-x {\n\t\t\toverflow-x: auto;\n\t\t}\n\n\t\t&.overflow-y {\n\t\t\toverflow-y: auto;\n\t\t}\n\t}\n\n\t#msg {\n\t\tposition: absolute;\n\t\ttop: 20px;\n\t\tleft: 8px;\n\t\tpadding: 16px;\n\t\twidth: calc(100% - 26px);\n\t\tbackground-color: var(--warning-bg-color);\n\t\tcolor: var(--warning-color);\n\t\topacity: 0;\n\t\tz-index: -1;\n\t\ttransition: all 0.3s;\n\n\t\t&.active {\n\t\t\topacity: 1;\n\t\t\tz-index: 2;\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentPreview.vue?vue&type=template&id=5f4fcbf4&scoped=true&\"\nimport script from \"./AttachmentPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentPreview.vue?vue&type=style&index=0&id=5f4fcbf4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f4fcbf4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"attachment-edit\"}},[_c('div',{staticClass:\"wrapper\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.attachment.value))]),_c('div',{staticClass:\"editable-data\"},[_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(_vm._s(_vm.translate(\"DESCRIPTION\"))+\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attachmentDescription),expression:\"attachmentDescription\"}],attrs:{\"name\":\"description\",\"type\":\"text\",\"disabled\":!_vm.canUpdate},domProps:{\"value\":(_vm.attachmentDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.attachmentDescription=$event.target.value}}})]),_c('div',{staticClass:\"input-group valid-state\",class:{\n\t\t\t    \tsuccess: _vm.attachmentIsValidated == 1,\n\t\t\t    \twarning: _vm.attachmentIsValidated == 2,\n\t\t\t    \terror: _vm.attachmentIsValidated == 0,\n\t\t\t    }},[_c('label',{attrs:{\"for\":\"status\"}},[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_CHECK\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attachmentIsValidated),expression:\"attachmentIsValidated\"}],attrs:{\"name\":\"status\",\"disabled\":!_vm.canUpdate},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.attachmentIsValidated=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.updateAttachmentStatus]}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(_vm._s(_vm.translate(\"VALID\")))]),_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(_vm._s(_vm.translate(\"INVALID\")))]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_WARNING\"))+\" \")]),_c('option',{attrs:{\"value\":\"-2\"}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_WAITING\"))+\" \")])])]),(_vm.canUpdate)?_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"replace\"}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_REPLACE\")))]),_c('input',{attrs:{\"type\":\"file\",\"name\":\"replace\",\"accept\":_vm.allowedType},on:{\"change\":_vm.updateFile}})]):_vm._e(),_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"can_be_viewed\"}},[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_CAN_BE_VIEWED\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attachmentCanBeViewed),expression:\"attachmentCanBeViewed\"}],attrs:{\"type\":\"checkbox\",\"name\":\"can_be_viewed\",\"disabled\":!_vm.canUpdate},domProps:{\"checked\":Array.isArray(_vm.attachmentCanBeViewed)?_vm._i(_vm.attachmentCanBeViewed,null)>-1:(_vm.attachmentCanBeViewed)},on:{\"change\":function($event){var $$a=_vm.attachmentCanBeViewed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.attachmentCanBeViewed=$$a.concat([$$v]))}else{$$i>-1&&(_vm.attachmentCanBeViewed=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.attachmentCanBeViewed=$$c}}}})]),_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"can_be_deleted\"}},[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_CAN_BE_DELETED\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attachmentCanBeDeleted),expression:\"attachmentCanBeDeleted\"}],attrs:{\"type\":\"checkbox\",\"name\":\"can_be_deleted\",\"disabled\":!_vm.canUpdate},domProps:{\"checked\":Array.isArray(_vm.attachmentCanBeDeleted)?_vm._i(_vm.attachmentCanBeDeleted,null)>-1:(_vm.attachmentCanBeDeleted)},on:{\"change\":function($event){var $$a=_vm.attachmentCanBeDeleted,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.attachmentCanBeDeleted=$$a.concat([$$v]))}else{$$i>-1&&(_vm.attachmentCanBeDeleted=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.attachmentCanBeDeleted=$$c}}}})])]),_c('div',{staticClass:\"non-editable-data\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_SEND_DATE\")))]),_c('span',[_vm._v(_vm._s(_vm.formattedDate(_vm.attachment.timedate)))])]),(_vm.attachment.user_id)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_UPLOADED_BY\")))]),_c('span',[_vm._v(_vm._s(_vm.getUserNameById(_vm.attachment.user_id)))])]):_vm._e(),(_vm.attachment.category)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_CATEGORY\")))]),_c('span',[_vm._v(_vm._s(this.categories[_vm.attachment.category]))])]):_vm._e(),(_vm.attachment.modified_by)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY\")))]),_c('span',[_vm._v(_vm._s(_vm.getUserNameById(_vm.attachment.modified_by)))])]):_vm._e(),(_vm.attachment.modified)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE\")))]),_c('span',[_vm._v(_vm._s(_vm.formattedDate(_vm.attachment.modified)))])]):_vm._e()])]),_c('div',{staticClass:\"actions\"},[(_vm.canUpdate)?_c('button',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.saveChanges}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_SAVE\"))+\" \")]):_vm._e()]),(_vm.error)?_c('div',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import client from './axiosClient';\n\nexport default {\n    async getUsers() {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=users&task=getusers');\n\n            return {\n                data: response.data,\n                status: true\n            };\n        } catch (e) {\n            return {\n                status: false,\n                msg: e.message\n            };\n        }\n    },\n    async getUserById(id) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=users&task=getuserbyid', {\n                params: {\n                    id: id\n                }\n            });\n\n            return response.data;\n        } catch (e) {\n            return {\n                status: false,\n                msg: e.message\n            }\n        }\n    },\n    async getAccessRights(id, fnum) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=users&task=getattachmentaccessrights', {\n                params: {\n                    id: id,\n                    fnum: fnum\n                }\n            });\n\n            return response.data;\n        } catch (e) {\n            return {\n                status: false,\n                msg: e.message\n            }\n        }\n    }\n}","import moment from 'moment';\nimport userService from '../services/user.js';\nimport attachmentService from '../services/attachment.js';\n\nvar mixin = {\n\tmethods: {\n\t\tformattedDate: function (date) {\n\t\t\treturn moment(date).format('LLLL');\n\t\t},\n\t\tgetUserNameById: function (id) {\n\t\t\tlet completeName = '';\n\t\t\t// id to int \n\t\t\tid = parseInt(id);\n\n\t\t\tif (id > 0) {\n\t\t\t\tconst user = this.$store.state.user.users[id];\n\t\t\t\tif (user) {\n\t\t\t\t\tcompleteName = user.firstname + ' ' + user.lastname;\n\t\t\t\t} else {\n\t\t\t\t\tuserService.getUserById(id).then(data => {\n\t\t\t\t\t\tif (data.status && data.user[0]) {\n\t\t\t\t\t\t\tcompleteName = data.user[0].firstname + ' ' + data.user[0].lastname;\n\t\t\t\t\t\t\tdata.user[0].id = id;\n\t\t\t\t\t\t\tthis.$store.dispatch('user/setUsers', data.user);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn completeName;\n\t\t},\n\t\tasync getAttachmentCategories() {\n\t\t\tconst response = await attachmentService.getAttachmentCategories();\n\n\t\t\tif (response.status === true) {\n\t\t\t\t// translate categories values\n\t\t\t\tObject.entries(response.categories).forEach(([key, value]) => {\n\t\t\t\t\tresponse.categories[key] = this.translate(value);\n\t\t\t\t});\n\n\t\t\t\t// remove empty categories\n\t\t\t\tdelete response.categories[\"\"];\n\n\t\t\t\tthis.$store.dispatch('attachment/setCategories', response.categories);\n\t\t\t\treturn this.$store.state.attachment.categories;\n\t\t\t} else {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t}\n}\n\nexport default mixin;\n","<template>\n  <div id=\"attachment-edit\">\n    <div class=\"wrapper\">\n      <h2 class=\"title\">{{ attachment.value }}</h2>\n      <div class=\"editable-data\">\n        <div class=\"input-group\">\n          <label for=\"description\">{{ translate(\"DESCRIPTION\") }}</label>\n          <textarea\n              name=\"description\"\n              type=\"text\"\n              v-model=\"attachmentDescription\"\n              :disabled=\"!canUpdate\"\n          >\n\t\t\t\t\t</textarea>\n        </div>\n\n        <div \n          class=\"input-group valid-state\"\n          :class=\"{\n\t\t\t    \tsuccess: attachmentIsValidated == 1,\n\t\t\t    \twarning: attachmentIsValidated == 2,\n\t\t\t    \terror: attachmentIsValidated == 0,\n\t\t\t    }\"\n        >\n          <label for=\"status\">{{\n              translate(\"COM_EMUNDUS_ATTACHMENTS_CHECK\")\n            }}</label>\n          <select\n              name=\"status\"\n              v-model=\"attachmentIsValidated\"\n              @change=\"updateAttachmentStatus\"\n              :disabled=\"!canUpdate\"\n          >\n            <option value=1>{{ translate(\"VALID\") }}</option>\n            <option value=0>{{ translate(\"INVALID\") }}</option>\n            <option value=2>\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_WARNING\") }}\n            </option>\n            <option value=-2>\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_WAITING\") }}\n            </option>\n          </select>\n        </div>\n        <div class=\"input-group\" v-if=\"canUpdate\">\n          <label for=\"replace\">\n            {{ translate(\"COM_EMUNDUS_ATTACHMENTS_REPLACE\") }}</label\n          >\n          <input\n              type=\"file\"\n              name=\"replace\"\n              @change=\"updateFile\"\n              :accept=\"allowedType\"\n          />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"can_be_viewed\">{{\n              translate(\"COM_EMUNDUS_ATTACHMENTS_CAN_BE_VIEWED\")\n            }}</label>\n          <input\n              type=\"checkbox\"\n              name=\"can_be_viewed\"\n              v-model=\"attachmentCanBeViewed\"\n              :disabled=\"!canUpdate\"\n          />\n        </div>\n        <div class=\"input-group\">\n          <label for=\"can_be_deleted\">{{\n              translate(\"COM_EMUNDUS_ATTACHMENTS_CAN_BE_DELETED\")\n            }}</label>\n          <input\n              type=\"checkbox\"\n              name=\"can_be_deleted\"\n              v-model=\"attachmentCanBeDeleted\"\n              :disabled=\"!canUpdate\"\n          />\n        </div>\n      </div>\n      <div class=\"non-editable-data\">\n        <div>\n          <span>{{ translate(\"COM_EMUNDUS_ATTACHMENTS_SEND_DATE\") }}</span>\n          <span>{{ formattedDate(attachment.timedate) }}</span>\n        </div>\n        <div v-if=\"attachment.user_id\">\n          <span>{{ translate(\"COM_EMUNDUS_ATTACHMENTS_UPLOADED_BY\") }}</span>\n          <span>{{ getUserNameById(attachment.user_id) }}</span>\n        </div>\n        <div v-if=\"attachment.category\">\n          <span>{{ translate(\"COM_EMUNDUS_ATTACHMENTS_CATEGORY\") }}</span>\n          <span>{{ this.categories[attachment.category] }}</span>\n        </div>\n        <div v-if=\"attachment.modified_by\">\n          <span>{{ translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY\") }}</span>\n          <span>{{ getUserNameById(attachment.modified_by) }}</span>\n        </div>\n        <div v-if=\"attachment.modified\">\n\t\t\t\t\t<span>{{\n              translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE\")\n            }}</span>\n          <span>{{ formattedDate(attachment.modified) }}</span>\n        </div>\n        <!-- TODO: add file size -->\n      </div>\n    </div>\n    <div class=\"actions\">\n      <button v-if=\"canUpdate\" @click=\"saveChanges\" class=\"btn-primary-vue\">\n        {{ translate(\"COM_EMUNDUS_ATTACHMENTS_SAVE\") }}\n      </button>\n    </div>\n\n    <div v-if=\"error\" class=\"error-msg\">{{ errorMessage }}</div>\n  </div>\n</template>\n\n<script>\nimport attachmentService from \"../services/attachment\";\nimport mixin from \"../mixins/mixin.js\";\n\nexport default {\n  name: \"AttachmentEdit\",\n  props: {\n    fnum: {\n      type: String,\n      required: true,\n    },\n  },\n  mixins: [mixin],\n  data() {\n    return {\n      attachment: {},\n      categories: {},\n      file: null,\n      canUpdate: false,\n      error: false,\n      errorMessage: \"\",\n      attachmentIsValidated: \"-2\",\n      attachmentCanBeViewed: false,\n      attachmentCanBeDeleted: false,\n      attachmentDescription: \"\",\n    };\n  },\n  mounted() {\n    this.canUpdate = this.$store.state.user.rights[this.fnum]\n        ? this.$store.state.user.rights[this.fnum].canUpdate\n        : false;\n    this.attachment = this.$store.state.attachment.selectedAttachment;\n    this.categories = this.$store.state.attachment.categories;\n\n    this.attachmentCanBeViewed = this.attachment.can_be_viewed == \"1\";\n    this.attachmentCanBeDeleted = this.attachment.can_be_deleted == \"1\";\n    this.attachmentDescription = this.attachment.description;\n    this.attachmentIsValidated = this.attachment.is_validated;\n  },\n  methods: {\n    async saveChanges() {\n      let formData = new FormData();\n\n      const canBeViewed = this.attachmentCanBeViewed ? \"1\" : \"0\";\n      const canBeDeleted = this.attachmentCanBeDeleted ? \"1\" : \"0\";\n\n      formData.append(\"fnum\", this.fnum);\n      formData.append(\"user\", this.$store.state.user.currentUser);\n      formData.append(\"id\", this.attachment.aid);\n      formData.append(\"description\", this.attachmentDescription);\n      formData.append(\"is_validated\", this.attachmentIsValidated);\n      formData.append(\"can_be_viewed\", canBeViewed);\n      formData.append(\"can_be_deleted\", canBeDeleted);\n\n      if (this.file) {\n        formData.append(\"file\", this.file);\n      }\n\n      const response = await attachmentService.updateAttachment(formData);\n\n      if (response.status.update) {\n        this.attachment.modified_by = this.$store.state.user.currentUser;\n        this.attachment.description = this.attachmentDescription;\n        this.attachment.is_validated = this.attachmentIsValidated;\n        this.attachment.can_be_viewed = this.attachmentCanBeViewed;\n        this.attachment.can_be_deleted = this.attachmentCanBeDeleted;\n\n        this.$store.dispatch(\"attachment/updateAttachmentOfFnum\", {\n          fnum: this.fnum,\n          attachment: this.attachment,\n        });\n\n        if (response.status.file_update) {\n          // need to update file preview\n          const data = await attachmentService.getPreview(\n              this.$store.state.user.displayedUser,\n              this.attachment.filename\n          );\n\n          // store preview data\n          this.$store.dispatch(\"attachment/setPreview\", {\n            preview: data,\n            id: this.attachment.aid,\n          });\n        }\n\n        this.$emit(\"saveChanges\");\n      } else {\n        this.showError(response.msg);\n      }\n    },\n    updateFile(event) {\n      this.file = event.target.files[0];\n    },\n    updateAttachmentStatus(event) {\n      this.attachmentIsValidated = event.target.value;\n    },\n    showError(error) {\n      this.error = true;\n      this.errorMessage = error;\n\n      setTimeout(() => {\n        this.error = false;\n        this.errorMessage = \"\";\n      }, 3000);\n    },\n  },\n  computed: {\n    allowedType() {\n      let allowed_type = \"\";\n\n      if (this.attachment.filename) {\n        allowed_type = \".\" + this.attachment.filename.split(\".\").pop();\n      }\n\n      return allowed_type;\n    },\n  },\n  watch: {\n    \"$store.state.attachment.selectedAttachment\": function () {\n      // check if selected attchment is not an empty object\n      const keys = Object.keys(this.$store.state.attachment.selectedAttachment);\n\n      if (keys.length > 0) {\n        this.attachment = this.$store.state.attachment.selectedAttachment;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#attachment-edit {\n  padding: 16px 16px 16px 10px;\n  height: 100%;\n  width: 40%;\n  float: right;\n  border-left: 1px solid var(--border-color);\n  position: relative;\n\n  .error-msg {\n    position: absolute;\n    margin: 10px 10px;\n    top: 0;\n    left: 0;\n    width: calc(100% - 20px);\n    background-color: var(--error-bg-color);\n    color: var(--error-color);\n    font-size: 1.2em;\n    padding: 16px;\n  }\n\n  .wrapper {\n    width: 100%;\n    height: 100%;\n\n    .title {\n      margin-bottom: 16px;\n    }\n  }\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n\n  .editable-data {\n    width: 100%;\n    overflow: hidden;\n\n    h2 {\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n\n    label {\n      font-size: 10px;\n      font-weight: 400 !important;\n      color: var(--grey-color);\n    }\n\n    textarea {\n      border-radius: 0;\n      border-color: transparent;\n      background-color: var(--grey-bg-color);\n\n      &:hover,\n      &:focus {\n        box-shadow: none;\n      }\n    }\n\n    select {\n      width: 100%;\n      height: fit-content;\n      padding: 16px 8px;\n      border-radius: 0;\n    }\n  }\n\n  .non-editable-data {\n    width: 100%;\n    margin-top: 16px;\n    div {\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid var(--border-color);\n      padding: 8px 0;\n\n      span:first-of-type {\n        color: var(--grey-color);\n      }\n\n      &:last-child {\n        border-bottom: none;\n      }\n    }\n  }\n\n  .actions {\n    align-self: flex-end;\n\n    button {\n      transition: all 0.3s;\n      padding: 8px 12px;\n\n      &:last-of-type {\n        margin-left: 10px;\n      }\n    }\n  }\n\n  .input-group {\n    margin-top: 10px;\n\n    display: flex;\n    flex-direction: column;\n\n    [type=\"checkbox\"] {\n      width: fit-content;\n    }\n  }\n\n\t.valid-state {\n\t\tselect {\n\t\t\tpadding: 4px 8px;\n\t\t\tborder-radius: 4px;\n\t\t\tbackground-color: var(--grey-bg-color);\n\t\t\tcolor: var(--grey-color);\n\t\t\tborder: none;\n\t\t\twidth: max-content;\n\t\t}\n\n\t\tselect::-ms-expand {\n\t\t\tdisplay: none !important;\n\t\t}\n\n\t\t&.warning {\n\t\t\tselect {\n\t\t\t\tcolor: var(--warning-color);\n\t\t\t\tbackground-color: var(--warning-bg-color);\n\t\t\t}\n\t\t}\n\n\t\t&.success {\n\t\t\tselect {\n\t\t\t\tcolor: var(--success-color);\n\t\t\t\tbackground-color: var(--success-bg-color);\n\t\t\t}\n\t\t}\n\n\t\t&.error {\n\t\t\tselect {\n\t\t\t\tcolor: var(--error-color);\n\t\t\t\tbackground-color: var(--error-bg-color);\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentEdit.vue?vue&type=template&id=1edf740e&scoped=true&\"\nimport script from \"./AttachmentEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentEdit.vue?vue&type=style&index=0&id=1edf740e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1edf740e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ active: _vm.open },attrs:{\"id\":\"filter-builder\"}},[_c('div',{staticClass:\"header\"},[_c('p',[_vm._v(\"Filtres avancs\")]),(!_vm.open)?_c('span',{staticClass:\"material-icons click\",on:{\"click\":function($event){_vm.open = true}}},[_vm._v(\" expand_more \")]):_vm._e(),(_vm.open)?_c('span',{staticClass:\"material-icons click\",on:{\"click\":function($event){_vm.open = false}}},[_vm._v(\" expand_less \")]):_vm._e()]),_c('div',{staticClass:\"actions\",class:{ active: _vm.open }},[_c('div',{staticClass:\"btn-secondary-vue\",on:{\"click\":_vm.cancel}},[_vm._v(\"Annuler\")]),_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.applyFilters}},[_vm._v(\" Appliquer les filtres \")])]),_c('div',{staticClass:\"filters\",class:{ active: _vm.open }},[_c('div',{staticClass:\"rows\"},[_c('div',{staticClass:\"relation\"},[_c('div',{class:{ selected: _vm.andOr === 'AND' },on:{\"click\":function($event){return _vm.toggleAndOr('AND')}}},[_vm._v(\" ET \")]),_c('div',{class:{ selected: _vm.andOr === 'OR' },on:{\"click\":function($event){return _vm.toggleAndOr('OR')}}},[_vm._v(\" OU \")])]),_c('div',{staticClass:\"elements\"},_vm._l((_vm.orderedElements),function(element){return _c('div',{key:element.type == 'filter' ? element.id : element.group,staticClass:\"element\"},[(element.type == 'filter')?_c('FilterRow',{staticClass:\"filter-row\",attrs:{\"group\":0,\"id\":element.id},on:{\"removeFilter\":function($event){return _vm.removeFilter($event)}}}):_vm._e(),(element.type == 'group')?_c('FilterGroup',{attrs:{\"id\":element.group},on:{\"removeGroup\":function($event){return _vm.removeGroup($event)}}}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"actions\",class:{ active: _vm.open }},[_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.addGroup}},[_vm._v(\"Ajouter un filtre\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import client from './axiosClient';\n\nexport default {\n    async getFilters(type, id, otherids) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=application&task=getfilters', {\n                params: {\n                    type,\n                    id,\n                    otherids\n                },\n            });\n\n            return response.data;\n        } catch (e) {\n            return false;\n        }\n    },\n    async mountQuery(id, filters) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=application&task=mountquery', {\n                params: {\n                    id: id,\n                    filters: filters\n                },\n            });\n\n            return response.data;\n        } catch (e) {\n            return false;\n        }\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"filter-row\",class:{ 'filter-delete': _vm.hoverDelete }},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedFilter),expression:\"selectedFilter\"}],attrs:{\"name\":\"filter-name\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedFilter=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.names),function(name){return _c('option',{key:name.id,domProps:{\"value\":name.id}},[_vm._v(\" \"+_vm._s(_vm.translate(name.label))+\" \")])}),0),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedAction),expression:\"selectedAction\"}],attrs:{\"name\":\"filter-action\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedAction=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.actions),function(action,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(action)+\" \")])}),0),(_vm.type == 'select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedValue),expression:\"selectedValue\"}],attrs:{\"name\":\"filter-value\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.values),function(value,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\" \"+_vm._s(value)+\" \")])}),0):(_vm.type == 'text')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedValue),expression:\"selectedValue\"}],attrs:{\"type\":\"text\",\"name\":\"filter-value\"},domProps:{\"value\":(_vm.selectedValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedValue=$event.target.value}}}):(_vm.type == 'number')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedValue),expression:\"selectedValue\"}],attrs:{\"type\":\"number\",\"name\":\"filter-value\"},domProps:{\"value\":(_vm.selectedValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedValue=$event.target.value}}}):_vm._e(),_c('span',{staticClass:\"material-icons delete\",on:{\"click\":_vm.removeFilter,\"mouseover\":function($event){_vm.hoverDelete = true},\"mouseleave\":function($event){_vm.hoverDelete = false}}},[_vm._v(\" remove \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"filter-row\" :class=\"{ 'filter-delete': hoverDelete }\">\n\t\t<select name=\"filter-name\" v-model=\"selectedFilter\">\n\t\t\t<option v-for=\"name in names\" :key=\"name.id\" :value=\"name.id\">\n\t\t\t\t{{ translate(name.label) }}\n\t\t\t</option>\n\t\t</select>\n\n\t\t<select name=\"filter-action\" v-model=\"selectedAction\">\n\t\t\t<option v-for=\"(action, key) in actions\" :key=\"key\" :value=\"key\">\n\t\t\t\t{{ action }}\n\t\t\t</option>\n\t\t</select>\n\n\t\t<select v-if=\"type == 'select'\" name=\"filter-value\" v-model=\"selectedValue\">\n\t\t\t<option v-for=\"(value, key) in values\" :key=\"key\" :value=\"key\">\n\t\t\t\t{{ value }}\n\t\t\t</option>\n\t\t</select>\n\t\t<input\n\t\t\tv-else-if=\"type == 'text'\"\n\t\t\ttype=\"text\"\n\t\t\tname=\"filter-value\"\n\t\t\tv-model=\"selectedValue\"\n\t\t/>\n\t\t<input\n\t\t\tv-else-if=\"type == 'number'\"\n\t\t\ttype=\"number\"\n\t\t\tname=\"filter-value\"\n\t\t\tv-model=\"selectedValue\"\n\t\t/>\n\t\t<span\n\t\t\tclass=\"material-icons delete\"\n\t\t\t@click=\"removeFilter\"\n\t\t\t@mouseover=\"hoverDelete = true\"\n\t\t\t@mouseleave=\"hoverDelete = false\"\n\t\t>\n\t\t\tremove\n\t\t</span>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tgroup: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselectedFilter: null,\n\t\t\tselectedAction: null,\n\t\t\tselectedValue: null,\n\t\t\thoverDelete: false,\n\t\t\tnames: [],\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.names = this.$store.state.filterBuilder.filters.map(\n\t\t\t(filter, index) => {\n\t\t\t\tif (index == 0) {\n\t\t\t\t\tthis.selectedFilter = filter.id;\n\t\t\t\t\tthis.selectedAction = Object.keys(filter.actions)[0];\n\t\t\t\t\tthis.selectedValue = Object.keys(filter.values)[0];\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tid: filter.id,\n\t\t\t\t\tlabel: filter.label,\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n\t\tif (\n\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.group] &&\n\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.group].filters &&\n\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.group].filters[\n\t\t\t\tthis.id\n\t\t\t]\n\t\t) {\n\t\t\tthis.selectedFilter =\n\t\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.group].filters[\n\t\t\t\t\tthis.id\n\t\t\t\t].id;\n\t\t\tthis.selectedAction =\n\t\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.group].filters[\n\t\t\t\t\tthis.id\n\t\t\t\t].action;\n\t\t\tthis.selectedValue =\n\t\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.group].filters[\n\t\t\t\t\tthis.id\n\t\t\t\t].value;\n\t\t} else {\n\t\t\tthis.updateFilter();\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateFilter() {\n\t\t\t// update the actions and the values based on name selected\n\t\t\tthis.$store.dispatch(\"filterBuilder/updateQueryFilters\", {\n\t\t\t\tgroup: this.group,\n\t\t\t\tid: this.id,\n\t\t\t\tfilter: {\n\t\t\t\t\tid: this.selectedFilter,\n\t\t\t\t\taction: this.selectedAction,\n\t\t\t\t\tvalue: this.selectedValue,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tremoveFilter() {\n\t\t\tthis.$store.dispatch(\"filterBuilder/removeQueryFilter\", {\n\t\t\t\tgroup: this.group,\n\t\t\t\tid: this.id,\n\t\t\t});\n\n\t\t\tthis.$emit(\"removeFilter\", this.id);\n\t\t},\n\t},\n\tcomputed: {\n\t\tactions() {\n\t\t\tconst currentFilter = this.$store.state.filterBuilder.filters.find(\n\t\t\t\t(filter) => filter.id == this.selectedFilter\n\t\t\t);\n\t\t\treturn currentFilter ? currentFilter.actions : [];\n\t\t},\n\t\tvalues() {\n\t\t\tconst currentFilter = this.$store.state.filterBuilder.filters.find(\n\t\t\t\t(filter) => filter.id == this.selectedFilter\n\t\t\t);\n\t\t\treturn currentFilter ? currentFilter.values : [];\n\t\t},\n\t\ttype() {\n\t\t\tconst currentFilter = this.$store.state.filterBuilder.filters.find(\n\t\t\t\t(filter) => filter.id == this.selectedFilter\n\t\t\t);\n\t\t\treturn currentFilter ? currentFilter.type : null;\n\t\t},\n\t},\n\twatch: {\n\t\tselectedFilter() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t\tselectedAction() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t\tselectedValue() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.filter-row {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin: 8px 0;\n\n\t&.filter-delete {\n\t\tselect,\n\t\tinput {\n\t\t\tborder: 1px solid var(--error-color);\n\t\t}\n\t}\n\n\tselect,\n\tinput {\n\t\ttransition: all 0.3s;\n\t\theight: 32px;\n\t\tmargin: 0 16px 0 0;\n\t}\n\n\t.delete {\n\t\tcursor: pointer;\n\t\tcolor: var(--error-color);\n\t\tmargin-right: 4px;\n\t\tpadding: 0 !important;\n\t}\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterRow.vue?vue&type=template&id=741485a4&scoped=true&\"\nimport script from \"./FilterRow.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterRow.vue?vue&type=style&index=0&id=741485a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"741485a4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.groupClasses},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"rows\"},[_c('div',{staticClass:\"relation\"},[_c('div',{class:{ selected: _vm.andOr === 'AND' },on:{\"click\":function($event){return _vm.toggleAndOr('AND')}}},[_vm._v(\" ET \")]),_c('div',{class:{ selected: _vm.andOr === 'OR' },on:{\"click\":function($event){return _vm.toggleAndOr('OR')}}},[_vm._v(\" OU \")])]),_vm._l((_vm.filters),function(filter){return _c('FilterRow',{key:filter,staticClass:\"filter\",attrs:{\"group\":_vm.id,\"id\":filter},on:{\"removeFilter\":function($event){return _vm.removeFilter(filter)}}})})],2),_c('div',{staticClass:\"actions add\"},[_c('span',{staticClass:\"material-icons add btn-primary-vue\",on:{\"click\":_vm.addFilter}},[_vm._v(\" add \")])])]),_c('span',{staticClass:\"material-icons delete-group\",on:{\"mouseover\":_vm.addDeleteClass,\"mouseleave\":_vm.removeDeleteClass,\"click\":_vm.removeGroup}},[_vm._v(\" clear \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div :class=\"groupClasses\">\n\t\t<div class=\"wrapper\">\n\t\t\t<div class=\"rows\">\n\t\t\t\t<div class=\"relation\">\n\t\t\t\t\t<!-- toggle between AND and OR, not as select but as -->\n\t\t\t\t\t<div\n\t\t\t\t\t\t:class=\"{ selected: andOr === 'AND' }\"\n\t\t\t\t\t\t@click=\"toggleAndOr('AND')\"\n\t\t\t\t\t>\n\t\t\t\t\t\tET\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class=\"{ selected: andOr === 'OR' }\" @click=\"toggleAndOr('OR')\">\n\t\t\t\t\t\tOU\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<FilterRow\n\t\t\t\t\t:group=\"id\"\n\t\t\t\t\t:id=\"filter\"\n\t\t\t\t\tclass=\"filter\"\n\t\t\t\t\tv-for=\"filter in filters\"\n\t\t\t\t\t:key=\"filter\"\n\t\t\t\t\t@removeFilter=\"removeFilter(filter)\"\n\t\t\t\t></FilterRow>\n\t\t\t</div>\n\t\t\t<div class=\"actions add\">\n\t\t\t\t<span class=\"material-icons add btn-primary-vue\" @click=\"addFilter\">\n\t\t\t\t\tadd\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<span\n\t\t\tclass=\"material-icons delete-group\"\n\t\t\t@mouseover=\"addDeleteClass\"\n\t\t\t@mouseleave=\"removeDeleteClass\"\n\t\t\t@click=\"removeGroup\"\n\t\t>\n\t\t\tclear\n\t\t</span>\n\t</div>\n</template>\n\n<script>\nimport FilterRow from \"./FilterRow.vue\";\n\nexport default {\n\tname: \"FilterGroup\",\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomponents: {\n\t\tFilterRow,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tandOr: \"AND\",\n\t\t\tfilters: [],\n\t\t\tgroupClasses: \"group\",\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.filters = this.$store.state.filterBuilder.queryFilters.groups[this.id]\n\t\t\t? Object.entries(\n\t\t\t\t\tthis.$store.state.filterBuilder.queryFilters.groups[this.id].filters\n\t\t\t  ).map((filter) => Number(filter[0]))\n\t\t\t: [];\n\t\tif (this.filters.length < 1) {\n\t\t\tthis.addFilter();\n\t\t}\n\t},\n\tmethods: {\n\t\taddFilter() {\n\t\t\t// add uniqid\n\t\t\tthis.filters.push(Math.floor(Math.random() * Date.now()));\n\t\t},\n\t\tremoveFilter(filterId) {\n\t\t\tthis.filters = this.filters.filter((filter) => filter !== filterId);\n\n\t\t\tif (this.filters.length < 1) {\n\t\t\t\tthis.removeGroup();\n\t\t\t}\n\t\t},\n\t\tremoveGroup() {\n\t\t\tthis.$store.dispatch(\"filterBuilder/removeGroup\", this.id);\n\n\t\t\tthis.$emit(\"removeGroup\", this.id);\n\t\t},\n\t\ttoggleAndOr(andOr) {\n\t\t\tthis.andOr = andOr;\n\t\t},\n\t\taddDeleteClass() {\n\t\t\tthis.groupClasses = \"group to-delete\";\n\t\t},\n\t\tremoveDeleteClass() {\n\t\t\tthis.groupClasses = \"group\";\n\t\t},\n\t},\n\twatch: {\n\t\tandOr() {\n\t\t\tthis.$store.dispatch(\"filterBuilder/updateAndOr\", {\n\t\t\t\tgroup: this.id,\n\t\t\t\tand_or: this.andOr,\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n.group {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin: 20px 0 20px 0px;\n\n\t&.to-delete {\n\t\t.wrapper {\n\t\t\tborder: 1px solid var(--error-color);\n\t\t}\n\t}\n\n\t.wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 8px 16px;\n\t\tborder-radius: 4px;\n\t\tborder: 1px solid transparent;\n\t\tbackground-color: var(--grey-bg-color);\n\t\ttransition: all 0.3s;\n\t}\n\n\t.actions.add {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: flex-end;\n\t\tcursor: pointer;\n\t\tmargin-top: 8px;\n\t\topacity: 1 !important;\n\t\tpointer-events: all !important;\n\n\t\t.material-icons {\n\t\t\tmargin-right: 10px;\n\t\t\tborder-radius: 4px;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0 !important;\n\t\t}\n\t}\n\n\t.delete-group {\n\t\tcursor: pointer;\n\t\ttransition: all 0.3s;\n\t\tmargin-left: 8px;\n\n\t\t&:hover {\n\t\t\tcolor: var(--error-color);\n\t\t\ttransform: rotate(90deg);\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterGroup.vue?vue&type=template&id=635a4d62&\"\nimport script from \"./FilterGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterGroup.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"filter-builder\" :class=\"{ active: open }\">\n\t\t<div class=\"header\">\n\t\t\t<p>Filtres avancs</p>\n\t\t\t<span v-if=\"!open\" class=\"material-icons click\" @click=\"open = true\">\n\t\t\t\texpand_more\n\t\t\t</span>\n\t\t\t<span v-if=\"open\" class=\"material-icons click\" @click=\"open = false\">\n\t\t\t\texpand_less\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"actions\" :class=\"{ active: open }\">\n\t\t\t<div class=\"btn-secondary-vue\" @click=\"cancel\">Annuler</div>\n\t\t\t<div class=\"btn-primary-vue\" @click=\"applyFilters\">\n\t\t\t\tAppliquer les filtres\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"filters\" :class=\"{ active: open }\">\n\t\t\t<div class=\"rows\">\n\t\t\t\t<div class=\"relation\">\n\t\t\t\t\t<!-- toggle between AND and OR, not as select but as -->\n\t\t\t\t\t<div\n\t\t\t\t\t\t:class=\"{ selected: andOr === 'AND' }\"\n\t\t\t\t\t\t@click=\"toggleAndOr('AND')\"\n\t\t\t\t\t>\n\t\t\t\t\t\tET\n\t\t\t\t\t</div>\n\t\t\t\t\t<div :class=\"{ selected: andOr === 'OR' }\" @click=\"toggleAndOr('OR')\">\n\t\t\t\t\t\tOU\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"elements\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"element\"\n\t\t\t\t\t\tv-for=\"element in orderedElements\"\n\t\t\t\t\t\t:key=\"element.type == 'filter' ? element.id : element.group\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<FilterRow\n\t\t\t\t\t\t\tv-if=\"element.type == 'filter'\"\n\t\t\t\t\t\t\tclass=\"filter-row\"\n\t\t\t\t\t\t\t@removeFilter=\"removeFilter($event)\"\n\t\t\t\t\t\t\t:group=\"0\"\n\t\t\t\t\t\t\t:id=\"element.id\"\n\t\t\t\t\t\t></FilterRow>\n\t\t\t\t\t\t<FilterGroup\n\t\t\t\t\t\t\tv-if=\"element.type == 'group'\"\n\t\t\t\t\t\t\t:id=\"element.group\"\n\t\t\t\t\t\t\t@removeGroup=\"removeGroup($event)\"\n\t\t\t\t\t\t></FilterGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"actions\" :class=\"{ active: open }\">\n\t\t\t\t<div class=\"btn-primary-vue\" @click=\"addGroup\">Ajouter un filtre</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport filterService from \"../../services/filter\";\nimport FilterRow from \"./FilterRow.vue\";\nimport FilterGroup from \"./FilterGroup.vue\";\n\nexport default {\n\tname: \"FilterBuilder\",\n\tcomponents: {\n\t\tFilterRow,\n\t\tFilterGroup,\n\t},\n\tprops: {\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\tdefault: \"list\",\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\tdefault: \"70\",\n\t\t},\n\t\totherIds: {\n\t\t\ttype: String,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\topen: false,\n\t\t\tandOr: \"AND\",\n\t\t\torderedElements: [],\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.getFilters();\n\t},\n\tmethods: {\n\t\tasync getFilters() {\n\t\t\tconst response = await filterService.getFilters(\n\t\t\t\tthis.type,\n\t\t\t\tthis.id,\n\t\t\t\tthis.otherIds\n\t\t\t);\n\n\t\t\tif (response.status === true) {\n\t\t\t\tthis.$store.dispatch(\"filterBuilder/setFilters\", response.filters);\n\t\t\t}\n\t\t},\n\t\tasync applyFilters() {\n\t\t\tthis.open = false;\n\n\t\t\tif (\n\t\t\t\tObject.keys(this.$store.state.filterBuilder.queryFilters.groups)\n\t\t\t\t\t.length > 1\n\t\t\t) {\n\t\t\t\t// build query and send result ? or just send the filters ?\n\t\t\t\tconst response = await filterService.mountQuery(\n\t\t\t\t\tthis.id,\n\t\t\t\t\tthis.$store.state.filterBuilder.queryFilters\n\t\t\t\t);\n\n\t\t\t\tif (response.status === true) {\n\t\t\t\t\tthis.$emit(\"applyFilters\", response.query);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcancel() {\n\t\t\tthis.open = false;\n\t\t},\n\t\taddGroup() {\n\t\t\tthis.orderedElements.push({\n\t\t\t\ttype: \"group\",\n\t\t\t\tgroup: Math.floor(Math.random() * Date.now()),\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Tips for v-for => avoid using index as key\n\t\t * When you remove an item of your array, you shift every index from the removal point up by one, which means only one index disappears from the array: the last one.\n\t\t */\n\t\tremoveFilter(id) {\n\t\t\t// find filter position\n\t\t\tconst index = this.orderedElements.findIndex((element) => {\n\t\t\t\treturn element.id == id;\n\t\t\t});\n\t\t\t// remove filter\n\t\t\tthis.orderedElements.splice(index, 1);\n\t\t},\n\t\tremoveGroup(id) {\n\t\t\t// find filter position\n\t\t\tconst index = this.orderedElements.findIndex((element) => {\n\t\t\t\treturn element.group == id;\n\t\t\t});\n\t\t\t// remove filter\n\t\t\tthis.orderedElements.splice(index, 1);\n\t\t},\n\t\ttoggleAndOr(andOr) {\n\t\t\tthis.andOr = andOr;\n\t\t},\n\t},\n\twatch: {\n\t\tandOr() {\n\t\t\tthis.$store.dispatch(\"filterBuilder/updateAndOr\", {\n\t\t\t\tgroup: 0,\n\t\t\t\tand_or: this.andOr,\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n#filter-builder {\n\tmax-width: 300px;\n\tbackground-color: white;\n\tpadding: 8px 16px;\n\tborder-radius: 4px;\n\tborder: 1px solid var(--border-color);\n\tmargin: 19px;\n\tmax-height: 37px;\n\toverflow: hidden;\n\ttransition: all 0.7s linear;\n\tz-index: 2;\n\n\t&.active {\n\t\tmax-width: 1000px;\n\t\tmax-height: 90vh;\n\t\tbox-shadow: 0px 1px 1px rgba(5, 47, 55, 0.07),\n\t\t\t0px 2px 1px rgba(5, 47, 55, 0.06), 0px 1px 3px rgba(5, 47, 55, 0.1);\n\t}\n\n\t.click {\n\t\tcursor: pointer;\n\t}\n\n\t.rows {\n\t\tmargin-top: 15px;\n\t}\n\n\t.header {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.filters,\n\t.actions {\n\t\topacity: 0;\n\t\ttransition: all 0.3s;\n\t\tpointer-events: none;\n\n\t\t&.active {\n\t\t\topacity: 1;\n\t\t\tpointer-events: all;\n\t\t}\n\t}\n\n\t.filter-row {\n\t\tmargin-left: 0px;\n\t}\n\n\t.actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tmargin-top: 20px;\n\n\t\t.btn-primary-vue {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t}\n}\n\n.relation {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tmargin: 0 0 8px 0;\n\tpadding: 4px 8px;\n\tbackground-color: white;\n\twidth: fit-content;\n\tborder-radius: 4px;\n\tborder: 1px solid var(--border-color);\n\n\t> div {\n\t\tmargin: 0 8px 0 0;\n\t\tpadding: 4px 8px;\n\t\tborder-radius: 4px;\n\t\tcursor: pointer;\n\t\ttransition: all 0.3s;\n\n\t\t&:last-child {\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t&.selected {\n\t\t\tbackground-color: var(--primary-color);\n\t\t\tcolor: white;\n\t\t\tbox-shadow: 0px 1px 1px rgba(5, 47, 55, 0.07),\n\t\t\t\t0px 2px 1px rgba(5, 47, 55, 0.06), 0px 1px 3px rgba(5, 47, 55, 0.1);\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterBuilder.vue?vue&type=template&id=c5b42176&\"\nimport script from \"./FilterBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterBuilder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterBuilder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{key:_vm.attachment.aid,staticClass:\"attachment-row\",class:{ checked: _vm.checkedAttachments.includes(_vm.attachment.aid) }},[_c('td',[_c('input',{staticClass:\"attachment-check\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.checkedAttachments.includes(_vm.attachment.aid)},on:{\"change\":function($event){return _vm.updateCheckedAttachments(_vm.attachment.aid)}}})]),_c('td',{staticClass:\"td-document\",on:{\"click\":_vm.openModal}},[_c('span',[_vm._v(_vm._s(_vm.attachment.value))]),(!_vm.attachment.existsOnServer)?_c('span',{staticClass:\"material-icons warning file-not-found\",attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_FILE_NOT_FOUND')}},[_vm._v(\" warning \")]):_vm._e()]),_c('td',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formattedDate(_vm.attachment.timedate)))]),_c('td',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.attachment.description))]),_c('td',{staticClass:\"category\"},[_vm._v(\" \"+_vm._s(_vm.category)+\" \")]),_c('td',{staticClass:\"status valid-state\",class:{\n\t\t\tsuccess: _vm.attachment.is_validated == 1,\n\t\t\twarning: _vm.attachment.is_validated == 2,\n\t\t\terror: _vm.attachment.is_validated == 0,\n\t\t}},[_c('select',{attrs:{\"disabled\":_vm.canUpdate === false ? true : false},on:{\"change\":function (e) { return _vm.updateStatus(e); }}},[_c('option',{attrs:{\"value\":\"1\"},domProps:{\"selected\":_vm.attachment.is_validated == 1}},[_vm._v(\" \"+_vm._s(_vm.translate(\"VALID\"))+\" \")]),_c('option',{attrs:{\"value\":\"0\"},domProps:{\"selected\":_vm.attachment.is_validated == 0}},[_vm._v(\" \"+_vm._s(_vm.translate(\"INVALID\"))+\" \")]),_c('option',{attrs:{\"value\":\"2\"},domProps:{\"selected\":_vm.attachment.is_validated == 2}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_WARNING\"))+\" \")]),_c('option',{attrs:{\"value\":\"-2\"},domProps:{\"selected\":_vm.attachment.is_validated == -2 || _vm.attachment.is_validated === null}},[_vm._v(\" \"+_vm._s(_vm.translate(\"COM_EMUNDUS_ATTACHMENTS_WAITING\"))+\" \")])])]),_c('td',[_vm._v(_vm._s(_vm.getUserNameById(_vm.attachment.user_id)))]),_c('td',[_vm._v(_vm._s(_vm.getUserNameById(_vm.attachment.modified_by)))]),_c('td',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formattedDate(_vm.attachment.modified)))]),_c('td',{staticClass:\"permissions\"},[_c('span',{staticClass:\"material-icons visibility-permission\",class:{ active: _vm.attachment.can_be_viewed == '1' },attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_PERMISSION_VIEW')},on:{\"click\":function($event){return _vm.changePermission('can_be_viewed', _vm.attachment)}}},[_vm._v(\"visibility\")]),_c('span',{staticClass:\"material-icons delete-permission\",class:{ active: _vm.attachment.can_be_deleted == '1' },attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_PERMISSION_DELETE')},on:{\"click\":function($event){return _vm.changePermission('can_be_deleted', _vm.attachment)}}},[_vm._v(\"delete_outlined\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<tr\n\t\tclass=\"attachment-row\"\n\t\t:class=\"{ checked: checkedAttachments.includes(attachment.aid) }\"\n\t\t:key=\"attachment.aid\"\n\t>\n\t\t<td>\n\t\t\t<input\n\t\t\t\tclass=\"attachment-check\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t@change=\"updateCheckedAttachments(attachment.aid)\"\n\t\t\t\t:checked=\"checkedAttachments.includes(attachment.aid)\"\n\t\t\t/>\n\t\t</td>\n\t\t<td class=\"td-document\" @click=\"openModal\">\n\t\t\t<span>{{ attachment.value }}</span>\n\t\t\t<span\n\t\t\t\tv-if=\"!attachment.existsOnServer\"\n\t\t\t\tclass=\"material-icons warning file-not-found\"\n\t\t\t\t:title=\"translate('COM_EMUNDUS_ATTACHMENTS_FILE_NOT_FOUND')\"\n\t\t\t>\n\t\t\t\twarning\n\t\t\t</span>\n\t\t</td>\n\t\t<td class=\"date\">{{ formattedDate(attachment.timedate) }}</td>\n\t\t<td class=\"desc\">{{ attachment.description }}</td>\n\t\t<td class=\"category\">\n\t\t\t{{ category }}\n\t\t</td>\n\t\t<td\n\t\t\tclass=\"status valid-state\"\n\t\t\t:class=\"{\n\t\t\t\tsuccess: attachment.is_validated == 1,\n\t\t\t\twarning: attachment.is_validated == 2,\n\t\t\t\terror: attachment.is_validated == 0,\n\t\t\t}\"\n\t\t>\n\t\t\t<select\n\t\t\t\t@change=\"(e) => updateStatus(e)\"\n\t\t\t\t:disabled=\"canUpdate === false ? true : false\"\n\t\t\t>\n\t\t\t\t<option value=\"1\" :selected=\"attachment.is_validated == 1\">\n\t\t\t\t\t{{ translate(\"VALID\") }}\n\t\t\t\t</option>\n\t\t\t\t<option value=\"0\" :selected=\"attachment.is_validated == 0\">\n\t\t\t\t\t{{ translate(\"INVALID\") }}\n\t\t\t\t</option>\n\t\t\t\t<option value=\"2\" :selected=\"attachment.is_validated == 2\">\n\t\t\t\t\t{{ translate(\"COM_EMUNDUS_ATTACHMENTS_WARNING\") }}\n\t\t\t\t</option>\n\t\t\t\t<option\n\t\t\t\t\tvalue=\"-2\"\n\t\t\t\t\t:selected=\"\n\t\t\t\t\t\tattachment.is_validated == -2 || attachment.is_validated === null\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t{{ translate(\"COM_EMUNDUS_ATTACHMENTS_WAITING\") }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t</td>\n\t\t<td>{{ getUserNameById(attachment.user_id) }}</td>\n\t\t<td>{{ getUserNameById(attachment.modified_by) }}</td>\n\t\t<td class=\"date\">{{ formattedDate(attachment.modified) }}</td>\n\t\t<td class=\"permissions\">\n\t\t\t<span\n\t\t\t\tclass=\"material-icons visibility-permission\"\n\t\t\t\t:class=\"{ active: attachment.can_be_viewed == '1' }\"\n\t\t\t\t@click=\"changePermission('can_be_viewed', attachment)\"\n\t\t\t\t:title=\"translate('COM_EMUNDUS_ATTACHMENTS_PERMISSION_VIEW')\"\n\t\t\t\t>visibility</span\n\t\t\t>\n\t\t\t<span\n\t\t\t\tclass=\"material-icons delete-permission\"\n\t\t\t\t:class=\"{ active: attachment.can_be_deleted == '1' }\"\n\t\t\t\t@click=\"changePermission('can_be_deleted', attachment)\"\n\t\t\t\t:title=\"translate('COM_EMUNDUS_ATTACHMENTS_PERMISSION_DELETE')\"\n\t\t\t\t>delete_outlined</span\n\t\t\t>\n\t\t</td>\n\t</tr>\n</template>\n\n<script>\nimport mixin from \"../mixins/mixin.js\";\n\nexport default {\n\tname: \"AttachmentRow\",\n\tprops: {\n\t\tattachment: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcheckedAttachmentsProp: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tcanUpdate: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tmixins: [mixin],\n\tdata() {\n\t\treturn {\n\t\t\tcategories: {},\n\t\t\tcategory: \"\",\n\t\t\tcheckedAttachments: [],\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.categories = this.$store.state.attachment.categories;\n\t\tif (Object.entries(this.categories).length < 1) {\n\t\t\tthis.getAttachmentCategories()\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.categories = response;\n\t\t\t\t\tthis.category = this.categories[this.attachment.category]\n\t\t\t\t\t\t? this.categories[this.attachment.category]\n\t\t\t\t\t\t: \"\";\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.categories = {};\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.category = this.categories[this.attachment.category]\n\t\t\t\t? this.categories[this.attachment.category]\n\t\t\t\t: \"\";\n\t\t}\n\n\t\tthis.checkedAttachments = this.checkedAttachmentsProp;\n\t},\n\tmethods: {\n\t\tupdateCheckedAttachments(aid) {\n\t\t\tif (this.checkedAttachments.includes(aid)) {\n\t\t\t\tthis.checkedAttachments.splice(this.checkedAttachments.indexOf(aid), 1);\n\t\t\t} else {\n\t\t\t\tthis.checkedAttachments.push(aid);\n\t\t\t}\n\n\t\t\tthis.$emit(\"update-checked-attachments\", this.checkedAttachments);\n\t\t},\n\t\topenModal() {\n\t\t\tthis.$emit(\"open-modal\", this.attachment);\n\t\t},\n\t\tupdateStatus(e) {\n\t\t\tif (this.canUpdate) {\n\t\t\t\tthis.$emit(\"update-status\", e, this.attachment);\n\t\t\t}\n\t\t},\n\t\tchangePermission(permission, attachment) {\n\t\t\tif (this.canUpdate) {\n\t\t\t\tthis.$emit(\"change-permission\", permission, attachment);\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\t\"$store.state.attachment.checkedAttachments\": function () {\n\t\t\tthis.checkedAttachments = this.$store.state.attachment.checkedAttachments;\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.attachment-row {\n\tborder-bottom: 1px solid #e0e0e0;\n\n\t&:hover:not(.checked) {\n\t\tbackground-color: #f2f2f3 !important;\n\t}\n\n\t&.checked {\n\t\tbackground-color: #f0f6fd !important;\n\t}\n\n\t.valid-state {\n\t\tselect {\n\t\t\tpadding: 4px 8px;\n\t\t\tborder-radius: 4px;\n\t\t\tbackground-color: var(--grey-bg-color);\n\t\t\tcolor: var(--grey-color);\n\t\t\tborder: none;\n\t\t\twidth: max-content;\n\t\t}\n\n\t\tselect::-ms-expand {\n\t\t\tdisplay: none !important;\n\t\t}\n\n\t\t&.warning {\n\t\t\tselect {\n\t\t\t\tcolor: var(--warning-color);\n\t\t\t\tbackground-color: var(--warning-bg-color);\n\t\t\t}\n\t\t}\n\n\t\t&.success {\n\t\t\tselect {\n\t\t\t\tcolor: var(--success-color);\n\t\t\t\tbackground-color: var(--success-bg-color);\n\t\t\t}\n\t\t}\n\n\t\t&.error {\n\t\t\tselect {\n\t\t\t\tcolor: var(--error-color);\n\t\t\t\tbackground-color: var(--error-bg-color);\n\t\t\t}\n\t\t}\n\t}\n\t.permissions {\n\t\t.material-icons {\n\t\t\tmargin: 0 10px;\n\t\t\tcursor: pointer;\n\t\t\topacity: 0.3;\n\n\t\t\t&.active {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t.td-document {\n\t\tmax-width: 250px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tcursor: pointer;\n\n\t\t.warning.file-not-found {\n\t\t\tcolor: var(--error-color);\n\t\t\ttransform: translate(10px, 3px);\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentRow.vue?vue&type=template&id=094be7a3&scoped=true&\"\nimport script from \"./AttachmentRow.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentRow.vue?vue&type=style&index=0&id=094be7a3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"094be7a3\",\n  null\n  \n)\n\nexport default component.exports","import client from './axiosClient';\n\nexport default {\n    async getFnums() {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=files&task=getallfnums');\n\n            return response.data;\n        } catch (e) {\n            return false;\n        }\n    },\n\n    async getFnumInfos(fnum) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=files&task=getfnuminfos', {\n                params: {\n                    fnum\n                }\n            });\n\n            return response.data;\n        } catch (e) {\n            return false;\n        }\n    }\n}","<template>\n  <div id=\"em-attachments\">\n    <div class=\"head\">\n      <div class=\"displayed-user\">\n        <p class=\"name\">\n          {{ displayedUser.firstname }} {{ displayedUser.lastname }}\n        </p>\n        <p class=\"email\">{{ displayedUser.email }} </p>\n\n        <p class=\"attachment-progress\" v-if=\"progress\">  - {{ progress }}% {{ translate('COM_EMUNDUS_ATTACHMENTS_COMPLETED') }}</p>\n      </div>\n      <div class=\"prev-next-files\">\n        <div\n            v-if=\"fnums.length > 1\"\n            class=\"prev\"\n            :class=\"{ active: fnumPosition > 0 }\"\n            @click=\"changeFile(fnumPosition - 1)\"\n        >\n          <span class=\"material-icons\">arrow_back</span>\n        </div>\n        <div\n            v-if=\"fnums.length > 1\"\n            class=\"next\"\n            :class=\"{ active: fnumPosition < fnums.length - 1 }\"\n            @click=\"changeFile(fnumPosition + 1)\"\n        >\n          <span class=\"material-icons\">arrow_forward</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"wrapper\" :class=\"{ loading: loading}\">\n      <div id=\"filters\">\n        <div class=\"searchbar-wrapper\">\n          <input\n              id=\"searchbar\"\n              type=\"text\"\n              ref=\"searchbar\"\n              :placeholder=\"translate('SEARCH')\"\n              @input=\"searchInFiles\"\n          />\n          <span class=\"material-icons search\">search</span>\n          <span class=\"material-icons clear\" @click=\"resetSearch\">clear</span>\n        </div>\n        <div class=\"actions\">\n          <FilterBuilder\n\t\t\t\t\t\tid=\"70\"\n\t\t\t\t\t\totherIds=\"36\"\n\t\t\t\t\t\t@applyFilters=\"filterAttachmentSelection\"\n\t\t\t\t\t></FilterBuilder>\n          <select\n              v-if=\"Object.entries(thisAttachmentCategories).length > 0\"\n              name=\"category\"\n              class=\"category-select\"\n              ref=\"categoryFilter\"\n              @change=\"filterByCategory\"\n          >\n            <option value=\"all\">{{ translate(\"SELECT_CATEGORY\") }}</option>\n            <option\n                v-for=\"(category, key) in thisAttachmentCategories\"\n                :key=\"key\"\n                :value=\"key\"\n            >\n              {{ category }}\n            </option>\n          </select>\n          <div\n            v-if=\"canExport\"\n            class=\"btn-icon-text\"\n            @click=\"exportAttachments\"\n            :class=\"{ disabled: checkedAttachments.length < 1 }\"\n          >\n            <span class=\"material-icons export\">file_upload</span>\n            <span>{{ translate(\"EXPORT\") }}</span>\n          </div>\n          <span\n            class=\"material-icons refresh\"\n            @click=\"refreshAttachments(true)\"\n            :title=\"translate('COM_EMUNDUS_ATTACHMENTS_REFRESH_TITLE')\"\n          >\n\t\t\t\t\t\tautorenew\n\t\t\t\t\t</span>\n          <span\n            v-if=\"canDelete\"\n            class=\"material-icons delete\"\n            :class=\"{ disabled: checkedAttachments.length < 1 }\"\n            @click=\"confirmDeleteAttachments\"\n            :title=\"translate('COM_EMUNDUS_ATTACHMENTS_DELETE_TITLE')\"\n          >\n\t\t\t\t\t\tdelete_outlined\n\t\t\t\t\t</span>\n        </div>\n      </div>\n      <div v-if=\"attachments.length\" class=\"table-wrapper\">\n        <table\n          :class=\"{ loading: loading }\"\n          aria-describedby=\"Table of attachments information\"\n        >\n          <thead>\n          <tr>\n            <th id=\"check-th\">\n              <input\n                class=\"attachment-check\"\n                type=\"checkbox\"\n                @change=\"updateAllCheckedAttachments\"\n              />\n            </th>\n            <th id=\"name\" @click=\"orderBy('value')\">\n              {{ translate(\"NAME\") }}\n              <span\n                v-if=\"sort.orderBy == 'value' && sort.order == 'asc'\"\n                class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'value' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"date\" class=\"date\" @click=\"orderBy('timedate')\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_SEND_DATE\") }}\n              <span\n                  v-if=\"sort.orderBy == 'timedate' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'timedate' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"desc\" class=\"desc\" @click=\"orderBy('description')\">\n              {{ translate(\"DESCRIPTION\") }}\n              <span\n                  v-if=\"sort.orderBy == 'description' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'description' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"category\" class=\"category\" @click=\"orderBy('category')\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_CATEGORY\") }}\n              <span\n                  v-if=\"sort.orderBy == 'category' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'category' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"status\" class=\"status\" @click=\"orderBy('is_validated')\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_CHECK\") }}\n              <span\n                  v-if=\"sort.orderBy == 'is_validated' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'is_validated' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"user\" @click=\"orderBy('user_id')\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_UPLOADED_BY\") }}\n              <span\n                  v-if=\"sort.orderBy == 'user_id' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'user_id' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"modified_by\" @click=\"orderBy('modified_by')\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY\") }}\n              <span\n                  v-if=\"sort.orderBy == 'modified_by' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'modified_by' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"modified\" class=\"date\" @click=\"orderBy('modified')\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE\") }}\n              <span\n                  v-if=\"sort.orderBy == 'modified' && sort.order == 'asc'\"\n                  class=\"material-icons\"\n              >arrow_upward</span\n              >\n              <span\n                  v-if=\"sort.orderBy == 'modified' && sort.order == 'desc'\"\n                  class=\"material-icons\"\n              >arrow_downward</span\n              >\n            </th>\n            <th id=\"permissions\" class=\"permissions\">\n              {{ translate(\"COM_EMUNDUS_ATTACHMENTS_PERMISSIONS\") }}\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n          <AttachmentRow\n            v-for=\"attachment in displayedAttachments\"\n            :key=\"attachment.aid\"\n            :attachment=\"attachment\"\n            :checkedAttachmentsProp=\"checkedAttachments\"\n            :canUpdate=\"canUpdate\"\n            @open-modal=\"openModal(attachment)\"\n            @update-checked-attachments=\"updateCheckedAttachments\"\n            @update-status=\"updateStatus\"\n            @change-permission=\"changePermission\"\n          >\n          </AttachmentRow>\n          </tbody>\n        </table>\n      </div>\n      <p v-else>\n        {{ translate(\"COM_EMUNDUS_ATTACHMENTS_NO_ATTACHMENTS_FOUND\") }}\n      </p>\n    </div>\n\n    <modal\n        id=\"edit-modal\"\n        name=\"edit\"\n        height=\"70%\"\n        width=\"70%\"\n        :minWidth=\"690\"\n        :minHeight=\"550\"\n        styles=\"display:flex;flex-direction:column;justify-content:center;align-items:center;\"\n    >\n      <div class=\"modal-head\">\n        <div class=\"flex-start\">\n          <span>{{ selectedAttachment.filename }}</span>\n        </div>\n        <div class=\"flex-end\">\n          <a\n            :href=\"attachmentPath\"\n            class=\"download btn-icon-text\"\n            download\n            v-if=\"canDownload\"\n          >\n            <span class=\"material-icons\"> file_download </span>\n            <span>{{ translate(\"LINK_TO_DOWNLOAD\") }}</span>\n          </a>\n          <div class=\"prev-next-attachments\">\n            <div\n                class=\"prev\"\n                :class=\"{ active: selectedAttachmentPosition > 0 }\"\n                @click=\"changeAttachment(selectedAttachmentPosition - 1, true)\"\n            >\n              <span class=\"material-icons\"> navigate_before </span>\n            </div>\n            <span class=\"lvl\"\n            >{{ selectedAttachmentPosition + 1 }} /\n\t\t\t\t\t\t\t{{ displayedAttachments.length }}</span\n            >\n            <div\n                class=\"next\"\n                :class=\"{\n\t\t\t\t\t\t\t\tactive:\n\t\t\t\t\t\t\t\t\tselectedAttachmentPosition < displayedAttachments.length - 1,\n\t\t\t\t\t\t\t}\"\n                @click=\"changeAttachment(selectedAttachmentPosition + 1)\"\n            >\n              <span class=\"material-icons\"> navigate_next </span>\n            </div>\n          </div>\n          <span class=\"material-icons em-pointer\" @click=\"closeModal\">\n\t\t\t\t\t  close\n\t\t\t\t\t</span>\n        </div>\n      </div>\n      <transition :name=\"slideTransition\" @before-leave=\"beforeLeaveSlide\">\n        <div class=\"modal-body\" v-if=\"!modalLoading && displayedUser.user_id && displayedFnum\">\n          <AttachmentPreview\n            @fileNotFound=\"canDownload = false\"\n            @canDownload=\"canDownload = true\"\n            :user=\"displayedUser.user_id\"\n          ></AttachmentPreview>\n          <AttachmentEdit\n            @closeModal=\"closeModal\"\n            @saveChanges=\"updateAttachment\"\n            :fnum=\"displayedFnum\"\n          ></AttachmentEdit>\n        </div>\n      </transition>\n    </modal>\n    <div class=\"vue-em-loader\" v-if=\"loading\"></div>\n  </div>\n</template>\n\n<script>\nimport AttachmentPreview from \"../components/AttachmentPreview.vue\";\nimport AttachmentEdit from \"../components/AttachmentEdit.vue\";\nimport FilterBuilder from \"../components/FilterBuilder/FilterBuilder.vue\";\nimport AttachmentRow from \"../components/AttachmentRow.vue\";\nimport attachmentService from \"../services/attachment.js\";\nimport userService from \"../services/user.js\";\nimport fileService from \"../services/file.js\";\nimport mixin from \"../mixins/mixin.js\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  name: \"Attachments\",\n  components: {\n    AttachmentPreview,\n    AttachmentEdit,\n    AttachmentRow,\n    FilterBuilder\n  },\n  props: {\n    user: {\n      type: String,\n      required: true,\n    },\n    fnum: {\n      type: String,\n      required: true,\n    },\n  },\n  mixins: [mixin],\n  data() {\n    return {\n      loading: true,\n      attachments: [],\n      categories: {},\n      fnums: [],\n      users: [],\n      displayedUser: {},\n      displayedFnum: this.fnum,\n      checkedAttachments: [],\n      selectedAttachment: {},\n      progress: \"\",\n      sort: {\n        last: \"\",\n        order: \"\",\n        orderBy: \"\",\n      },\n      canExport: false,\n      canDelete: false,\n      canDownload: true,\n      canUpdate: false,\n      modalLoading: false,\n      slideTransition: \"slide-fade\",\n      changeFileEvent: null,\n    };\n  },\n  created() {\n    this.changeFileEvent = new Event(\"changeFile\");\n  },\n  mounted() {\n    this.loading = true;\n    this.getFormProgress();\n    this.getFnums()\n    .then(\n      () => {\n        this.getUsers().then(\n          () => {\n            this.getAttachments().then(\n              () => {\n                this.setAccessRights().then(\n                  () => {\n                    this.loading = false;\n                  }\n                );\n              }\n            ).catch((e) => {\n              this.loading = false;\n              this.displayErrorMessage(e);\n            });\n          },\n        ).catch((e) => {\n          this.loading = false;\n          this.displayErrorMessage(e);\n        });\n      }\n    ).catch((e) => {\n      this.loading = false;\n      this.displayErrorMessage(e);\n    });\n  },\n  methods: {\n    // Getters and setters\n    async getFormProgress() {\n        const response = await attachmentService.getAttachmentProgress(this.displayedFnum);\n\n        if (response.status) {\n          this.progress = response.progress[0].attachment_progress;\n        }\n    },\n    async getFnums() {\n      const fnumsOnPage = document.getElementsByClassName('em_file_open');\n      for (let fnum of fnumsOnPage) {\n        this.fnums.push(fnum.id);\n      }\n    },\n    async getUsers() {\n      this.$store.dispatch(\"user/setCurrentUser\", this.user);\n      await this.setDisplayedUser();\n    },\n    async setDisplayedUser() {\n      const response = await fileService.getFnumInfos(this.displayedFnum);\n\n      if (response && response.fnumInfos) {\n        const foundUser = this.users && this.users.length ? this.users.find((user) => user.user_id == response.fnumInfos.applicant_id) : false;\n\n        if (!foundUser) {\n          const resp = await userService.getUserById(\n              response.fnumInfos.applicant_id\n          );\n          if (resp.status) {\n            this.users.push(resp.user[0]);\n            this.displayedUser = resp.user[0];\n            this.$store.dispatch(\n                \"user/setDisplayedUser\",\n                this.displayedUser.user_id\n            );\n          } else {\n            this.displayErrorMessage(\n                this.translate(\"COM_EMUNDUS_ATTACHMENTS_USER_NOT_FOUND\")\n            );\n          }\n        } else {\n          this.displayedUser = foundUser;\n          this.$store.dispatch(\n              \"user/setDisplayedUser\",\n              this.displayedUser.user_id\n          );\n        }\n      } else {\n        this.displayErrorMessage(\n            this.translate(\"COM_EMUNDUS_ATTACHMENTS_USER_NOT_FOUND\")\n        );\n      }\n    },\n    async getAttachments() {\n      if (!this.$store.state.attachment.attachments[this.displayedFnum]) {\n        await this.refreshAttachments();\n      } else {\n        this.attachments = this.$store.state.attachment.attachments[this.displayedFnum];\n        this.categories = this.$store.state.attachment.categories;\n      }\n    },\n    async refreshAttachments(addLoading = false) {\n      if (addLoading === true) {\n        this.loading = true;\n      }\n\n      this.resetOrder();\n      this.checkedAttachments = [];\n      this.$refs[\"searchbar\"].value = \"\";\n      const response = await attachmentService.getAttachmentsByFnum(this.displayedFnum);\n\n      if (response.status) {\n        this.attachments = response.attachments;\n        this.$store.dispatch(\"attachment/setAttachmentsOfFnum\", {\n          fnum: [this.displayedFnum],\n          attachments: this.attachments,\n        });\n\n        const categoriesResponse = await this.getAttachmentCategories();\n\n        if (categoriesResponse) {\n          this.categories = categoriesResponse;\n        } else {\n          this.categories = {};\n        }\n      } else {\n        this.displayErrorMessage(\n            this.translate(\"COM_EMUNDUS_ATTACHMENTS_ERROR_GETTING_ATTACHMENTS\")\n        );\n      }\n\n      if (addLoading === true) {\n        this.loading = false;\n      }\n    },\n    updateAttachment() {\n      this.resetOrder();\n      this.getAttachments();\n      this.$modal.hide(\"edit\");\n      this.selectedAttachment = {};\n    },\n    updateStatus($event, selectedAttachment) {\n      if (this.canUpdate) {\n        if (this.attachments.length < 1) {\n          return;\n        }\n\n        this.attachments.forEach((attachment, key) => {\n          if (attachment.aid == selectedAttachment.aid) {\n            this.resetOrder();\n            this.attachments[key].is_validated = $event.target.value;\n\n            let formData = new FormData();\n            formData.append(\"fnum\", this.displayedFnum);\n            formData.append(\"user\", this.$store.state.user.currentUser);\n            formData.append(\"id\", this.attachments[key].aid);\n            formData.append(\"is_validated\", this.attachments[key].is_validated);\n\n            attachmentService\n                .updateAttachment(formData)\n                .then((response) => {\n                  if (response && response.status === false) {\n                    this.displayErrorMessage(response.msg);\n                  }\n                })\n                .catch((error) => {\n                  this.displayErrorMessage(error);\n                });\n          }\n        });\n      }\n    },\n    changePermission(permission, selectedAttachment) {\n      if (this.canUpdate) {\n        this.attachments.forEach((attachment, key) => {\n          if (attachment.aid == selectedAttachment.aid) {\n            this.resetOrder();\n            this.attachments[key][permission] =\n                this.attachments[key][permission] === \"1\" ? \"0\" : \"1\";\n\n            let formData = new FormData();\n            formData.append(\"fnum\", this.displayedFnum);\n            formData.append(\"user\", this.$store.state.user.currentUser);\n            formData.append(\"id\", this.attachments[key].aid);\n            formData.append(permission, this.attachments[key][permission]);\n\n            attachmentService.updateAttachment(formData).then((response) => {\n              if (!response.status) {\n                this.displayErrorMessage(response.msg);\n              }\n            });\n          }\n        });\n      } else {\n        this.displayErrorMessage(\n            this.translate(\"COM_EMUNDUS_ATTACHMENTS_UNAUTHORIZED_ACTION\")\n        );\n      }\n    },\n\n    async setAccessRights() {\n      if (!this.$store.state.user.rights[this.displayedFnum]) {\n        const response = await userService.getAccessRights(\n            this.$store.state.user.currentUser,\n            this.displayedFnum\n        );\n\n        if (response.status === true) {\n          this.$store.dispatch(\"user/setAccessRights\", {\n            fnum: this.displayedFnum,\n            rights: response.rights,\n          });\n        }\n      }\n\n      this.canExport = this.$store.state.user.rights[this.displayedFnum]\n          ? this.$store.state.user.rights[this.displayedFnum].canExport\n          : false;\n      this.canDelete = this.$store.state.user.rights[this.displayedFnum]\n          ? this.$store.state.user.rights[this.displayedFnum].canDelete\n          : false;\n      this.canUpdate = this.$store.state.user.rights[this.displayedFnum]\n          ? this.$store.state.user.rights[this.displayedFnum].canUpdate\n          : false;\n    },\n    async exportAttachments() {\n      if (this.canExport) {\n        attachmentService\n            .exportAttachments(\n                this.displayedUser.id,\n                this.displayedFnum,\n                this.checkedAttachments\n            )\n            .then((response) => {\n              if (response.data.status === true) {\n                window.open(response.data.link, \"_blank\");\n              } else {\n                this.displayErrorMessage(response.data.msg);\n              }\n            });\n      }\n    },\n\n    confirmDeleteAttachments() {\n      if (this.canDelete) {\n        let html =\n            \"<p>\" +\n            this.translate(\"CONFIRM_DELETE_SELETED_ATTACHMENTS\") +\n            \"</p><br>\";\n\n        let list = \"\";\n        this.checkedAttachments.forEach((aid) => {\n          this.attachments.forEach((attachment) => {\n            if (attachment.aid == aid) {\n              list += attachment.value + \", \";\n            }\n          });\n        });\n\n        // remove last \", \"\n        list = list.substring(0, list.length - 2);\n        html += \"<p>\" + list + \"</p>\";\n\n        Swal.fire({\n          title: this.translate(\"DELETE_SELECTED_ATTACHMENTS\"),\n          html: html,\n          type: \"warning\",\n          showCancelButton: true,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: this.translate(\"JYES\"),\n          cancelButtonText: this.translate(\"JNO\"),\n          reverseButtons: true,\n        }).then((result) => {\n          if (result.value) {\n            this.deleteAttachments();\n          }\n        });\n      } else {\n        this.displayErrorMessage(\n            this.translate(\"YOU_NOT_HAVE_PERMISSION_TO_DELETE_ATTACHMENTS\")\n        );\n      }\n    },\n    async deleteAttachments() {\n      if (this.canDelete) {\n        // remove all checked attachments from attachments array\n        this.attachments = this.attachments.filter(\n            (attachment) => !this.checkedAttachments.includes(attachment.aid)\n        );\n\n        // delete all checkedAttachments\n        const response = await attachmentService.deleteAttachments(\n            this.displayedFnum,\n            this.displayedUser.id,\n            this.checkedAttachments\n        );\n\n        if (response.status === true) {\n          // Display tooltip deleted succesfully\n        }\n      } else {\n        this.displayErrorMessage(\n            this.translate(\"YOU_NOT_HAVE_PERMISSION_TO_DELETE_ATTACHMENTS\")\n        );\n      }\n    },\n\n    // navigation functions\n    changeFile(position) {\n      this.loading = true;\n\n      const oldFnumPosition = this.fnumPosition;\n      this.displayedFnum = this.fnums[position];\n      this.getFormProgress();\n      this.attachments = [];\n      this.$store.dispatch(\"attachment/setCheckedAttachments\", []);\n      this.setAccessRights();\n      this.resetOrder();\n      this.resetSearch();\n      this.resetCategoryFilters();\n\n      fileService.getFnumInfos(this.displayedFnum).then((response) => {\n        if (response.status === true) {\n          this.changeFileEvent.detail = {\n            fnum: response.fnumInfos,\n            next: position > oldFnumPosition ? true : false,\n            previous: position < oldFnumPosition ? true : false,\n          };\n\n          document\n              .querySelector(\".com_emundus_vue\")\n              .dispatchEvent(this.changeFileEvent);\n        } else {\n          this.displayErrorMessage(response.msg);\n        }\n      });\n\n      this.setDisplayedUser()\n          .then(() => {\n            this.getAttachments()\n                .then(() => {\n                  this.attachments.forEach((attachment) => {\n                    attachment.show = true;\n                  });\n                  this.loading = false;\n                })\n                .catch((error) => {\n                  this.displayErrorMessage(error);\n                  this.loading = false;\n                });\n          })\n          .catch((error) => {\n            this.displayErrorMessage(error);\n            this.loading = false;\n          });\n    },\n    changeAttachment(position, reverse = false) {\n      this.slideTransition = reverse ? \"slide-fade-reverse\" : \"slide-fade\";\n      this.modalLoading = true;\n      this.selectedAttachment = this.displayedAttachments[position];\n      this.$store.dispatch(\n          \"attachment/setSelectedAttachment\",\n          this.selectedAttachment\n      );\n\n      setTimeout(() => {\n        this.modalLoading = false;\n      }, 500);\n    },\n\n    // Front methods\n    searchInFiles() {\n      this.attachments.forEach((attachment, index) => {\n        // if attachment description contains the search term, show it\n        // lowercase the search term to avoid case sensitivity\n        if (\n            attachment.description\n                .toLowerCase()\n                .includes(this.$refs[\"searchbar\"].value.toLowerCase()) ||\n            attachment.value\n                .toLowerCase()\n                .includes(this.$refs[\"searchbar\"].value.toLowerCase())\n        ) {\n          this.attachments[index].show = true;\n        } else {\n          // remove attachments from checkedAttachment list\n          this.checkedAttachments = this.checkedAttachments.filter(\n              (aid) => aid !== attachment.aid\n          );\n          this.attachments[index].show = false;\n        }\n      });\n    },\n    resetSearch() {\n      this.attachments.forEach((attachment, index) => {\n        this.attachments[index].show = true;\n      });\n      this.$refs[\"searchbar\"].value = \"\";\n    },\n    resetOrder() {\n      this.sort = {\n        last: \"\",\n        order: \"\",\n        orderBy: \"\",\n      };\n    },\n    resetCategoryFilters() {\n      if (this.$refs[\"categoryFilter\"]) {\n        this.$refs[\"categoryFilter\"].value = \"all\";\n      }\n    },\n    orderBy(key) {\n      // if last sort is the same as the current sort, reverse the order\n      if (this.sort.last == key) {\n        this.sort.order = this.sort.order == \"asc\" ? \"desc\" : \"asc\";\n        this.attachments.reverse();\n      } else {\n        // sort in ascending order by key\n        this.attachments.sort((a, b) => {\n          if (a[key] < b[key]) {\n            return -1;\n          }\n          if (a[key] > b[key]) {\n            return 1;\n          }\n          return 0;\n        });\n\n        this.sort.order = \"asc\";\n      }\n\n      this.sort.orderBy = key;\n      this.sort.last = key;\n    },\n    filterByCategory(e) {\n      this.attachments.forEach((attachment) => {\n        if (e.target.value == \"all\") {\n          attachment.show = true;\n        } else {\n          if (attachment.category == e.target.value) {\n            attachment.show = true;\n          } else {\n            // remove attachments from checkedAttachment list\n            this.checkedAttachments = this.checkedAttachments.filter(\n                (aid) => aid !== attachment.aid\n            );\n            attachment.show = false;\n          }\n        }\n      });\n    },\n    async filterAttachmentSelection(sqlRequest) {\n\t\t\tthis.loading = true;\n\t\t\tconst response = await attachmentService.filterAttachmentSelection(\n\t\t\t\tthis.displayedFnum,\n\t\t\t\tsqlRequest\n\t\t\t);\n\n\t\t\tif (response.status === true) {\n\t\t\t\tthis.attachments.forEach((attachment) => {\n\t\t\t\t\tif (response.data.includes(attachment.aid)) {\n\t\t\t\t\t\tattachment.show = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// remove attachments from checkedAttachment list\n\t\t\t\t\t\tthis.checkedAttachments = this.checkedAttachments.filter(\n\t\t\t\t\t\t\t(aid) => aid !== attachment.aid\n\t\t\t\t\t\t);\n\t\t\t\t\t\tattachment.show = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.displayErrorMessage(response.message);\n\t\t\t}\n\n\t\t\tthis.loading = false;\n\t\t},\n    updateAllCheckedAttachments(e) {\n      if (e.target.checked) {\n        // check all input that has class attachment-check and add them to the checkedAttachments array\n        this.checkedAttachments = this.displayedAttachments.map(\n            (attachment) => attachment.aid\n        );\n      } else {\n        this.checkedAttachments = [];\n      }\n\n      this.$store.dispatch(\n          \"attachment/setCheckedAttachments\",\n          this.checkedAttachments\n      );\n    },\n    updateCheckedAttachments(attachments) {\n      // check that attachments is an array\n      if (Array.isArray(attachments)) {\n        this.checkedAttachments = attachments;\n      } else {\n        console.warn(\"updateCheckedAttachments() expects an array as argument\");\n\n        this.displayErrorMessage(\n            \"Something went wrong while updating the checked attachments\"\n        );\n        this.checkedAttachments = [];\n      }\n    },\n\n    // Modal methods\n    openModal(attachment) {\n      if (this.displayedUser.user_id && this.displayedFnum) {\n        this.$modal.show(\"edit\");\n        this.selectedAttachment = attachment;\n        this.$store.dispatch(\"attachment/setSelectedAttachment\", attachment);\n      }\n    },\n    closeModal() {\n      this.$modal.hide(\"edit\");\n      this.selectedAttachment = {};\n      this.$store.dispatch(\"attachment/setSelectedAttachment\", {});\n    },\n    displayErrorMessage(msg) {\n      Swal.fire({\n        title: this.translate(\"ERROR\"),\n        text: msg,\n        type: \"error\",\n        confirmButtonColor: \"#3085d6\",\n        confirmButtonText: this.translate(\"COM_EMUNDUS_ATTACHMENTS_CLOSE\"),\n      });\n    },\n\n    // Transition hooks\n    beforeLeaveSlide(el) {\n      if (this.slideTransition == \"slide-fade\") {\n        el.style.transform = \"translateX(-100%)\";\n      }\n\n      el.setAttribute(\n          \"class\",\n          \"modal-body \" +\n          this.slideTransition +\n          \"-leave-active \" +\n          this.slideTransition +\n          \"-leave-to\"\n      );\n    },\n  },\n  computed: {\n    displayedAttachments() {\n      return this.attachments.filter((attachment) => {\n        return (\n            (attachment.show === true || attachment.show == undefined) &&\n            attachment.can_be_viewed\n        );\n      });\n    },\n    fnumPosition() {\n      return this.fnums.indexOf(this.displayedFnum);\n    },\n    selectedAttachmentPosition() {\n      return this.displayedAttachments.indexOf(this.selectedAttachment);\n    },\n    attachmentPath() {\n      return (\n          this.$store.state.attachment.attachmentPath +\n          this.displayedUser.user_id +\n          \"/\" +\n          this.selectedAttachment.filename\n      );\n    },\n    thisAttachmentCategories() {\n      let displayedCategories = {};\n      if (Object.entries(this.categories).length > 0) {\n        for (let category in this.categories) {\n          for (let attachment in this.attachments) {\n            // if the attachment category is the same as the category\n            if (this.attachments[attachment].category == category) {\n              // add the category to the displayedCategories object\n              displayedCategories[category] = this.categories[category];\n            }\n          }\n        }\n      }\n\n      return displayedCategories;\n    },\n  },\n};\n</script>\n\n<style lang='scss' scoped>\n#em-attachments {\n  font-size: 14px;\n\n  .head {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 1px;\n    padding: 10px;\n    min-height: 50px;\n    background-color: var(--night-blue);\n\n    .displayed-user {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: baseline;\n\n      p {\n        color: var(--text-light-color);\n      }\n\n      .name {\n        font-size: 18px;\n        font-weight: 800;\n        line-height: 23px;\n      }\n\n      .email {\n        margin-left: 8px !important;\n        font-size: 12px;\n      }\n    }\n\n    .prev-next-files {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      margin-right: 12px;\n      width: 75px;\n\n      > div {\n        pointer-events: none;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        color: transparent;\n        transition: all 0.3s;\n\n        span {\n          height: 30px;\n          width: 30px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          margin: 0;\n          opacity: 0;\n        }\n\n        &.active {\n          span {\n            color: var(--text-light-color);\n            opacity: 1;\n          }\n          pointer-events: auto;\n          cursor: pointer;\n        }\n\n        &:hover {\n          border-radius: 4px;\n          background-color: transparent;\n          span {\n            color: var(--primary-color);\n          }\n        }\n      }\n    }\n  }\n\n  #filters {\n\t\tposition: relative;\n\t\tmargin-bottom: 20px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\n\t\t.searchbar-wrapper {\n\t\t\tposition: relative;\n\t\t\t.material-icons.search {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 11px;\n\t\t\t\tleft: 18px;\n\t\t\t}\n\n\t\t\t.material-icons.clear {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 11px;\n\t\t\t\tright: 10px;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\n\t\t\t#searchbar {\n\t\t\t\tpadding-left: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tborder: 1px solid var(--border-color);\n\t\t\t}\n\t\t}\n\n\t\t.actions {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: center;\n\t\t\tjustify-content: flex-end;\n\n\t\t\t.export {\n\t\t\t\tmargin-right: 8px;\n\t\t\t}\n\n\t\t\tselect {\n\t\t\t\theight: 37px;\n\t\t\t\tborder: 1px solid var(--border-color);\n\t\t\t}\n\n\t\t\t> div,\n\t\t\t> select {\n\t\t\t\tmargin-right: 8px;\n\n\t\t\t\t&.disabled {\n\t\t\t\t\tcolor: var(--disabled-color);\n\t\t\t\t\tpointer-events: none;\n\n\t\t\t\t\t.material-icons {\n\t\t\t\t\t\tcolor: var(--disabled-color);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.refresh {\n\t\t\ttransition: transform 0.6s;\n\t\t\tcursor: pointer;\n\t\t\tmargin: 0 0 0 8px;\n\n\t\t\t&:hover {\n\t\t\t\ttransform: rotate(360deg);\n\t\t\t\tcolor: var(--primary-color);\n\t\t\t}\n\t\t}\n\n\t\tinput {\n\t\t\talign-self: flex-start;\n\t\t\twidth: 221px;\n\t\t}\n\t}\n\n  .wrapper {\n    margin: 20px;\n    width: calc(100% - 40px);\n\n    &.loading {\n      min-height: 50vh;\n    }\n\n    .material-icons.delete {\n      transition: all 0.3s;\n      width: 30px;\n      color: var(--grey-color);\n\n      &.disabled {\n        color: var(--disabled-color);\n        pointer-events: none;\n      }\n\n      &:hover {\n        cursor: pointer;\n        color: var(--error-color);\n      }\n    }\n  }\n\n  .table-wrapper {\n    width: 100%;\n    overflow-x: scroll;\n  }\n\n  table {\n\n    &.loading {\n      visibility: hidden;\n    }\n\n    border: 0;\n\n    tr {\n      th:first-of-type {\n        width: 39px;\n        input {\n          margin-right: 0px;\n        }\n      }\n    }\n\n    tr,\n    th {\n      height: 49px;\n      background: transparent;\n      background-color: transparent;\n    }\n\n    td,\n    th {\n      width: fit-content;\n    }\n\n    th.desc,\n    td.desc {\n      max-width: 250px;\n      width: initial;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    th.status,\n    td.status {\n      min-width: 100px;\n      white-space: nowrap;\n    }\n\n    thead {\n      tr {\n        th {\n          border-top: 1px solid #e0e0e0;\n          border-bottom: 1px solid #e0e0e0;\n          white-space: nowrap;\n\n          .material-icons {\n            transform: translateY(3px);\n          }\n        }\n      }\n    }\n\n    .attachment-check {\n      width: 15px;\n      height: 15px;\n      border-radius: 0px;\n    }\n  }\n\n  .modal-head {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px;\n    border-bottom: 1px solid var(--border-color);\n\n    .flex-start {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n\n      span:first-child {\n        margin: 0 8px 0 20px;\n        cursor: pointer;\n      }\n    }\n\n    .flex-end {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      align-items: center;\n\n      .download {\n        height: 32px;\n        margin-right: 24px;\n        color: black;\n\n        .material-icons {\n          font-size: 18px;\n        }\n\n        span:last-child {\n          margin-top: -1px;\n          margin-left: 4px;\n        }\n      }\n\n      .prev-next-attachments {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        margin: 0 8px 0 0;\n\n        .lvl {\n          padding: 6px 8px 7px 8px;\n          background-color: var(--grey-bg-color);\n        }\n\n        .prev {\n          margin-right: 4px;\n          border-radius: 4px 0px 0px 4px;\n        }\n\n        .next {\n          margin-left: 4px;\n          border-radius: 0px 4px 4px 0px;\n        }\n\n        .prev,\n        .next {\n          display: flex;\n          flex-direction: row;\n          justify-content: center;\n          align-items: center;\n          pointer-events: none;\n          height: 32px;\n          width: 32px;\n          background-color: var(--grey-bg-color);\n\n          span {\n            color: initial;\n          }\n\n          &.active {\n            pointer-events: auto;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n\n  .slide-fade-enter-active {\n    transition: all 0.5s ease;\n  }\n  .slide-fade-leave-active {\n    transition: all 0.5s cubic-bezier(1, 0.5, 0.8, 1);\n  }\n  .slide-fade-enter {\n    transform: translateX(100%);\n  }\n  .slide-fade-leave-to {\n    transform: translateX(-100%);\n    opacity: 0;\n  }\n\n  .slide-fade-reverse-enter-active {\n    transition: all 0.5s ease;\n  }\n  .slide-fade-reverse-leave-active {\n    transition: all 0.5s cubic-bezier(1, 0.8, 0.5, 1);\n  }\n  .slide-fade-reverse-enter {\n    transform: translateX(-100%);\n  }\n  .slide-fade-reverse-leave-to {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n\n  .modal-body {\n    height: 100%;\n    width: 100%;\n    max-height: 100%;\n    display: flex;\n    padding: 0;\n  }\n\n\t#filter-builder {\n\t\tposition: absolute;\n\t\ttop: -17px;\n\t\tright: 190px;\n\t}\n\n\t#edit-modal .v--modal-box  {\n\t\tmin-width: 800px;\n\t\tmin-height: 600px;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attachments.vue?vue&type=template&id=40be2e22&scoped=true&\"\nimport script from \"./Attachments.vue?vue&type=script&lang=js&\"\nexport * from \"./Attachments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Attachments.vue?vue&type=style&index=0&id=40be2e22&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40be2e22\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"com_emundus_vue\">\n\t\t<Attachments\n\t\t\tv-if=\"componentName === 'attachments'\"\n\t\t\t:fnum=\"data.fnum\"\n\t\t\t:user=\"data.user\"\n\t\t></Attachments>\n\t</div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport Attachments from \"./views/Attachments.vue\";\n\nexport default {\n\tprops: {\n\t\tcomponentName: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\tdefault: {},\n\t\t},\n\t},\n\tcomponents: {\n\t\tAttachments,\n\t},\n\tmounted() {\n\t\tif (this.data.lang) {\n\t\t\tthis.$store.dispatch(\"global/setLang\", this.data.lang.split(\"-\")[0]);\n\t\t} else {\n\t\t\tthis.$store.dispatch(\"global/setLang\", \"fr\");\n\t\t}\n\n\t\tmoment.locale(this.$store.state.global.lang);\n\n\t\t// baseUrl\n\t\tif (this.data.base) {\n\t\t\tthis.$store.dispatch(\n\t\t\t\t\"attachment/setAttachmentPath\",\n\t\t\t\tthis.data.base + \"/images/emundus/files/\"\n\t\t\t);\n\t\t}\n\t},\n};\n</script>\n\n<style lang='scss'>\n@import url(\"./assets/css/main.scss\");\n\n.com_emundus_vue {\n  @media (max-width: 1440px) {\n    .v--modal-box.v--modal {\n      width: 90vw !important;\n      height: 90vh !important;\n      top: 0 !important;\n      left: 0 !important;\n      margin: 5vh auto 5vh auto !important;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=e7e9100c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    methods: {\n        translate(key) {\n            if (typeof key != undefined && key != null) {\n                return Joomla.JText._(key) ? Joomla.JText._(key) : key;\n            } else {\n                return '';\n            }\n        },\n    }\n}","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport filterBuilder from './filterBuilder';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    modules: {\n        filterBuilder\n    }\n});","import Vue from 'vue';\nimport VModal from 'vue-js-modal';\nimport store from \"./store\";\nimport App from './App.vue';\nimport translate from './mixins/translate.js';\nimport filterBuilderStore from './store/filterBuilder';\nimport FilterBuilder from './components/FilterBuilder/FilterBuilder.vue';\n\nlet mountApp = false;\nlet elementId = \"\";\nlet data = {};\nlet componentName = \"\";\n\nif (document.getElementById(\"em-application-attachment\")) {\n    const element = document.getElementById(\"em-application-attachment\");\n    Array.prototype.slice.call(element.attributes).forEach(function (attr) {\n        data[attr.name] = attr.value;\n    });\n\n    componentName = \"attachments\";\n    elementId = \"#em-application-attachment\";\n    mountApp = true;\n}\n\nif (mountApp) {\n    const items = document.querySelectorAll('#em-appli-menu .list-group-item');\n\n    // add eventlistener on changeFile\n    function changeFile(e) {\n        document.querySelector('#em-assoc-files .panel-body').empty();\n        const checkedEm = document.querySelector('.em-check:checked');\n        // uncheck element\n        if (checkedEm) {\n            checkedEm.checked = false;\n        }\n\n        // check element that have id equals to e.detail.fnum.fnum + \"_check\"\n        const check = document.getElementById(e.detail.fnum.fnum + \"_check\");\n        if (check) {\n            check.checked = true;\n        }\n\n        // update href fnum param\n        items.forEach(function (item) {\n            item.setAttribute('href', item.getAttribute('href').replace(/fnum=\\d+/, 'fnum=' + e.detail.fnum.fnum));\n        });\n\n\n        openFiles(e.detail.fnum, \"attachment\", true);\n    }\n\n    Vue.config.productionTip = false;\n    Vue.use(store);\n    Vue.use(VModal);\n    Vue.mixin(translate);\n\n    const vue = new Vue({\n        el: elementId,\n        store,\n        render(h) {\n            return h(\n                App, {\n                    props: {\n                        componentName: componentName,\n                        data: data\n                    },\n                });\n        },\n    });\n\n    document.querySelector(\".com_emundus_vue\").addEventListener('changeFile', changeFile);\n\n    if (document.getElementById(\"em-vue-filter-builder\")) {\n        new Vue({\n            el: '#em-vue-filter-builder',\n            store: filterBuilderStore,\n            render(h) {\n                return h(\n                    FilterBuilder\n                );\n            }\n        });\n    }\n}\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentRow.vue?vue&type=style&index=0&id=094be7a3&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterGroup.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterBuilder.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentEdit.vue?vue&type=style&index=0&id=1edf740e&lang=scss&scoped=true&\""],"sourceRoot":""}