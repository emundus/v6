{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/AttachmentEdit.vue?464f","webpack:///./src/store/global/index.js","webpack:///./src/store/user/user.js","webpack:///./src/store/attachment/attachment.js","webpack:///./src/store/file/file.js","webpack:///./src/store/filterBuilder/filterBuilder.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?f309","webpack:///./src/views/Attachments.vue?1500","webpack:///./src/components/AttachmentPreview.vue?73a0","webpack:///./src/services/axiosClient.js","webpack:///./src/services/attachment.js","webpack:///src/components/AttachmentPreview.vue","webpack:///./src/components/AttachmentPreview.vue?e04e","webpack:///./src/components/AttachmentPreview.vue","webpack:///./src/components/AttachmentEdit.vue?c52c","webpack:///./src/services/user.js","webpack:///./src/mixins/mixin.js","webpack:///src/components/AttachmentEdit.vue","webpack:///./src/components/AttachmentEdit.vue?0c89","webpack:///./src/components/AttachmentEdit.vue","webpack:///./src/components/FilterBuilder/FilterBuilder.vue?5bcb","webpack:///./src/services/filter.js","webpack:///./src/components/FilterBuilder/FilterRow.vue?0a36","webpack:///src/components/FilterBuilder/FilterRow.vue","webpack:///./src/components/FilterBuilder/FilterRow.vue?b65a","webpack:///./src/components/FilterBuilder/FilterRow.vue","webpack:///./src/components/FilterBuilder/FilterGroup.vue?4564","webpack:///src/components/FilterBuilder/FilterGroup.vue","webpack:///./src/components/FilterBuilder/FilterGroup.vue?cfcb","webpack:///./src/components/FilterBuilder/FilterGroup.vue","webpack:///src/components/FilterBuilder/FilterBuilder.vue","webpack:///./src/components/FilterBuilder/FilterBuilder.vue?3007","webpack:///./src/components/FilterBuilder/FilterBuilder.vue","webpack:///./src/services/file.js","webpack:///src/views/Attachments.vue","webpack:///./src/views/Attachments.vue?a9e9","webpack:///./src/views/Attachments.vue","webpack:///src/App.vue","webpack:///./src/App.vue?717b","webpack:///./src/App.vue","webpack:///./src/mixins/translate.js","webpack:///./src/store/filterBuilder/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?eb9a","webpack:///./src/components/FilterBuilder/FilterGroup.vue?f693","webpack:///./src/components/AttachmentPreview.vue?5a67","webpack:///./src/components/FilterBuilder/FilterBuilder.vue?3b70","webpack:///./src/components/FilterBuilder/FilterRow.vue?0ed0","webpack:///./src/views/Attachments.vue?735c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","state","lang","getters","actions","commit","mutations","namespaced","users","currentUser","displayedUser","rights","user","forEach","fnum","attachmentPath","attachments","selectedAttachment","previews","categories","attachment","previewData","path","attachmentIndex","findIndex","aid","preview","fnums","filters","queryFilters","relation","groups","0","group","filter","and_or","use","Store","global","file","filterBuilder","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","class","fnumPosition","on","$event","changeFile","_e","_v","_s","firstname","lastname","email","loading","ref","translate","searchInFiles","filterAttachmentSelection","filterByCategory","_l","category","domProps","checkedAttachments","exportAttachments","refreshAttachments","confirmDeleteAttachments","updateAllCheckedAttachments","orderBy","sort","order","includes","updateCheckedAttachments","openModal","formattedDate","timedate","description","is_validated","getUserNameById","modified_by","modified","closeModal","filename","selectedAttachmentPosition","changeAttachment","displayedAttachments","slideTransition","beforeLeaveSlide","modalLoading","displayedFnum","updateAttachment","overflowX","overflowY","msg","openMsg","a","timeout","headers","responseType","withCredentials","response","params","user_id","show","student_id","attachment_ids","formData","FormData","append","JSON","stringify","post","student","sqlRequest","$store","style","getPreview","methods","status","content","setTimeout","$refs","shadowRoot","attachShadow","innerHTML","addSheetStyles","addPresentationStyles","addWordStyles","pages","querySelectorAll","div","width","margin","boxShadow","display","navigation","querySelector","flexDirection","justifyContent","alignItems","li","li_key","listStyleType","addEventListener","div_key","slides","slide","padding","borderRadius","backgroundColor","wrapper","border","overflow","watch","component","directives","rawName","expression","canUpdate","target","composing","$set","$$selectedVal","Array","options","selected","val","_value","multiple","allowedType","updateFile","saveChanges","errorMessage","console","log","mixin","date","format","completeName","getUserById","then","dispatch","props","type","String","required","mixins","error","update","file_update","$emit","showError","event","files","computed","allowed_type","split","pop","andOr","element","removeFilter","removeGroup","addGroup","addFilter","applyFilters","selectedFilter","label","selectedAction","action","selectedValue","Number","default","names","index","updateFilter","find","values","components","FilterRow","entries","Math","floor","random","Date","now","filterId","FilterGroup","orderedElements","getFilters","mountQuery","query","AttachmentPreview","AttachmentEdit","FilterBuilder","last","canExport","canDelete","getFnums","getUsers","getAttachments","setAccessRights","setDisplayedUser","getFnumInfos","fnumInfos","applicant_id","getAttachmentCategories","resetOrder","getAttachmentsByFnum","getCategories","$modal","hide","getAccessRights","open","link","html","list","substring","fire","title","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","deleteAttachments","text","position","reverse","toLowerCase","b","checked","contains","indexOf","el","transform","setAttribute","undefined","can_be_viewed","componentName","Attachements","locale","base","Joomla","JText","_","mountApp","elementId","document","getElementById","attributes","attr","config","productionTip","store","h","App"],"mappings":"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","file":"app_emundus.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"8206\",\n\t\"./af.js\": \"8206\",\n\t\"./ar\": \"cdac\",\n\t\"./ar-dz\": \"7f26\",\n\t\"./ar-dz.js\": \"7f26\",\n\t\"./ar-kw\": \"8e88\",\n\t\"./ar-kw.js\": \"8e88\",\n\t\"./ar-ly\": \"cd65\",\n\t\"./ar-ly.js\": \"cd65\",\n\t\"./ar-ma\": \"e8d6\",\n\t\"./ar-ma.js\": \"e8d6\",\n\t\"./ar-sa\": \"a284\",\n\t\"./ar-sa.js\": \"a284\",\n\t\"./ar-tn\": \"64f7\",\n\t\"./ar-tn.js\": \"64f7\",\n\t\"./ar.js\": \"cdac\",\n\t\"./az\": \"b139\",\n\t\"./az.js\": \"b139\",\n\t\"./be\": \"98e2\",\n\t\"./be.js\": \"98e2\",\n\t\"./bg\": \"a1a5\",\n\t\"./bg.js\": \"a1a5\",\n\t\"./bm\": \"4d0d\",\n\t\"./bm.js\": \"4d0d\",\n\t\"./bn\": \"e8ae\",\n\t\"./bn-bd\": \"5dd8\",\n\t\"./bn-bd.js\": \"5dd8\",\n\t\"./bn.js\": \"e8ae\",\n\t\"./bo\": \"bcf2\",\n\t\"./bo.js\": \"bcf2\",\n\t\"./br\": \"69f1\",\n\t\"./br.js\": \"69f1\",\n\t\"./bs\": \"24d1\",\n\t\"./bs.js\": \"24d1\",\n\t\"./ca\": \"3507\",\n\t\"./ca.js\": \"3507\",\n\t\"./cs\": \"d15f\",\n\t\"./cs.js\": \"d15f\",\n\t\"./cv\": \"7bfe\",\n\t\"./cv.js\": \"7bfe\",\n\t\"./cy\": \"1d35\",\n\t\"./cy.js\": \"1d35\",\n\t\"./da\": \"a019\",\n\t\"./da.js\": \"a019\",\n\t\"./de\": \"0cfa\",\n\t\"./de-at\": \"edea\",\n\t\"./de-at.js\": \"edea\",\n\t\"./de-ch\": \"9aae\",\n\t\"./de-ch.js\": \"9aae\",\n\t\"./de.js\": \"0cfa\",\n\t\"./dv\": \"1722\",\n\t\"./dv.js\": \"1722\",\n\t\"./el\": \"5390\",\n\t\"./el.js\": \"5390\",\n\t\"./en-au\": \"dad9\",\n\t\"./en-au.js\": \"dad9\",\n\t\"./en-ca\": \"6f13\",\n\t\"./en-ca.js\": \"6f13\",\n\t\"./en-gb\": \"6267\",\n\t\"./en-gb.js\": \"6267\",\n\t\"./en-ie\": \"80b1\",\n\t\"./en-ie.js\": \"80b1\",\n\t\"./en-il\": \"ad38\",\n\t\"./en-il.js\": \"ad38\",\n\t\"./en-in\": \"eb60\",\n\t\"./en-in.js\": \"eb60\",\n\t\"./en-nz\": \"39db\",\n\t\"./en-nz.js\": \"39db\",\n\t\"./en-sg\": \"c30d\",\n\t\"./en-sg.js\": \"c30d\",\n\t\"./eo\": \"1a30\",\n\t\"./eo.js\": \"1a30\",\n\t\"./es\": \"48a3\",\n\t\"./es-do\": \"f306\",\n\t\"./es-do.js\": \"f306\",\n\t\"./es-mx\": \"56d9\",\n\t\"./es-mx.js\": \"56d9\",\n\t\"./es-us\": \"60bf\",\n\t\"./es-us.js\": \"60bf\",\n\t\"./es.js\": \"48a3\",\n\t\"./et\": \"f891\",\n\t\"./et.js\": \"f891\",\n\t\"./eu\": \"a403\",\n\t\"./eu.js\": \"a403\",\n\t\"./fa\": \"ce14\",\n\t\"./fa.js\": \"ce14\",\n\t\"./fi\": \"fc14\",\n\t\"./fi.js\": \"fc14\",\n\t\"./fil\": \"f46e\",\n\t\"./fil.js\": \"f46e\",\n\t\"./fo\": \"2bf2\",\n\t\"./fo.js\": \"2bf2\",\n\t\"./fr\": \"c1e8\",\n\t\"./fr-ca\": \"50a2\",\n\t\"./fr-ca.js\": \"50a2\",\n\t\"./fr-ch\": \"b087\",\n\t\"./fr-ch.js\": \"b087\",\n\t\"./fr.js\": \"c1e8\",\n\t\"./fy\": \"4665\",\n\t\"./fy.js\": \"4665\",\n\t\"./ga\": \"b396\",\n\t\"./ga.js\": \"b396\",\n\t\"./gd\": \"056c\",\n\t\"./gd.js\": \"056c\",\n\t\"./gl\": \"efde\",\n\t\"./gl.js\": \"efde\",\n\t\"./gom-deva\": \"12ea\",\n\t\"./gom-deva.js\": \"12ea\",\n\t\"./gom-latn\": \"8e2c\",\n\t\"./gom-latn.js\": \"8e2c\",\n\t\"./gu\": \"533d\",\n\t\"./gu.js\": \"533d\",\n\t\"./he\": \"7520\",\n\t\"./he.js\": \"7520\",\n\t\"./hi\": \"d2f3\",\n\t\"./hi.js\": \"d2f3\",\n\t\"./hr\": \"7e79\",\n\t\"./hr.js\": \"7e79\",\n\t\"./hu\": \"148f\",\n\t\"./hu.js\": \"148f\",\n\t\"./hy-am\": \"6711\",\n\t\"./hy-am.js\": \"6711\",\n\t\"./id\": \"2b10\",\n\t\"./id.js\": \"2b10\",\n\t\"./is\": \"1feb\",\n\t\"./is.js\": \"1feb\",\n\t\"./it\": \"1b21\",\n\t\"./it-ch\": \"8d2c\",\n\t\"./it-ch.js\": \"8d2c\",\n\t\"./it.js\": \"1b21\",\n\t\"./ja\": \"926e\",\n\t\"./ja.js\": \"926e\",\n\t\"./jv\": \"5a78\",\n\t\"./jv.js\": \"5a78\",\n\t\"./ka\": \"5975\",\n\t\"./ka.js\": \"5975\",\n\t\"./kk\": \"cc93\",\n\t\"./kk.js\": \"cc93\",\n\t\"./km\": \"66e1\",\n\t\"./km.js\": \"66e1\",\n\t\"./kn\": \"5421\",\n\t\"./kn.js\": \"5421\",\n\t\"./ko\": \"1297\",\n\t\"./ko.js\": \"1297\",\n\t\"./ku\": \"16f8\",\n\t\"./ku.js\": \"16f8\",\n\t\"./ky\": \"3df9\",\n\t\"./ky.js\": \"3df9\",\n\t\"./lb\": \"c124\",\n\t\"./lb.js\": \"c124\",\n\t\"./lo\": \"20a5\",\n\t\"./lo.js\": \"20a5\",\n\t\"./lt\": \"c14a\",\n\t\"./lt.js\": \"c14a\",\n\t\"./lv\": \"c553\",\n\t\"./lv.js\": \"c553\",\n\t\"./me\": \"ae25\",\n\t\"./me.js\": \"ae25\",\n\t\"./mi\": \"6f56\",\n\t\"./mi.js\": \"6f56\",\n\t\"./mk\": \"c8fc\",\n\t\"./mk.js\": \"c8fc\",\n\t\"./ml\": \"752d\",\n\t\"./ml.js\": \"752d\",\n\t\"./mn\": \"f09e\",\n\t\"./mn.js\": \"f09e\",\n\t\"./mr\": \"0a56\",\n\t\"./mr.js\": \"0a56\",\n\t\"./ms\": \"55b6\",\n\t\"./ms-my\": \"a9e9\",\n\t\"./ms-my.js\": \"a9e9\",\n\t\"./ms.js\": \"55b6\",\n\t\"./mt\": \"624b\",\n\t\"./mt.js\": \"624b\",\n\t\"./my\": \"e256\",\n\t\"./my.js\": \"e256\",\n\t\"./nb\": \"e1d5\",\n\t\"./nb.js\": \"e1d5\",\n\t\"./ne\": \"761a\",\n\t\"./ne.js\": \"761a\",\n\t\"./nl\": \"a0f2\",\n\t\"./nl-be\": \"5cb2\",\n\t\"./nl-be.js\": \"5cb2\",\n\t\"./nl.js\": \"a0f2\",\n\t\"./nn\": \"4fda\",\n\t\"./nn.js\": \"4fda\",\n\t\"./oc-lnc\": \"ec3d\",\n\t\"./oc-lnc.js\": \"ec3d\",\n\t\"./pa-in\": \"2f2f\",\n\t\"./pa-in.js\": \"2f2f\",\n\t\"./pl\": \"317f\",\n\t\"./pl.js\": \"317f\",\n\t\"./pt\": \"5553\",\n\t\"./pt-br\": \"a9ab\",\n\t\"./pt-br.js\": \"a9ab\",\n\t\"./pt.js\": \"5553\",\n\t\"./ro\": \"db12\",\n\t\"./ro.js\": \"db12\",\n\t\"./ru\": \"7aa4\",\n\t\"./ru.js\": \"7aa4\",\n\t\"./sd\": \"e87b\",\n\t\"./sd.js\": \"e87b\",\n\t\"./se\": \"a296\",\n\t\"./se.js\": \"a296\",\n\t\"./si\": \"51ec\",\n\t\"./si.js\": \"51ec\",\n\t\"./sk\": \"608b\",\n\t\"./sk.js\": \"608b\",\n\t\"./sl\": \"b367\",\n\t\"./sl.js\": \"b367\",\n\t\"./sq\": \"f68f\",\n\t\"./sq.js\": \"f68f\",\n\t\"./sr\": \"0991\",\n\t\"./sr-cyrl\": \"c577\",\n\t\"./sr-cyrl.js\": \"c577\",\n\t\"./sr.js\": \"0991\",\n\t\"./ss\": \"cf76\",\n\t\"./ss.js\": \"cf76\",\n\t\"./sv\": \"0153\",\n\t\"./sv.js\": \"0153\",\n\t\"./sw\": \"cb6f\",\n\t\"./sw.js\": \"cb6f\",\n\t\"./ta\": \"8bfa\",\n\t\"./ta.js\": \"8bfa\",\n\t\"./te\": \"668b\",\n\t\"./te.js\": \"668b\",\n\t\"./tet\": \"eae7\",\n\t\"./tet.js\": \"eae7\",\n\t\"./tg\": \"70b1\",\n\t\"./tg.js\": \"70b1\",\n\t\"./th\": \"7180\",\n\t\"./th.js\": \"7180\",\n\t\"./tk\": \"4912\",\n\t\"./tk.js\": \"4912\",\n\t\"./tl-ph\": \"f8bb\",\n\t\"./tl-ph.js\": \"f8bb\",\n\t\"./tlh\": \"b026\",\n\t\"./tlh.js\": \"b026\",\n\t\"./tr\": \"371d\",\n\t\"./tr.js\": \"371d\",\n\t\"./tzl\": \"c744\",\n\t\"./tzl.js\": \"c744\",\n\t\"./tzm\": \"787a\",\n\t\"./tzm-latn\": \"71e0\",\n\t\"./tzm-latn.js\": \"71e0\",\n\t\"./tzm.js\": \"787a\",\n\t\"./ug-cn\": \"6b5c\",\n\t\"./ug-cn.js\": \"6b5c\",\n\t\"./uk\": \"8c0c\",\n\t\"./uk.js\": \"8c0c\",\n\t\"./ur\": \"519e\",\n\t\"./ur.js\": \"519e\",\n\t\"./uz\": \"7982\",\n\t\"./uz-latn\": \"3137\",\n\t\"./uz-latn.js\": \"3137\",\n\t\"./uz.js\": \"7982\",\n\t\"./vi\": \"ae22\",\n\t\"./vi.js\": \"ae22\",\n\t\"./x-pseudo\": \"1129\",\n\t\"./x-pseudo.js\": \"1129\",\n\t\"./yo\": \"b4bf\",\n\t\"./yo.js\": \"b4bf\",\n\t\"./zh-cn\": \"fdc4\",\n\t\"./zh-cn.js\": \"fdc4\",\n\t\"./zh-hk\": \"747d\",\n\t\"./zh-hk.js\": \"747d\",\n\t\"./zh-mo\": \"fe39\",\n\t\"./zh-mo.js\": \"fe39\",\n\t\"./zh-tw\": \"d3e0\",\n\t\"./zh-tw.js\": \"d3e0\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"0fd5\";","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentEdit.vue?vue&type=style&index=0&id=619cb5dc&lang=scss&scoped=true&\"","const state = {\n    lang: ''\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n    setLang({ commit }, lang) {\n        commit('setLang', lang);\n    }\n};\n\nconst mutations = {\n    setLang(state, lang) {\n        state.lang = lang;\n    }\n};\n\nexport default{\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    users: {},\n    currentUser: 0,\n    displayedUser: 0,\n    rights: {},\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n    setUsers({ commit }, users) {\n        commit('setUser', users);\n    },\n    setCurrentUser({ commit }, user) {\n        commit('setCurrentUser', user);\n    },\n    setDisplayedUser({ commit }, user) {\n        commit('setDisplayedUser', user);\n    },\n    setAccessRights({ commit }, data) {\n        commit('setAccessRights', data);\n    }\n};\n\nconst mutations = {\n    setUser(state, users) {\n        users.forEach(user => {\n            state.users[user.id] = user;\n        });\n    },\n    setCurrentUser(state, user) {\n        state.currentUser = user;\n    },\n    setDisplayedUser(state, user) {\n        state.displayedUser = user;\n    },\n    setAccessRights(state, data) {\n        state.rights[data.fnum] = data.rights;\n    }\n};\n\nexport default{\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    attachmentPath: \"images/emundus/files/\",\n    attachments: {},\n    selectedAttachment: {},\n    previews: {},\n    categories: {},\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n    setAttachments({ commit }, attachments) {\n        commit('setAttachments', attachments);\n    },\n    setAttachmentsOfFnum({commit}, data) {\n        commit('setAttachmentsOfFnum', data);\n    },\n    updateAttachmentOfFnum({commit}, data) {\n        commit('updateAttachmentOfFnum', data);\n    },\n    setSelectedAttachment({ commit }, attachment) {\n        commit('setSelectedAttachment', attachment);\n    },\n    setPreview({ commit }, previewData) {\n        commit('setPreview', previewData);\n    },\n    setCategories({ commit }, categories) {\n        commit('setCategories', categories);\n    },\n    setAttachmentPath({ commit }, path) {\n        commit('setAttachmentPath', path);\n    }\n};\n\nconst mutations = {\n    setAttachments(state, attachments) {\n        state.attachments = attachments;\n    },\n    setAttachmentsOfFnum(state, data) {\n        state.attachments[data.fnum] = data.attachments;\n    },\n    updateAttachmentOfFnum(state, data) {\n        const attachmentIndex = state.attachments[data.fnum].findIndex(attachment => attachment.aid === data.attachment.aid);\n\n        state.attachments[data.fnum][attachmentIndex] = data.attachment;\n    },\n    setSelectedAttachment(state, attachment) {\n        state.selectedAttachment = attachment;\n    },\n    setPreview(state, previewData) {\n        state.previews[previewData.id] = previewData.preview;\n    },\n    setCategories(state, categories) {\n        state.categories = categories;\n    },\n    setAttachmentPath(state, path) {\n        state.attachmentPath = path;\n    }\n};\n\nexport default{\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    fnums: []\n};\n\nconst getters = {\n\n};\n\nconst actions = {\n\n};\n\nconst mutations = {\n\n};\n\nexport default{\n    namespaced: true,\n    state,\n    getters,\n    actions,\n    mutations\n};","const state = {\n    filters: [],\n    queryFilters: {\n        relation: 'AND',\n        groups: {\n            0: {\n                filters: {},\n            }\n        } \n    },\n};\n\nconst mutations = {\n    setFilters(state, filters) {\n        state.filters = filters\n    },\n    updateQueryFilters(state, data) {\n        if (!state.queryFilters.groups[data.group]) {\n            state.queryFilters.groups[data.group] = {\n                relation: 'AND',\n                filters: {}\n            };\n        }\n\n        if (!state.queryFilters.groups[data.group].filters) {\n            state.queryFilters.groups[data.group].filters = {};\n        }\n\n        state.queryFilters.groups[data.group].filters[data.id] = data.filter;\n    },\n    removeGroup(state, group) {\n        delete state.queryFilters.groups[group];\n    },\n    removeQueryFilter(state, data) {\n        delete state.queryFilters.groups[data.group].filters[data.id];\n    },\n    updateAndOr(state, data) {\n        if (data.group != '0') {\n            state.queryFilters.groups[data.group].relation = data.and_or;\n        } else {\n            state.queryFilters.relation = data.and_or;\n        }\n    }\n};\n\nconst actions = {\n    setFilters({ commit }, filters) {\n        commit('setFilters', filters)\n    },\n    updateQueryFilters({ commit }, data) {\n        commit('updateQueryFilters', data)\n    },\n    removeGroup({ commit }, group) {\n        commit('removeGroup', group)\n    },\n    removeQueryFilter({ commit }, data) {\n        commit('removeQueryFilter', data)\n    },\n    updateAndOr({ commit }, data) {\n        commit('updateAndOr', data)\n    }\n};\n\nexport default {\n    namespaced: true,\n    state,\n    mutations,\n    actions\n};","import global from './global';\nimport user from './user/user';\nimport attachment from './attachment/attachment';\nimport file from './file/file';\nimport filterBuilder from './filterBuilder/filterBuilder';\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  modules: {\n    global,\n    user,\n    attachment,\n    file,\n    filterBuilder\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"com_emundus_vue\"},[_c('Attachements',{attrs:{\"fnum\":_vm.data.fnum,\"user\":_vm.data.user}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"em-attachments\"}},[_c('div',{staticClass:\"head\"},[(_vm.fnums.length > 1)?_c('div',{staticClass:\"prev-next-files\"},[_c('div',{staticClass:\"prev\",class:{'active': _vm.fnumPosition > 0},on:{\"click\":function($event){return _vm.changeFile(_vm.fnumPosition - 1)}}},[_c('i',{staticClass:\"small arrow left icon\"})]),_c('div',{staticClass:\"next\",class:{'active': _vm.fnumPosition < _vm.fnums.length - 1},on:{\"click\":function($event){return _vm.changeFile(_vm.fnumPosition + 1)}}},[_c('i',{staticClass:\"small arrow right icon\"})])]):_vm._e(),_c('div',{staticClass:\"displayed-user\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.displayedUser.firstname)+\" \"+_vm._s(_vm.displayedUser.lastname)+\" \")]),_c('p',{staticClass:\"email\"},[_vm._v(_vm._s(_vm.displayedUser.email))])])]),_c('div',{staticClass:\"wrapper\",class:{'loading': _vm.loading}},[_c('div',{attrs:{\"id\":\"filters\"}},[_c('div',{staticClass:\"searchbar-wrapper\"},[_c('input',{ref:\"searchbar\",attrs:{\"id\":\"searchbar\",\"type\":\"text\",\"placeholder\":_vm.translate('SEARCH')},on:{\"input\":_vm.searchInFiles}}),_c('span',{staticClass:\"material-icons\"},[_vm._v(\"search\")])]),_c('div',{staticClass:\"actions\"},[_c('FilterBuilder',{attrs:{\"id\":\"70\"},on:{\"applyFilters\":_vm.filterAttachmentSelection}}),_c('select',{attrs:{\"name\":\"category\"},on:{\"change\":_vm.filterByCategory}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(_vm._s(_vm.translate('SELECT_CATEGORY')))]),_vm._l((_vm.categories),function(category,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(_vm._s(category)+\" \")])})],2),(_vm.canExport)?_c('div',{staticClass:\"btn-icon-text\",class:{'disabled': _vm.checkedAttachments.length < 1},on:{\"click\":_vm.exportAttachments}},[_c('span',{staticClass:\"material-icons export\"},[_vm._v(\"\\n              file_upload\\n            \")]),_c('span',[_vm._v(\"\\n              \"+_vm._s(_vm.translate('EXPORT'))+\"\\n            \")])]):_vm._e(),_c('span',{staticClass:\"material-icons refresh\",attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_REFRESH_TITLE')},on:{\"click\":_vm.refreshAttachments}},[_vm._v(\"\\n            autorenew\\n          \")]),(_vm.canDelete)?_c('span',{staticClass:\"material-icons delete\",class:{'disabled': _vm.checkedAttachments.length < 1},attrs:{\"title\":_vm.translate('COM_EMUNDUS_ATTACHMENTS_DELETE_TITLE')},on:{\"click\":_vm.confirmDeleteAttachments}},[_vm._v(\"\\n            delete_outlined\\n          \")]):_vm._e()],1)]),(_vm.attachments.length)?_c('table',{class:{'loading': _vm.loading}},[_c('thead',[_c('tr',[_c('th',[_c('input',{staticClass:\"attachment-check\",attrs:{\"type\":\"checkbox\"},on:{\"change\":_vm.updateAllCheckedAttachments}})]),_c('th',{on:{\"click\":function($event){return _vm.orderBy('value')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('NAME'))+\"\\n                  \"),(_vm.sort.orderBy == 'value' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'value' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"date\",on:{\"click\":function($event){return _vm.orderBy('timedate')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_SEND_DATE'))+\"\\n                  \"),(_vm.sort.orderBy == 'timedate' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'timedate' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"category\",on:{\"click\":function($event){return _vm.orderBy('category')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_CATEGORY'))+\"\\n                  \"),(_vm.sort.orderBy == 'category' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'category' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"desc\",on:{\"click\":function($event){return _vm.orderBy('description')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('DESCRIPTION'))+\"\\n                  \"),(_vm.sort.orderBy == 'description' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'description' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"status\",on:{\"click\":function($event){return _vm.orderBy('is_validated')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('STATUS'))+\"\\n                  \"),(_vm.sort.orderBy == 'is_validated' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'is_validated' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{on:{\"click\":function($event){return _vm.orderBy('modified_by')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY'))+\"\\n                  \"),(_vm.sort.orderBy == 'modified_by' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'modified_by' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()]),_c('th',{staticClass:\"date\",on:{\"click\":function($event){return _vm.orderBy('modified')}}},[_vm._v(\" \\n                  \"+_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE'))+\"\\n                  \"),(_vm.sort.orderBy == 'modified' && _vm.sort.order == 'asc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_upward\")]):_vm._e(),(_vm.sort.orderBy == 'modified' && _vm.sort.order == 'desc')?_c('span',{staticClass:\"material-icons\"},[_vm._v(\"arrow_downward\")]):_vm._e()])])]),_c('tbody',_vm._l((_vm.displayedAttachments),function(attachment){return _c('tr',{key:attachment.aid,class:{'checked': _vm.checkedAttachments.includes(attachment.aid)}},[_c('td',[_c('input',{staticClass:\"attachment-check\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.checkedAttachments.includes(attachment.aid)},on:{\"change\":function($event){return _vm.updateCheckedAttachments(attachment.aid)}}})]),_c('td',{staticClass:\"td-document\",on:{\"click\":function($event){return _vm.openModal(attachment)}}},[_vm._v(_vm._s(attachment.value))]),_c('td',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formattedDate(attachment.timedate)))]),_c('td',{staticClass:\"category\"},[_vm._v(_vm._s(_vm.categories[attachment.category] ? _vm.translate(_vm.categories[attachment.category]) : attachment.category))]),_c('td',{staticClass:\"desc\"},[_vm._v(_vm._s(attachment.description))]),_c('td',{staticClass:\"status valid-state\",class:{\n                  'success': attachment.is_validated == 1, \n                  'error': attachment.is_validated == -2\n                  }},[(attachment.is_validated == 1)?_c('span',[_vm._v(_vm._s(_vm.translate('VALID')))]):(attachment.is_validated == -2)?_c('span',[_vm._v(_vm._s(_vm.translate('INVALID')))]):_c('span',[_vm._v(_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_WAITING')))])]),_c('td',[_vm._v(_vm._s(_vm.getUserNameById(attachment.modified_by)))]),_c('td',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.formattedDate(attachment.modified)))])])}),0)]):_c('p',[_vm._v(_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_NO_ATTACHMENTS_FOUND')))])]),_c('modal',{attrs:{\"id\":\"edit-modal\",\"name\":\"edit\",\"height\":\"70%\",\"width\":\"70%\",\"minWidth\":690,\"minHeight\":550,\"styles\":\"display:flex;flex-direction:column;justify-content:center;align-items:center;\"}},[_c('div',{staticClass:\"modal-head\"},[_c('div',{staticClass:\"flex-start\"},[_c('span',{staticClass:\"material-icons\",on:{\"click\":_vm.closeModal}},[_vm._v(\"\\n            navigate_before\\n          \")]),_c('span',[_vm._v(_vm._s(_vm.selectedAttachment.filename))])]),_c('div',{staticClass:\"flex-end\"},[_c('div',{staticClass:\"prev-next-attachments\"},[_c('div',{staticClass:\"prev\",class:{'active': _vm.selectedAttachmentPosition > 0},on:{\"click\":function($event){return _vm.changeAttachment(_vm.selectedAttachmentPosition - 1, true)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"\\n                navigate_before\\n              \")])]),_c('span',{staticClass:\"lvl\"},[_vm._v(_vm._s(_vm.selectedAttachmentPosition + 1)+\" / \"+_vm._s(_vm.displayedAttachments.length))]),_c('div',{staticClass:\"next\",class:{'active': _vm.selectedAttachmentPosition < _vm.displayedAttachments.length - 1},on:{\"click\":function($event){return _vm.changeAttachment(_vm.selectedAttachmentPosition + 1)}}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"\\n                navigate_next\\n              \")])])]),_c('a',{staticClass:\"download btn-icon-text\",attrs:{\"href\":_vm.attachmentPath,\"download\":\"\"}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"\\n              file_download\\n            \")]),_c('span',[_vm._v(_vm._s(_vm.translate('LINK_TO_DOWNLOAD')))])])])]),_c('transition',{attrs:{\"name\":_vm.slideTransition},on:{\"before-leave\":_vm.beforeLeaveSlide}},[(!_vm.modalLoading)?_c('div',{staticClass:\"modal-body\"},[_c('AttachmentPreview'),_c('AttachmentEdit',{attrs:{\"fnum\":_vm.displayedFnum},on:{\"closeModal\":_vm.closeModal,\"saveChanges\":_vm.updateAttachment}})],1):_vm._e()])],1),(_vm.loading)?_c('div',{staticClass:\"vue-em-loader\"}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"em-attachment-preview\"}},[_c('div',{ref:\"a-preview\",class:{'overflow-x': _vm.overflowX, 'overflow-y': _vm.overflowY},attrs:{\"id\":\"attachment-preview\"}}),_c('div',{class:{'active': _vm.msg && _vm.openMsg},attrs:{\"id\":\"msg\"}},[_c('p',[_vm._v(_vm._s(_vm.msg))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\n\nexport default (headers = {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache',\n}) =>\n    axios.create({\n        timeout: 30000,\n        headers,\n        responseType: 'json',\n        withCredentials: true,\n    });","import client from './axiosClient';\n\nexport default {\n  async getAttachmentsByUser(user) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=getuserattachments', {\n        params: {\n          user_id: user,\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      throw e;\n    }\n  },\n\n  async getAttachmentsByFnum(fnum) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=getattachmentsbyfnum', {\n        params: {\n          fnum : fnum,\n        }\n      });\n\n      // add show attribute to true to all attchments in response data\n      response.data.forEach(attachment => {\n        attachment.show = true;\n        attachment.is_validated = attachment.is_validated === null ? \"0\" : attachment.is_validated;\n      });\n\n      return response.data;\n    } catch (e) {\n      throw e;\n    }\n  },\n\n  async getAttachmentCategories() {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=files&task=getattachmentcategories');\n\n      return response.data;\n    } catch (e) {\n      throw e;\n    }\n  },\n\n  async deleteAttachments(fnum, student_id, attachment_ids) {\n    try {\n      const formData = new FormData();\n      formData.append('ids', JSON.stringify(attachment_ids));\n      \n      const response = await client().post(`index.php?option=com_emundus&controller=application&task=deleteattachement&fnum=${fnum}&student_id=${student_id}`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      );\n\n      return response;\n    } catch (e) {\n      throw e;\n    }\n  },\n  \n  async updateAttachment(formData) {\n    try {\n      const response = await client().post('index.php?option=com_emundus&controller=application&task=updateattachment', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      );\n\n      return response.data;\n    } catch (e) {\n      throw e;\n    }\n  },\n\n  async getPreview(user, filename) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=getattachmentpreview', {\n        params: {\n          user: user,\n          filename: filename,\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      throw e;\n    }\n  },\n  exportAttachments(student, fnum, attachment_ids) {\n    const formData = new FormData();\n    formData.append('student_id', student);\n    formData.append('fnum', fnum);\n    attachment_ids.forEach(id => {\n      formData.append('ids[]', id);\n    });\n\n    return client().post('index.php?option=com_emundus&controller=application&task=exportpdf', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  async filterAttachmentSelection(fnum, sqlRequest) {\n    try {\n      const response = await client().get('index.php?option=com_emundus&controller=application&task=filterattachmentselection', {\n        params: {\n          fnum: fnum,\n          sqlRequest: sqlRequest,\n        }\n      });\n\n      return response.data;\n    } catch (e) {\n      throw e;\n    }\n  }\n};\n","<template>\n<div id=\"em-attachment-preview\">\n    <div ref=\"a-preview\" id=\"attachment-preview\" :class=\"{'overflow-x': overflowX, 'overflow-y': overflowY}\"></div>\n    <div id=\"msg\" :class=\"{'active': msg && openMsg}\"> \n        <p>{{ msg }}</p>\n    </div>\n</div>\n</template>\n\n<script>\nimport attachmentService from '../services/attachment';\n\nexport default {\n    data() {\n        return {\n            attachment: this.$store.state.attachment.selectedAttachment,\n            preview: '',\n            overflowX: false,\n            overflowY: false,\n            style: '', \n            msg: '',\n            openMsg: false\n        }\n    },\n    mounted() {\n        this.attachment = this.$store.state.attachment.selectedAttachment;\n        this.getPreview();\n    },\n    methods: {\n        async getPreview() {\n            let data;\n            if (!this.$store.state.attachment.previews[this.attachment.aid]) {\n                data = await attachmentService.getPreview(this.$store.state.user.displayedUser, this.attachment.filename);\n\n                // store preview data\n                this.$store.commit('attachment/setPreview', {preview: data, id: this.attachment.aid});\n            } else {\n                data = this.$store.state.attachment.previews[this.attachment.aid];\n            }\n\n            if (data.status) {\n                this.preview = data.content;\n                this.overflowX = data.overflowX; \n                this.overflowY = data.overflowY;\n                this.style = data.style;\n\n                if (data.msg) {\n                    this.msg = data.msg;\n                    this.openMsg = true;\n\n                    setTimeout(() => {\n                        this.openMsg = false;\n                    }, 3000);\n                }\n            } else {\n                this.overflowX = false; \n                this.overflowY = false;\n                this.preview = data.content;\n                this.msg = '';\n            }\n\n            if (this.$refs['a-preview'].shadowRoot === null) {\n                this.$refs['a-preview'].attachShadow({mode: 'open'});\n            }\n\n            this.$refs['a-preview'].shadowRoot.innerHTML = this.preview != null ? this.preview : '';\n\n            if (this.style == 'sheet') {\n                this.addSheetStyles();\n            } else if (this.style == 'presentation') {\n                this.addPresentationStyles();\n            } else if (this.style == 'word') {\n                this.addWordStyles();\n            }\n        },\n        addSheetStyles() {\n            // get div elements of first level\n            const pages = this.$refs['a-preview'].shadowRoot.querySelectorAll('div');\n            pages.forEach((div, key) => {\n                div.style.width = \"fit-content\";\n                div.style.margin = \"20px auto\";\n                div.style.boxShadow = \"0px 0px 10px rgba(0, 0, 0, 0.1)\";\n\n                if (key > 0) {\n                    div.style.display = \"none\";\n                }\n            });\n\n            const navigation = this.$refs['a-preview'].shadowRoot.querySelector('.navigation');\n            if (navigation) {\n                navigation.style.display = 'flex';\n                navigation.style.flexDirection = 'row';\n                navigation.style.justifyContent = 'flex-start';\n                navigation.style.alignItems = 'center';\n\n                navigation.querySelectorAll('li').forEach((li, li_key) => {\n                    li.style.listStyleType = \"none\";\n                    li.style.margin = \"0 10px\";\n\n                    li.addEventListener('click', () => {\n                        pages.forEach((div, div_key) => {\n                            if (div_key == li_key) {\n                                div.style.display = \"block\";\n                            } else {\n                                div.style.display = \"none\";\n                            }\n                        });\n                    });\n                });\n            }\n        },\n        addPresentationStyles() {\n            const slides = this.$refs['a-preview'].shadowRoot.querySelectorAll('.slide');\n            slides.forEach((slide, key) => {\n                slide.style.padding = \"16px\";\n                slide.style.margin = \"20px\";\n                slide.style.width = \"calc(100% - 72px)\";\n                slide.style.boxShadow = \"0px 0px 10px rgba(0, 0, 0, 0.1)\";\n                slide.style.borderRadius = \"8px\";\n                slide.style.backgroundColor = \"white\";\n            });\n        },\n        addWordStyles() {\n            const wrapper = this.$refs['a-preview'].shadowRoot.querySelector('.wrapper');\n\n            if (wrapper) {\n                wrapper.style.border = \"var(--border-color)\";\n                wrapper.style.boxShadow = \"var(--box-shadow)\";\n                wrapper.style.backgroundColor = \"white\";\n                wrapper.style.padding = \"20px\";\n                wrapper.style.margin = \"16px\";\n                wrapper.style.overflow = \"hidden\";\n            }\n        }\n    },\n    watch: {\n        '$store.state.attachment.selectedAttachment': function() {\n            // check if selected attchment is not an empty object\n            if (Object.keys(this.$store.state.attachment.selectedAttachment).length !== 0) {\n                this.attachment = this.$store.state.attachment.selectedAttachment;\n                this.openMsg = false;\n                this.getPreview();\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#em-attachment-preview {\n    width: 60%;\n    height: 100%;\n    overflow: hidden;\n    position: relative;\n\n    #attachment-preview {\n        height: 100%;\n        width: 100%;\n        overflow: hidden;\n        background-color: var(--grey-bg-color);\n\n        &.overflow-x {\n            overflow-x: auto;\n        }\n\n        &.overflow-y {\n            overflow-y: auto;\n        }\n    }\n\n    #msg {\n        position: absolute;\n        top: 20px;\n        left: 8px;\n        padding: 16px;\n        width: calc(100% - 26px);\n        background-color: var(--warning-bg-color);\n        color: var(--warning-color);\n        opacity: 0;\n        z-index: -1;\n        transition: all .3s;\n\n        &.active {\n            opacity: 1;\n            z-index: 2;\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentPreview.vue?vue&type=template&id=1ccd0d64&scoped=true&\"\nimport script from \"./AttachmentPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentPreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentPreview.vue?vue&type=style&index=0&id=1ccd0d64&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ccd0d64\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"attachment-edit\"}},[_c('div',{staticClass:\"wrapper\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.attachment.value))]),_c('div',{staticClass:\"editable-data\"},[_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"description\"}},[_vm._v(_vm._s(_vm.translate('DESCRIPTION'))+\"\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attachment.description),expression:\"attachment.description\"}],attrs:{\"name\":\"description\",\"type\":\"text\",\"disabled\":!_vm.canUpdate},domProps:{\"value\":(_vm.attachment.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.attachment, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"status\"}},[_vm._v(_vm._s(_vm.translate('STATUS')))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.attachment.is_validated),expression:\"attachment.is_validated\"}],attrs:{\"name\":\"status\",\"disabled\":!_vm.canUpdate},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.attachment, \"is_validated\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\" \"+_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_WAITING'))+\" \")]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.translate('VALID'))+\" \")]),_c('option',{attrs:{\"value\":\"-2\"}},[_vm._v(\" \"+_vm._s(_vm.translate('INVALID'))+\" \")])])]),(_vm.canUpdate)?_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"replace\"}},[_vm._v(\" \"+_vm._s(_vm.translate('replace')))]),_c('input',{attrs:{\"type\":\"file\",\"name\":\"replace\",\"accept\":_vm.allowedType},on:{\"change\":_vm.updateFile}})]):_vm._e()]),_c('div',{staticClass:\"non-editable-data\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_SEND_DATE')))]),_c('span',[_vm._v(_vm._s(_vm.formattedDate(_vm.attachment.timedate)))])]),(_vm.attachment.modified_by)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY')))]),_c('span',[_vm._v(_vm._s(_vm.getUserNameById(_vm.attachment.modified_by)))])]):_vm._e(),(_vm.attachment.modified)?_c('div',[_c('span',[_vm._v(_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE')))]),_c('span',[_vm._v(_vm._s(_vm.formattedDate(_vm.attachment.modified)))])]):_vm._e()])]),_c('div',{staticClass:\"actions\"},[(_vm.canUpdate)?_c('button',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.saveChanges}},[_vm._v(_vm._s(_vm.translate('COM_EMUNDUS_ATTACHMENTS_SAVE')))]):_vm._e()]),(_vm.error)?_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import client from './axiosClient';\n\nexport default {\n    async getUsers() {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=users&task=getusers');\n\n            return response.data;\n        } catch (e) {\n            throw e;\n        }\n    },\n    async getUserById(id) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=users&task=getuserbyid', {\n                params: {\n                    id: id\n                }\n            });\n\n            return response.data;\n        } catch (e) {\n            throw new Error(e);\n        }\n    },\n    async getAccessRights(id, fnum) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=users&task=getattachmentaccessrights', {\n                params: {\n                    id: id,\n                    fnum: fnum\n                }\n            });\n\n            return response.data;\n        } catch (e) {\n            console.log(e);\n        }\n    }\n}","import moment from 'moment';\nimport userService from '../services/user.js';\n\nvar mixin = {\n    methods: {\n        formattedDate: function (date) {\n            return moment(date).format('L');\n        },\n        getUserNameById: function (id) {\n            let completeName = '';\n          \n            if (id && id.length > 0) {\n                const user = this.$store.state.user.users[id];\n                if (user) {\n                    completeName = user.firstname + ' ' + user.lastname;\n                } else {\n                    userService.getUserById(id).then(data => {\n                        if (data.status) {\n                            completeName = data.user[0].firstname + ' ' + data.user[0].lastname;\n                            data.user[0].id = id;\n                            this.$store.dispatch('user/setUsers', data.user);\n                        }\n                    });\n                }\n            }\n          \n            return completeName;\n        }\n    }\n}\n\nexport default mixin;","<template>\n    <div id=\"attachment-edit\">\n        <div class=\"wrapper\">\n            <h2 class=\"title\">{{ attachment.value }}</h2>\n            <div class=\"editable-data\">\n                <div class=\"input-group\">\n                    <label for=\"description\">{{ translate('DESCRIPTION')}}</label>\n                    <textarea name=\"description\" type=\"text\" v-model=\"attachment.description\" :disabled=\"!canUpdate\">\n                    </textarea>\n                </div>\n\n                <div class=\"input-group\">\n                    <label for=\"status\">{{ translate('STATUS') }}</label>\n                    <select name=\"status\" v-model=\"attachment.is_validated\" :disabled=\"!canUpdate\">\n                        <option value=0> {{ translate('COM_EMUNDUS_ATTACHMENTS_WAITING') }} </option>\n                        <option value=1> {{ translate('VALID') }} </option>\n                        <option value=-2> {{ translate('INVALID') }} </option>\n                    </select>\n                </div>\n                <div class=\"input-group\" v-if=\"canUpdate\">\n                    <label for=\"replace\"> {{ translate('replace') }}</label>\n                    <input type=\"file\" name=\"replace\" @change=\"updateFile\" :accept=\"allowedType\">\n                </div>\n            </div>\n            <div class=\"non-editable-data\">\n                <div>\n                    <span>{{ translate('COM_EMUNDUS_ATTACHMENTS_SEND_DATE') }}</span>\n                    <span>{{ formattedDate(attachment.timedate) }}</span>\n                </div>\n                <div v-if=\"attachment.modified_by\">\n                    <span>{{ translate('COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY') }}</span>\n                    <span>{{ getUserNameById(attachment.modified_by) }}</span>\n                </div>\n                <div v-if=\"attachment.modified\">\n                    <span>{{ translate('COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE') }}</span>\n                    <span>{{ formattedDate(attachment.modified) }}</span>\n                </div>\n                <!-- TODO: add file size -->\n                <!-- <div v-if=\"attachment.file_size\">\n                    <span>{{ translate('FILE_SIZE') }}</span>\n                    <span> ... kb </span>\n                </div> -->\n            </div>\n        </div>\n        <div class=\"actions\">\n            <button v-if=\"canUpdate\" @click=\"saveChanges\" class=\"btn-primary-vue\">{{ translate('COM_EMUNDUS_ATTACHMENTS_SAVE') }}</button>\n        </div>\n\n        <div v-if=\"error\" class=\"error\">{{ errorMessage }}</div>\n    </div>\n</template>\n\n<script>\nimport attachmentService from '../services/attachment';\nimport mixin from '../mixins/mixin.js';\n\nexport default {\n    name: 'AttachmentEdit',\n    props: {\n        fnum: {\n            type: String,\n            required: true\n        }\n    },\n    mixins: [mixin],\n    data() {\n        return {\n            attachment: {},\n            file: null,\n            canUpdate: false,\n            error: false,\n            errorMessage: ''\n        }\n    },\n    mounted() {\n        this.canUpdate = this.$store.state.user.rights[this.fnum] ? this.$store.state.user.rights[this.fnum].canUpdate : false;\n        this.attachment = this.$store.state.attachment.selectedAttachment;\n    },\n    methods: {\n        async saveChanges() {\n            let formData = new FormData();\n            formData.append('fnum', this.fnum);\n            formData.append('user', this.$store.state.user.currentUser);\n            formData.append('id', this.attachment.aid);\n            formData.append('description', this.attachment.description);\n            formData.append('is_validated', this.attachment.is_validated);\n\n            if (this.file) {\n                formData.append('file', this.file);\n            }\n\n            const response = await attachmentService.updateAttachment(formData);\n\n            if (response.status.update) {\n                this.attachment.modified_by = this.$store.state.user.currentUser;\n\n                this.$store.dispatch('attachment/updateAttachmentOfFnum', {\n                    fnum: this.fnum,\n                    attachment: this.attachment\n                });\n\n                if (response.status.file_update) {\n                    // need to update file preview\n                    const data = await attachmentService.getPreview(this.$store.state.user.displayedUser, this.attachment.filename);\n\n                    // store preview data\n                    this.$store.dispatch('attachment/setPreview', {preview: data, id: this.attachment.aid});\n                }\n\n                this.$emit('saveChanges');\n            } else {\n                this.showError(response.msg);\n            }\n        },\n        updateFile(event) {\n            this.file = event.target.files[0];\n        },\n        showError(error) {\n            this.error = true;\n            this.errorMessage = error;\n\n            setTimeout(() => {\n                this.error = false;\n                this.errorMessage = '';\n            }, 3000);\n        }\n    },\n    computed: {\n        allowedType() {\n            let allowed_type = '';\n\n            if (this.attachment.filename) {\n                allowed_type = '.' + this.attachment.filename.split('.').pop();\n            }\n\n            return allowed_type;\n        }\n    },\n    watch: {\n        '$store.state.attachment.selectedAttachment': function() {\n            // check if selected attchment is not an empty object\n            if (Object.keys(this.$store.state.attachment.selectedAttachment).length !== 0) {\n                this.attachment = this.$store.state.attachment.selectedAttachment;\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#attachment-edit {\n    padding: 16px 16px 16px 10px;\n    height: 100%;\n    width: 40%;\n    float: right;\n    border-left: 1px solid var(--border-color);\n    position: relative;\n\n    .error {\n        position: absolute;\n        margin: 10px 10px;\n        top: 0;\n        left: 0;\n        width: calc(100% - 20px);\n        background-color: var(--error-bg-color);\n        color: var(--error-color);\n        font-size: 1.2em;\n        padding: 16px;\n    }\n\n    .wrapper {\n        width: 100%;\n        height: 100%;\n\n        .title {\n            margin-bottom: 16px;\n        }\n    }\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n\n    .editable-data {\n        width: 100%;\n        overflow: hidden;\n\n        h2 {\n            text-overflow: ellipsis;\n            overflow: hidden;\n        }\n\n        label {\n            font-size: 10px;\n            font-weight: 400 !important;\n            color: var(--grey-color);\n        }\n\n        textarea {\n            border-radius: 0;\n            border-color: transparent;\n            background-color: var(--grey-bg-color);\n\n            &:hover, &:focus {\n                box-shadow: none;\n            }\n        }\n\n        select {\n            width: 100%;\n            height: fit-content;\n            padding: 16px 8px;\n            border-radius: 0;\n        }\n    }\n\n    .non-editable-data {\n        width: 100%;\n        margin-top: 16px;\n        div {\n            width: 100%;\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n            align-items: center;\n            border-bottom: 1px solid var(--border-color);\n            padding: 8px 0;\n\n            span:first-of-type{\n                color: var(--grey-color);\n            }\n\n            &:last-child {\n                border-bottom: none;\n            }\n        }\n    }\n\n    .actions {\n        align-self: flex-end;\n\n        button {\n            transition: all .3s;\n            padding: 8px 12px;\n\n            &:last-of-type {\n                margin-left: 10px;\n            }\n        }\n    }\n\n    .input-group {\n        margin-top: 10px;\n\n        display: flex;\n        flex-direction: column;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachmentEdit.vue?vue&type=template&id=619cb5dc&scoped=true&\"\nimport script from \"./AttachmentEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachmentEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachmentEdit.vue?vue&type=style&index=0&id=619cb5dc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"619cb5dc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"filter-builder\"}},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"rows\"},[_c('div',{staticClass:\"relation\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.andOr),expression:\"andOr\"}],attrs:{\"name\":\"and_or\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.andOr=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"AND\"}},[_vm._v(\"ET\")]),_c('option',{attrs:{\"value\":\"OR\"}},[_vm._v(\"OU\")])])]),_c('div',{staticClass:\"elements\"},_vm._l((_vm.orderedElements),function(element){return _c('div',{key:element.type == 'filter' ? element.id : element.group,staticClass:\"element\"},[(element.type == 'filter')?_c('FilterRow',{staticClass:\"filter-row\",attrs:{\"group\":0,\"id\":element.id},on:{\"removeFilter\":function($event){return _vm.removeFilter($event)}}}):_vm._e(),(element.type == 'group')?_c('FilterGroup',{attrs:{\"id\":element.group},on:{\"removeGroup\":function($event){return _vm.removeGroup($event)}}}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.addGroup}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" add \")]),_vm._v(\"\\n        Ajouter un groupe\\n      \")]),_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.addFilter}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" add \")]),_vm._v(\"\\n        Ajouter un filtre\\n      \")])])]),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.addFilter}},[_vm._v(\"\\n      Annuler\\n    \")]),_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.applyFilters}},[_vm._v(\"\\n      Appliquer les filtres\\n    \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import client from './axiosClient';\n\nexport default {\n    async getFilters(type, id) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=application&task=getfilters', {\n                params: {\n                    type,\n                    id\n                },\n            });\n\n            return response.data;\n        } catch (e) {\n            throw e;\n        }\n    },\n    async mountQuery(id, filters) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=application&task=mountquery', {\n                params: {\n                    id: id,\n                    filters: filters\n                },\n            });\n\n            return response.data;\n        } catch (e) {\n            throw e;\n        }\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"filter-row\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedFilter),expression:\"selectedFilter\"}],attrs:{\"name\":\"filter-name\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedFilter=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.names),function(name){return _c('option',{key:name.id,domProps:{\"value\":name.id}},[_vm._v(\"\\n      \"+_vm._s(_vm.translate(name.label))+\"\\n    \")])}),0),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedAction),expression:\"selectedAction\"}],attrs:{\"name\":\"filter-action\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedAction=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.actions),function(action,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\"\\n      \"+_vm._s(action)+\"\\n    \")])}),0),(_vm.type == 'select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedValue),expression:\"selectedValue\"}],attrs:{\"name\":\"filter-value\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.values),function(value,key){return _c('option',{key:key,domProps:{\"value\":key}},[_vm._v(\"\\n      \"+_vm._s(value)+\"\\n    \")])}),0):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedValue),expression:\"selectedValue\"}],attrs:{\"type\":\"text\",\"name\":\"filter-value\"},domProps:{\"value\":(_vm.selectedValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedValue=$event.target.value}}}),_c('span',{staticClass:\"material-icons delete\",on:{\"click\":_vm.removeFilter}},[_vm._v(\"\\n    clear\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"filter-row\">\n    <!-- <label for=\"filter-name\">Filtres</label> -->\n    <select name=\"filter-name\" v-model=\"selectedFilter\">\n      <option v-for=\"name in names\" :key=\"name.id\" :value=\"name.id\">\n        {{ translate(name.label) }}\n      </option>\n    </select>\n\n    <!-- <label for=\"filter-action\">Actions</label> -->\n    <select\n      name=\"filter-action\"\n      v-model=\"selectedAction\"\n    >\n      <option v-for=\"(action, key) in actions\" :key=\"key\" :value=\"key\">\n        {{ action }}\n      </option>\n    </select>\n\n    <!-- <label for=\"filter-value\">Valeurs</label> -->\n    <select\n      v-if=\"type == 'select'\"\n      name=\"filter-value\"\n      v-model=\"selectedValue\"\n    >\n      <option v-for=\"(value, key) in values\" :key=\"key\" :value=\"key\">\n        {{ value }}\n      </option>\n    </select>\n    <input\n      v-else\n      type=\"text\"\n      name=\"filter-value\"\n      v-model=\"selectedValue\"\n    />\n\n    <span class=\"material-icons delete\" @click=\"removeFilter\">\n      clear\n    </span>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    },\n    group: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      selectedFilter: null,\n      selectedAction: null,\n      selectedValue: null,\n      names: [],\n    };\n  },\n  mounted() {\n    this.names = this.$store.state.filterBuilder.filters.map((filter, index) => {\n      if (index == 0) {\n        this.selectedFilter = filter.id;\n      }\n      return {\n        id: filter.id,\n        label: filter.label,\n      };\n    });\n\n    if (\n      this.$store.state.filterBuilder.queryFilters.groups[this.group] &&\n      this.$store.state.filterBuilder.queryFilters.groups[this.group].filters &&\n      this.$store.state.filterBuilder.queryFilters.groups[this.group].filters[this.id]\n    ) {\n      this.selectedFilter = this.$store.state.filterBuilder.queryFilters.groups[this.group].filters[this.id].id;\n      this.selectedAction = this.$store.state.filterBuilder.queryFilters.groups[this.group].filters[this.id].action;\n      this.selectedValue = this.$store.state.filterBuilder.queryFilters.groups[this.group].filters[this.id].value;\n    } else {\n      this.updateFilter();\n    }\n  },\n  methods: {\n    updateFilter() {\n      // update the actions and the values based on name selected\n      this.$store.dispatch(\"filterBuilder/updateQueryFilters\", {\n        group: this.group,\n        id: this.id,\n        filter: {\n          id: this.selectedFilter,\n          action: this.selectedAction,\n          value: this.selectedValue,\n        },\n      });\n    },\n    removeFilter() {\n      this.$store.dispatch(\"filterBuilder/removeQueryFilter\", {\n        group: this.group,\n        id: this.id,\n      });\n\n      this.$emit(\"removeFilter\", this.id);\n    },\n  },\n  computed: {\n    actions() {\n      const filter = this.$store.state.filterBuilder.filters.find(\n        (filter) => filter.id == this.selectedFilter\n      );\n      return filter ? filter.actions : [];\n    },\n    values() {\n      const filter = this.$store.state.filterBuilder.filters.find(\n        (filter) => filter.id == this.selectedFilter\n      );\n      return filter ? filter.values : [];\n    },\n    type() {\n      const filter = this.$store.state.filterBuilder.filters.find(\n        (filter) => filter.id == this.selectedFilter\n      );\n      return filter ? filter.type : null;\n    },\n  },\n  watch: {\n    selectedFilter() {\n      this.updateFilter();\n    },\n    selectedAction() {\n      this.updateFilter();\n    },\n    selectedValue() {\n      this.updateFilter();\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.filter-row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin: 8px 0;\n  padding: 8px 16px;\n  background-color: var(--grey-bg-color);\n  border-radius: 4px;\n\n  select,\n  input {\n    height: 32px;\n    margin: 0 16px 0 0;\n  }\n\n  .delete {\n    cursor: pointer;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterRow.vue?vue&type=template&id=d67bffde&scoped=true&\"\nimport script from \"./FilterRow.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterRow.vue?vue&type=style&index=0&id=d67bffde&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d67bffde\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"group\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"rows\"},[_c('div',{staticClass:\"relation\"},[_c('label',[_vm._v(\"Condition\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.andOr),expression:\"andOr\"}],attrs:{\"name\":\"and_or\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.andOr=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"AND\"}},[_vm._v(\"ET\")]),_c('option',{attrs:{\"value\":\"OR\"}},[_vm._v(\"OU\")])])]),_vm._l((_vm.filters),function(filter){return _c('FilterRow',{key:filter,staticClass:\"filter\",attrs:{\"group\":_vm.id,\"id\":filter},on:{\"removeFilter\":function($event){return _vm.removeFilter(filter)}}})})],2),_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"btn-primary-vue\",on:{\"click\":_vm.addFilter}},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\" add \")]),_vm._v(\"\\n        Ajouter un filtre\\n      \")])])]),_c('span',{staticClass:\"material-icons delete\",on:{\"click\":_vm.removeGroup}},[_vm._v(\"\\n    clear\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"group\">\n    <div class=\"wrapper\">\n      <div class=\"rows\">\n        <div class=\"relation\">\n          <label>Condition</label>\n          <select name=\"and_or\" v-model=\"andOr\">\n            <option value=\"AND\">ET</option>\n            <option value=\"OR\">OU</option>\n          </select>\n        </div>\n        <FilterRow\n          :group=\"id\"\n          :id=\"filter\"\n          class=\"filter\"\n          v-for=\"filter in filters\"\n          :key=\"filter\"\n          @removeFilter=\"removeFilter(filter)\"\n        ></FilterRow>\n      </div>\n      <div class=\"actions\">\n        <div class=\"btn-primary-vue\" @click=\"addFilter\">\n          <span class=\"material-icons\"> add </span>\n          Ajouter un filtre\n        </div>\n      </div>\n    </div>\n    <span class=\"material-icons delete\" @click=\"removeGroup\">\n      clear\n    </span>\n  </div>\n</template>\n\n<script>\nimport FilterRow from \"./FilterRow.vue\";\n\nexport default {\n  name: \"FilterGroup\",\n  props: {\n    id: {\n      type: Number,\n      required: true,\n    }\n  },\n  components: {\n    FilterRow,\n  },\n  data() {\n    return {\n      andOr: \"AND\",\n      filters: [],\n    };\n  },\n  mounted() {\n    this.filters = this.$store.state.filterBuilder.queryFilters.groups[this.id] ? Object.entries(this.$store.state.filterBuilder.queryFilters.groups[this.id].filters).map(filter => Number(filter[0])) : [];\n  },\n  methods: {\n    addFilter() {\n      this.filters.push(Math.floor(Math.random() * Date.now()));\n    },\n    removeFilter(filterId) {\n      this.filters = this.filters.filter(filter => filter !== filterId);\n    },\n    removeGroup() {\n      this.$store.dispatch(\"filterBuilder/removeGroup\", this.id);\n\n      this.$emit(\"removeGroup\", this.id);\n    },\n  },\n  watch: {\n    andOr() {\n      this.$store.dispatch(\"filterBuilder/updateAndOr\", {\n        group: this.id,\n        and_or: this.andOr,\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.group {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin: 20px 0 20px 40px;\n\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    padding: 16px;\n    border: 1px solid var(--border-color);\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterGroup.vue?vue&type=template&id=f9ec7590&scoped=true&\"\nimport script from \"./FilterGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterGroup.vue?vue&type=style&index=0&id=f9ec7590&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9ec7590\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"filter-builder\">\n    <div class=\"filters\">\n      <div class=\"rows\">\n        <div class=\"relation\">\n          <select name=\"and_or\" v-model=\"andOr\">\n            <option value=\"AND\">ET</option>\n            <option value=\"OR\">OU</option>\n          </select>\n        </div>\n        <div class=\"elements\">\n          <div\n            class=\"element\"\n            v-for=\"element in orderedElements\"\n            :key=\"element.type == 'filter' ? element.id : element.group\"\n          >\n            <FilterRow\n              v-if=\"element.type == 'filter'\"\n              class=\"filter-row\"\n              @removeFilter=\"removeFilter($event)\"\n              :group=\"0\"\n              :id=\"element.id\"\n            ></FilterRow>\n            <FilterGroup\n              v-if=\"element.type == 'group'\"\n              :id=\"element.group\"\n              @removeGroup=\"removeGroup($event)\"\n            ></FilterGroup>\n          </div>\n        </div>\n      </div>\n      <div class=\"actions\">\n        <div class=\"btn-primary-vue\" @click=\"addGroup\">\n          <span class=\"material-icons\"> add </span>\n          Ajouter un groupe\n        </div>\n        <div class=\"btn-primary-vue\" @click=\"addFilter\">\n          <span class=\"material-icons\"> add </span>\n          Ajouter un filtre\n        </div>\n      </div>\n    </div>\n    <div class=\"actions\">\n      <div class=\"btn-primary-vue\" @click=\"addFilter\">\n        Annuler\n      </div>\n      <div class=\"btn-primary-vue\" @click=\"applyFilters\">\n        Appliquer les filtres\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport filterService from \"../../services/filter\";\nimport FilterRow from \"./FilterRow.vue\";\nimport FilterGroup from \"./FilterGroup.vue\";\n\nexport default {\n  name: \"FilterBuilder\",\n  components: {\n    FilterRow,\n    FilterGroup,\n  },\n  props: {\n    type: {\n      type: String,\n      default: \"list\",\n    },\n    id: {\n      type: String,\n      default: \"70\",\n    },\n  },\n  data() {\n    return {\n      andOr: \"AND\",\n      orderedElements: [],\n    };\n  },\n  mounted() {\n    this.getFilters();\n  },\n  methods: {\n    async getFilters() {\n      const response = await filterService.getFilters(this.type, this.id);\n\n      if (response.status == true) {\n        this.$store.dispatch(\"filterBuilder/setFilters\", response.filters);\n      }\n    },\n    async applyFilters() {\n      if (Object.entries(this.$store.state.filterBuilder.queryFilters.groups[0].filters).length > 0 || this.$store.state.filterBuilder.queryFilters.groups.length > 1) {\n        // build query and send result ? or just send the filters ?\n        const response = await filterService.mountQuery(this.id, this.$store.state.filterBuilder.queryFilters);\n\n        if (response.status == true) {\n          this.$emit(\"applyFilters\", response.query);\n        }\n      }\n    },\n    addFilter() {\n      this.orderedElements.push({\n        type: \"filter\",\n        group: 0,\n        id: Math.floor(Math.random() * Date.now()),\n      });\n    },\n    addGroup() {\n      this.orderedElements.push({\n        type: \"group\",\n        group: Math.floor(Math.random() * Date.now()),\n      });\n    },\n\n    /**\n     * Tips for v-for => avoid using index as key\n     * When you remove an item of your array, you shift every index from the removal point up by one, which means only one index disappears from the array: the last one.\n     */\n    removeFilter(id) {\n      // find filter position \n      const index = this.orderedElements.findIndex((element) => {\n        return element.id == id;\n      });\n      // remove filter\n      this.orderedElements.splice(index, 1);\n    },\n    removeGroup(id) {\n      // find filter position \n      const index = this.orderedElements.findIndex((element) => {\n        return element.group == id;\n      });\n      // remove filter\n      this.orderedElements.splice(index, 1);\n    },\n  },\n  watch: {\n    andOr() {\n      this.$store.dispatch(\"filterBuilder/updateAndOr\", {\n        group: 0,\n        and_or: this.andOr,\n      });\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#filter-builder {\n  width: fit-content;\n  background-color: white;\n  padding: 16px;\n  border-radius: 4px;\n  margin: 20px;\n\n  .filter-row {\n    margin-left: 40px;\n  }\n\n  .actions {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-top: 20px;\n\n    .btn-primary-vue {\n      margin-left: 10px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterBuilder.vue?vue&type=template&id=e0f79a0a&scoped=true&\"\nimport script from \"./FilterBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterBuilder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterBuilder.vue?vue&type=style&index=0&id=e0f79a0a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0f79a0a\",\n  null\n  \n)\n\nexport default component.exports","import client from './axiosClient';\n\nexport default {\n    async getFnums() {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=files&task=getallfnums');\n\n            return response.data;\n        } catch (e) {\n            console.error(e);\n        }\n    },\n\n    async getFnumInfos(fnum) {\n        try {\n            const response = await client().get('index.php?option=com_emundus&controller=files&task=getfnuminfos',  {\n                params: {\n                    fnum\n                }\n            });\n\n            return response.data;\n        } catch (e) {\n            console.log(e);\n        }\n    }\n}","<template>\n    <div id=\"em-attachments\">\n        <div class=\"head\">\n          <div class=\"prev-next-files\" v-if=\"fnums.length > 1\">\n            <div class=\"prev\" :class=\"{'active': fnumPosition > 0}\" @click=\"changeFile(fnumPosition - 1)\">\n              <!--\n                For new header\n                <span class=\"material-icons\">\n                navigate_before\n              </span> -->\n              <i class=\"small arrow left icon\"></i>\n            </div>\n            <div class=\"next\" :class=\"{'active': fnumPosition < fnums.length - 1}\" @click=\"changeFile(fnumPosition + 1)\">\n              <!--\n                For new header\n                <span class=\"material-icons\">\n                navigate_next\n              </span> -->\n              <i class=\"small arrow right icon\"></i>\n            </div>\n          </div>\n          <div class=\"displayed-user\">\n            <p class=\"name\">{{ displayedUser.firstname }} {{ displayedUser.lastname }} </p>\n            <p class=\"email\">{{ displayedUser.email }}</p>\n          </div>\n        </div>\n        <div class=\"wrapper\" :class=\"{'loading': loading}\">\n          <div id=\"filters\">\n            <div class=\"searchbar-wrapper\">\n              <input id=\"searchbar\" type=\"text\" ref=\"searchbar\" :placeholder=\"translate('SEARCH')\" @input=\"searchInFiles\">\n              <span class=\"material-icons\">search</span>\n            </div>\n            <div class=\"actions\">\n              <FilterBuilder id=\"70\" @applyFilters=\"filterAttachmentSelection\"></FilterBuilder>\n              <select name=\"category\" @change=\"filterByCategory\">\n                <option value=\"all\">{{ translate('SELECT_CATEGORY') }}</option>\n                <option v-for=\"(category, key) in categories\" :key=\"key\" :value=\"key\">{{ category }} </option>\n              </select>\n              <div v-if=\"canExport\" class=\"btn-icon-text\" @click=\"exportAttachments\" :class=\"{'disabled': checkedAttachments.length < 1}\">\n                <span class=\"material-icons export\">\n                  file_upload\n                </span>\n                <span>\n                  {{ translate('EXPORT') }}\n                </span>\n              </div>\n              <span class=\"material-icons refresh\" @click=\"refreshAttachments\" :title=\"translate('COM_EMUNDUS_ATTACHMENTS_REFRESH_TITLE')\">\n                autorenew\n              </span>\n              <span v-if=\"canDelete\" class=\"material-icons delete\" :class=\"{'disabled': checkedAttachments.length < 1}\" @click=\"confirmDeleteAttachments\" :title=\"translate('COM_EMUNDUS_ATTACHMENTS_DELETE_TITLE')\">\n                delete_outlined\n              </span>\n            </div>\n          </div>\n          <table v-if=\"attachments.length\" :class=\"{'loading': loading}\">\n            <thead>\n                <tr>\n                    <th>\n                      <input class=\"attachment-check\" type=\"checkbox\" @change=\"updateAllCheckedAttachments\">\n                    </th>\n                    <th @click=\"orderBy('value')\"> \n                      {{ translate('NAME') }}\n                      <span v-if=\"sort.orderBy == 'value' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'value' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                    <th class='date' @click=\"orderBy('timedate')\"> \n                      {{ translate('COM_EMUNDUS_ATTACHMENTS_SEND_DATE') }}\n                      <span v-if=\"sort.orderBy == 'timedate' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'timedate' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                    <th class='category' @click=\"orderBy('category')\"> \n                      {{ translate('COM_EMUNDUS_ATTACHMENTS_CATEGORY') }}\n                      <span v-if=\"sort.orderBy == 'category' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'category' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                    <th class='desc' @click=\"orderBy('description')\"> \n                      {{ translate('DESCRIPTION') }}\n                      <span v-if=\"sort.orderBy == 'description' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'description' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                    <th class='status' @click=\"orderBy('is_validated')\"> \n                      {{ translate('STATUS') }}\n                      <span v-if=\"sort.orderBy == 'is_validated' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'is_validated' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                    <th @click=\"orderBy('modified_by')\"> \n                      {{ translate('COM_EMUNDUS_ATTACHMENTS_MODIFIED_BY') }}\n                      <span v-if=\"sort.orderBy == 'modified_by' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'modified_by' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                    <th class='date' @click=\"orderBy('modified')\"> \n                      {{ translate('COM_EMUNDUS_ATTACHMENTS_MODIFICATION_DATE') }}\n                      <span v-if=\"sort.orderBy == 'modified' && sort.order == 'asc'\" class=\"material-icons\">arrow_upward</span>\n                      <span v-if=\"sort.orderBy == 'modified' && sort.order == 'desc'\" class=\"material-icons\">arrow_downward</span>\n                    </th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr \n                  v-for=\"attachment in displayedAttachments\" \n                  :key=\"attachment.aid\"\n                  :class=\"{'checked': checkedAttachments.includes(attachment.aid)}\">\n                    <td>\n                      <input class=\"attachment-check\" type=\"checkbox\" @change=\"updateCheckedAttachments(attachment.aid)\" :checked=\"checkedAttachments.includes(attachment.aid)\">\n                    </td>\n                    <td class=\"td-document\" @click=\"openModal(attachment)\">{{ attachment.value }}</td>\n                    <td class='date'>{{ formattedDate(attachment.timedate) }}</td>\n                    <td class='category'>{{ categories[attachment.category] ? translate(categories[attachment.category]) : attachment.category }}</td>\n                    <td class=\"desc\">{{ attachment.description }}</td>\n                    <td class=\"status valid-state\" :class=\"{\n                      'success': attachment.is_validated == 1, \n                      'error': attachment.is_validated == -2\n                      }\">\n                      <span v-if=\"attachment.is_validated == 1\">{{ translate('VALID') }}</span>\n                      <span v-else-if=\"attachment.is_validated == -2\">{{ translate('INVALID') }}</span>\n                      <span v-else>{{ translate('COM_EMUNDUS_ATTACHMENTS_WAITING') }}</span>\n                    </td>\n                    <td>{{ getUserNameById(attachment.modified_by) }}</td>\n                    <td class='date'>{{ formattedDate(attachment.modified) }}</td>\n                </tr>\n            </tbody>\n          </table>\n          <p v-else>{{ translate('COM_EMUNDUS_ATTACHMENTS_NO_ATTACHMENTS_FOUND') }}</p>\n        </div>\n        \n        <modal \n          id=\"edit-modal\" \n          name=\"edit\"\n          height=\"70%\"\n          width=\"70%\"\n          :minWidth=\"690\"\n          :minHeight=\"550\"\n          styles=\"display:flex;flex-direction:column;justify-content:center;align-items:center;\">\n          <div class=\"modal-head\">\n            <div class=\"flex-start\">\n              <span class=\"material-icons\" @click=\"closeModal\">\n                navigate_before\n              </span>\n              <span>{{ selectedAttachment.filename }}</span>\n            </div>\n            <div class=\"flex-end\">\n              <div class=\"prev-next-attachments\">\n                <div class=\"prev\" :class=\"{'active': selectedAttachmentPosition > 0}\" @click=\"changeAttachment(selectedAttachmentPosition - 1, true)\">\n                  <span class=\"material-icons\">\n                    navigate_before\n                  </span>\n                </div>\n                <span class=\"lvl\">{{ selectedAttachmentPosition + 1 }} / {{ displayedAttachments.length }}</span>\n                <div class=\"next\" :class=\"{'active': selectedAttachmentPosition < displayedAttachments.length - 1}\" @click=\"changeAttachment(selectedAttachmentPosition + 1)\">\n                  <span class=\"material-icons\">\n                    navigate_next\n                  </span>\n                </div>\n              </div>\n              <a :href=\"attachmentPath\" class=\"download btn-icon-text\" download>\n                <span class=\"material-icons\">\n                  file_download\n                </span>\n\n                <span>{{ translate('LINK_TO_DOWNLOAD') }}</span>\n              </a>\n            </div>\n          </div>\n          <transition :name=\"slideTransition\" @before-leave=\"beforeLeaveSlide\">\n            <div class=\"modal-body\" v-if=\"!modalLoading\">\n              <AttachmentPreview></AttachmentPreview>\n              <AttachmentEdit @closeModal=\"closeModal\" @saveChanges=\"updateAttachment\" :fnum=\"displayedFnum\"></AttachmentEdit>\n            </div>\n          </transition>\n        </modal>\n    \t  <div class=\"vue-em-loader\" v-if=\"loading\"></div>\n    </div>\n</template>\n\n<script>\nimport AttachmentPreview from '../components/AttachmentPreview.vue';\nimport AttachmentEdit from '../components/AttachmentEdit.vue';\nimport FilterBuilder from '../components/FilterBuilder/FilterBuilder.vue';\nimport attachmentService from '../services/attachment.js';\nimport userService from '../services/user.js';\nimport fileService from '../services/file.js';\nimport mixin from '../mixins/mixin.js';\nimport Swal from \"sweetalert2\";\n\nexport default {\n  name: 'Attachments',\n  components: {\n    AttachmentPreview,\n    AttachmentEdit,\n    FilterBuilder\n  },\n  props: {\n    user: {\n      type: String,\n      required: true,\n    },\n    fnum: {\n      type: String,\n      required: true,\n    }\n  },\n  mixins: [mixin],\n  data() {\n    return {\n      loading: true,\n      attachments: [],\n      categories: {},\n      fnums: [],\n      users: {},\n      displayedUser: {},\n      displayedFnum: this.fnum,\n      checkedAttachments: [],\n      selectedAttachment: {},\n      sort: {\n        last: \"\",\n        order: \"\",\n        orderBy: \"\"\n      },\n      canExport: false,\n      canDelete: false,\n      modalLoading: false,\n      slideTransition: \"slide-fade\"\n    };\n  },\n  mounted() {\n    this.getFnums();\n    this.getUsers();\n    this.getAttachments();\n    this.setAccessRights();\n  },\n  methods: {\n    // Getters and setters\n    async getFnums() {\n      this.fnums = await fileService.getFnums(this.user);\n    },\n    async getUsers() {\n      this.users = await userService.getUsers();\n      this.$store.dispatch('user/setUsers', this.users);\n      this.$store.dispatch('user/setCurrentUser', this.user);\n\n      this.setDisplayedUser();\n    },\n    async setDisplayedUser() {\n      const response = await fileService.getFnumInfos(this.displayedFnum);\n      this.displayedUser = this.users.find(user => user.id == response.fnumInfos.applicant_id);\n      this.$store.dispatch('user/setDisplayedUser', this.displayedUser.id);\n    },\n    async getCategories() {\n      const response = await attachmentService.getAttachmentCategories();\n      if (response.status) {\n        // translate categories values\n        Object.entries(response.categories).forEach(([key, value]) => {\n          response.categories[key] = this.translate(value);\n        });\n\n        // Add attachment categories if not already given by the server\n        this.attachments.forEach(attachment => {\n          if (!response.categories[attachment.category] && attachment.category != \"\") {\n            response.categories[attachment.category] = this.translate(attachment.category);\n          }\n        });\n\n        // remove empty categories\n        delete response.categories[\"\"];\n        \n        this.$store.dispatch('attachment/setCategories', response.categories);\n        this.categories = this.$store.state.attachment.categories;\n      }\n    },\n    async getAttachments() {\n      if (!this.$store.state.attachment.attachments[this.displayedFnum]) {\n        this.refreshAttachments();\n      } else {\n        this.loading = true;\n        this.attachments = this.$store.state.attachment.attachments[this.displayedFnum];\n        this.categories = this.$store.state.attachment.categories;\n        this.loading = false;\n      }\n    },\n    async refreshAttachments() {\n        this.loading = true;\n        this.resetOrder();\n        this.checkedAttachments = [];\n        this.$refs['searchbar'].value = \"\";\n        this.attachments = await attachmentService.getAttachmentsByFnum(this.displayedFnum);\n\n        this.$store.dispatch('attachment/setAttachmentsOfFnum', {\n          fnum: [this.displayedFnum],\n          attachments: this.attachments\n        });\n\n        this.getCategories();\n        this.loading = false;\n    }, \n    updateAttachment() {\n      this.resetOrder();\n      this.getAttachments();\n      this.$modal.hide('edit');\n      this.selectedAttachment = {};\n    },\n    async setAccessRights() {\n      if (!this.$store.state.user.rights[this.displayedFnum]) {\n        const response = await userService.getAccessRights(this.$store.state.user.currentUser, this.displayedFnum);\n\n        if (response.status == true) {\n          this.$store.dispatch('user/setAccessRights', {\n            fnum: this.displayedFnum,\n            rights: response.rights\n          });\n        }\n      } \n\n      this.canExport = this.$store.state.user.rights[this.displayedFnum] ? this.$store.state.user.rights[this.displayedFnum].canExport : false;\n      this.canDelete = this.$store.state.user.rights[this.displayedFnum] ? this.$store.state.user.rights[this.displayedFnum].canDelete : false;\n    },\n    async exportAttachments() {\n      if (this.canExport) {\n        attachmentService.exportAttachments(this.displayedUser.id, this.displayedFnum, this.checkedAttachments).then((response) => {\n          if (response.data.status == true) {\n            window.open(response.data.link, '_blank');\n          }\n        })\n      }\n    },\n\n    confirmDeleteAttachments() {\n      if (this.canDelete) {\n        let html = '<p>' + this.translate('CONFIRM_DELETE_SELETED_ATTACHMENTS') +  '</p><br>';\n\n        let list = '';\n        this.checkedAttachments.forEach(aid => {\n          this.attachments.forEach((attachment) => {\n            if (attachment.aid == aid) {\n              list += attachment.value + \", \";\n            }\n          });\n        });\n\n        // remove last \", \"\n        list = list.substring(0, list.length - 2);\n        html += '<p>' + list + '</p>';\n\n        Swal.fire(\n          {\n            title: this.translate('DELETE_SELECTED_ATTACHMENTS'),\n            html: html,\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: this.translate('JYES'),\n            cancelButtonText: this.translate('JNO'),\n            reverseButtons: true\n          }\n        ).then((result) => {\n          if (result.value) {\n            this.deleteAttachments();\n          }\n        });\n      } else {\n        Swal.fire(\n          {\n            title: this.translate('ERROR'),\n            text: this.translate('YOU_NOT_HAVE_PERMISSION_TO_DELETE_ATTACHMENTS'),\n            type: 'error',\n            confirmButtonColor: '#3085d6',\n            confirmButtonText: this.translate('JCLOSE')\n          }\n        );\n      }\n    },\n    async deleteAttachments() {\n      if (this.canDelete) {\n        // remove all checked attachments from attachments array\n        this.attachments = this.attachments.filter(attachment => !this.checkedAttachments.includes(attachment.aid));\n\n        // delete all checkedAttachments\n        const response = await attachmentService.deleteAttachments(this.displayedFnum, this.displayedUser.id, this.checkedAttachments);\n        if (response.status == true) {\n          // Display tooltip deleted succesfully  \n        }\n      } else {\n        Swal.fire(\n          {\n            title: this.translate('ERROR'),\n            text: this.translate('YOU_NOT_HAVE_PERMISSION_TO_DELETE_ATTACHMENTS'),\n            type: 'error',\n            confirmButtonColor: '#3085d6',\n            confirmButtonText: this.translate('JCLOSE')\n          }\n        );\n      }\n    },\n\n    // navigation functions\n    changeFile(position) {\n      this.displayedFnum = this.fnums[position];\n      this.setDisplayedUser();\n      this.getAttachments();\n      this.setAccessRights();\n    },\n    changeAttachment(position, reverse = false) {\n      this.slideTransition = reverse ? \"slide-fade-reverse\" : \"slide-fade\";\n      this.modalLoading = true;\n      this.selectedAttachment = this.displayedAttachments[position];\n      this.$store.dispatch('attachment/setSelectedAttachment', this.selectedAttachment);\n\n      setTimeout(() => {\n        this.modalLoading = false;\n      }, 500);\n    },\n\n    // Front methods\n    searchInFiles() {\n      this.attachments.forEach((attachment, index) => {\n        // if attachment description contains the search term, show it\n        // lowercase the search term to avoid case sensitivity\n        if (attachment.description.toLowerCase().includes(this.$refs[\"searchbar\"].value.toLowerCase()) || attachment.value.toLowerCase().includes(this.$refs[\"searchbar\"].value.toLowerCase())) {\n          this.attachments[index].show = true;\n        } else {\n          // remove attachments from checkedAttachment list\n          this.checkedAttachments = this.checkedAttachments.filter(aid => aid !== attachment.aid);\n          this.attachments[index].show = false;\n        }\n      });\n    },\n    resetOrder() {\n      this.sort = {\n        last: \"\",\n        order: \"\",\n        orderBy: \"\"\n      }\n    },\n    orderBy(key) {\n      // if last sort is the same as the current sort, reverse the order\n      if (this.sort.last == key) {\n        this.sort.order = this.sort.order == \"asc\" ? \"desc\" : \"asc\";\n        this.attachments.reverse();\n      } else {\n        // sort in ascending order by key\n        this.attachments.sort((a, b) => {\n          if (a[key] < b[key]) {\n            return -1;\n          }\n          if (a[key] > b[key]) {\n            return 1;\n          }\n          return 0;\n        });\n\n        this.sort.order = \"asc\";\n      }\n\n      this.sort.orderBy = key;\n      this.sort.last = key;\n    },\n    filterByCategory(e) {\n      this.attachments.forEach(attachment => {\n        if (e.target.value == \"all\") {\n          attachment.show = true;\n        } else {\n          if (attachment.category == e.target.value) {\n            attachment.show = true;\n          } else {\n            // remove attachments from checkedAttachment list\n            this.checkedAttachments = this.checkedAttachments.filter(aid => aid !== attachment.aid);\n            attachment.show = false;\n          }\n        }\n      });\n    },\n    async filterAttachmentSelection(sqlRequest) {\n      this.loading = true;\n      const response = await attachmentService.filterAttachmentSelection(this.displayedFnum, sqlRequest);\n      \n      if (response.status == true) {\n        this.attachments = response.data;\n        this.checkedAttachments = [];\n        this.resetOrder();\n      }\n      this.loading = false;\n    },\n    updateAllCheckedAttachments(e) {\n      if (e.target.checked) {\n        // check all input that has class attachment-check and add them to the checkedAttachments array\n        this.checkedAttachments = this.displayedAttachments.map(attachment => attachment.aid);\n      } else {\n        this.checkedAttachments = [];\n      }\n    },\n    updateCheckedAttachments(aid) {\n      if (this.checkedAttachments.contains(aid)) {\n        this.checkedAttachments.splice(this.checkedAttachments.indexOf(aid), 1);\n      } else {\n        this.checkedAttachments.push(aid);\n      }\n    },\n\n    // Modal methods\n    openModal(attachment) {\n      this.$modal.show('edit');\n      this.selectedAttachment = attachment;\n      this.$store.dispatch('attachment/setSelectedAttachment', attachment);\n    },\n    closeModal() {\n      this.$modal.hide('edit');\n      this.selectedAttachment = {};\n      this.$store.dispatch('attachment/setSelectedAttachment', {});\n    },\n\n    // Transition hooks\n    beforeLeaveSlide(el) {\n      if (this.slideTransition == \"slide-fade\") {\n        el.style.transform = \"translateX(-100%)\";\n      }\n\n      el.setAttribute('class', 'modal-body ' + this.slideTransition + '-leave-active ' + this.slideTransition + '-leave-to');\n    },\n  },\n  computed: {\n    displayedAttachments() {\n      return this.attachments.filter(attachment => {\n        return (attachment.show == true || attachment.show == undefined) && attachment.can_be_viewed;\n      });\n    },\n    fnumPosition() {\n      return this.fnums.indexOf(this.displayedFnum);\n    },\n    selectedAttachmentPosition() {\n      return this.displayedAttachments.indexOf(this.selectedAttachment);\n    },\n    attachmentPath() {\n      return this.$store.state.attachment.attachmentPath + this.displayedUser.id + '/' + this.selectedAttachment.filename;\n    }\n  }\n};\n</script>\n\n<style lang='scss' scoped>\n#em-attachments {\n  font-size: 14px;\n\n  .head {\n    /**\n    * New Header Style, keep for later\n    */\n    // height: 40px;\n    // display: flex;\n    // flex-direction: row;\n    // justify-content: flex-start;\n    // align-items: center;\n\n    // margin-bottom: 16px;\n\n    // .displayed-user {\n    //   .name {\n    //     font-size: 18px;\n    //     font-weight: 800;\n    //     line-height: 23px;\n    //   }\n\n    //   .email {\n    //     font-size: 12px;\n    //   }\n    // }\n\n    // .prev-next-files {\n    //   display: flex;\n    //   flex-direction: row;\n    //   justify-content: space-between;\n    //   align-items: center;\n\n    //   >div {\n    //     pointer-events: none;\n    //     display: flex;\n    //     flex-direction: row;\n    //     justify-content: center;\n    //     align-items: center;\n    //     margin: 0 8px;\n    //     height: 40px;\n    //     width: 40px;\n    //     border: 1px solid #E3E5E8;\n\n    //     &.prev {\n    //       margin-right: 0;\n    //       border-radius: 4px 0px 0px 4px;\n    //     }\n\n    //     &.next {\n    //       border-radius: 0px 4px 4px 0px;\n    //     }\n\n    //     &.active {\n    //       pointer-events: auto;\n    //       cursor: pointer;\n    //     }\n    //   }\n    // }\n\n    /** \n    * Old Header Style\n    * todo: remove this later\n    */\n    width: 100%;\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 1px; \n    padding: 10px;\n    min-height: 50px;\n    background-color: var(--primary-color);\n\n    .displayed-user {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: baseline;\n\n      p {\n        color: var(--text-light-color);\n      }\n\n      .name {\n        font-size: 18px;\n        font-weight: 800;\n        line-height: 23px;\n      }\n\n      .email {\n        margin-left: 8px !important;\n        font-size: 12px;\n      }\n    }\n\n    .prev-next-files {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      margin-right: 12px;\n\n      >div {\n        pointer-events: none;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        color: transparent;\n        transition: all .3s;\n\n        i {\n          height: 30px;\n          width: 30px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          margin: 0;\n        }\n\n        &.active {\n          color: var(--text-light-color);\n          pointer-events: auto;\n          cursor: pointer;\n        }\n\n        &:hover {\n          border-radius: 4px;\n          background-color: var(--text-light-color);\n          color: var(--primary-color);\n        }\n      }\n    }\n  }\n\n  #filters {\n    margin-bottom: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n\n    .searchbar-wrapper {\n      position: relative;\n      .material-icons {\n        position: absolute;\n        top: 11px;\n        left: 18px;\n      }\n\n      #searchbar {\n        padding-left: 40px;\n        height: 40px;\n        border: 1px solid var(--border-color);\n      }\n    }\n\n    .actions {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: flex-end;\n\n      .export {\n        margin-right: 8px;\n      }\n\n      select {\n        height: 37px;\n        border: 1px solid var(--border-color);\n      }\n\n      >div, >select {\n        margin-right: 8px;\n        \n        &.disabled {\n          color: var(--disabled-color);\n          pointer-events: none;\n\n          .material-icons {\n            color: var(--disabled-color);\n          }\n        }\n      }\n    }\n    \n    .refresh {\n      transition: transform .6s;\n      cursor: pointer;\n      margin: 0 0 0 8px;\n\n      &:hover {\n        transform: rotate(360deg);\n        color: var(--primary-color);\n      }\n    }\n\n    input {\n      align-self: flex-start;\n      width: 221px;\n    }\n  }\n\n  .wrapper {\n    margin: 20px;\n    width: calc(100% - 40px);\n\n    &.loading {\n      min-height: 50vh;\n    }\n\n    .material-icons.delete {\n      transition: all .3s;\n      width: 30px;\n      color: var(--grey-color);\n\n      &.disabled {\n        color: var(--disabled-color);\n        pointer-events: none;\n      }\n\n      &:hover {\n        cursor: pointer;\n        color: var(--error-color);\n      }\n    }\n  }\n\n  table {\n    &.loading {\n      visibility: hidden;\n    }\n\n    border: 0;\n\n    tr {\n      th:first-of-type {\n        width: 39px;\n        input {\n          margin-right: 0px;\n        }\n      }\n    }\n\n    tr, th {\n      height: 49px;\n      background: transparent;\n      background-color: transparent;\n    }\n\n    td, th {\n      width: fit-content;\n    }\n\n    th.desc, td.desc {\n      max-width: 250px;\n      width: initial;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    th.status, td.status {\n      min-width: 100px;\n      white-space: nowrap;\n    }\n\n    thead {\n      tr {\n        th {\n          border-top: 1px solid #e0e0e0;\n          border-bottom: 1px solid #e0e0e0;\n          white-space: nowrap;\n\n          .material-icons {\n            transform: translateY(3px);\n          }\n        }\n      }\n    }\n\n    tbody {\n      tr {\n        border-bottom: 1px solid #e0e0e0;\n        &:hover:not(.checked) {\n          background-color: #F2F2F3;\n        }\n\n        &.checked {\n          background-color: #F0F6FD;  \n        }\n      }\n\n      .valid-state {\n        span {\n          padding: 4px 8px;\n          border-radius: 4px;\n\n          color: var(--warning-color);\n          background-color:  var(--warning-bg-color);\n        }\n\n        &.success {\n          span {\n            color: var(--success-color);\n            background-color: var(--success-bg-color); \n          }\n        }\n\n        &.error {\n          span {\n            color: var(--error-color);\n            background-color:  var(--error-bg-color); \n          }\n        }\n      }\n\n      .td-document {\n        width: 250px;\n        max-width: 250px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        cursor: pointer;\n      }\n    }\n\n    .attachment-check {\n      width: 15px;\n      height: 15px;\n      border-radius: 0px;\n    }\n  }\n\n  .modal-head {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px;\n    border-bottom: 1px solid var(--border-color);\n\n    .flex-start {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-start;\n      align-items: center;\n\n      span:first-child {\n        margin: 0 8px 0 20px;\n        cursor: pointer;\n      }\n    }\n\n    .flex-end {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      align-items: center;\n    \n      .download {\n        height: 32px;\n        margin-right: 24px;\n        color: black;\n\n        .material-icons {\n          font-size: 18px;\n        }\n\n        span:last-child {\n          margin-top: -1px;\n          margin-left: 4px;\n        }\n      }\n\n      .prev-next-attachments {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n        margin: 0 8px 0 0;\n        \n        .lvl {\n          padding: 6px 8px 7px 8px;\n          background-color: var(--grey-bg-color);\n        }\n\n        .prev {\n          margin-right: 4px;\n          border-radius: 4px 0px 0px 4px;\n        }\n\n        .next {\n          margin-left: 4px;\n          border-radius: 0px 4px 4px 0px;\n        }\n\n        .prev, .next {\n          display: flex;\n          flex-direction: row;\n          justify-content: center;\n          align-items: center;\n          pointer-events: none;\n          height: 32px;\n          width: 32px;\n          background-color: var(--grey-bg-color);\n          \n          span {\n            color: initial;\n          }\n\n          &.active {\n            pointer-events: auto;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n\n  .slide-fade-enter-active {\n    transition: all .5s ease;\n  }\n  .slide-fade-leave-active {\n    transition: all .5s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n  }\n  .slide-fade-enter {\n    transform: translateX(100%);\n  }\n  .slide-fade-leave-to {\n    transform: translateX(-100%);\n    opacity: 0;\n  }\n\n  .slide-fade-reverse-enter-active {\n    transition: all .5s ease;\n  }\n  .slide-fade-reverse-leave-active {\n    transition: all .5s cubic-bezier(1.0, 0.8, 0.5, 1.0);\n  }\n  .slide-fade-reverse-enter {\n    transform: translateX(-100%);\n  }\n  .slide-fade-reverse-leave-to {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n\n  .modal-body {\n    height: 100%;\n    width: 100%;\n    max-height: 100%;\n    display: flex;\n    padding: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attachments.vue?vue&type=template&id=5d1db4eb&scoped=true&\"\nimport script from \"./Attachments.vue?vue&type=script&lang=js&\"\nexport * from \"./Attachments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Attachments.vue?vue&type=style&index=0&id=5d1db4eb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d1db4eb\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"com_emundus_vue\">\n    <Attachements :fnum=\"data.fnum\" :user=\"data.user\"></Attachements>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment';\nimport Attachements from './views/Attachments.vue';\n\nexport default {\n  props: {\n    componentName: {\n      type: String,\n      required: true,\n    },\n    data: {\n      type: Object,\n      default: {},\n    },\n  },\n  components: {\n    Attachements,\n  },\n  mounted() {\n    if (this.data.lang) {\n      this.$store.dispatch('global/setLang', this.data.lang.split('-')[0]);\n    } else {\n      this.$store.dispatch('global/setLang', 'fr');\n    }\n\n    moment.locale(this.$store.state.global.lang);\n\n    // baseUrl\n    if (this.data.base) {\n      this.$store.dispatch('attachment/setAttachmentPath', this.data.base + '/images/emundus/files/');\n    }\n  },\n};\n</script>\n\n<style lang='scss'>\n@import url('./assets/css/main.scss');\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=54175fde&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    methods: {\n        translate(key) {\n            return Joomla.JText._(key) ? Joomla.JText._(key) : key;\n        },\n    }\n}","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport filterBuilder from './filterBuilder';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    modules: {\n        filterBuilder\n    }\n});","import Vue from 'vue';\nimport VModal from 'vue-js-modal';\nimport store from \"./store\";\nimport App from './App.vue';\nimport translate from './mixins/translate.js';\nimport filterBuilderStore from './store/filterBuilder';\nimport FilterBuilder from './components/FilterBuilder/FilterBuilder.vue';\n\nlet mountApp = false;\nlet elementId = \"\";\nlet data = {};\nlet componentName = \"\";\n\nif (document.getElementById(\"em-application-attachment\")) {\n    const element = document.getElementById(\"em-application-attachment\");\n    Array.prototype.slice.call(element.attributes).forEach(function(attr) {\n        data[attr.name] = attr.value;\n    });\n\n    componentName = \"attachments\";\n    elementId = \"#em-application-attachment\";\n    mountApp = true;\n}\n\nif (mountApp) {\n    Vue.config.productionTip = false;\n    Vue.use(store);\n    Vue.use(VModal);\n    Vue.mixin(translate);\n\n    new Vue({\n        el: elementId,\n        store,\n        render(h) {\n            return h(\n                App, {\n                    props: {\n                        componentName: componentName,\n                        data: data\n                    },\n                }\n            );\n        },\n    });\n}\n\nif (document.getElementById(\"em-vue-filter-builder\")) {\n    const filterbuilderApp = new Vue({\n        el: '#em-vue-filter-builder',\n        store: filterBuilderStore,\n        render(h) {\n            return h(\n                FilterBuilder\n            );\n        }\n    });\n}\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterGroup.vue?vue&type=style&index=0&id=f9ec7590&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentPreview.vue?vue&type=style&index=0&id=1ccd0d64&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterBuilder.vue?vue&type=style&index=0&id=e0f79a0a&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterRow.vue?vue&type=style&index=0&id=d67bffde&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=style&index=0&id=5d1db4eb&lang=scss&scoped=true&\""],"sourceRoot":""}