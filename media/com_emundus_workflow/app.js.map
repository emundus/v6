{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/Modal/StepFlowModal/ModalConfigStep.vue?ef11","webpack:///./src/components/Workflow/Dashboard/WorkflowDashboard.vue?e766","webpack:///./src/components/Workflow/Dashboard/elements/WorkflowCreatorMenu.vue?26d0","webpack:///src/components/Workflow/Dashboard/elements/WorkflowCreatorMenu.vue","webpack:///./src/components/Workflow/Dashboard/elements/WorkflowCreatorMenu.vue?22e7","webpack:///./src/components/Workflow/Dashboard/elements/WorkflowCreatorMenu.vue","webpack:///./src/components/Workflow/Dashboard/elements/WorkflowInfoTable.vue?45fb","webpack:///src/components/Workflow/Dashboard/elements/WorkflowInfoTable.vue","webpack:///./src/components/Workflow/Dashboard/elements/WorkflowInfoTable.vue?a458","webpack:///./src/components/Workflow/Dashboard/elements/WorkflowInfoTable.vue","webpack:///src/components/Workflow/Dashboard/WorkflowDashboard.vue","webpack:///./src/components/Workflow/Dashboard/WorkflowDashboard.vue?c558","webpack:///./src/components/Workflow/Dashboard/WorkflowDashboard.vue","webpack:///./src/components/StepFlow/StepFlow.vue?f1f6","webpack:///./src/components/Modal/StepFlowModal/ModalConfigStep.vue?23a7","webpack:///./src/mixins/common-mixin.js","webpack:///./src/components/Modal/WorkflowModal/element/messageModal.vue?f7a3","webpack:///src/components/Modal/WorkflowModal/element/messageModal.vue","webpack:///./src/components/Modal/WorkflowModal/element/messageModal.vue?bf99","webpack:///./src/components/Modal/WorkflowModal/element/messageModal.vue","webpack:///./src/components/colorPicker.vue?063a","webpack:///src/components/colorPicker.vue","webpack:///./src/components/colorPicker.vue?58a9","webpack:///./src/components/colorPicker.vue","webpack:///src/components/Modal/StepFlowModal/ModalConfigStep.vue","webpack:///./src/components/Modal/StepFlowModal/ModalConfigStep.vue?29b1","webpack:///./src/components/Modal/StepFlowModal/ModalConfigStep.vue","webpack:///./src/components/Workflow/Workspace/elements/SimpleFlowchart.vue?5557","webpack:///./src/components/Workflow/Workspace/elements/FlowchartLink.vue?0ac8","webpack:///src/components/Workflow/Workspace/elements/FlowchartLink.vue","webpack:///./src/components/Workflow/Workspace/elements/FlowchartLink.vue?6305","webpack:///./src/components/Workflow/Workspace/elements/FlowchartLink.vue","webpack:///./src/components/Workflow/Workspace/elements/FlowchartNode.vue?601c","webpack:///src/components/Workflow/Workspace/elements/FlowchartNode.vue","webpack:///./src/components/Workflow/Workspace/elements/FlowchartNode.vue?05f6","webpack:///./src/components/Workflow/Workspace/elements/FlowchartNode.vue","webpack:///./src/assets/position.js","webpack:///./src/components/Modal/WorkflowModal/ModalConfigElement.vue?176a","webpack:///./src/components/Modal/WorkflowModal/element/espaceModal.vue?0de3","webpack:///src/components/Modal/WorkflowModal/element/espaceModal.vue","webpack:///./src/components/Modal/WorkflowModal/element/espaceModal.vue?184c","webpack:///./src/components/Modal/WorkflowModal/element/espaceModal.vue","webpack:///src/components/Modal/WorkflowModal/ModalConfigElement.vue","webpack:///./src/components/Modal/WorkflowModal/ModalConfigElement.vue?10d3","webpack:///./src/components/Modal/WorkflowModal/ModalConfigElement.vue","webpack:///src/components/Workflow/Workspace/elements/SimpleFlowchart.vue","webpack:///./src/components/Workflow/Workspace/elements/SimpleFlowchart.vue?aabb","webpack:///./src/components/Workflow/Workspace/elements/SimpleFlowchart.vue","webpack:///./src/components/Workflow/Workspace/WorkflowSpace.vue?fbee","webpack:///./src/components/Workflow/Workspace/elements/WorkflowSpaceToolsMenu.vue?8877","webpack:///src/components/Workflow/Workspace/elements/WorkflowSpaceToolsMenu.vue","webpack:///./src/components/Workflow/Workspace/elements/WorkflowSpaceToolsMenu.vue?6394","webpack:///./src/components/Workflow/Workspace/elements/WorkflowSpaceToolsMenu.vue","webpack:///src/components/Workflow/Workspace/WorkflowSpace.vue","webpack:///./src/components/Workflow/Workspace/WorkflowSpace.vue?0d06","webpack:///./src/components/Workflow/Workspace/WorkflowSpace.vue","webpack:///src/components/StepFlow/StepFlow.vue","webpack:///./src/components/StepFlow/StepFlow.vue?d0b0","webpack:///./src/components/StepFlow/StepFlow.vue","webpack:///./src/main.js","webpack:///./src/components/Workflow/Workspace/elements/SimpleFlowchart.vue?aaf5","webpack:///./src/components/Workflow/Dashboard/WorkflowDashboard.vue?65b1","webpack:///./src/components/Workflow/Workspace/elements/FlowchartLink.vue?bffb","webpack:///./src/components/Workflow/Workspace/WorkflowSpace.vue?0c1e","webpack:///./src/components/Workflow/Workspace/elements/FlowchartNode.vue?1c60","webpack:///./src/components/StepFlow/StepFlow.vue?e108","webpack:///./src/components/Modal/WorkflowModal/ModalConfigElement.vue?7b78"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","attrs","ref","on","updateTable","redirectStepFlow","updateCampaign","staticRenderFns","staticStyle","_v","WorkflowCreatorMenu_Title","label","WorkflowCreatorMenu_PlaceHolder","model","callback","$$v","expression","campaigns","staticClass","selectedCampaign","_s","_l","campaign","domProps","createWorkflow","WorkflowCreatorMenu_Button","add_button","props","workflowLabel","String","associatedCampaign","Number","Joomla","JText","_","availableCampaign","workflowMessage","form","workflowName","created","getAllAvailableCampaigns","methods","campaign_id","workflow_name","method","url","headers","qs","stringify","workflow","elt","console","log","error","component","$data","theader","index","created_at","saved_at","last_activity","$event","openWorkflowSpace","alertDeleteDisplay","receiver","workflows","last_user","last_updated","last_created","logs","actions","table_header","WorkflowInfoTable_Button","open_button","remove_button","getAllWorkflow","deleteWorkflow","wid","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","$emit","components","WorkflowCreatorMenu","WorkflowInfoTable","$refs","infotable","creatormenu","redirectJRoute","params","link","paramsSerializer","location","href","duplicateWorkflow","alertDuplicateDisplay","html","footer","timer","showConfirmButton","hideStep","type","indexOf","_k","keyCode","updateWorkflowLabel","_e","createStep","StepFlow_Button","columns","column","dragStart","dragEnd","handleDown","setStepLabel","stateIn","stateOut","startDate","endDate","order","refInFor","updateStep","deleteStep","configStep","configure_button","openStep","createMessageDiv","message","step_id","openDiv","trigger_button","deleteMessageDiv","triggerId","messageTemplate","messageDestination","messageDestinationList","trigger","showDiv","currentDiv","updateMessageBlock","currentStep","hideWorkflow","returnToStepFlow","ID","beforeOpen","beforeClose","ModalConfigStep_Title","directives","rawName","target","composing","stepLabel","input_status","item","disabled","checked","step","Array","isArray","_i","$$a","$$el","$$c","$$i","$set","concat","output_status","$$selectedVal","filter","options","selected","val","_value","multiple","ModalConfigStep_PlaceHolder","outstatus","start_date","scopedSlots","_u","fn","inputValue","inputEvents","_g","end_date","supplementary_notes","color_palette","colorParams","triggerMigration","updateParams","ModalConfigStep_Button","save_button","exitModal","exit_button","commonMixin","getURLParams","_param","queryString","search","urlParams","URLSearchParams","messageModal_Title","email_template","messageModal_PlaceHolder","lbl","destination","handleOtherClick","handleClick","select_one","showOtherUser","handleSelect","select_all","user","userChecked","handleClickUser","firstname","lastname","email","TO_CURRENT_USER","TO_APPLICANT","supplementary_information","updateTrigger","messageModal_Button","messageParams","stepParams","activateParams","Boolean","selectOtherUsers","emails","status","isDisable","userList","triggerChecked","selectAll","userIdList","users_selected","getAllMessages","getAllDestinations","getAllUsers","getMessageParams","usersSelected","forEach","document","getElementById","selectedIndex","selectedValue","selectedUserList","toString","outputStatus","email_id","emailSelected","to_current_user","triggerSelected","to_applicant","message_div","triggerParams","user_selected_split","_users","users","destinationSelected","raw_users","JSON","parse","json_params","showColor","colorParam","color","handleChange","style","element","setColor","mixins","Calendar","DatePicker","messageModal","colorPicker","ModalConfigStep_SweetAlert","congratulation_title","congratulation_message","error_title","error_message","inputStatus","stepNotes","inStatus","outStatus","inputList","inStatusSelected","getCurrentParams","_temp","response","split","getAvailableStatus","dataIn","step_label","workflow_id","Date","toISOString","replace","_in","_out","$modal","hide","sid","_result","_emit","handleMove","handleUp","height","_b","linkDelete","scene","node","linkingStart","linkingStop","updateLabel","background","nodeOptions","info","nodeSelected","handleMouseOver","handleMouseLeave","dAttr","show","deleteLink","arrowTransform","start","from","default","end","delete","caculateCenterPoint","dx","dy","caculateRotation","degree","computed","pathStyle","stroke","strokeWidth","fill","arrowStyle","class","handleMousedown","inputMouseDown","inputMouseUp","$attrs","itemLabel","undefined","$props","outputMouseDown","nodeLabel","validator","x","y","centerX","scale","centerY","clone","mounted","nodeStyle","top","left","transform","className","preventDefault","handleDuplicatItem","handleConfigure","getCurrentStatus","getOffsetRect","box","getBoundingClientRect","scrollTop","pageYOffset","scrollLeft","pageXOffset","Math","round","getMousePosition","event","mouseX","pageX","clientX","documentElement","mouseY","pageY","clientY","offset","ModalConfigElement_Title","breadcrumb","ModalConfigElement_Button","espaceModal_Title","espaceModal_PlaceHolder","profile","formNameSelected","notes","forms","isDisabled","in","out","getAllFormType","getWorkflowIdFromURL","getNonStatusParams","espaceModal","ModalConfigElement_SweetAlert","getElementByItem","_data","autoCreateLink","nodes","links","action","linking","dragging","scrolling","mouse","lastX","lastY","draggingLink","rootDivOffset","ModalConfigElement","FlowchartLink","FlowchartNode","offsetTop","offsetLeft","lines","cx","cy","ex","ey","fromNode","mx","my","$el","$forceUpdate","findNodeWithID","find","getPortPosition","existed","to","_links","parent","newLink","child","link_label","deletedLink","$swal","moveSelectedNode","diffX","diffY","nodeID","_index","axisX","axisY","contains","nodeDelete","nodeCloned","nodeConfig","matches","which","assign","_type","deleteItem","alertDelete","alertClone","cloneItem","updateStepLabel","seen","WorkflowSpace_button","alertSaveDisplay","alertExitDisplay","createNode","nodeClick","linkBreak","linkAdded","canvasClick","menuTitle","item_name","addNode","stepID","items","nodeCategory","getMenu","category","item_id","floor","CSS_style","loadStep","cronUpdate","returnStep","newItem","setTimeout","alertWelcomeDisplay","insertInitBloc","init","saveWorkflow","current_nodes","item_label","innerText","quitWorkflow","changeToDashboard","setInterval","getWorkflowInfo","autoMatchLink","loading","campaignID","messages","stepList","hideDiv","getWorkflowFromURL","getAllSteps","getMessagesDiv","dataTransfer","setData","counter","newIndex","findIndex","_id","ordering","steps","answer","inputStatusNames","_stateIn","newLabel","random","substring","campaignId","parent_id","require","Vue","use","BootstrapVue","IconsPlugin","VModal","config","productionTip","devtools","VueSweetalert2","InputColorPicker","el","render","h","workflowDashboard","stepflow"],"mappings":"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","file":"app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf755\",\n\t\"./tlh.js\": \"cf755\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigStep.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workflow-dashboard\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('workflow-creator-menu',{ref:\"creatormenu\",on:{\"updateTable\":_vm.updateTable,\"gotoStepFlow\":_vm.redirectStepFlow}}),_c('workflow-info-table',{ref:\"infotable\",on:{\"gotoStepFlow\":_vm.redirectStepFlow,\"updateCampaign\":_vm.updateCampaign}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workflow-creator-menu\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('b-alert',{staticStyle:{\"background-color\":\"#fff3cd\",\"border-color\":\"#ffeeba\",\"padding\":\"3.75rem\",\"align-items\":\"center\"},attrs:{\"show\":\"\",\"variant\":\"success\",\"show\":\"\",\"dismissible\":\"\"}},[_c('h1',[_vm._v(\"EMundus Workflow Demo\")])])],1),_c('b-form-group',{attrs:{\"label-cols\":\"4\",\"label-cols-lg\":\"2\",\"label-size\":\"lg\",\"label\":_vm.WorkflowCreatorMenu_Title.label,\"label-for\":\"input-lg\"}},[_c('b-form-input',{attrs:{\"placeholder\":_vm.WorkflowCreatorMenu_PlaceHolder.label,\"size\":\"sm\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('b-form-group',{attrs:{\"label-cols\":\"4\",\"label-cols-lg\":\"2\",\"label-size\":\"lg\",\"label\":_vm.WorkflowCreatorMenu_Title.campaigns,\"label-for\":\"input-lg\"}},[_c('b-form-select',{staticClass:\"form-control-select\",attrs:{\"id\":\"campaign\"},model:{value:(_vm.selectedCampaign),callback:function ($$v) {_vm.selectedCampaign=$$v},expression:\"selectedCampaign\"}},[_c('b-form-select-option',{attrs:{\"disabled\":\"\",\"selected\":\"\",\"aria-placeholder\":\"test\"}},[_vm._v(_vm._s(_vm.WorkflowCreatorMenu_PlaceHolder.campaigns))]),_vm._l((this.availableCampaign),function(campaign){return _c('option',{domProps:{\"value\":campaign.id}},[_vm._v(\" \"+_vm._s(campaign.label)+\" \")])})],2)],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"success\"},on:{\"click\":_vm.createWorkflow}},[_vm._v(_vm._s(_vm.WorkflowCreatorMenu_Button.add_button))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"workflow-creator-menu\">\n\n      <div style=\"text-align: center\">\n        <b-alert show variant=\"success\" style=\"background-color: #fff3cd; border-color: #ffeeba; padding: 3.75rem; align-items: center\" show dismissible>\n          <h1>EMundus Workflow Demo</h1>\n        </b-alert>\n      </div>\n\n      <b-form-group label-cols=\"4\" label-cols-lg=\"2\" label-size=\"lg\" :label=\"WorkflowCreatorMenu_Title.label\" label-for=\"input-lg\">\n        <b-form-input v-model=\"name\" :placeholder=\"WorkflowCreatorMenu_PlaceHolder.label\" size=\"sm\"/>\n      </b-form-group>\n\n      <b-form-group label-cols=\"4\" label-cols-lg=\"2\" label-size=\"lg\" :label=\"WorkflowCreatorMenu_Title.campaigns\" label-for=\"input-lg\">\n        <b-form-select v-model=\"selectedCampaign\" class=\"form-control-select\" id=\"campaign\">\n          <b-form-select-option disabled selected aria-placeholder=\"test\">{{ WorkflowCreatorMenu_PlaceHolder.campaigns }}</b-form-select-option>\n          <option v-for=\"campaign in this.availableCampaign\" :value=\"campaign.id\"> {{ campaign.label }} </option>\n        </b-form-select>\n      </b-form-group>\n\n      <b-button type=\"submit\" variant=\"success\" @click=\"createWorkflow\">{{ WorkflowCreatorMenu_Button.add_button }}</b-button>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport $ from 'jquery';\n\nconst qs = require('qs');\n\nexport default {\n  name: \"WorkflowCreatorMenu\",\n\n  props: {\n    workflowLabel: String,\n    associatedCampaign: Number,\n  },\n\n  data: function() {\n    return {\n      WorkflowCreatorMenu_PlaceHolder: {\n        label: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_CREATOR_MENU_WORKFLOW_NAME_PLACEHOLDER\"),\n        campaigns: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_CREATOR_MENU_AVAILABLE_CAMPAIGNS_PLACEHOLDER\"),\n      },\n\n      WorkflowCreatorMenu_Title: {\n        label: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_CREATOR_MENU_TITLE_WORKFLOW_NAME\"),\n        campaigns: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_CREATOR_MENU_TITLE_ASSOCIATED_CAMPAIGN\"),\n      },\n\n      WorkflowCreatorMenu_Button: {\n        add_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_ADD_BUTTON_TITLE\"),\n      },\n\n      availableCampaign: [],\n      workflowMessage: '',\n      form: {\n        workflowName: '',\n      },\n      selectedCampaign: 0,\n      name: '',\n    }\n  },\n\n  created() {\n    this.getAllAvailableCampaigns();  // get all available campaigns\n  },\n\n  methods: {\n    getAllAvailableCampaigns: function() {\n      axios.get(\"index.php?option=com_emundus_workflow&controller=workflow&task=getallavailablecampaigns\")\n          .then(response=>{this.availableCampaign = response.data.data;})\n          .catch(error => {console.log(error);})\n    },\n\n    createWorkflow: function() {\n      let workflow = {\n        campaign_id :this.selectedCampaign,\n        workflow_name: this.name || \"Workflow de\" + $( \"#campaign option:selected\" ).text(),     // using jquery to get the campaign name\n      }\n\n      axios({\n        method: \"post\",\n        url: \"index.php?option=com_emundus_workflow&controller=workflow&task=createworkflow\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: workflow\n        }),\n      }).then(response => {\n        this.workflow = response.data.data;\n        //redirect to step flow area\n\n        this.availableCampaign = this.availableCampaign.filter((elt) => {\n          return elt.id !== workflow.campaign_id;\n        });\n\n        this.$emit('gotoStepFlow', response.data.data);\n        let signal = 1;\n        this.$emit('updateTable', signal);\n\n      }).catch(error => {\n        console.log(error);\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowCreatorMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowCreatorMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkflowCreatorMenu.vue?vue&type=template&id=70bdfd40&scoped=true&\"\nimport script from \"./WorkflowCreatorMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkflowCreatorMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70bdfd40\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workflow-info-table\"}},[_c('table',{staticClass:\"styled-table\",attrs:{\"id\":\"infotable\"}},[_c('thead',[_c('tr',_vm._l((this.$data.table_header),function(theader,index){return _c('th',{key:index},[_vm._v(\"\\n        \"+_vm._s(theader)+\"\\n      \")])}),0)]),_c('tbody',_vm._l((this.workflows),function(workflow,index){return _c('tr',{key:workflow.id,attrs:{\"id\":'row_'+ workflow.id}},[_c('th',[_vm._v(_vm._s(workflow.id))]),_c('th',[_vm._v(_vm._s(workflow.workflow_name))]),_c('th',[_vm._v(\" \"+_vm._s(workflow.label)+\" \")]),_c('th',[_vm._v(_vm._s(workflow.name))]),_c('th',[_vm._v(_vm._s(workflow.created_at))]),_c('th',[_vm._v(_vm._s(workflow.saved_at))]),_c('th',[_vm._v(_vm._s(workflow.last_activity))]),_c('th',[_c('button',{staticClass:\"edit-button\",on:{\"click\":function($event){return _vm.openWorkflowSpace(workflow.id)}}},[_vm._v(\"OUVRIR\")]),_c('button',{staticClass:\"delete-button\",on:{\"click\":function($event){return _vm.alertDeleteDisplay(workflow.id)}}},[_vm._v(\"SUPPRIMER\")])])])}),0)]),_c('div',{staticClass:\"alert-count\"},[_c('p',[_vm._v(\" \"+_vm._s(this.workflowMessage)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"workflow-info-table\">\n    <table class=\"styled-table\" id=\"infotable\">\n      <thead>\n      <tr>\n        <th v-for=\"(theader,index) in this.$data.table_header\" :key=\"index\">\n          {{ theader }}\n        </th>\n      </tr>\n      </thead>\n\n      <tbody>\n      <tr v-for=\"(workflow,index) in this.workflows\" :key=\"workflow.id\" :id=\"'row_'+ workflow.id\">\n          <th>{{ workflow.id }}</th>\n          <th>{{ workflow.workflow_name }}</th>\n          <th> {{ workflow.label }} </th>\n          <th>{{ workflow.name }}</th>\n          <th>{{ workflow.created_at }}</th>\n          <th>{{ workflow.saved_at }}</th>\n          <th>{{ workflow.last_activity }}</th>\n          <th>\n            <button @click=\"openWorkflowSpace(workflow.id)\" class=\"edit-button\">OUVRIR</button>\n            <button @click=\"alertDeleteDisplay(workflow.id)\" class=\"delete-button\">SUPPRIMER</button>\n  <!--          <button @click=\"alertDuplicateDisplay(workflow.id)\" class=\"duplicate-button\">DUPLIQUER</button>-->\n          </th>\n      </tr>\n      </tbody>\n    </table>\n    <div class=\"alert-count\">\n      <p> {{ this.workflowMessage }} </p>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nconst qs = require('qs');\nimport $ from 'jquery';\n\nexport default {\n  name: \"WorkflowInfoTable\",\n\n  props: {\n    receiver: Number,\n  },\n\n  data: function() {\n    return {\n      workflows: [],      /// all workflows ==> 1 array\n      workflowMessage: '',\n\n      id:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_WORKFLOW_ID\"),\n      label:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_WORKFLOW_NAME\"),\n      campaign:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_ASSOCIATED_CAMPAIGN\"),\n      last_user:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_LAST_UPDATED_BY\"),\n      last_updated:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_LAST_UPDATED\"),\n      last_created:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_CREATED_AT\"),\n      logs:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_LOGS\"),\n      actions:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_WORKFLOW_INFO_TABLE_ACTIONS\"),\n\n      table_header: ['Workflow ID', 'Nom du workflow', 'Campagne Associeé', 'Dernier Mis-a-jour par', 'Créé à', 'Mis-a-jour', 'Logs' , 'Action'],     // use JText later\n\n      WorkflowInfoTable_Button: {\n        open_button:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_OPEN_BUTTON_TITLE\"),\n        remove_button:Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_REMOVE_BUTTON_TITLE\"),\n      }\n    }\n  },\n\n  created() {\n    this.getAllWorkflow();\n  },\n\n  methods: {\n    getAllWorkflow: function() {\n      axios.get(\"index.php?option=com_emundus_workflow&controller=workflow&task=getallworkflows\")\n          .then(response=>{\n            this.workflows = response.data.data;\n            if(parseInt(response.data.count) == 0) {\n              this.workflowMessage = \"Aucun workflow trouvé\";\n            }\n            else {\n              this.workflowMessage = \"Il y a \" + response.data.count + \" workflow(s)\";\n            }\n          }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    //delete workflow\n    deleteWorkflow: function(wid) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=deleteworkflow',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({wid})\n      }).then(response => {\n        this.workflows = this.workflows.filter((elt) => {\n          return elt.id !== wid;\n        })\n\n        let _rows = $('#infotable tbody tr').length - 1;\n        if(_rows == 0) {\n          this.workflowMessage = \"Aucun workflow trouvé\";\n        } else {\n          this.workflowMessage = \"Il y a \" + _rows + \" workflow(s)\";\n        }\n\n        /// call to getAvailableCampaign\n        let isUpdate = true;\n        this.$emit('updateCampaign', isUpdate);\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    alertDeleteDisplay: function(wid) {\n      Swal.fire({\n        title: 'Supprime le workflow',\n        text: \"Action irréversible\",\n        icon: 'error',\n        showCancelButton: true,\n        confirmButtonColor: '#28a745',\n        cancelButtonColor: '#dc3545',\n        confirmButtonText: '<i class=\"far fa-thumbs-up\"></i> Oui, c\\'est sûr',\n        cancelButtonText: 'Non, garder ce workflow',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire('Merci', 'Le workflow est supprimé', 'success');\n          this.deleteWorkflow(wid);\n        } else if (result.isDismissed) {\n          Swal.fire('Merci', 'Le workflow est gardé', 'success');\n        }\n      })\n    },\n\n    openWorkflowSpace: function(id) {\n      this.$emit('gotoStepFlow', id);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowInfoTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowInfoTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkflowInfoTable.vue?vue&type=template&id=2cbdd997&scoped=true&\"\nimport script from \"./WorkflowInfoTable.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkflowInfoTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cbdd997\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"workflow-dashboard\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <workflow-creator-menu @updateTable=\"updateTable\" @gotoStepFlow=\"redirectStepFlow\" ref=\"creatormenu\"/>\n    <workflow-info-table ref=\"infotable\" @gotoStepFlow=\"redirectStepFlow\" @updateCampaign=\"updateCampaign\"/>\n<!--    <table class=\"styled-table\">-->\n<!--      <thead>-->\n<!--      <tr>-->\n<!--        <th v-for=\"(theader,index) in this.$data.table_header\" :key=\"index\">-->\n<!--          {{ theader }}-->\n<!--        </th>-->\n<!--      </tr>-->\n<!--      </thead>-->\n\n<!--      <tbody>-->\n<!--      <tr v-for=\"(workflow,index) in this.$props.workflows\" :key=\"workflow.id\">-->\n<!--        <th>{{ workflow.id }}</th>-->\n<!--        <th>{{ workflow.workflow_name }}</th>-->\n<!--        <th> {{ workflow.label }} </th>-->\n<!--        <th>{{ workflow.name }}</th>-->\n<!--        <th>{{ workflow.created_at }}</th>-->\n<!--        <th>{{ workflow.updated_at }}</th>-->\n<!--        <th>-->\n<!--          <button @click=\"changeToWorkflowSpace(workflow.id)\" class=\"edit-button\">OUVRIR</button>-->\n<!--          <button @click=\"alertDeleteDisplay(workflow.id)\" class=\"delete-button\">SUPPRIMER</button>-->\n<!--          <button @click=\"alertDuplicateDisplay(workflow.id)\" class=\"duplicate-button\">DUPLIQUER</button>-->\n<!--        </th>-->\n<!--      </tr>-->\n<!--      </tbody>-->\n<!--    </table>-->\n<!--    <div class=\"alert-count\">-->\n<!--      <p> {{ this.workflow_message }} </p>-->\n<!--    </div>-->\n  </div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport { DateTime } from 'vue-datetime';\n\nimport Swal from 'sweetalert2';\n\nimport WorkflowCreatorMenu from \"./elements/WorkflowCreatorMenu\";       // import menu creator menu --> 1 textbox + 1 dropdown menu\nimport WorkflowInfoTable from \"./elements/WorkflowInfoTable\";           // import workflow info table --> to view all informations about workflow\n\nlet now = new Date();\n\nconst qs = require('qs');\n\nexport default {\n  name: \"workflowDashboard\",\n\n  components: {\n    WorkflowCreatorMenu,\n    WorkflowInfoTable,\n  },\n\n  data: function() {\n    return { }\n  },\n\n  // using props to share data between components\n  props: { },\n\n  created() {},\n\n  methods: {\n    updateTable: function(signal) {\n      if(signal === 1) {\n        this.$refs.infotable.getAllWorkflow();\n      }\n    },\n\n    updateCampaign: function(isUpdate) {\n      if(isUpdate == true) {\n        this.$refs.creatormenu.getAllAvailableCampaigns();\n      }\n    },\n\n    redirectJRoute(link) {\n      axios({\n        method: \"get\",\n        url: \"index.php?option=com_emundus_workflow&controller=settings&task=redirectjroute\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: {\n          link: link,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        window.location.href =  window.location.pathname + response.data.data;\n      });\n    },\n\n    redirectStepFlow(id) {\n      this.redirectJRoute('index.php?option=com_emundus_workflow&view=item&layout=add&id=' + id);\n    },\n\n    //duplicate workflow from id --> duplicate all existing items of the last workflow\n    ///api 1 --> get workflow_name / campaign_id of last workflow\n    ///api 2 --> get all items of last workflow\n    ///api 3 --> create new workflow with api 1 + api 2\n\n    duplicateWorkflow: async function(id) {\n      //api 1 -- get workflow_name, campaign_id of last workflow\n      let _response = await axios.get('index.php?option=com_emundus_workflow&controller=workflow&task=getworkflowbyid', { params: {wid:id} });\n      var oldworkflow = ((_response.data.data)[0]);\n\n      var newworkflow = {\n        campaign_id :oldworkflow.campaign_id,\n        workflow_name: oldworkflow.workflow_name + \"copy\",\n      }\n\n      //get all elements (items + links) of the last workflow\n      let rawItems = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getallitemsbyworkflow', {params: {data: id}}); //get all items\n      let rawLinks = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getalllinks', {params: {data: id}}); //get all links\n\n      var items = rawItems.data.data;    //items : Array\n      var links = rawLinks.data.data;    //links: Array\n\n      //api 2 -- create cloned workflow :: empty items\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=createworkflow&suboption=clone&oldworkflow=' + oldworkflow.id,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data:newworkflow\n        })\n      }).then(response => {\n        //create new item\n        items.forEach(its => {\n          var _newitems = {\n            item_id: its.item_id,\n            item_label: its.item_label,\n            item_name: its.item_name,\n            style: its.style,\n            workflow_id: response.data.data,\n            axisX: its.axisX,\n            axisY: its.axisY,\n          }\n          axios({\n            method: 'post',\n            url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&workflowid=\" + response.data.data + \"&itemid=\" + _newitems.item_id,\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: _newitems\n            })\n          }).then(answer => {})\n          this.getAllWorkflow();\n        })\n      }).catch(error => {console.log(error);})\n    },\n\n    alertDuplicateDisplay: function(id) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        html: 'Le workflow est dupliqué <h2 style=\"color:red\">SAUF LES LIAISONS!',\n        footer: '<a href>EMundus SAS</a>',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.duplicateWorkflow(id);\n    },\n  },\n}\n</script>\n\n<style>\n.styled-table {\n  border-collapse: collapse;\n  margin: 25px 0;\n  font-size: 0.9em;\n  font-family: sans-serif;\n  min-width: 400px;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\n}\n\n.styled-table thead tr {\n  background-color: #009879;\n  color: #ffffff;\n  text-align: left;\n}\n\n.styled-table th {\n  background: none;\n}\n\n.styled-table td {\n  padding: 12px 15px;\n}\n\n.styled-table tbody tr {\n  border-bottom: 1px solid #dddddd;\n}\n\n.styled-table tbody tr:nth-of-type(even) {\n  background-color: #f3f3f3;\n}\n\n.edit-button {\n  top: auto;\n  background-color: #06ba00;\n  border-color: #06ba00;\n  color: #fff;\n  display: inline-block;\n  text-align: center;\n  vertical-align: center;\n  user-select: none;\n  border-radius: .25rem;\n  margin: 5px;\n  padding: 4px 20px;\n}\n\n.edit-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.delete-button {\n  top: auto;\n  background-color: red;\n  border-color: red;\n  color: #fff;\n  display: inline-block;\n  text-align: center;\n  vertical-align: center;\n  user-select: none;\n  border-radius: .25rem !important;\n  margin: 5px;\n  padding: 4px 20px;\n}\n\n.duplicate-button {\n  top: auto;\n  background-color: orange;\n  border-color: orange;\n  color: #fff;\n  display: inline-block;\n  text-align: center;\n  vertical-align: center;\n  user-select: none;\n  border-radius: .25rem;\n  margin: 5px;\n  padding: 4px 20px;\n}\n\n.delete-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.swal2-styled.swal2-confirm {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-confirm:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.swal2-styled.swal2-cancel {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-cancel:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.alert-count {\n  border-radius: 4px;\n  border: 1px solid #c80101;\n  text-align: center;\n  width: 100%;\n  font-size: large;\n  color: #0A246A;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkflowDashboard.vue?vue&type=template&id=7bb121c8&\"\nimport script from \"./WorkflowDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkflowDashboard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkflowDashboard.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"stepflow\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),(_vm.hideStep == false)?_c('div',{staticClass:\"editable-workflow-label\",attrs:{\"contenteditable\":\"true\",\"id\":\"editable-workflow-label\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateWorkflowLabel()}}},[_vm._v(\"\\n      \"+_vm._s(this.workflowLabel)+\"\\n    \")]):_vm._e(),(_vm.hideStep == false)?_c('b-button',{staticStyle:{\"position\":\"sticky\"},attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.createStep()}}},[_vm._v(_vm._s(_vm.StepFlow_Button.add_button))]):_vm._e(),_c('draggable',{staticClass:\"flex\",attrs:{\"invertedSwapThreshold\":0.4,\"invertSwap\":true,\"group\":_vm.columns,\"sort\":true},model:{value:(_vm.columns),callback:function ($$v) {_vm.columns=$$v},expression:\"columns\"}},[_vm._l((_vm.columns),function(column){return (_vm.hideStep == false)?_c('div',{key:column.title,staticClass:\"bg-gray-100 rounded-lg px-3 py-3 column-width rounded mr-4\",attrs:{\"id\":'step_' + column.id},on:{\"dragstart\":_vm.dragStart,\"dragend\":_vm.dragEnd,\"mousedown\":_vm.handleDown}},[_c('div',{staticClass:\"editable-step-label\",staticStyle:{\"background\":\"#a8bb4a\"},attrs:{\"contenteditable\":\"true\",\"id\":'step_label_' + column.id},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.setStepLabel(column.id)}}},[_vm._v(_vm._s(column.title))]),_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(column.stateIn))]),_c('div',{staticStyle:{\"color\":\"blueviolet\"}},[_vm._v(_vm._s(column.stateOut))]),_c('div',{staticStyle:{\"color\":\"blue\"}},[_vm._v(\" \"+_vm._s(column.startDate))]),_c('div',{staticStyle:{\"color\":\"orange\"}},[_vm._v(\" \"+_vm._s(column.endDate))]),_c('div',{staticStyle:{\"color\":\"forestgreen\"}},[_vm._v(\" \"+_vm._s(column.order)+\" \")]),_c('modal-config-step',{ref:\"stepModal\",refInFor:true,attrs:{\"ID\":column.id,\"element\":column},on:{\"updateStep\":_vm.updateStep,\"deleteStep\":function($event){return _vm.deleteStep(column.id)}}}),_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.configStep(column.id)}}},[_vm._v(_vm._s(_vm.StepFlow_Button.configure_button))]),_c('b-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteStep(column.id)}}},[_vm._v(_vm._s(_vm.StepFlow_Button.remove_button))]),_c('b-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.openStep(column.id)}}},[_vm._v(_vm._s(_vm.StepFlow_Button.open_button))]),_c('hr'),_c('div',{staticStyle:{\"position\":\"sticky\"}},[_c('b-button',{attrs:{\"variant\":\"info\"},on:{\"click\":function($event){return _vm.createMessageDiv(column.id)}}},[_vm._v(_vm._s(_vm.StepFlow_Button.add_button))])],1),_vm._l((_vm.messages),function(message){return (column.id == message.step_id)?_c('div',{staticClass:\"message-block\",attrs:{\"id\":'message_zone' + message.id}},[_c('div',[_vm._v(\"\\n            \"+_vm._s(message.title)+\"\\n\\n            \"),_c('b-button',{attrs:{\"variant\":\"primary\",\"id\":'button_' + message.id},on:{\"click\":function($event){return _vm.openDiv(message.id)}}},[_vm._v(_vm._s(_vm.StepFlow_Button.trigger_button))]),_c('b-button',{attrs:{\"id\":'button_' + message.id,\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteMessageDiv(message.id, message.triggerId)}}},[_vm._v(_vm._s(_vm.StepFlow_Button.remove_button))]),_c('div',{staticStyle:{\"color\":\"forestgreen\"}},[_vm._v(\" \"+_vm._s(message.messageTemplate)+\" \")]),_c('div',{staticStyle:{\"color\":\"lightseagreen\"}},[_vm._v(\" \"+_vm._s(message.messageDestination)+\" \")]),_c('div',{staticStyle:{\"color\":\"midnightblue\"}},[_vm._v(\" \"+_vm._s(message.messageDestinationList)+\" \")]),_c('div',{staticStyle:{\"color\":\"darkgoldenrod\"}},[_vm._v(\" \"+_vm._s(message.trigger)+\" \")]),_vm._l((_vm.stepParams),function(params){return (_vm.showDiv==true && _vm.currentDiv == message.id && params.id == column.id)?_c('message-modal',{attrs:{\"messageParams\":message,\"stepParams\":params},on:{\"updateMessageBlock\":_vm.updateMessageBlock}}):_vm._e()})],2)]):_vm._e()})],2):_vm._e()}),_vm._l((_vm.columns),function(column){return (_vm.currentStep == column.id && _vm.hideWorkflow == false)?_c('workflow-space',{attrs:{\"step\":column},on:{\"returnBack\":_vm.returnToStepFlow}}):_vm._e()})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ModalConfigStep\",attrs:{\"id\":\"ModalConfigStep\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('div',{staticClass:\"bounding\",attrs:{\"id\":\"bounding\"}},[_c('modal',{attrs:{\"name\":'stepModal' + _vm.ID,\"width\":580,\"height\":3000,\"adaptive\":true,\"draggable\":true,\"scrollable\":true,\"clickToClose\":true},on:{\"before-open\":_vm.beforeOpen,\"before-close\":_vm.beforeClose}},[_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.label))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.stepLabel),expression:\"stepLabel\"}],staticClass:\"notes\",staticStyle:{\"width\":\"95%\",\"height\":\"35px !important\"},attrs:{\"id\":\"step_label\",\"rows\":\"3\",\"placeholder\":\"Nom de l'etape\"},domProps:{\"value\":(_vm.stepLabel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.stepLabel=$event.target.value}}})])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.input_status))]),_vm._l((this.$data.inStatus),function(item){return (!item.disabled)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checked[item.step]),expression:\"checked[item.step]\"}],attrs:{\"type\":\"checkbox\",\"id\":item.step},domProps:{\"value\":item.step,\"checked\":Array.isArray(_vm.checked[item.step])?_vm._i(_vm.checked[item.step],item.step)>-1:(_vm.checked[item.step])},on:{\"change\":function($event){var $$a=_vm.checked[item.step],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=item.step,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.checked, item.step, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.checked, item.step, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.checked, item.step, $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"id\":'status'+ item.step,\"name\":\"\"}},[_vm._v(\" \"+_vm._s(item.value))])]):_vm._e()})],2),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.output_status))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.outputStatus),expression:\"form.outputStatus\"}],staticClass:\"form-control-select\",attrs:{\"id\":\"outstatus-selected\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"outputStatus\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.ModalConfigStep_PlaceHolder.output_status))]),_vm._l((this.outStatus),function(outstatus){return _c('option',{domProps:{\"value\":outstatus.step}},[_vm._v(\" \"+_vm._s(outstatus.value))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.start_date))]),_c('div',{staticClass:\"col-xs-8\"},[_c('date-picker',{attrs:{\"mode\":\"dateTime\",\"is24hr\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('input',_vm._g({staticClass:\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\",attrs:{\"id\":'start_date_' + _vm.ID},domProps:{\"value\":inputValue}},inputEvents))]}}]),model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1)]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.end_date))]),_c('div',{staticClass:\"col-xs-8\"},[_c('date-picker',{attrs:{\"mode\":\"dateTime\",\"is24hr\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('input',_vm._g({staticClass:\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\",attrs:{\"id\":'end_date_' + _vm.ID},domProps:{\"value\":inputValue}},inputEvents))]}}]),model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1)]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.supplementary_notes))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.stepNotes),expression:\"form.stepNotes\"}],staticStyle:{\"margin\":\"-5px\",\"width\":\"102%\"},attrs:{\"id\":\"notes_form\",\"rows\":\"3\",\"placeholder\":_vm.ModalConfigStep_PlaceHolder.supplementary_notes},domProps:{\"value\":(_vm.form.stepNotes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"stepNotes\", $event.target.value)}}})])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.ModalConfigStep_Title.color_palette))]),_c('div',{staticClass:\"col-xs-8\"},[_c('color-picker',{attrs:{\"element\":_vm.form,\"colorParam\":_vm.colorParams}})],1)]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(\"Migration des triggers existant \")]),_c('div',{staticClass:\"col-xs-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.triggerMigration),expression:\"form.triggerMigration\"}],attrs:{\"type\":\"checkbox\",\"id\":\"triggerMigration_\"},domProps:{\"checked\":Array.isArray(_vm.form.triggerMigration)?_vm._i(_vm.form.triggerMigration,null)>-1:(_vm.form.triggerMigration)},on:{\"change\":function($event){var $$a=_vm.form.triggerMigration,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"triggerMigration\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"triggerMigration\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"triggerMigration\", $$c)}}}})])]),_c('div',{staticStyle:{\"align-items\":\"center\"}},[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.updateParams()}}},[_vm._v(_vm._s(_vm.ModalConfigStep_Button.save_button))]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.exitModal()}}},[_vm._v(_vm._s(_vm.ModalConfigStep_Button.exit_button))])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\n\nexport const commonMixin = {\n    data: function() {\n        return {\n            id: '',\n        }\n    },\n\n    created() {\n        this.id = this.getURLParams('id');\n    },\n\n    methods: {\n        getURLParams: function(_param) {\n            const queryString = window.location.search;\n            const urlParams = new URLSearchParams(queryString);\n            return urlParams.get(_param);\n        },\n    }\n}\n\nexport default commonMixin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(_vm.messageModal_Title.email_template))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.emailSelected),expression:\"form.emailSelected\"}],staticClass:\"form-control-select\",attrs:{\"id\":\"email-selected\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"emailSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.messageModal_PlaceHolder.email_template))]),_vm._l((this.$data.emails),function(model){return _c('option',{domProps:{\"value\":model.id}},[_vm._v(\" \"+_vm._s(model.lbl))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(_vm.messageModal_Title.destination))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.destinationSelected),expression:\"form.destinationSelected\"}],staticClass:\"form-control-select\",attrs:{\"id\":\"destination-selected\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"destinationSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.messageModal_PlaceHolder.destination))]),_vm._l((this.$data.destination),function(destination){return _c('option',{domProps:{\"value\":destination.id},on:{\"click\":_vm.handleOtherClick}},[_vm._v(\" \"+_vm._s(destination.label))])}),_c('option',{domProps:{\"value\":'other'},on:{\"click\":_vm.handleClick}},[_vm._v(_vm._s(_vm.messageModal_Title.select_one))])],2)])]),(_vm.showOtherUser==true)?_c('div',{staticClass:\"row mb-3\"},[(_vm.showOtherUser==true)?_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"selectAll_\"},on:{\"click\":_vm.handleSelect}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.messageModal_Title.select_all)+\"\\n      \"),_vm._l((this.userList),function(user){return (_vm.showOtherUser==true)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userChecked[user.id]),expression:\"userChecked[user.id]\"}],attrs:{\"type\":\"checkbox\",\"id\":'check' + user.id},domProps:{\"value\":user.id,\"checked\":Array.isArray(_vm.userChecked[user.id])?_vm._i(_vm.userChecked[user.id],user.id)>-1:(_vm.userChecked[user.id])},on:{\"click\":function($event){return _vm.handleClickUser(user.id)},\"change\":function($event){var $$a=_vm.userChecked[user.id],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=user.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.userChecked, user.id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.userChecked, user.id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.userChecked, user.id, $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"id\":'userName_' + user.id}},[_vm._v(\" \"+_vm._s(user.firstname)+\" \"+_vm._s(user.lastname))]),_c('label',{staticClass:\"form-check-label\",attrs:{\"id\":'userEmail_' + user.id}},[_vm._v(\" \"+_vm._s('[' + user.email + ']'))])]):_vm._e()})],2):_vm._e(),(_vm.showOtherUser==false)?_c('div'):_vm._e(),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(_vm.messageModal_Title.trigger))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.triggerSelected),expression:\"form.triggerSelected\"}],staticClass:\"form-control-select\",attrs:{\"id\":\"trigger-selected\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"triggerSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"to_current_user\"}},[_vm._v(_vm._s(_vm.TO_CURRENT_USER))]),_c('option',{attrs:{\"value\":\"to_applicant\"}},[_vm._v(_vm._s(_vm.TO_APPLICANT))])])])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(_vm.messageModal_Title.supplementary_information))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.messageNotes),expression:\"form.messageNotes\"}],staticStyle:{\"margin\":\"-3px\",\"width\":\"95%\"},attrs:{\"placeholder\":_vm.messageModal_PlaceHolder.supplementary_information},domProps:{\"value\":(_vm.form.messageNotes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"messageNotes\", $event.target.value)}}})])]),_c('div',{staticClass:\"row mb-3\"},[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.updateTrigger()}}},[_vm._v(_vm._s(_vm.messageModal_Button.save_button))]),_c('b-button',{attrs:{\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.messageModal_Button.exit_button))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ messageModal_Title.email_template}}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.emailSelected\" class=\"form-control-select\" id=\"email-selected\">\n          <option selected disabled>{{ messageModal_PlaceHolder.email_template }}</option>\n          <option v-for = \"model in this.$data.emails\" :value=\"model.id\"> {{ model.lbl }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ messageModal_Title.destination }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.destinationSelected\" class=\"form-control-select\" id=\"destination-selected\">\n          <option selected disabled>{{ messageModal_PlaceHolder.destination }}</option>\n          <option v-for=\"destination in this.$data.destination\" :value=\"destination.id\" @click=\"handleOtherClick\"> {{ destination.label }}</option>\n          <option @click=\"handleClick\" :value=\"'other'\">{{ messageModal_Title.select_one }}</option>\n        </select>\n      </div>\n    </div>\n\n<!--    v-if showOtheruser == true -->\n    <div class=\"row mb-3\" v-if=\"showOtherUser==true\">\n      <input type=\"checkbox\" id=\"selectAll_\" v-if=\"showOtherUser==true\" @click=\"handleSelect\"> {{ messageModal_Title.select_all }}\n      <div v-for=\"user in this.userList\" v-if=\"showOtherUser==true\">\n        <input type=\"checkbox\" :id=\"'check' + user.id\" :value=\"user.id\" v-model=\"userChecked[user.id]\" @click=\"handleClickUser(user.id)\"/>\n        <label class=\"form-check-label\" :id=\"'userName_' + user.id\"> {{ user.firstname }} {{ user.lastname }}</label>\n        <label class=\"form-check-label\" :id=\"'userEmail_' + user.id\"> {{ '[' + user.email + ']'}}</label>\n      </div>\n    </div>\n\n    <div v-if=\"showOtherUser==false\"></div>\n\n    <!--  TRIGGER PART -->\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ messageModal_Title.trigger }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.triggerSelected\" class=\"form-control-select\" id=\"trigger-selected\">\n          <option value=\"to_current_user\">{{ TO_CURRENT_USER }}</option>\n          <option value=\"to_applicant\">{{ TO_APPLICANT }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ messageModal_Title.supplementary_information }}</label>\n      <div class=\"col-xs-8\">\n        <textarea v-model=\"form.messageNotes\" :placeholder=\"messageModal_PlaceHolder.supplementary_information\" style=\"margin: -3px; width: 95%\"/>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <b-button variant=\"success\" @click=\"updateTrigger()\">{{ messageModal_Button.save_button }}</b-button>\n      <b-button variant=\"danger\">{{ messageModal_Button.exit_button }}</b-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport $ from 'jquery';\nconst qs = require('qs');\n\nexport default {\n  name: \"messageModal\",\n\n  props: {\n    messageParams: Object,\n    stepParams: Object,\n    activateParams: Boolean,\n    selectOtherUsers: Boolean,\n  },\n\n  data: function() {\n    return {\n      messageModal_PlaceHolder: {\n        email_template: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_EMAIL_TEMPLATE_PLACEHOLDER\"),\n        destination: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_DESTINATION_PLACEHOLDER\"),\n        supplementary_information: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_SUPPLEMENTARY_INFORMATION_PLACEHOLDER\"),\n      },\n\n      messageModal_Title: {\n        email_template: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_TITLE_EMAIL_TEMPLATE\"),\n        destination: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_TITLE_DESTINATION\"),\n        supplementary_information: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_TITLE_SUPPLEMENTARY_INFORMATION\"),\n        trigger: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_TITLE_TRIGGER\"),\n        select_one: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_TITLE_SELECT_ONE\"),\n        select_all: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MESSAGE_MODAL_TITLE_SELECT_ALL\"),\n      },\n\n      messageModal_Button: {\n        save_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_SAVE_BUTTON_TITLE\"),\n        exit_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_EXIT_BUTTON_TITLE\"),\n      },\n\n      form: {\n          emailSelected: '',\n          destinationSelected: '',\n          messageNotes: '',\n          usersSelected: [],\n          triggerSelected: [],\n      },\n\n      emails: [],\n      status: [],\n      destination: [],\n      isDisable: true,\n      showOtherUser: false,\n\n      userList: [],\n\n      userChecked: [],\n      triggerChecked: [],\n\n      selectAll: false,\n\n      TO_CURRENT_USER: 'Current User',\n      TO_APPLICANT: 'Applicant',\n\n      userIdList: [],\n      users_selected: '',\n    }\n  },\n\n  created() {\n    this.getAllMessages();\n    this.getAllDestinations();\n    this.getAllUsers();\n    this.getMessageParams(this.messageParams.id);\n  },\n\n  methods: {\n    handleOtherClick: function() {\n      this.showOtherUser = false;\n      this.form.usersSelected = null;\n      // uncheck all options\n      this.userIdList.forEach(elt => {\n        this.userChecked[elt] = false;\n        $('#check' + elt).prop('checked', false);\n      });\n    },\n\n    handleClick: function() {\n      if(this.showOtherUser === true) {\n        /// set variables\n        this.form.usersSelected = this.userChecked;\n      } else { }\n      this.showOtherUser=!this.showOtherUser;\n    },\n\n    handleClickUser: function(id) {\n      if(this.showOtherUser === true) {\n        this.userChecked[id] = true;\n        this.form.usersSelected = this.userChecked;\n      } else {}\n    },\n\n    handleSelect: function() {\n      this.selectAll=!this.selectAll;\n\n      this.userIdList.forEach(elt => {\n        if(this.selectAll == true) {\n          document.getElementById('check' + elt).checked = true;\n          this.userChecked[elt] = true;\n          this.form.usersSelected = this.userChecked;\n        } else {\n          this.userChecked[elt] = false;\n          document.getElementById('check' + elt).checked = false;\n        }\n      })\n    },\n\n    updateTrigger: function() {\n      const selectedUserList = [];\n      var selectedIndex = $(\"#destination-selected option:selected\").index();           /// get index of selected option\n      var selectedValue = $(\"#destination-selected option\").eq(selectedIndex).val();    /// get the value of selected option\n\n      if(this.showOtherUser === true && selectedValue === 'other') {\n        this.userIdList.forEach(id => {\n          if(document.getElementById('check' + id).checked === true) {\n            /// push\n            selectedUserList.push(document.getElementById('check' + id).value);   /// using jquery here\n          } else {}\n        })\n        this.form.usersSelected = selectedUserList.toString();\n      }\n\n      let trigger = {\n        id: this.messageParams.triggerId,\n        step: this.stepParams.outputStatus,\n        email_id: this.form.emailSelected,\n        to_current_user: this.form.triggerSelected === 'to_current_user' ? 1 : 0,\n        to_applicant: this.form.triggerSelected === 'to_applicant' ? 1 : 0,\n      }\n\n      let message_div = {\n        params: this.form,\n        id: this.messageParams.id,      /// update message div\n      }\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=common&task=updatemessagebloc',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: message_div,\n        })\n      }).then(response => {\n        /// after updating --> emit to parent component all updated values --> how to do???\n        let triggerParams = [];\n        if( $( \"#email-selected option:selected\" ).text() !== \"\" || $( \"#email-selected option:selected\" ).text() !== undefined || $( \"#email-selected option:selected\" ).text() !== null) {\n          triggerParams['messageTemplate'] = $(\"#email-selected option:selected\").text();\n        }\n        if( $( \"#destination-selected option:selected\" ).text() !== \"\" || $( \"#destination-selected option:selected\" ).text() !== undefined || $( \"#destination-selected option:selected\" ).text() !== null) {\n          triggerParams['messageDestination'] = $(\"#destination-selected option:selected\").text();\n        }\n\n        /// get the selectedIndex, selectedValue -->\n        let selectedIndex = $(\"#destination-selected option:selected\").index();\n        let selectedValue = $(\"#destination-selected option\").eq(selectedIndex).val();\n        let _users= [];\n\n        if(selectedValue === 'other' && this.form.usersSelected !== undefined) {\n          let user_selected_split = (this.form.usersSelected).split(',');\n\n          user_selected_split.forEach(user => {\n              _users.push(document.getElementById('userName_' + user).innerText);\n          })\n\n          triggerParams['messageDestinationList'] = _users.toString();\n        }\n\n        if( $( \"#trigger-selected option:selected\" ).text() !== \"\" || $( \"#trigger-selected option:selected\" ).text() !== undefined || $( \"#trigger-selected option:selected\" ).text() !== null) {\n          triggerParams['trigger'] = $(\"#trigger-selected option:selected\").text();\n        }\n\n        triggerParams['messageDivId'] = this.messageParams.id;\n        this.$emit('updateMessageBlock', triggerParams);\n\n      }).catch(error => { console.log(error); })\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=common&task=updatetrigger',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          trigger: trigger,\n          users: selectedUserList.length === 0 ? this.form.destinationSelected :  selectedUserList,\n        })\n      }).then(response => {})\n        .catch(error => { console.log(error); })\n    },\n\n    getMessageParams: function(id) {\n      let data = {\n        id: id,\n        mode: null,\n      }\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=common&task=getmessageblocbyid',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: data,      /// id of this message block\n        })\n      }).then(response => {\n        let json_params = response.data.data.data.params;\n        if(json_params !== null)\n        {\n          this.form.emailSelected = JSON.parse(json_params).emailSelected;\n          this.form.destinationSelected = JSON.parse(json_params).destinationSelected;\n          this.form.triggerSelected = JSON.parse(json_params).triggerSelected;\n\n          if (this.form.destinationSelected === 'other') {\n            var raw_users = JSON.parse(json_params).usersSelected;\n            this.showOtherUser = true;\n            let users_selected = raw_users.split(',');\n            users_selected.forEach(user => {\n              this.userChecked[user] = true;\n            })\n          } else {\n            this.showOtherUser = false;\n            /// do nothing here ...\n          }\n        }\n        else {\n          // do nothing here ...\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    getAllMessages: function() {\n      axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallmessages').then(response => {this.$data.emails = response.data.data;}).catch(error => {console.log(error);})\n    },\n\n    getAllDestinations: function() {\n      axios.get('index.php?option=com_emundus_workflow&controller=common&task=getalldestinations').then(response => {this.$data.destination = response.data.data;}).catch(error => {console.log(error);})\n    },\n\n    getAllUsers: function() {\n      axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallusers')\n          .then(response => {\n            this.userList = response.data.data;\n            response.data.data.forEach(elt => this.userIdList.push(elt.id));\n          })\n          .catch(error =>{console.log(error);})\n    },\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./messageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./messageModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageModal.vue?vue&type=template&id=0686da61&\"\nimport script from \"./messageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./messageModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"colorPicker\"}},[(_vm.showColor == true)?_c('input',{attrs:{\"id\":\"picker\",\"type\":\"color\"},domProps:{\"value\":_vm.colorParam.color},on:{\"input\":function($event){return _vm.handleChange()}}}):_vm._e(),(_vm.showColor == false)?_c('input',{attrs:{\"type\":\"color\"},domProps:{\"value\":_vm.colorParam.color},on:{\"click\":function($event){_vm.showColor=!_vm.showColor},\"input\":function($event){return _vm.handleChange()}}}):_vm._e(),_c('span',{staticStyle:{\"margin-left\":\"5vh\",\"font-weight\":\"bold\"},style:({ color : _vm.colorParam.color }),attrs:{\"id\":\"labelColor\"},model:{value:(_vm.colorParam.color),callback:function ($$v) {_vm.$set(_vm.colorParam, \"color\", $$v)},expression:\"colorParam.color\"}},[_vm._v(\" \"+_vm._s(_vm.colorParam.color || '#000000')+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"colorPicker\">\n    <input id='picker' type=\"color\" :value=\"colorParam.color\" @input=\"handleChange()\" style=\"\" v-if=\"showColor == true\"/>\n    <input type=\"color\" :value=\"colorParam.color\" @click=\"showColor=!showColor\" @input=\"handleChange()\" style=\"\" v-if=\"showColor == false\"/>\n\n    <span id='labelColor' v-model=\"colorParam.color\" style=\"margin-left: 5vh; font-weight: bold\" v-bind:style=\"{ color : colorParam.color }\"> {{ colorParam.color || '#000000'}} </span>\n\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\n\nexport default {\n  name: \"colorPicker\",\n\n  props: {\n    element: Object,\n    colorParam: Object,\n  },\n\n  data: function() {\n    return {\n      showColor: false,\n      form: {\n        setColor: '',\n      },\n    }\n  },\n\n  created() {\n    /// first time or unset --> this.colorParam.color === undefined\n    if(this.colorParam.color === undefined) {\n      this.showColor = false;\n      // this.colorParam.color = '#ffffff';\n    }\n    else {\n      this.form.setColor = this.colorParam.color;\n      this.showColor = true;\n    }\n    this.form = this.element;\n\n  },\n\n  methods: {\n    handleChange: function() {\n      // this.showColor = true;\n      this.form.setColor = $(\" #picker \").val();\n      this.colorParam.color = $(\" #picker \").val();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./colorPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./colorPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./colorPicker.vue?vue&type=template&id=6d2e9046&scoped=true&\"\nimport script from \"./colorPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./colorPicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d2e9046\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"ModalConfigStep\" class=\"ModalConfigStep\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <div id=\"bounding\" class=\"bounding\">\n      <modal :name=\"'stepModal' + ID\" :width=\"580\" :height=\"3000\" :adaptive=\"true\" :draggable=\"true\" :scrollable=\"true\" :clickToClose=\"true\" @before-open=\"beforeOpen\" @before-close=\"beforeClose\">\n        <!--      please keep this code part, do not remove ||| option 1 : only one step in -->\n\n\n        <!--      &lt;!&ndash;  Set step in   &ndash;&gt;-->\n        <!--      <div class=\"row mb-3\">-->\n        <!--        <label class=\"col-sm-6 col-form-label\">{{ this.title.inputStatusTitle }}</label>-->\n        <!--        <div class=\"col-xs-8\">-->\n        <!--          <select v-model=\"form.inputStatus\" class=\"form-control-select\" id=\"instatus-selected\">-->\n        <!--            <b-form-select-option selected disabled>&#45;&#45; Statut d'entre de l'etape &#45;&#45;</b-form-select-option>-->\n        <!--            <option v-for=\"instatus in this.inStatus\" :value=\"instatus.step\"> {{ instatus.value }}</option>-->\n        <!--          </select>-->\n        <!--        </div>-->\n        <!--      </div>-->\n\n\n        <!--&lt;!&ndash;    option 2 : multiple step in &ndash;&gt;-->\n\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.label }}</label>\n          <div class=\"col-xs-8\">\n            <textarea class='notes' id=\"step_label\" rows=\"3\" v-model=\"stepLabel\" placeholder=\"Nom de l'etape\" style=\"width: 95%; height: 35px !important\"></textarea>\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.input_status }}</label>\n          <div v-for=\"item in this.$data.inStatus\" v-if=\"!item.disabled\">\n            <input type=\"checkbox\" :id=\"item.step\" :value=\"item.step\" v-model=\"checked[item.step]\"/>\n            <label class=\"form-check-label\" :id=\"'status'+ item.step\" name=\"\"> {{item.value}}</label>\n          </div>\n        </div>\n\n        <!-- Step step out -->\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.output_status }}</label>\n          <div class=\"col-xs-8\">\n            <select v-model=\"form.outputStatus\" class=\"form-control-select\" id=\"outstatus-selected\">\n              <option selected disabled>{{ ModalConfigStep_PlaceHolder.output_status }}</option>\n              <option v-for=\"outstatus in this.outStatus\" :value=\"outstatus.step\"> {{ outstatus.value }}</option>\n            </select>\n          </div>\n        </div>\n\n        <!--       Step start date >>> add datetime picker -->\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.start_date }}</label>\n          <div class=\"col-xs-8\">\n            <date-picker v-model=\"startDate\" mode=\"dateTime\" is24hr>\n              <template v-slot=\"{ inputValue, inputEvents }\">\n                <input\n                    class=\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\"\n                    :value=\"inputValue\"\n                    v-on=\"inputEvents\"\n                    :id=\"'start_date_' + ID\"\n                />\n              </template>\n            </date-picker>\n\n          </div>\n        </div>\n\n        <!-- Step end date >>> add datetime picker -->\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.end_date }}</label>\n          <div class=\"col-xs-8\">\n            <date-picker v-model=\"endDate\" mode=\"dateTime\" is24hr>\n              <template v-slot=\"{ inputValue, inputEvents }\">\n                <input\n                    class=\"px-2 py-1 border rounded focus:outline-none focus:border-blue-300\"\n                    :value=\"inputValue\"\n                    v-on=\"inputEvents\"\n                    :id=\"'end_date_' + ID\"\n                />\n              </template>\n            </date-picker>\n\n          </div>\n        </div>\n\n        <!-- Supplementary information -->\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.supplementary_notes }}</label>\n          <div class=\"col-xs-8\">\n            <textarea id=\"notes_form\" rows=\"3\" v-model=\"form.stepNotes\" :placeholder=\"ModalConfigStep_PlaceHolder.supplementary_notes\" style=\"margin: -5px; width: 102%\"></textarea>\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">{{ ModalConfigStep_Title.color_palette }}</label>\n          <div class=\"col-xs-8\">\n            <color-picker :element=\"form\" :colorParam=\"colorParams\"/>\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <label class=\"col-sm-6 col-form-label\">Migration des triggers existant </label>\n          <div class=\"col-xs-8\">\n            <input type=\"checkbox\" id=\"triggerMigration_\" v-model=\"form.triggerMigration\"/>\n          </div>\n        </div>\n\n        <div style=\"align-items: center\">\n          <b-button variant=\"success\" @click=\"updateParams()\">{{ ModalConfigStep_Button.save_button }}</b-button>\n          <b-button variant=\"danger\" @click=\"exitModal()\">{{ ModalConfigStep_Button.exit_button }}</b-button>\n        </div>\n\n      </modal>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nimport $ from 'jquery';\nimport Calendar from 'v-calendar/lib/components/calendar.umd'\nimport DatePicker from 'v-calendar/lib/components/date-picker.umd'\nimport { commonMixin } from \"../../../mixins/common-mixin\";\nimport messageModal from \"../WorkflowModal/element/messageModal\";\nimport colorPicker from \"../../colorPicker\";\n\nrequire('moment')().format('YYYY-MM-DD HH:mm:ss');\n\nconst qs = require('qs');\n\nexport default {\n  name: \"ModalConfigStep\",\n  mixins: [commonMixin],\n  props: {\n    ID: Number,\n    element: Object,\n  },\n\n  components: {\n    Calendar,\n    DatePicker,\n    messageModal,\n    colorPicker,\n  },\n\n  data: function() {\n    return {\n      messageParams: Object,\n      colorParams: Object,\n\n      ModalConfigStep_PlaceHolder: {\n        output_status: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_PLACEHOLDER_OUTPUT_STATUS\"),\n        supplementary_notes: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_PLACEHOLDER_SUPPLEMENTARY_INFORMATION\"),\n      },\n\n      ModalConfigStep_Title: {\n        label: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_LABEL\"),\n        input_status: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_INPUT_STATUS\"),\n        output_status: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_OUTPUT_STATUS\"),\n        start_date: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_START_DATE\"),\n        end_date: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_END_DATE\"),\n        supplementary_notes: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_SUPPLEMENTARY_INFORMATION\"),\n        color_palette: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_STEP_MODAL_STEP_TITLE_STEP_COLOR\"),\n      },\n\n      ModalConfigStep_Button: {\n        save_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_SAVE_BUTTON_TITLE\"),          /// common\n        exit_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_EXIT_BUTTON_TITLE\"),          /// common\n      },\n\n      ModalConfigStep_SweetAlert: {\n        congratulation_title: Joomla.JText._('COM_EMUNDUS_WORKFLOW_COMMON_SWEET_ALERT_CONGRATULATION_TITLE'),                 /// common\n        congratulation_message: Joomla.JText._('COM_EMUNDUS_WORKFLOW_COMMON_SWEET_ALERT_CONGRATULATION_MESSAGE'),               /// common\n        error_title: Joomla.JText._('COM_EMUNDUS_WORKFLOW_COMMON_SWEET_ALERT_ERROR_TITLE'),\n        error_message: Joomla.JText._('COM_EMUNDUS_WORKFLOW_COMMON_SWEET_ALERT_ERROR_MESSAGE'),\n      },\n\n\n      // use for form v-model\n      form: {\n        id: '',\n        inputStatus: [],\n        outputStatus: '',\n        stepNotes: '',\n        triggerMigration: '',\n      },\n\n      // use for date v-model\n      startDate: '',\n      endDate: '',\n      //use to keep the axios api\n      inStatus: [],\n      outStatus: [],\n\n      checked: [],\n      inputList: [],\n\n      inStatusSelected: [],\n      stepLabel: '',\n    }\n  },\n\n  created() {\n    this.form.inputStatus = this.checked;\n  },\n\n  methods: {\n    getCurrentParams: function(sid) {\n      axios({\n        method: 'get',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=getcurrentparams',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: { sid },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        this.showMessage = false;\n        this.form.id = this.ID;\n        this.form.outputStatus = response.data.data.outputStatus;\n        this.form.stepNotes = response.data.data.notes;\n\n        this.startDate = response.data.data.startDate;\n        this.endDate = response.data.data.endDate;\n        var _temp = response.data.data.inputStatus.split(',');\n        _temp.forEach(elt => {\n          this.checked[elt] = true;\n        });\n\n        this.stepLabel = response.data.data.stepLabel;\n\n        this.colorParams = response.data.data;      // using this data to pass to child\n      })\n    },\n\n    getAvailableStatus: function(data) {\n      axios({\n        method: 'get',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=getavailablestatus',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: { data },\n        paramsSerializer: params => {\n          return qs.stringify(params)\n        }\n      }).then(response => {\n        var _temp = response.data.dataIn;\n\n        if(_temp !== null) {\n          _temp.forEach(elt => elt['disabled'] = false);\n          this.inStatus = _temp;\n        }\n        this.outStatus = response.data.dataOut;\n      })\n    },\n\n    updateParams: function() {\n      // params :: this.form\n      if(this.form.inputStatus !== null && this.form.outputStatus !== null\n          && this.startDate !== null && this.endDate !== null\n          && new Date(this.startDate).toISOString().slice(0, 19).replace('T', ' ') <= new Date(this.endDate).toISOString().slice(0, 19).replace('T', ' ')) {\n        axios({\n          method: 'post',\n          url: 'index.php?option=com_emundus_workflow&controller=step&task=updateparams',\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            data: {\n              id: this.element.id,\n              step_label: this.stepLabel,\n              workflow_id: this.$data.id,\n              params: this.form,\n              start_date: new Date(this.startDate).toISOString().slice(0, 19).replace('T', ' '),\n              end_date: new Date(this.endDate).toISOString().slice(0, 19).replace('T', ' '),\n            }\n          })\n        }).then(response => {\n          Swal.fire({\n            icon: 'success',\n            title: this.ModalConfigStep_SweetAlert.congratulation_title,\n            text: this.ModalConfigStep_SweetAlert.congratulation_message,\n            footer: '<a href>EMundus SAS</a>',\n            confirmButtonColor: '#28a745',\n          }).then(result => {\n            if(result.isConfirmed) {\n              this.$modal.hide(\"stepModal\" + this.element.id);\n            }\n            // this.inStatusSelected = $( \"#instatus-selected option:selected\" ).text();\n          })\n        }).catch(error => {\n          console.log(error);\n        })\n      }\n      else {\n        Swal.fire({\n          icon: 'error',\n          title: this.ModalConfigStep_SweetAlert.error_title,\n          html: this.ModalConfigStep_SweetAlert.error_message,\n          timer: 1500,\n          showConfirmButton:false,\n        })\n      }\n    },\n\n    exitModal: function() {\n      var _in = this.form.inputStatus;\n      var _out = this.form.outputStatus;\n\n      if(_in.length == 0 || _out === null) {\n        this.$emit('deleteStep', this.element.id);          // using emit to pass event\n        this.$modal.hide(\"stepModal\" + this.element.id);\n      }\n    },\n\n    beforeOpen() {\n      var data = {\n        wid: this.$data.id,\n        sid: this.element.id,\n      }\n      this.getCurrentParams(this.element.id);\n      this.getAvailableStatus(data);  //for test only\n    },\n\n    beforeClose() {\n      let _result = [];\n      let _emit = [];\n      for(i = 0; i <= this.form.inputStatus.length; i++) {\n        if(this.form.inputStatus[i] == true) {\n          _result.push(document.getElementById('status'+i).innerText);\n        }\n      }\n\n      _emit['output'] = $( \"#outstatus-selected option:selected\" ).text();\n      _emit['input'] = _result.toString();\n      _emit['startDate'] = $( \"#start_date_\" + this.ID).val();\n      _emit['endDate'] = $( \"#end_date_\" + this.ID).val();\n\n      _emit['id'] = this.form.id;\n\n      _emit['label'] = $(\"#step_label\").val();      // pass label to parent component (stepflow)\n\n      // get the color\n      _emit['color'] = $(\"#labelColor\").text();\n\n      this.$emit('updateStep', _emit);\n    }\n  },\n}\n</script>\n\n<style>\n.col-sm-6 {\n  flex: 0 0 auto !important;\n  width: 100% !important;\n}\n\n.vm--modal {\n  padding: 10px 30px !important;\n  overflow-y: scroll !important;\n}\n\n.select {\n  max-width: 300px !important;\n}\n\n.col-form-label {\n  color: #0088ff !important;\n}\n\n.theme-orange .vdatetime-popup__header,\n.theme-orange .vdatetime-calendar__month__day--selected > span > span,\n.theme-orange .vdatetime-calendar__month__day--selected:hover > span > span {\n  background: #FF9800;\n}\n\n.theme-orange .vdatetime-year-picker__item--selected,\n.theme-orange .vdatetime-time-picker__item--selected,\n.theme-orange .vdatetime-popup__actions__button {\n  color: #ff9800;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigStep.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigStep.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalConfigStep.vue?vue&type=template&id=8dbed568&\"\nimport script from \"./ModalConfigStep.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalConfigStep.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalConfigStep.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flowchart-container\",on:{\"mousemove\":_vm.handleMove,\"mouseup\":_vm.handleUp,\"mousedown\":_vm.handleDown}},[_c('svg',{attrs:{\"width\":\"100%\",\"height\":(_vm.height + \"vh\")}},_vm._l((_vm.lines),function(link,index){return _c('flowchart-link',_vm._b({key:(\"link\" + index),on:{\"deleteLink\":function($event){return _vm.linkDelete(link.id)}}},'flowchart-link',link,false,true))}),1),_vm._l((_vm.scene.nodes),function(node,index){return _c('modal-config-element',{attrs:{\"ID\":node.id,\"element\":node},on:{\"linkingStart\":_vm.linkingStart,\"linkingStop\":_vm.linkingStop,\"linkDelete\":_vm.linkDelete,\"updateLabel\":_vm.updateLabel}},[_vm._v(\"\\n    \"+_vm._s(node.id)+\"\\n  \")])}),_vm._l((_vm.scene.nodes),function(node,index){return _c('flowchart-node',_vm._b({key:(\"node\" + index),style:({ background: node.background }),attrs:{\"options\":_vm.nodeOptions,\"params\":_vm.step,\"nodeLabel\":_vm.info},on:{\"linkingStart\":function($event){return _vm.linkingStart(node.id)},\"linkingStop\":function($event){return _vm.linkingStop(node.id)},\"nodeSelected\":function($event){return _vm.nodeSelected(node.id, $event)}}},'flowchart-node',node,false,true))})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{on:{\"mouseover\":_vm.handleMouseOver,\"mouseleave\":_vm.handleMouseLeave}},[_c('path',{style:(_vm.pathStyle),attrs:{\"d\":_vm.dAttr}}),(_vm.show.delete)?_c('a',{on:{\"click\":_vm.deleteLink}},[_c('text',{staticClass:\"link-delete\",attrs:{\"text-anchor\":\"middle\",\"transform\":_vm.arrowTransform,\"font-size\":\"22\"}},[_vm._v(\"×\")])]):_c('path',{style:(_vm.arrowStyle),attrs:{\"d\":\"M -1 -1 L 0 1 L 1 -1 z\",\"transform\":_vm.arrowTransform}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <g @mouseover=\"handleMouseOver\"\n     @mouseleave=\"handleMouseLeave\">\n    <path :d=\"dAttr\" :style=\"pathStyle\"></path>\n    <a v-if=\"show.delete\" @click=\"deleteLink\">\n      <text\n          text-anchor=\"middle\"\n          :transform=\"arrowTransform\"\n          font-size=\"22\" class=\"link-delete\">&times;</text>\n    </a>\n    <path v-else d=\"M -1 -1 L 0 1 L 1 -1 z\"\n          :style=\"arrowStyle\"\n          :transform=\"arrowTransform\"></path>\n  </g>\n</template>\n\n<script>\nexport default {\n  name: 'FlowchartLink',\n  props: {\n    // start point position [x, y]\n    start: {\n      type: Array,\n      from: Number,       // from node\n      default() {\n        return [0, 0]\n      }\n    },\n    // end point position [x, y]\n    end: {\n      type: Array,\n      end: Number,      // to node\n      default() {\n        return [0, 0]\n      }\n    },\n    id: Number,\n  },\n  data() {\n    return {\n      show: {\n        delete: false,\n      }\n    }\n  },\n  methods: {\n    handleMouseOver() {\n      if (this.id) {\n        this.show.delete = true;\n      }\n    },\n    handleMouseLeave() {\n      this.show.delete = false;\n    },\n    caculateCenterPoint() {\n      // caculate arrow position: the center point between start and end\n      const dx = (this.end[0] - this.start[0]) / 2;\n      const dy = (this.end[1] - this.start[1]) / 2;\n      return [this.start[0] + dx, this.start[1] + dy];\n    },\n    caculateRotation() {\n      // caculate arrow rotation\n      const angle = -Math.atan2(this.end[0] - this.start[0], this.end[1] - this.start[1]);\n      const degree = angle * 180 / Math.PI;\n      return degree < 0 ? degree + 360 : degree;\n    },\n    deleteLink() {\n      this.$emit('deleteLink')\n    }\n  },\n  computed: {\n    pathStyle() {\n      return {\n        stroke: 'rgb(255, 136, 85)',\n        strokeWidth: 2.73205,\n        fill: 'none',\n      }\n    },\n    arrowStyle() {\n      return {\n        stroke: 'rgb(255, 136, 85)',\n        strokeWidth: 5.73205,\n        fill: 'none',\n      }\n    },\n    arrowTransform() {\n      const [arrowX, arrowY] = this.caculateCenterPoint();\n      const degree = this.caculateRotation()\n      return `translate(${arrowX}, ${arrowY}) rotate(${degree})`;\n    },\n    dAttr() {\n      let cx = this.start[0], cy = this.start[1], ex = this.end[0], ey = this.end[1];\n      let x1 = cx, y1 = cy + 50, x2 = ex, y2 = ey - 50;\n      return `M ${cx}, ${cy} C ${x1}, ${y1}, ${x2}, ${y2}, ${ex}, ${ey}`;\n    }\n  }\n}\n</script>\n\n<style scoped>\ng {\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowchartLink.vue?vue&type=template&id=04260896&scoped=true&\"\nimport script from \"./FlowchartLink.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowchartLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlowchartLink.vue?vue&type=style&index=0&id=04260896&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04260896\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flowchart-node\",class:{selected: _vm.options.selected === _vm.id},style:(_vm.nodeStyle),on:{\"mousedown\":_vm.handleMousedown,\"mouseover\":_vm.handleMouseOver,\"mouseleave\":_vm.handleMouseLeave}},[_c('div',{staticClass:\"node-port node-input\",on:{\"mousedown\":_vm.inputMouseDown,\"mouseup\":_vm.inputMouseUp}}),_c('div',{staticClass:\"node-main\"},[_c('div',{staticClass:\"node-type\",domProps:{\"textContent\":_vm._s(_vm.type)}}),(this.$attrs.itemLabel !== null || this.$attrs.itemLabel !== undefined)?_c('p',{attrs:{\"id\":'label_'+ _vm.id,\"disabled\":\"true\"}},[_vm._v(\" \"+_vm._s(this.$attrs.itemLabel)+\"\\n    \")]):_vm._e(),(this.$attrs.itemLabel === null || this.$attrs.itemLabel === undefined)?_c('p',{attrs:{\"id\":'label_'+ _vm.id,\"disabled\":\"true\"}},[_vm._v(\" \"+_vm._s(this.$props.label)+\"\\n  \")]):_vm._e()]),_c('div',{staticClass:\"node-port node-output\",on:{\"mousedown\":_vm.outputMouseDown}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.delete),expression:\"show.delete\"}],staticClass:\"node-delete\"},[_vm._v(\"×\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.clone),expression:\"show.clone\"}],ref:\"duplicate\",staticClass:\"duplicate-option\",attrs:{\"id\":_vm.id}},[_vm._v(\"Dupliquer\")]),_c('div',{ref:\"configuration\",staticClass:\"configuration\",attrs:{\"id\":_vm.id}},[_vm._v(\"Configurer\")]),_c('div',{staticClass:\"input-status\",attrs:{\"id\":_vm.id}},[_vm._v(\" \"+_vm._s(this.params.stateIn))]),_c('div',{staticClass:\"output-status\",attrs:{\"id\":_vm.id}},[_vm._v(\" \"+_vm._s(this.params.stateOut))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flowchart-node\" :style=\"nodeStyle\"\n       @mousedown=\"handleMousedown\"\n       @mouseover=\"handleMouseOver\"\n       @mouseleave=\"handleMouseLeave\"\n       v-bind:class=\"{selected: options.selected === id}\">\n    <div class=\"node-port node-input\"\n         @mousedown=\"inputMouseDown\"\n         @mouseup=\"inputMouseUp\">\n    </div>\n    <div class=\"node-main\">\n      <div v-text=\"type\" class=\"node-type\"></div>\n      <p :id=\"'label_'+ id\" v-if=\"this.$attrs.itemLabel !== null || this.$attrs.itemLabel !== undefined\" disabled=\"true\"> {{ this.$attrs.itemLabel }}\n      <p :id=\"'label_'+ id\" v-if=\"this.$attrs.itemLabel === null || this.$attrs.itemLabel === undefined\" disabled=\"true\"> {{ this.$props.label }}\n    </div>\n    <div class=\"node-port node-output\"\n         @mousedown=\"outputMouseDown\">\n    </div>\n    <div v-show=\"show.delete\" class=\"node-delete\">&times;</div>\n    <div v-show=\"show.clone\" class=\"duplicate-option\" :id=\"id\" ref=\"duplicate\">Dupliquer</div>\n    <div class=\"configuration\" :id=\"id\" ref=\"configuration\">Configurer</div>\n    <div class=\"input-status\" :id=\"id\"> {{ this.params.stateIn }}</div>\n    <div class=\"output-status\" :id=\"id\"> {{ this.params.stateOut }}</div>\n  </div>\n</template>\n\n<script>\nimport {DateTime as LuxonDateTime} from \"luxon\";\nimport axios from \"axios\";\nconst qs = require('qs');\n\nexport default {\n  name: 'FlowchartNode',\n  props: {\n    nodeLabel: String,\n    params: Object,\n    background: {\n      type: String,\n      default: '',\n    },\n    id: {\n      type: Number,\n      default: 1000,\n      validator(val) {\n        return typeof val === 'number'\n      }\n    },\n    x: {\n      type: Number,\n      default: 0,\n      validator(val) {\n        return typeof val === 'number'\n      }\n    },\n    y: {\n      type: Number,\n      default: 0,\n      validator(val) {\n        return typeof val === 'number'\n      }\n    },\n    type: {\n      type: String,\n      default: 'Element'\n    },\n    label: {\n      type: String,\n      default: 'input name'\n    },\n    options: {\n      type: Object,\n      default() {\n        return {\n          centerX: 1024,\n          scale: 1,\n          centerY: 140,\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      show: {\n        delete: false,\n        clone: false,\n      },\n\n      inputStatus: [],\n      outputStatus: [],\n    }\n  },\n  mounted() {\n  },\n\n  created() {\n    // console.log(this.$attrs.itemLabel);\n    // this.$attrs.itemLabel = this.$props.label || this.$attrs.itemLabel;\n  },\n\n  computed: {\n    nodeStyle() {\n      return {\n        top: this.options.centerY + this.y * this.options.scale + 'px', // remove: this.options.offsetTop +\n        left: this.options.centerX + this.x * this.options.scale + 'px', // remove: this.options.offsetLeft +\n        transform: `scale(${this.options.scale})`,\n      }\n    }\n  },\n  methods: {\n    handleMousedown(e) {\n      const target = e.target || e.srcElement;\n      // console.log(target);\n      if (target.className.indexOf('node-input') < 0 && target.className.indexOf('node-output') < 0) {\n        this.$emit('nodeSelected', e);\n      }\n    },\n    handleMouseOver() {\n      this.show.delete = true;\n      this.show.clone = true;\n    },\n    handleMouseLeave() {\n      this.show.delete = false;\n      this.show.clone = false;\n    },\n    outputMouseDown(e) {\n      this.$emit('linkingStart')\n      e.preventDefault();\n    },\n    inputMouseDown(e) {\n      e.preventDefault();\n    },\n    inputMouseUp(e) {\n      this.$emit('linkingStop')\n      e.preventDefault();\n    },\n\n    handleDuplicatItem(e) {\n      this.$emit('duplicateItem');\n      e.preventDefault();\n    },\n\n    handleConfigure(e) {\n      this.$emit('configureItem');\n      e.preventDefault();\n    },\n\n    getCurrentStatus: function (id) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getcurrentstatusbyitem',\n        params: { id },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        this.inputStatus = response.data.dataIn;\n        this.outputStatus = response.data.dataOut;\n      }).catch(error => {\n        console.log(error);\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.flowchart-node {\n  margin: 0;\n  width: 80px;\n  height: 80px;\n  position: absolute;\n  box-sizing: border-box;\n  border: none;\n  background: white;\n  z-index: 1;\n  opacity: 0.9;\n  cursor: move;\n  transform-origin: top left;\n  /*border-radius: 0.75rem;*/\n}\n.flowchart-node .node-main {\n  text-align: center;\n}\n.flowchart-node .node-main .node-type {\n  background: #f85;\n  color: white;\n  font-size: 13px;\n  padding: 6px;\n  /*border-radius: 0.75rem;*/\n}\n.flowchart-node .node-main .node-label {\n  font-size: 13px;\n  text-decoration: underline;\n  cursor: auto;\n}\n.flowchart-node .node-port {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  left: 50%;\n  transform: translate(-50%);\n  border: 1px solid #ccc;\n  border-radius: 100px;\n  background: white;\n}\n.flowchart-node .node-port:hover {\n  background: #f85;\n  border: 1px solid #f85;\n}\n.flowchart-node .node-input {\n  top: -8px;\n}\n.flowchart-node .node-output {\n  bottom: -8px;\n}\n.flowchart-node .node-delete {\n  position: absolute;\n  right: -6px;\n  top: -6px;\n  font-size: 12px;\n  width: 12px;\n  height: 12px;\n  color: #f85;\n  cursor: pointer;\n  background: white;\n  border: 1px solid #f85;\n  border-radius: 100px;\n  text-align: center;\n}\n.flowchart-node .node-delete:hover {\n  background: #f85;\n  color: white;\n}\n\n.flowchart-node .duplicate-option {\n  position: absolute;\n  margin: 20px 60px;\n  width: 12px;\n  height: 12px;\n  color: #ba0f8a;\n  cursor: pointer;\n  text-align: center;\n  font-size: x-small;\n}\n\n.flowchart-node .remove-option {\n  font-size: small;\n  text-align: center;\n  width: -moz-fit-content !important;\n  height: fit-content;\n  display: inline-block;\n  background: #d94c4c;\n  position: absolute;\n  margin: -5px 85px !important;\n  cursor: pointer;\n  color: white;\n  border-radius: 0.25rem !important;\n}\n\n.configuration {\n  font-size: x-small;\n  color: #0010ff;\n  text-align: center;\n  margin: 15px 0px;\n  cursor: pointer;\n}\n\n.configuration:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19) !important;\n}\n.selected {\n  box-shadow: 0 0 0 2px #f85;\n}\n\n.input-status {\n  margin-left: -60px;\n  margin-top: -35px;\n  color: #0B7C08;\n  font-size: x-small;\n  position: absolute;\n}\n\n.output-status {\n  margin: -35px 90px;\n  color: #081b7c;\n  font-size: x-small;\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowchartNode.vue?vue&type=template&id=6264d851&scoped=true&\"\nimport script from \"./FlowchartNode.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowchartNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlowchartNode.vue?vue&type=style&index=0&id=6264d851&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6264d851\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @param element {HTMLElement}\n * @return {{top: number, left: number}}\n */\nfunction getOffsetRect (element) {\n    let box = element.getBoundingClientRect()\n\n    let scrollTop = window.pageYOffset\n    let scrollLeft = window.pageXOffset\n\n    let top = box.top + scrollTop\n    let left = box.left + scrollLeft\n\n    return {top: Math.round(top), left: Math.round(left)}\n}\n/**\n * @param event {MouseEvent}\n * @param element {HTMLElement}\n * @return {{x: number, y: number}}\n */\nfunction getMousePosition (element, event) {\n    let mouseX = event.pageX || event.clientX + document.documentElement.scrollLeft\n    let mouseY = event.pageY || event.clientY + document.documentElement.scrollTop\n\n    let offset = getOffsetRect(element)\n    let x = mouseX - offset.left\n    let y = mouseY - offset.top\n\n    return [x, y];\n}\n\nexport {\n    getMousePosition, getOffsetRect\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ModalConfigElement\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('modal',{attrs:{\"name\":'elementModal' + _vm.ID,\"width\":580,\"height\":600,\"adaptive\":true,\"draggable\":true,\"scrollable\":true,\"clickToClose\":true},on:{\"before-open\":_vm.beforeOpen,\"before-close\":_vm.beforeClose}},[_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_c('h3',{staticStyle:{\"color\":\"white !important\"}},[_vm._v(_vm._s(this.$data.name)+\" \"+_vm._s(_vm.ModalConfigElement_Title.label))])]),_c('br'),_c('br'),_c('b-nav',{attrs:{\"tabs\":\"\"}},[_c('b-nav-item',{attrs:{\"active\":\"\"}},[_vm._v(_vm._s(_vm.ModalConfigElement_Title.breadcrumb))])],1),_c('br'),_c('br'),(this.type == 2)?_c('espace-modal',{ref:\"forms\",attrs:{\"element\":_vm.element}}):_vm._e(),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.updateParams()}}},[_vm._v(_vm._s(_vm.ModalConfigElement_Button.save_button))]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.exitModal()}}},[_vm._v(_vm._s(_vm.ModalConfigElement_Button.exit_button))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.espaceModal_Title.label))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.itemLabel),expression:\"form.itemLabel\"}],staticStyle:{\"width\":\"95%\",\"height\":\"35px !important\"},attrs:{\"id\":'step_label'+_vm.element.id,\"rows\":\"3\",\"placeholder\":_vm.espaceModal_PlaceHolder.label},domProps:{\"value\":(_vm.form.itemLabel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"itemLabel\", $event.target.value)}}})])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.espaceModal_Title.profile))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.formNameSelected),expression:\"form.formNameSelected\"}],staticClass:\"form-control-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"formNameSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.espaceModal_PlaceHolder.profile))]),_vm._l((this.$data.forms),function(form){return _c('option',{domProps:{\"value\":form.id}},[_vm._v(\" \"+_vm._s(form.label))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(_vm.espaceModal_Title.supplementary_information))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.notes),expression:\"form.notes\"}],staticStyle:{\"margin\":\"-5px\",\"width\":\"102%\"},attrs:{\"id\":\"notes_form\",\"rows\":\"3\",\"placeholder\":_vm.espaceModal_PlaceHolder.supplementary_information},domProps:{\"value\":(_vm.form.notes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"notes\", $event.target.value)}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ espaceModal_Title.label }}</label>\n      <div class=\"col-xs-8\">\n        <textarea :id=\"'step_label'+element.id\" rows=\"3\" v-model=\"form.itemLabel\" :placeholder=\"espaceModal_PlaceHolder.label\" style=\"width: 95%; height: 35px !important\"></textarea>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ espaceModal_Title.profile }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.formNameSelected\" class=\"form-control-select\">\n          <option selected disabled>{{ espaceModal_PlaceHolder.profile }}</option>\n          <option v-for=\"form in this.$data.forms\" :value=\"form.id\"> {{ form.label }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ espaceModal_Title.supplementary_information }}</label>\n      <div class=\"col-xs-8\">\n        <textarea id=\"notes_form\" rows=\"3\" v-model=\"form.notes\" :placeholder=\"espaceModal_PlaceHolder.supplementary_information\" style=\"margin: -5px; width: 102%\"></textarea>\n      </div>\n    </div>\n\n  </div>\n</template>\n<script>\nimport axios from 'axios';\n\nconst qs = require('qs');\nlet _all = [];\nexport default {\n  name: \"espaceModal\",\n  props: {\n    element: Object,\n  },\n  data: function() {\n    return {\n      espaceModal_PlaceHolder: {\n        label: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_ESPACE_MODAL_PLACEHOLDER_LABEL\"),\n        profile: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_ESPACE_MODAL_PLACEHOLDER_PROFILE\"),\n        supplementary_information: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_ESPACE_MODAL_PLACEHOLDER_SUPPLEMENTARY_INFORMATION\"),\n      },\n\n      espaceModal_Title: {\n        label: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_ESPACE_MODAL_TITLE_LABEL\"),\n        profile: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_ESPACE_MODAL_TITLE_PROFILE\"),\n        supplementary_information: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_ESPACE_MODAL_TITLE_SUPPLEMENTARY_INFORMATION\"),\n      },\n\n      form: {\n        itemLabel: \"\",\n        formNameSelected: '',\n        notes: '',\n      },\n      forms: [],\n      status: [],\n      inStatus: [],\n      outStatus: [],\n      isDisabled: true,\n      checked: [],\n\n      in: [],\n      out: [],\n    }\n  },\n  methods: {\n    getAllFormType: function() {\n      axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallpublishedforms')\n          .then(response => {\n            this.$data.forms = response.data.data;\n          })\n          .catch(error => {\n            console.log(error);\n          })\n    },\n\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    getCurrentStatus: function(id) {\n      axios({\n        method: 'get',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getcurrentstatusbyitem',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: { id },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        //match dataIn and dataOut\n        if(response.data.dataIn !== null && response.data.dataOut !== null) {\n          response.data.dataIn.forEach(elt => { this.checked[elt.step] = true; })\n          this.form.outputStatus = (response.data.dataOut)[0].step;\n        }\n\n        else if (response.data.dataIn == null && response.data.dataOut !== null) {\n          this.form.outputStatus = (response.data.dataOut)[0].step;\n        }\n\n        else if (response.data.dataIn !== null && response.data.dataOut == null) {\n          response.data.dataIn.forEach(elt => { this.checked[elt.step] = true; })\n        }\n\n        else {}\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    getNonStatusParams: function(id) {\n      axios({\n        method: 'get',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getnonstatusparamsbyitem',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: { id },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        if(response.data.data !== null) {\n          this.form.formNameSelected = (response.data.data).profile;\n          this.form.notes = (response.data.data).notes;\n          this.form.itemLabel = (response.data.data).label;\n        }\n        else {}\n      })\n    },\n  },\n  created() {\n    this.getAllFormType();\n\n    this.form = this.element;\n    // this.form.inputStatus = this.checked;\n    // this.getCurrentStatus(this.form.id);\n    //\n    // var data = {\n    //   wid:this.getWorkflowIdFromURL(),\n    //   id: this.form.id,\n    // }\n    //\n    // this.getAvailableInStatus(data);\n    // this.getAvailableOutStatus(data);\n\n    this.getNonStatusParams(this.form.id);\n  },\n\n}\n</script>\n<style>\n</style>\n","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./espaceModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./espaceModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./espaceModal.vue?vue&type=template&id=5bbd1a72&\"\nimport script from \"./espaceModal.vue?vue&type=script&lang=js&\"\nexport * from \"./espaceModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"ModalConfigElement\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <modal :name=\"'elementModal' + ID\" :width=\"580\" :height=\"600\" :adaptive=\"true\" :draggable=\"true\" :scrollable=\"true\" :clickToClose=\"true\" @before-open=\"beforeOpen\" @before-close=\"beforeClose\">\n      <b-badge variant=\"warning\"><h3 style=\"color:white !important\">{{ this.$data.name }} {{ ModalConfigElement_Title.label }}</h3></b-badge>\n      <br/>\n      <br/>\n      <b-nav tabs>\n        <b-nav-item active>{{ ModalConfigElement_Title.breadcrumb }}</b-nav-item>\n      </b-nav>\n      <br/>\n      <br/>\n      <espace-modal v-if=\"this.type == 2\" ref=\"forms\" :element=\"element\"/>\n<!--      <message-modal v-if=\"this.type == 4\" ref=\"emails\" :element=\"element\"/>-->\n      <b-button variant=\"success\" @click=\"updateParams()\">{{ ModalConfigElement_Button.save_button }}</b-button>\n      <b-button variant=\"danger\" @click=\"exitModal()\">{{ ModalConfigElement_Button.exit_button }}</b-button>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport espaceModal from './element/espaceModal.vue';\n//import messageModal from './element/messageModal.vue';\n\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nconst qs = require('qs');\n\nimport { commonMixin } from \"../../../mixins/common-mixin\";\n\nexport default {\n  name: \"ModalConfigElement\",\n  mixins: [commonMixin],\n\n  components: {\n    espaceModal,\n    //messageModal,\n  },\n\n  data: function() {\n    return {\n      type: '',\n      name: '',\n      ModalConfigElement_Title: {\n        label: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MODAL_TITLE_LABEL\"),\n        breadcrumb: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_ELEMENT_MODAL_TITLE_BREADCRUMB\"),\n      },\n\n      ModalConfigElement_Button: {\n        save_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_SAVE_BUTTON_TITLE\"),\n        exit_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_EXIT_BUTTON_TITLE\"),\n      },\n\n      ModalConfigElement_SweetAlert: {\n        congratulation_title: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_SWEET_ALERT_CONGRATULATION_TITLE\"),\n        congratulation_message: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_SWEET_ALERT_CONGRATULATION_MESSAGE\"),\n      }\n    }\n  },\n\n  props: {\n    ID: Number,\n    element: Object,\n  },\n\n  methods: {\n    beforeClose: function() {\n      /// emit all params\n      let _emit = [];\n      _emit['id'] = this.$refs.forms.form.id;\n      _emit['label'] = this.$refs.forms.form.itemLabel;\n      this.$emit('updateLabel', _emit);\n    },\n\n    getElementByItem: function () {\n      axios({\n        method: 'get',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getitem',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: {\n          id: this.ID,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        this.$data.type = (response.data.data)[0].item_id;\n        this.$data.name = (response.data.data)[0].item_name;\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    updateParams: function() {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=updateparams',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data : {\n            params: this.element,\n            workflow_id: this.$data.id,     // get workflow id from url\n          }\n        })\n      }).then(response => {\n        Swal.fire({\n          icon: 'success',\n          title: this.ModalConfigElement_SweetAlert.congratulation_title,\n          text: this.ModalConfigElement_SweetAlert.congratulation_message,\n          footer: '<a href>EMundus SAS</a>',\n          confirmButtonColor: '#28a745',\n        }).then((result) => {\n          if (result.isConfirmed) {\n            this.$modal.hide('elementModal' + this.ID);\n\n            //// insert code here --> auto create link\n            var _data = {\n              wid: this.getWorkflowIdFromURL(),\n              id: this.ID,\n            }\n            this.autoCreateLink(_data);\n          }})\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    exitModal: function() {\n      this.$modal.hide('elementModal' + this.ID);\n    },\n\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    autoCreateLink: async function(data) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=matchalllinksbyitem',\n        params: { data },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        //based on the returned status [0] or [1] --> we will create a link between blocs\n        if((response.data.permission) == 'available') {\n          var _data = {\n            _from : response.data.data,\n            _to : this.ID,\n          }\n\n          this.$emit('linkingStart', _data._from);\n          this.$emit('linkingStop', _data._to);\n        }\n        else {\n          // check if there are the links from this node --> if yes --> remove it [this.$emit.nodeDelete]// if no --> anything do\n          axios({\n            method: 'post',\n            url: 'index.php?option=com_emundus_workflow&controller=item&task=checkexistlink',\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({data: this.ID})\n          }).then(answer => {\n            console.log(answer);\n            if (answer.data.data == true) {\n              ///// link exists --> get link_id --> delete it\n              var _data = {\n                _from: undefined,\n                _to: this.ID,\n              }\n              axios({\n                method: 'post',\n                url: 'index.php?option=com_emundus_workflow&controller=item&task=getlinkbytoitem',\n                headers: {\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                data: qs.stringify({ data: _data })\n              }).then(reply => {\n\n                //// work well if input status !== output status --> why???\n\n                var _linkArray = reply.data.data;\n\n                console.log(_linkArray[0].id);\n                this.$emit('linkDelete', _linkArray[0].id);     /// <- bug here\n              })\n            }\n          })\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n\n    },\n\n    beforeOpen(event) {\n      this.getElementByItem();\n    }\n  }\n}\n</script>\n\n<style>\n\n.vm--modal {\n  padding: 10px 30px !important;\n}\n\n/*.row {*/\n/*  margin-right:100px !important;*/\n/*}*/\n\n.select {\n  max-width: 300px !important;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigElement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigElement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalConfigElement.vue?vue&type=template&id=ec75b2d6&\"\nimport script from \"./ModalConfigElement.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalConfigElement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalConfigElement.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flowchart-container\"\n       @mousemove=\"handleMove\"\n       @mouseup=\"handleUp\"\n       @mousedown=\"handleDown\">\n    <!--    <svg width=\"100%\" :height=\"`${height}vh`\">-->\n    <svg width=\"100%\" :height=\"`${height}vh`\">\n      <flowchart-link v-bind.sync=\"link\" v-for=\"(link, index) in lines\" :key=\"`link${index}`\" @deleteLink=\"linkDelete(link.id)\"></flowchart-link>\n    </svg>\n    <modal-config-element v-for=\"(node, index) in scene.nodes\" :ID=\"node.id\" :element=\"node\"\n                          @linkingStart=\"linkingStart\"\n                          @linkingStop=\"linkingStop\"\n                          @linkDelete=\"linkDelete\"\n                          @updateLabel=\"updateLabel\"\n                          >\n      {{ node.id }}\n    </modal-config-element>\n    <flowchart-node v-bind.sync=\"node\" v-for=\"(node, index) in scene.nodes\" :key=\"`node${index}`\" :options=\"nodeOptions\" @linkingStart=\"linkingStart(node.id)\" @linkingStop=\"linkingStop(node.id)\" @nodeSelected=\"nodeSelected(node.id, $event)\" v-bind:style=\"{ background: node.background }\"\n                    :params=\"step\"\n                    :nodeLabel=\"info\"\n    ></flowchart-node>\n  </div>\n</template>\n\n<script>\nimport FlowchartLink from './FlowchartLink.vue';\nimport FlowchartNode from './FlowchartNode.vue';\nimport { getMousePosition } from '../../../../assets/position';\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nimport ModalConfigElement from \"../../../Modal/WorkflowModal/ModalConfigElement\";\nconst qs = require('qs');\n\nimport { commonMixin } from \"../../../../mixins/common-mixin\";\n\nexport default {\n  name: 'VueFlowchart',\n  mixins: [commonMixin],\n\n  props: {\n    step: Object,\n    scene: {\n      type: Object,\n      default() {\n        return {\n          centerX: 1024,\n          scale: 1,\n          centerY: 140,\n          nodes: [],\n          links: [],\n          background: '',\n        }\n      }\n    },\n    height: {\n      type: Number,\n      default: 60,\n    },\n  },\n  data() {\n    return {\n      //info: [],\n      action: {\n        linking: false,\n        dragging: false,\n        scrolling: false,\n        selected: 0,\n      },\n      mouse: {\n        x: 0,\n        y: 0,\n        lastX: 0,\n        lastY: 0,\n      },\n      draggingLink: null,\n      rootDivOffset: {\n        top: 0,\n        left: 0\n      },\n    };\n  },\n  components: {\n    ModalConfigElement,\n    FlowchartLink,\n    FlowchartNode,\n  },\n  computed: {\n    nodeOptions() {\n      return {\n        centerY: this.scene.centerY,\n        centerX: this.scene.centerX,\n        scale: this.scene.scale,\n        offsetTop: this.rootDivOffset.top,\n        offsetLeft: this.rootDivOffset.left,\n        selected: this.action.selected,\n      }\n    },\n    lines() {\n      const lines = this.scene.links.map((link) => {\n        const fromNode = this.findNodeWithID(link.from)\n        const toNode = this.findNodeWithID(link.to)\n        let x, y, cy, cx, ex, ey;\n        x = this.scene.centerX + fromNode.x;\n        y = this.scene.centerY + fromNode.y;\n        [cx, cy] = this.getPortPosition('bottom', x, y);\n        x = this.scene.centerX + toNode.x;\n        y = this.scene.centerY + toNode.y;\n        [ex, ey] = this.getPortPosition('top', x, y);\n        return {\n          start: [cx, cy],\n          end: [ex, ey],\n          id: link.id,\n        };\n      })\n      if (this.draggingLink) {\n        let x, y, cy, cx;\n        const fromNode = this.findNodeWithID(this.draggingLink.from)\n        x = this.scene.centerX + fromNode.x;\n        y = this.scene.centerY + fromNode.y;\n        [cx, cy] = this.getPortPosition('bottom', x, y);\n        // push temp dragging link, mouse cursor postion = link end postion\n        lines.push({\n          start: [cx, cy],\n          end: [this.draggingLink.mx, this.draggingLink.my],\n        })\n      }\n      return lines;\n    }\n  },\n  mounted() {\n    this.rootDivOffset.top = this.$el ? this.$el.offsetTop : 0;\n    this.rootDivOffset.left = this.$el ? this.$el.offsetLeft : 0;\n    // console.log(22222, this.rootDivOffset);\n  },\n  methods: {\n    updateLabel(params) {\n      console.log(params);\n      this.info = params;\n      this.$forceUpdate();\n    },\n\n    findNodeWithID(id) {\n      return this.scene.nodes.find((item) => {\n        return id === item.id\n      })\n    },\n    getPortPosition(type, x, y) {\n      if (type === 'top') {\n        return [x + 40, y];\n      }\n      else if (type === 'bottom') {\n        return [x + 40, y + 80];\n      }\n    },\n    linkingStart(index) {\n      this.action.linking = true;\n      this.draggingLink = {\n        from: index,\n        mx: 0,\n        my: 0,\n      };\n    },\n\n    linkingStop(index) {\n      // add new Link\n      if (this.draggingLink && this.draggingLink.from !== index) {\n        // check link existence\n        const existed = this.scene.links.find((link) => {\n          return link.from === this.draggingLink.from && link.to === index;\n        })\n        if (!existed) {\n          let maxID = Math.max(0, ...this.scene.links.map((link) => {\n            return link.id\n          }))\n          const newLink = {\n            from: this.draggingLink.from,\n            to: index,\n          };\n\n          //axios --> call to the api of create new link --> with params = {from,to,workflow_id}\n          //workflow_id --> rewrite the function of get id\n          var _links = {\n            parent: newLink.from,\n            child: index,\n            workflow_id: this.getWorkflowIdFromURL(),\n            link_label: '',\n            step_id: this.step.id,\n          }\n\n          // axios({\n          //   method: 'post',\n          //   url: 'index.php?option=com_emundus_workflow&controller=item&task=checkmatchingitems',\n          //   headers: {\n          //     \"Content-Type\": \"application/x-www-form-urlencoded\"\n          //   },\n          //   data: qs.stringify({\n          //     data: _links\n          //   })\n          // }).then(answer => {\n          //   if(answer.data.data == true) {\n          axios({\n            method: 'post',\n            url: 'index.php?option=com_emundus_workflow&controller=link&task=createlink',\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: _links\n            })\n          }).then(response => {\n            console.log(response);\n            newLink['id'] = response.data.data.data;\n          }).catch(error => {\n            console.log(error);\n          })\n          this.scene.links.push(newLink)\n          this.$emit('linkAdded', newLink)\n          //   }\n          //   else {\n          //     Swal.fire({\n          //       icon: 'error',\n          //       title: 'Erreur',\n          //       html: 'Les status entre les deux items ne sont pas pareils',\n          //       timer: 1500,\n          //       showConfirmButton:false,\n          //     })\n          //   }\n          // })\n        }\n      }\n      this.draggingLink = null\n    },\n\n    // get workflow id from url\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    linkDelete(id) {\n      const deletedLink = this.scene.links.find((item) => {\n        return item.id === id;\n      });\n      if (deletedLink) {\n        this.scene.links = this.scene.links.filter((item) => {\n          return item.id !== id;\n        });\n        this.$emit('linkBreak', deletedLink);\n        this.$swal('Merci', 'Cette liaison est supprimée', 'success');\n        this.deleteLink(id);\n      }\n    },\n    nodeSelected(id, e) {\n      e.preventDefault();       // prevent page loading\n      this.action.dragging = id;\n      this.action.selected = id;\n      this.$emit('nodeClick', id);\n      this.mouse.lastX = e.pageX || e.clientX + document.documentElement.scrollLeft\n      this.mouse.lastY = e.pageY || e.clientY + document.documentElement.scrollTop\n      e.preventDefault();\n    },\n    handleMove(e) {\n\n      if (this.action.linking) {\n        [this.mouse.x, this.mouse.y] = getMousePosition(this.$el, e);\n        [this.draggingLink.mx, this.draggingLink.my] = [this.mouse.x, this.mouse.y];\n        e.preventDefault();\n      }\n      if (this.action.dragging) {\n        this.mouse.x = e.pageX || e.clientX + document.documentElement.scrollLeft\n        this.mouse.y = e.pageY || e.clientY + document.documentElement.scrollTop\n        let diffX = this.mouse.x - this.mouse.lastX;\n        let diffY = this.mouse.y - this.mouse.lastY;\n\n        this.mouse.lastX = this.mouse.x;\n        this.mouse.lastY = this.mouse.y;\n        this.moveSelectedNode(diffX, diffY);\n        e.preventDefault();\n      }\n      if (this.action.scrolling) {\n        [this.mouse.x, this.mouse.y] = getMousePosition(this.$el, e);\n        let diffX = this.mouse.x - this.mouse.lastX;\n        let diffY = this.mouse.y - this.mouse.lastY;\n\n        this.mouse.lastX = this.mouse.x;\n        this.mouse.lastY = this.mouse.y;\n\n        this.scene.centerX += diffX;\n        this.scene.centerY += diffY;\n\n        e.preventDefault();\n\n        // this.hasDragged = true\n      }\n    },\n\n    handleUp(e) {\n      const target = e.target || e.srcElement;\n\n      let nodeID = this.action.dragging;\n\n      if (nodeID !== null && nodeID !== undefined) {\n        const _id = (element) => element.id === nodeID;\n        let _index = this.scene.nodes.findIndex(_id);\n\n        if (_index === -1) {\n          /// do not find the bloc\n        } else {\n          let data = {\n            id: nodeID,\n            axisX: this.scene.nodes[_index].x,\n            axisY: this.scene.nodes[_index].y,\n            workflow_id: this.$data.id,\n          }\n          axios({\n            method: 'post',\n            url: \"index.php?option=com_emundus_workflow&controller=item&task=saveitem\",\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: data,\n            })\n          }).then(response => {\n\n          }).catch(error => {\n            console.log(error);\n          })\n        }\n      }\n      else {\n        // exit\n      }\n\n      if (this.$el.contains(target)) {\n        if (typeof target.className !== 'string' || target.className.indexOf('node-input') < 0) {\n          this.draggingLink = null;\n        }\n        if (typeof target.className === 'string' && target.className.indexOf('node-delete') > -1) {\n          this.nodeDelete(this.action.dragging);\n        }\n        if (typeof target.className === 'string' && target.className.indexOf('duplicate-option') > -1) {\n          this.nodeCloned(this.action.dragging);\n        }\n        if (typeof target.className === 'string' && target.className.indexOf('configuration') > -1) {\n          this.nodeConfig(this.action.dragging);\n        }\n      }\n      this.action.linking = false;\n      this.action.dragging = null;\n      this.action.scrolling = false;\n    },\n\n    handleDown(e) {\n\n      const target = e.target || e.srcElement;\n      if(target.className === 'vm--modal') {\n        e.preventDefault();     /// prevent page loading\n      }\n\n      // console.log('for scroll', target, e.keyCode, e.which)\n      if ((target === this.$el || target.matches('svg, svg *')) && e.which === 1) {\n        this.action.scrolling = true;\n        [this.mouse.lastX, this.mouse.lastY] = getMousePosition(this.$el, e);\n        this.action.selected = null; // deselectAll\n        e.preventDefault();\n      }\n      this.$emit('canvasClick', e);\n    },\n    moveSelectedNode(dx, dy) {\n      let index = this.scene.nodes.findIndex((item) => {\n        return item.id === this.action.dragging\n      })\n      let left = this.scene.nodes[index].x + dx / this.scene.scale;\n      let top = this.scene.nodes[index].y + dy / this.scene.scale;\n      this.$set(this.scene.nodes, index, Object.assign(this.scene.nodes[index], {\n        x: left,\n        y: top,\n      }));\n    },\n    nodeDelete(id) {\n      this.$emit('nodeDelete', id)\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          id: id,\n        })\n      }).then(response => {\n        var _type = (response.data.data)[0];\n\n        if(_type.item_name == 'Initialisation') {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            html: 'Vous pouvez pas supprimer le bloc <h2 style=\"color:red\">INITIALISATION!',\n            timer: 1500,\n            showConfirmButton:false,\n          })\n          console.log('cannot delete');\n        }\n        else {\n          this.scene.nodes = this.scene.nodes.filter((node) => {\n            return node.id !== id;\n          })\n          this.scene.links = this.scene.links.filter((link) => {\n            return link.from !== id && link.to !== id\n          })\n\n          this.alertDelete(id)\n        }\n      })\n    },\n\n    nodeConfig(id) {\n      this.$emit('nodeConfig', id);\n      //if type is init or cloture --> skipp\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          id: id,\n        })\n      }).then(response => {\n        var _type = (response.data.data)[0];\n        if(_type.item_name == 'Initialisation' || _type.item_name == 'Cloture') {\n          //skip\n        }\n        else {\n          this.$modal.show('elementModal' + id);\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    nodeCloned(id) {\n      this.$emit('nodeClone', id)\n\n      //check if the node_id is init or not\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          id: id,\n        })\n      }).then(response => {\n        var _type = (response.data.data)[0];\n\n        if(_type.item_name == 'Initialisation') {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            html: 'Vous pouvez pas cloner le bloc <h2 style=\"color:red\">INITIALISATION!',\n            timer: 1500,\n            showConfirmButton:false,\n          })\n        }\n        else {\n          this.alertClone(id);\n        }\n      })\n    },\n\n    // delete item by id\n    deleteItem: function(id) {\n      let deletedNode = {\n        id: id,\n        workflow_id: this.$data.id,\n      }\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=deleteitem',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({data : deletedNode })\n      }).then(response => {\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    //delete link by id\n    deleteLink: function(id) {\n      let data = {\n        id: id,\n        workflow_id: this.$data.id,\n      };\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=link&task=deletelink',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: data,\n        })\n      }).then(response => {\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    alertDelete: function(id) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        text: 'Le bloc est supprimé!',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.deleteItem(id);\n    },\n\n    alertClone: function(id) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        text: 'Le bloc est dupliqué!',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.cloneItem(id);\n    },\n\n    cloneItem: async function(id) {\n      let _response = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getitem', { params: {id: id}});\n      var olditem = (_response.data.data)[0];\n\n      var newitem = {\n        item_name: olditem.item_name,\n        item_id: olditem.item_id,\n        workflow_id: olditem.workflow_id,\n        item_label: document.getElementById('label_' + id).innerText || 'anonyme',\n      }\n\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&sub_option=clone&workflowid=\" + newitem.workflow_id + \"&olditemid=\" + newitem.item_id,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: newitem\n        })\n      }).then(response => {\n        axios({\n          method: 'post',\n          url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            id: response.data.data,\n          })\n        }).then(answer => {\n          var _style = (answer.data.data)[0];\n          this.scene.nodes.push({\n            id: response.data.data,\n            x: -500 + Math.floor((Math.random() * 100) + 1),\n            y: 70 + Math.floor((Math.random() * 100) + 1),\n            type: newitem.item_name,\n            label: newitem.item_label,\n            background: _style.CSS_style,\n          })\n        })\n      })\n    },\n\n\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.flowchart-container {\n  margin: 0;\n  background-color: #eee;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 5px 5px #eee;\n  /*background-image: linear-gradient(#b1b9c6 .1em, transparent .1em), linear-gradient(90deg, #B1B9C6 .1em, transparent .1em);*/\n  background-image: radial-gradient(circle, black 1px, rgba(0, 0, 0, 0) 1px);\n  background-size: 2em 2em;\n  border-style: none;\n  width: 1850px;\n  overflow-x: scroll;\n  overflow-y: scroll;\n}\n\n.flowchart-container svg {\n  cursor: grab;\n  height: 60vh;\n}\n\n.swal2-styled.swal2-confirm {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-confirm:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.swal2-styled.swal2-cancel {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-cancel:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n</style>\n","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleFlowchart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleFlowchart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimpleFlowchart.vue?vue&type=template&id=68b13ca0&scoped=true&\"\nimport script from \"./SimpleFlowchart.vue?vue&type=script&lang=js&\"\nexport * from \"./SimpleFlowchart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SimpleFlowchart.vue?vue&type=style&index=0&id=68b13ca0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68b13ca0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workflowspace\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('div',{staticClass:\"editable-label\",attrs:{\"contenteditable\":\"true\",\"id\":\"editable-label\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateStepLabel()}}},[_vm._v(\"\\n    \"+_vm._s(this.step.title)+\"\\n  \")]),_c('div',{staticClass:\"button-group\"},[_c('b-button',{staticStyle:{\"margin\":\"10px\"},attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){_vm.seen=!_vm.seen}}},[_vm._v(_vm._s(_vm.WorkflowSpace_button.add_button)),_c('b-icon',{attrs:{\"icon\":\"clipboard-plus\"}})],1),_c('b-button',{staticStyle:{\"margin\":\"10px\"},attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.alertSaveDisplay()}}},[_vm._v(_vm._s(_vm.WorkflowSpace_button.save_button)),_c('b-icon',{attrs:{\"icon\":\"bookmark-check\"}})],1),_c('b-button',{staticStyle:{\"margin\":\"10px\"},attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.alertExitDisplay()}}},[_vm._v(_vm._s(_vm.WorkflowSpace_button.exit_button)),_c('b-icon',{attrs:{\"icon\":\"x-circle\"}})],1)],1),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.seen)?_c('div',{staticClass:\"element-menu\"},[_c('workflow-space-tools-menu',{attrs:{\"stepID\":_vm.step},on:{\"createItem\":_vm.createNode}})],1):_vm._e()]),_c('simple-flowchart',{attrs:{\"scene\":_vm.scene,\"height\":800,\"step\":_vm.step},on:{\"update:scene\":function($event){_vm.scene=$event},\"nodeClick\":_vm.nodeClick,\"nodeDelete\":_vm.nodeDelete,\"linkBreak\":_vm.linkBreak,\"linkAdded\":_vm.linkAdded,\"canvasClick\":_vm.canvasClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"workflowspace-tools-menu\"}},[_c('h2',{staticStyle:{\"align-items\":\"center\"}},[_vm._v(\" \"+_vm._s(this.menuTitle)+\" \")]),_vm._l((_vm.items),function(item,index){return _c('li',{staticStyle:{\"line-height\":\"2.8\"}},[_c('i',{class:item.icon}),_c('span',{staticStyle:{\"margin\":\"0 35px\"}},[_vm._v(\" \"+_vm._s(item.item_name)+\" \")]),_c('button',{staticClass:\"add-button\",on:{\"click\":function($event){return _vm.addNode(index+1)}}},[_vm._v(\"(+)\")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"workflowspace-tools-menu\">\n    <h2 style=\"align-items: center\"> {{ this.menuTitle }} </h2>\n    <li v-for=\"(item,index) in items\" style=\"line-height: 2.8\">\n      <i :class=\"item.icon\"/>\n      <span style=\"margin: 0 35px\"> {{ item.item_name }} </span>\n      <button class=\"add-button\" @click=\"addNode(index+1)\">(+)</button>\n    </li>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nconst qs = require('qs');\nimport { commonMixin } from \"../../../../mixins/common-mixin\";\n\nexport default {\n  name: \"WorkflowSpaceToolsMenu\",\n  mixins: [commonMixin],\n\n  props: {\n    stepID: Object,\n  },\n\n  data: function() {\n    return {\n      items: [],\n      menuTitle: 'Menu',\n      nodeCategory: [],\n    }\n  },\n\n  created() {\n    this.getMenu();     /// get tools menu\n  },\n\n  methods: {\n    getMenu: function() {\n      axios.get(\"index.php?option=com_emundus_workflow&controller=item&task=getitemmenu\").\n      then(response => {\n        let itemCategory = [];\n        (response.data.data).forEach(element => itemCategory.push(element.item_name));\n\n        this.nodeCategory = itemCategory;     // return the nodeCategory\n\n        this.items = response.data.data;\n        this.items.splice(0, 1);\n\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    addNode: function(node) {\n      let category = this.nodeCategory;\n\n      let item = {\n        item_name: category[node],\n        item_id: node + 1,\n        workflow_id: this.$data.id,\n        params: '',\n        axisX: -400 + Math.floor((Math.random() * 100) + 1),\n        axisY: 50 + Math.floor((Math.random() * 100) + 1),\n        step_id: this.stepID.id,\n      }\n\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&workflowid=\" + item.workflow_id + \"&itemid=\" + item.item_id,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: item\n        })\n      }).then(response => {\n        let newItem = {\n          id: response.data.data.id,\n          x: item.axisX,\n          y: item.axisY,\n          type: category[node],\n          label: '',\n          background: response.data.data.style.CSS_style,\n        }\n        this.$emit('createItem', newItem);    // pass event to workflow space\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowSpaceToolsMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowSpaceToolsMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkflowSpaceToolsMenu.vue?vue&type=template&id=3a7647ec&scoped=true&\"\nimport script from \"./WorkflowSpaceToolsMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkflowSpaceToolsMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a7647ec\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"workflowspace\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <div contenteditable=\"true\" class=\"editable-label\" id=\"editable-label\" v-on:keyup.enter=\"updateStepLabel()\">\n      {{ this.step.title }}\n    </div>\n\n    <div class=\"button-group\">\n      <b-button variant=\"warning\" @click=\"seen=!seen\" style=\"margin: 10px\">{{ WorkflowSpace_button.add_button }}<b-icon icon=\"clipboard-plus\"></b-icon></b-button>\n      <b-button variant=\"success\" @click=\"alertSaveDisplay()\" style=\"margin: 10px\">{{ WorkflowSpace_button.save_button }}<b-icon icon=\"bookmark-check\"></b-icon></b-button>\n      <b-button variant=\"danger\" @click=\"alertExitDisplay()\" style=\"margin: 10px\">{{ WorkflowSpace_button.exit_button }}<b-icon icon=\"x-circle\"></b-icon></b-button>\n    </div>\n\n    <!--    <button @click=\"autoMatchLink()\">Creer des liens</button>-->\n\n    <transition name=\"bounce\">\n      <div class=\"element-menu\" v-if=\"seen\">\n        <workflow-space-tools-menu :stepID=\"step\" @createItem=\"createNode\"/>\n      </div>\n    </transition>\n\n    <simple-flowchart :scene.sync=\"scene\"\n                      @nodeClick=\"nodeClick\"\n                      @nodeDelete=\"nodeDelete\"\n                      @linkBreak=\"linkBreak\"\n                      @linkAdded=\"linkAdded\"\n                      @canvasClick=\"canvasClick\"\n                      :height=\"800\"\n                      :step=\"step\"\n    />\n  </div>\n</template>\n\n<script>\nimport SimpleFlowchart from './elements/SimpleFlowchart.vue';\nimport { commonMixin } from \"../../../mixins/common-mixin\";\n\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nimport ModalConfigElement from \"../../Modal/WorkflowModal/ModalConfigElement\";\nimport WorkflowSpaceToolsMenu from \"./elements/WorkflowSpaceToolsMenu\";\n\nimport $ from 'jquery';\n\nconst qs = require('qs');\n\nexport default {\n  name: 'WorkflowSpace',\n  mixins: [commonMixin],      //// using mixin\n  components: {ModalConfigElement, SimpleFlowchart, WorkflowSpaceToolsMenu},\n\n  props: {\n    items: Array,\n    step: Object,\n  },\n\n  data: function () {\n    return {\n      WorkflowSpace_button: {\n        add_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_ADD_BUTTON_TITLE\"),\n        save_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_SAVE_BUTTON_TITLE\"),\n        exit_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_EXIT_BUTTON_TITLE\"),\n      },\n\n      seen: false,\n      scene: {\n        centerX: 1024,\n        centerY: 140,\n        scale: 1,\n        nodes: [],\n        links: [],\n      },\n    }\n  },\n\n  created() {\n    this.loadStep();              // load step --> retrieve items and links\n    //this.insertInitBloc();        // check if the init item exists or not --> if not, create it, if yes, do nothing     // --> temporary unuse\n    this.cronUpdate();\n  },\n\n  methods: {\n    returnStep: function() {\n      let result = true;\n      this.$emit('returnBack', result);\n    },\n\n    createNode: function (newItem) {\n      this.scene.nodes.push(newItem);\n      setTimeout(() => {\n        this.$modal.show('elementModal' + newItem.id)\n      }, 500);\n    },\n\n    alertWelcomeDisplay: function () {\n      Swal.fire({\n        icon: 'success',\n        title: 'Bienvenue',\n        text: 'C\\'est vos espace de travail!',\n        footer: '<a href>Tutorials</a>',\n        timer: 3000,\n        showConfirmButton: false,\n      })\n    },\n\n    insertInitBloc: function () {\n      var init = {\n        item_id: 1,\n        step_id: this.step.id,                      // get step_id of item\n        item_name: \"Initialisation\",\n        workflow_id: this.$data.id,\n        axisX: -700,\n        axisY: -50,\n        style: '#9bde74',\n        params: '',     //empty string\n      }\n\n      axios({\n        // method: 'post',\n        method: 'get',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getcounditembyid\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: {\n          data: init,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        if (response.data.status == 0) {\n          axios({\n            method: 'post',\n            url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&workflowid=\" + init.workflow_id + \"&itemid=1\",\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: init,\n            })\n          }).then(response => {\n            this.scene.nodes.push({\n              id: response.data.data,\n              x: -700,\n              y: -69,\n              type: 'Initialisation',\n              label: '',\n              background: '#9bde74',\n            })\n          }).catch(error => {\n            console.log(error);\n          })\n        } else {\n        }\n      })\n    },\n\n    saveWorkflow: function () {\n      this.$data.scene.nodes.forEach(element => {\n        var current_nodes = {\n          id: element.id,\n          type: element.type,\n          axisX: element.x,\n          axisY: element.y,\n          item_label: document.getElementById('label_' + element.id).innerText,\n          style: element.background,\n        };\n\n        axios({\n          method: 'post',\n          url: 'index.php?option=com_emundus_workflow&controller=item&task=saveitem',\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            data: current_nodes\n          })\n        }).then(response => {\n        }).catch(error => {\n          console.log(error);\n        })\n      });\n    },\n\n    quitWorkflow: function () {\n      this.saveWorkflow();\n      setTimeout(this.returnStep(), 4500);\n    },\n\n    redirectJRoute(link) {\n      axios({\n        method: \"get\",\n        url: \"index.php?option=com_emundus_workflow&controller=settings&task=redirectjroute\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: {\n          link: link,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        window.location.href = response.data.data;\n      });\n    },\n\n    changeToDashboard() {\n      this.redirectJRoute('index.php?option=com_emundus_workflow&view=workflow');\n    },\n\n    //load step --> get all items and links of this step\n    loadStep: async function () {\n      let rawItems = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getallitemsbystep', {params: {data: this.step.id}}); //get all items\n      //let rawLinks = await axios.get('index.php?option=com_emundus_workflow&controller=link&task=getalllinks', {params: {data: this.step.id}}); //get all links\n\n      var items = rawItems.data.data;    //items : Array\n      //var links = rawLinks.data.data;    //links: Array\n\n      items.forEach(element => {\n        this.$data.scene.nodes.push({\n          id: element.id,\n          label: element.item_label,\n          type: element.item_name,\n          x: Number(element.axisX),\n          y: Number(element.axisY),\n          background: element.style,\n        })\n      });\n\n      // links.forEach(element => {\n      //   this.$data.scene.links.push({\n      //     id: element.id,\n      //     from: element.parent,\n      //     to: element.child,\n      //   })\n      // });\n    },\n    //next step --> clone workflow = clone all items\n\n    alertExitDisplay: function () {\n      Swal.fire({\n        title: 'Quitter l\\'espace de travail',\n        text: \"Le workflow sera sauvegardé automatiquement\",\n        icon: 'error',\n        showCancelButton: true,\n        confirmButtonColor: '#28a745',\n        cancelButtonColor: '#dc3545',\n        confirmButtonText: '<i class=\"far fa-thumbs-up\"></i> Oui, c\\'est sûr',\n        cancelButtonText: 'Non, garder ce workflow',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire('Merci', 'Le workflow est sauvegardé', 'success');\n          this.quitWorkflow();\n        } else if (result.isDismissed) {\n          Swal.fire('Merci', 'Rester ici', 'success');\n        }\n      })\n    },\n\n    alertSaveDisplay: function () {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        text: 'Le workflow est sauvegardé!',\n        footer: '<a href>EMundus SAS</a>',\n        timer: 2000,\n        showConfirmButton: false,\n      })\n      this.saveWorkflow();\n    },\n\n    setStepLabel: function () {\n\n    },\n\n    cronUpdate: function () {\n      setInterval(this.getWorkflowInfo, 45000);\n    },\n\n    //match all links by workflow\n    autoMatchLink: function () {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=matchalllinksbyworkflow',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({data: this.$data.id,})\n      }).then(response => {\n        // console.log(response);\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    updateStepLabel: function () {\n      let updatedData = {\n        step_label: document.getElementById('editable-label').innerText,\n        id: this.step.id,\n      }\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=updateparams',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({ data: updatedData, })\n      }).then(response => {\n\n      }).catch(error => {\n        console.log(error);\n      })\n    }\n  }\n}\n\n</script>\n\n<style>\n\n.workflowspace {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  overflow: hidden;\n  height: 1020px;\n}\n.app > tool-wrapper {\n  position: relative;\n}\n\n#g-container-main .element-menu {\n  padding-bottom: 2px;\n  width: 210px;\n  position: absolute;\n  display: block;\n  top: 0;\n  background: #fff;\n  left: 75px;\n  padding-top: 5%;\n  height: 100%;\n  border-left: 0px solid #F4F4F6;\n}\n\n.vertical-menu {\n  transform: rotate(270deg);\n  position: relative !important;\n  top: 215px !important;\n  left: -100px !important;\n  background: #28a745;\n  color: #fff;\n  border-radius: .25rem !important;\n  padding: 15px 32px;\n}\n\n.vertical-menu:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.save-button {\n  transform: rotate(270deg);\n  position: relative !important;\n  top: 415px !important;\n  left: -265px !important;\n  background: #8a8a8a;\n  color: #fff;\n  border-radius: .25rem !important;\n  padding: 15px 32px;\n}\n\n.save-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.exit-button {\n  transform: rotate(270deg);\n  position: relative !important;\n  top: 610px !important;\n  left: -415px !important;\n  background: #de2f2f;\n  color: #fff;\n  border-radius: .25rem !important;\n  padding: 15px 32px;\n}\n\n.exit-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.add-button {\n  position: absolute !important;\n  right: 25px !important;\n  top: initial !important;\n  background-color: #28a745 !important;\n  border-color: #28a745 !important;\n  color: #fff !important;\n  display: inline-block !important;\n  text-align: center !important;\n  vertical-align: center !important;\n  user-select: none !important;\n  border-radius: .25rem !important;\n  line-height: 35px;\n  margin: 5px;\n}\n\n.add-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19) !important;\n}\n\n#g-container-main .g-container {\n  width: 100rem !important;\n}\n\n.bounce-enter-active {\n  animation: bounce-in .5s;\n}\n.bounce-leave-active {\n  animation: bounce-in .5s reverse;\n}\n@keyframes bounce-in {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1.5);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.swal2-styled.swal2-confirm {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-confirm:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.swal2-styled.swal2-cancel {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-cancel:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.editable-label {\n  color: #118a3b !important;\n  font-size: xx-large !important;\n  /*font-weight: bold !important;*/\n  width: max-content;\n  /*border-bottom: 1px dotted black;*/\n  text-decoration: underline #28a745;\n}\n\n[contenteditable=\"true\"].editable-label {\n  white-space: nowrap;\n  width:max-content;\n  overflow: hidden;\n  position: absolute;\n  top: 7vh;\n  /*font-weight: bold !important;*/\n}\n\n[contenteditable=\"true\"].editable-label br {\n  display:none;\n}\n\n[contenteditable=\"true\"].editable-label * {\n  display:inline;\n  white-space:nowrap;\n}\n\n.tooltip {\n  opacity: 1 !important;\n  font-size: small !important;\n  color: #8a8a8a;\n  position: absolute;\n  top: 12vh;\n}\n\n.button-group {\n  position: sticky;\n  right: 85vh;\n  bottom: 85vh;\n}\n\n.step-label {\n  position: absolute;\n  top: 100px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowSpace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowSpace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WorkflowSpace.vue?vue&type=template&id=83f153b6&\"\nimport script from \"./WorkflowSpace.vue?vue&type=script&lang=js&\"\nexport * from \"./WorkflowSpace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WorkflowSpace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"stepflow\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <div contenteditable=\"true\" class=\"editable-workflow-label\" id=\"editable-workflow-label\" v-on:keyup.enter=\"updateWorkflowLabel()\" v-if=\"hideStep == false\">\n      {{ this.workflowLabel }}\n    </div>\n\n    <b-button @click=\"createStep()\" v-if=\"hideStep == false\" variant=\"success\" style=\"position: sticky\">{{ StepFlow_Button.add_button }}</b-button>\n    <!--    <div class=\"min-h-screen flex overflow-x-scroll py-12\">-->\n    <draggable :invertedSwapThreshold=\"0.4\" :invertSwap=\"true\" v-model=\"columns\" :group=\"columns\" class=\"flex\" :sort=\"true\">\n      <div v-for=\"column in columns\" :key=\"column.title\" class=\"bg-gray-100 rounded-lg px-3 py-3 column-width rounded mr-4\" :id=\"'step_' + column.id\" v-if=\"hideStep == false\" style=\"\"\n           @dragstart=\"dragStart\"\n           @dragend=\"dragEnd\"\n           @mousedown=\"handleDown\">\n<!--           v-bind:style=\"{ backgroundColor : column.style }\"-->\n<!--      >-->\n\n        <div contenteditable=\"true\" class=\"editable-step-label\" :id=\"'step_label_' + column.id\" v-on:keyup.enter=\"setStepLabel(column.id)\" style=\"background: #a8bb4a\">{{ column.title }}</div>\n        <div style=\"color:red\">{{ column.stateIn }}</div>\n        <div style=\"color:blueviolet\">{{ column.stateOut }}</div>\n        <div style=\"color:blue\"> {{ column.startDate }}</div>\n        <div style=\"color:orange\"> {{ column.endDate }}</div>\n        <div style=\"color:forestgreen\"> {{ column.order }} </div>\n        <modal-config-step :ID=\"column.id\" :element=\"column\" @updateStep=\"updateStep\" @deleteStep=\"deleteStep(column.id)\" ref=\"stepModal\"/>\n        <b-button @click=\"configStep(column.id)\" variant=\"warning\">{{ StepFlow_Button.configure_button }}</b-button>\n        <b-button @click=\"deleteStep(column.id)\" variant=\"danger\" style=\"margin-left: 20px\">{{ StepFlow_Button.remove_button }}</b-button>\n        <b-button @click=\"openStep(column.id)\" variant=\"primary\" style=\"margin-left: 20px\">{{ StepFlow_Button.open_button }}</b-button>\n        <hr/>\n        <div style=\"position: sticky\"> <b-button variant=\"info\" @click=\"createMessageDiv(column.id)\">{{ StepFlow_Button.add_button }}</b-button> </div>\n        <div class=\"message-block\" v-for=\"message in messages\" :id=\"'message_zone' + message.id\" v-if=\"column.id == message.step_id\">\n          <div>\n            {{ message.title }}\n\n            <b-button @click=\"openDiv(message.id)\" variant=\"primary\" :id=\"'button_' + message.id\">{{ StepFlow_Button.trigger_button }}</b-button>\n            <b-button :id=\"'button_' + message.id\" variant=\"danger\" @click=\"deleteMessageDiv(message.id, message.triggerId)\">{{ StepFlow_Button.remove_button }}</b-button>\n\n            <div style=\"color:forestgreen\"> {{ message.messageTemplate }} </div>\n            <div style=\"color:lightseagreen\"> {{ message.messageDestination }} </div>\n            <div style=\"color:midnightblue\"> {{ message.messageDestinationList }} </div>\n            <div style=\"color:darkgoldenrod\"> {{ message.trigger }} </div>\n\n            <message-modal v-for=\"params in stepParams\" v-if=\"showDiv==true && currentDiv == message.id && params.id == column.id\"\n                           :messageParams=\"message\"\n                           :stepParams=\"params\"\n                           @updateMessageBlock=\"updateMessageBlock\"\n            />\n\n<!--            <div v-if=\"showDiv===true && currentDiv===message.id\" @mouseleave=\"showDiv=false\" @mouseout=\"showDiv=false\"/>-->\n<!--            <div v-if=\"showDiv===true && currentDiv!==message.id || showDiv===false\"> hide </div>-->\n\n          </div>\n        </div>\n\n      </div>\n      <workflow-space v-for=\"column in columns\" v-if=\"currentStep == column.id && hideWorkflow == false\" :step=\"column\" @returnBack=\"returnToStepFlow\"/>\n    </draggable>\n    <!--  </div>-->\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport ModalConfigStep from \"../Modal/StepFlowModal/ModalConfigStep\";\nimport SimpleFlowchart from \"../Workflow/Workspace/elements/SimpleFlowchart\";\nimport WorkflowSpace from \"../Workflow/Workspace/WorkflowSpace\";\nconst qs = require('qs');\nimport $ from 'jquery';\n\nimport { commonMixin } from '../../mixins/common-mixin';\nimport workflowDashboard from \"../Workflow/Dashboard/WorkflowDashboard\"; /// using mixin in this case\n\nimport draggable from 'vuedraggable';\n// import PulseLoader from 'vue-spinner/src/PulseLoader.vue'\n\nimport messageModal from \"../Modal/WorkflowModal/element/messageModal\";\n\nexport default {\n  name: \"stepflow\",\n  mixins: [commonMixin],\n\n  components: {ModalConfigStep, SimpleFlowchart, WorkflowSpace, draggable, messageModal},\n\n  props: {},\n\n  data() {\n    return {\n      StepFlow_Button: {\n        add_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_ADD_BUTTON_TITLE\"),\n        remove_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_REMOVE_BUTTON_TITLE\"),\n        configure_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_CONFIGURE_BUTTON_TITLE\"),\n        open_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_OPEN_BUTTON_TITLE\"),\n        trigger_button: Joomla.JText._(\"COM_EMUNDUS_WORKFLOW_COMMON_TRIGGER_BUTTON_TITLE\"),\n      },\n\n      columns: [],\n      currentStep: '',\n      hideStep: false,\n      stateIn: '',\n      stateOut: '',\n      workflowLabel: '',\n      hideWorkflow: false,\n      loading: false,\n      campaignID: '',\n\n      messages: [],\n      stepList: [],\n      show: false,\n\n      showDiv: false,\n      hideDiv: true,\n      currentDiv: '',\n\n      form: {},\n      stepParams: Object,\n    };\n  },\n\n  created() {\n    this.getWorkflowFromURL();    //// get workflow name from url\n    this.getAllSteps();           //// get all steps by workflow\n    this.getMessagesDiv();        //// get all message divs\n  },\n\n  methods: {\n    updateMessageBlock(trigger) {\n      /// find index of message block --> based on trigger['messageDivId']\n      let _index = this.messages.findIndex(message=>message.id === trigger['messageDivId']);\n      this.messages[_index]['messageTemplate'] = trigger['messageTemplate'];\n      this.messages[_index]['messageDestination'] = trigger['messageDestination'];\n      this.messages[_index]['messageDestinationList'] = trigger['messageDestinationList'];\n      this.messages[_index]['trigger'] = trigger['trigger'];\n      this.showDiv=false;\n      this.$forceUpdate();\n    },\n\n    handleDown(e) {\n      const target = e.target || e.srcElement;\n      if(target.className === 'vm--modal') {\n        e.preventDefault();     /// prevent page loading\n      }\n    },\n\n    dragStart: function(event) {\n      const e = event.target.id;      // get the <div id> from selected step\n      let id = e.split('step_')[1];   // get id\n      event.dataTransfer.setData('step', id);\n      this.$emit('dragStart', id);\n    },\n\n    dragEnd: function(event) {\n      let newIndex = [];\n      event.preventDefault();\n      this.columns.forEach((elt) => {\n        // newIndex[elt.id] = this.columns.indexOf(elt);\n        newIndex[this.columns.indexOf(elt)] = elt.id;\n      });\n\n      var counter;\n      for(counter = 0; counter < newIndex.length; counter++) {\n        const _id = (element) => element.id == newIndex[counter];\n        var _index = this.columns.findIndex(_id);\n        this.columns[_index]['order'] = counter;\n        this.$forceUpdate();\n      }\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=updatestepordering',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: newIndex,\n          wid: this.$data.id,\n        })\n      }).then(response => {\n        /// I think I should put this code snippet before axios -->\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    returnToStepFlow(result) {\n      if (result === true) {\n        this.hideStep = false;\n        this.hideWorkflow = true;\n      }\n    },\n\n    updateStep(result) {\n      const _id = (element) => element.id == result['id'];\n      var _index = this.columns.findIndex(_id);\n      this.columns[_index]['stateIn'] = result['input'];\n      this.columns[_index]['stateOut'] = result['output'];\n      this.columns[_index]['title'] = result['label'];\n      this.columns[_index]['startDate'] = result['startDate'];\n      this.columns[_index]['endDate'] = result['endDate'];\n      this.columns[_index]['emailTemplate'] = result['email'];\n      this.columns[_index]['destination'] = result['destination'];\n      this.columns[_index]['style'] = result['color'];\n      this.columns[_index]['users'] = result['users'];\n      this.$forceUpdate();\n    },\n\n    openStep: function (id) {\n      this.currentStep = id;\n      this.hideStep = true;\n      this.hideWorkflow = false;\n    },\n\n    openDiv: function(id) {\n      this.currentDiv = id;\n      this.showDiv = !this.showDiv;\n      this.hideDiv = !this.hideDiv;\n    },\n\n    createStep: function () {\n      let _data = {\n        workflow_id: this.$data.id,\n      }\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=createstep',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: _data\n        })\n      }).then(response => {\n        this.columns.push({\n          id: response.data.data.step_id,\n          order: response.data.data.ordering,\n        })\n\n        setTimeout(() => {\n          this.$modal.show('stepModal' + response.data.data.step_id)\n        }, 500);\n      })\n    },\n\n    deleteStep: function (id) {\n      var data = {\n        id: id,\n        wid: this.$data.id,\n      }\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=deletestep',\n        params: {data},\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        this.columns = this.columns.filter((step) => {\n          return step.id !== id;   // delete step\n        })\n\n        let newIndex = [];\n        this.columns.forEach((elt) => {\n          // newIndex[elt.id] = this.columns.indexOf(elt);\n          newIndex[this.columns.indexOf(elt)] = elt.id;\n        });\n\n        var counter;\n        for(counter = 0; counter < newIndex.length; counter++) {\n          const _id = (element) => element.id == newIndex[counter];\n          var _index = this.columns.findIndex(_id);\n          this.columns[_index]['order'] = counter;\n          this.$forceUpdate();\n        }\n      })\n    },\n\n    getAllSteps: function () {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=getallsteps',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          wid: this.$data.id,\n        }),\n      }).then(response => {\n        this.columns = response.data.data;\n        this.stepParams = response.data.data;\n        var steps = response.data.data; // get all steps\n        this.stepList = steps;\n\n        /// the reason is here\n        steps.forEach(elt => {\n          axios({\n            method: 'get',\n            url: 'index.php?option=com_emundus_workflow&controller=step&task=getcurrentparams',\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            params: {sid : elt.id},\n            paramsSerializer: params => {\n              return qs.stringify(params);\n            }\n          }).then(answer => {\n            var _userName = [];\n            const _id = (element) => element.id == elt.id;\n            var _index = this.columns.findIndex(_id);\n            var _temp = answer.data.data.inputStatusNames;\n            var _stateIn = [];\n            _temp.forEach(elt => _stateIn.push(elt.value));\n            this.columns[_index]['stateIn'] = _stateIn.toString();\n            this.columns[_index]['stateOut'] = (answer.data.data.outputStatusNames)[0].value;\n            this.columns[_index]['title'] = answer.data.data.stepLabel;\n            this.columns[_index]['startDate'] = answer.data.data.startDate;\n            this.columns[_index]['endDate'] = answer.data.data.endDate;\n            this.columns[_index]['order'] = answer.data.data.ordering;\n            this.columns[_index]['style'] = answer.data.data.color;\n            this.columns[_index]['outputStatus'] = answer.data.data.outputStatus;\n            this.columns[_index]['campaignId'] = this.campaignID;\n            this.$forceUpdate();\n          })\n        })\n      })\n    },\n\n    configStep: function (id) {\n      this.$modal.show(\"stepModal\" + id);\n    },\n\n    getWorkflowFromURL: function () {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=getworkflowbyid',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          wid: this.$data.id,\n        })\n      }).then(response => {\n        this.workflowLabel = ((response.data.data)[0]).workflow_name;\n        this.campaignID = ((response.data.data)[0]).campaign_id;\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    updateWorkflowLabel: function () {\n      let newLabel = {\n        workflow_name: $(\"#editable-workflow-label\").text(),\n        id: this.$data.id,\n      }\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=updateworkflowlabel',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: newLabel,\n        })\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    setStepLabel: function (id) {\n      var data = {\n        step_label: $(\"#step_label_\" + id).text(),\n        id: id,\n        workflow_id: this.$data.id,\n      }\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=step&task=updateparams',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: {data},\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        var _index = this.columns.findIndex((element) => element.id == id);\n        this.columns[_index]['title'] = data.step_label;\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    createMessageDiv: function(step_id) {\n      let data = {\n        title: Math.random().toString(36).substring(2,10),       /// random title --> fix it later with hot-updating\n        step_id: step_id,\n        workflow_id: this.$data.id,   /// using mixin to get workflow id\n      };\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=common&task=createmessagebloc',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: data,\n          campaignId: this.campaignID,\n        })\n      }).then(response => {\n        let parent_id = response.data.data.step_id;\n        this.messages.push({\n          step_id: parent_id,\n          id: response.data.data.id,\n          triggerId: response.data.data.trigger,\n          title: data.title,            /// random title --> fix it later with hot-updating\n        });\n\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    deleteMessageDiv: function(id, trigger) {\n      let data = {\n        id: id,\n        trigger: trigger,\n      }\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=common&task=deletemessagebloc',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: data,\n        })\n      }).then(response => {\n        this.messages = this.messages.filter((message) => {\n          return message.id !== id; // remove step\n        })\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    getMessagesDiv: function() {\n        let data = {\n          workflow_id: this.$data.id,\n        }\n\n        axios({\n          method: 'post',\n          url: 'index.php?option=com_emundus_workflow&controller=common&task=getmessageblocsbyworkflow',\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            data: data\n          })\n        }).then(response => {\n          this.messages = response.data.data;\n          let mess = response.data.data;\n\n          mess.forEach(element => {\n            axios({\n              method: 'post',\n              url: 'index.php?option=com_emundus_workflow&controller=common&task=getmessageblocbyid',\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              },\n              data: qs.stringify({\n                data : { id: element.id }\n              })\n            }).then(answer => {\n              let _users = [];\n\n              let _index = this.messages.findIndex((elt) => elt.id === element.id);\n              this.messages[_index]['messageTemplate'] = answer.data.data.parsedParams.emailSelectedName;\n              this.messages[_index]['messageDestination'] = answer.data.data.parsedParams.destinationSelectedName;\n\n              let userList = answer.data.data.parsedParams.userSelectedName;\n\n              if(userList !== \"\") {\n                userList.forEach(user => {\n                  _users.push(user.name);\n                })\n                this.messages[_index]['messageDestinationList'] = _users.toString();\n              }\n              else {\n                this.messages[_index]['messageDestinationList'] = \"\";\n              }\n\n              this.messages[_index]['trigger'] = answer.data.data.parsedParams.triggerSelected;\n\n              this.$forceUpdate();\n            }).catch(logs => {\n              console.log(logs);\n            })\n          })\n        }).catch(error => {\n          console.log(error);\n        })\n    },\n  }\n};\n</script>\n\n<style>\n.column-width {\n  min-width: 240px;\n  width: 450px;\n}\n/*.column-width:active {*/\n/*  animation-name: shake; animation-duration: 0.07s; animation-iteration-count: infinite; animation-direction: alternate;*/\n/*}*/\n.px-3 {\n  padding-left: .75rem;\n  padding-right: .75rem;\n}\n/*.px-3:active {*/\n/*  animation-name: shake; animation-duration: 0.07s; animation-iteration-count: infinite; animation-direction: alternate;*/\n/*}*/\n.py-3 {\n  padding-top: .75rem;\n  padding-bottom: .75rem;\n}\n/*.py-3:active {*/\n/*  animation-name: shake; animation-duration: 0.07s; animation-iteration-count: infinite; animation-direction: alternate;*/\n/*}*/\n.mr-4 {\n  margin-right: 1rem;\n}\n/*.mr-4:active {*/\n/*  animation-name: shake; animation-duration: 0.07s; animation-iteration-count: infinite; animation-direction: alternate;*/\n/*}*/\n.rounded-lg {\n  border-radius: .5rem;\n}\n/*.rounded-lg:active {*/\n/*  animation-name: shake; animation-duration: 0.07s; animation-iteration-count: infinite; animation-direction: alternate;*/\n/*}*/\n.bg-gray-100 {\n  background-color: #fff;;\n  /*background-image: radial-gradient(circle, black 1px, rgba(0, 0, 0, 0) 1px);*/\n  background-size: 2em 2em;\n  overflow-y: scroll;\n}\n/*.bg-gray-100:active {*/\n/*  animation-name: shake; animation-duration: 0.07s; animation-iteration-count: infinite; animation-direction: alternate;*/\n/*}*/\n.py-12 {\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n}\n\n.overflow-x-scroll {\n  overflow-x: scroll;\n}\n\n.min-h-screen {\n  min-height: 25vh;\n  display: grid !important;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 60px;\n}\n\n.flex {\n  display: flex;\n}\n\n*, ::after, ::before {\n  box-sizing: border-box;\n  border-width: 0;\n  border-style: solid;\n  border-color: #e2e8f0;\n}\n\n.editable-workflow-label {\n  color: #118a3b !important;\n  font-size: xx-large !important;\n  /*font-weight: bold !important;*/\n  width: max-content;\n  /*border-bottom: 1px dotted black;*/\n  text-decoration: underline #28a745;\n}\n\n[contenteditable=\"true\"].editable-workflow-label {\n  white-space: nowrap;\n  overflow: hidden;\n}\n[contenteditable=\"true\"].editable-workflow-label br {\n  display:none;\n}\n[contenteditable=\"true\"].editable-workflow-label * {\n  display:inline;\n  white-space:nowrap;\n}\n\n/* editable step label */\n.editable-step-label {\n  color: #118a3b !important;\n  font-size: xx-large !important;\n  /*font-weight: bold !important;*/\n  width: max-content;\n  /*border-bottom: 1px dotted black;*/\n  text-decoration: underline #28a745;\n}\n\n[contenteditable=\"true\"].editable-step-label {\n  white-space: nowrap;\n  overflow: hidden;\n}\n[contenteditable=\"true\"].editable-step-label br {\n  display:none;\n}\n[contenteditable=\"true\"].editable-step-label * {\n  display:inline;\n  white-space:nowrap;\n}\n\n.flex {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 60px;\n  min-height: 60vh;\n  margin-top: 5vh;\n}\n@keyframes shake {\n  from {\n    transform: rotate(-4deg);\n  }\n  to {\n    transform: rotate(4deg);\n  }\n}\n\n.message-block {\n  box-shadow: 0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06);\n  padding-bottom: 1.25rem;\n  padding-top: .75rem;\n  padding-left: .75rem;\n  padding-right: .75rem;\n  margin-top: .75rem;\n  border-width: 1px;\n  border-radius: .25rem;\n  --border-opacity: 1;\n  border-color: rgba(255,255,255,var(--border-opacity));\n  overflow-y: scroll;\n  border-color: red;\n}\n\n.remove-message {\n  font-size: xx-small;\n  right: 85vh !important;\n  top: 45vh !important;\n  position: fixed !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StepFlow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StepFlow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepFlow.vue?vue&type=template&id=0e1f3e92&\"\nimport script from \"./StepFlow.vue?vue&type=script&lang=js&\"\nexport * from \"./StepFlow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StepFlow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport workflowDashboard from './components/Workflow/Dashboard/WorkflowDashboard';\n\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport \"@fortawesome/fontawesome-free/js/all.js\";\nimport VueSweetalert2 from 'vue-sweetalert2';\nimport VModal from 'vue-js-modal';\n\nimport axios from 'axios';\nconst qs = require('qs');\n\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\n\n// Import Bootstrap an BootstrapVue CSS files (order is important)\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\nimport stepflow from \"./components/StepFlow/StepFlow\";\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue)\n// Optionally install the BootstrapVue icon components plugin\nVue.use(IconsPlugin)\n\nVue.use(VModal);\nVue.config.productionTip = false;\nVue.config.devtools = true;\n\n//using Sweet alert\nVue.use(VueSweetalert2);\n\n//using color picker\nimport InputColorPicker from \"vue-native-color-picker\";\nVue.use(InputColorPicker);\n\nif (document.getElementById('workflow-dashboard')) {\n  new Vue({\n    el: '#workflow-dashboard',\n    render(h) {\n      return h(workflowDashboard, {\n        props: {}\n      });\n    }\n  });\n}\n\nif(document.getElementById('add-item')) {\n  new Vue({\n    el: '#add-item',\n    render(h) {\n      return h(stepflow, {\n        props:{}\n      });\n    }\n  });\n}\n","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleFlowchart.vue?vue&type=style&index=0&id=68b13ca0&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowDashboard.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartLink.vue?vue&type=style&index=0&id=04260896&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./WorkflowSpace.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartNode.vue?vue&type=style&index=0&id=6264d851&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./StepFlow.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigElement.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}