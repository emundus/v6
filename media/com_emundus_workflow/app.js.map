{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/SimpleFlowchart.vue?1993","webpack:///./src/app.vue?0f77","webpack:///./src/components/SimpleFlowchart.vue?b63a","webpack:///./src/components/FlowchartLink.vue?d71c","webpack:///src/components/FlowchartLink.vue","webpack:///./src/components/FlowchartLink.vue?f158","webpack:///./src/components/FlowchartLink.vue","webpack:///./src/components/FlowchartNode.vue?2a3e","webpack:///src/components/FlowchartNode.vue","webpack:///./src/components/FlowchartNode.vue?b971","webpack:///./src/components/FlowchartNode.vue","webpack:///./src/assets/position.js","webpack:///./src/ModalConfigElement.vue?e036","webpack:///./src/elements/espaceModal.vue?cca4","webpack:///src/elements/espaceModal.vue","webpack:///./src/elements/espaceModal.vue?a034","webpack:///./src/elements/espaceModal.vue","webpack:///./src/elements/messageModal.vue?9b19","webpack:///src/elements/messageModal.vue","webpack:///./src/elements/messageModal.vue?8703","webpack:///./src/elements/messageModal.vue","webpack:///src/ModalConfigElement.vue","webpack:///./src/ModalConfigElement.vue?9cc3","webpack:///./src/ModalConfigElement.vue","webpack:///src/components/SimpleFlowchart.vue","webpack:///./src/components/SimpleFlowchart.vue?d4cd","webpack:///./src/components/SimpleFlowchart.vue","webpack:///./src/addWorkflow.vue?7a06","webpack:///src/addWorkflow.vue","webpack:///./src/addWorkflow.vue?a995","webpack:///./src/addWorkflow.vue","webpack:///src/app.vue","webpack:///./src/app.vue?b1d1","webpack:///./src/app.vue","webpack:///./src/main.js","webpack:///./src/components/FlowchartNode.vue?2815","webpack:///./src/ModalConfigElement.vue?1a8c","webpack:///./src/components/FlowchartLink.vue?f4a0","webpack:///./src/addWorkflow.vue?dc82","webpack:///./src/app.vue?54a8"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","directives","rawName","modifiers","staticClass","on","$event","type","indexOf","_k","keyCode","updateWorkflowname","_v","_s","$data","workflowname","lastSave","seen","alertSaveDisplay","alertExitDisplay","autoMatchLink","staticStyle","menu_message","_l","item","index","class","icon","item_name","addNode","_e","scene","nodeClick","nodeDelete","linkBreak","linkAdded","canvasClick","staticRenderFns","handleMove","handleUp","handleDown","height","link","_b","linkDelete","id","node","linkingStart","linkingStop","style","background","nodeOptions","nodeSelected","handleMouseOver","handleMouseLeave","dAttr","show","deleteLink","arrowTransform","props","start","Array","from","Number","default","end","delete","methods","caculateCenterPoint","dx","dy","caculateRotation","degree","$emit","computed","pathStyle","stroke","strokeWidth","fill","arrowStyle","component","selected","options","handleMousedown","inputMouseDown","inputMouseUp","domProps","label","outputMouseDown","expression","ref","String","validator","val","x","y","centerX","scale","centerY","clone","mounted","nodeStyle","top","left","transform","target","className","e","preventDefault","handleDuplicatItem","handleConfigure","getOffsetRect","element","box","getBoundingClientRect","scrollTop","pageYOffset","scrollLeft","pageXOffset","Math","round","getMousePosition","event","mouseX","pageX","clientX","document","documentElement","mouseY","pageY","clientY","offset","ID","beforeOpen","updateParams","exitModal","elementTitle","form_name_title","form","$$selectedVal","filter","map","_value","$set","multiple","edited_status_title","disabled","checked","step","isArray","_i","$$a","$$el","$$c","$$v","$$i","concat","output_status_title","notes_title","composing","_m","model","callback","color","formNameSelected","inputStatus","outputStatus","notes","forms","status","inStatus","outStatus","isDisabled","in","out","getAllFormType","getWorkflowIdFromURL","location","href","split","getCurrentStatus","method","url","params","paramsSerializer","response","forEach","getAvailableInStatus","getAvailableOutStatus","getNonStatusParams","created","wid","email_model_title","lbl","input_status_title","statu","destination_title","destination","components","espaceModal","messageModal","getElementByItem","headers","console","log","error","title","text","footer","confirmButtonColor","isConfirmed","_data","$modal","hide","autoCreateLink","nodes","links","action","linking","dragging","scrolling","mouse","lastX","lastY","draggingLink","rootDivOffset","ModalConfigElement","FlowchartLink","FlowchartNode","offsetTop","offsetLeft","lines","cx","cy","ex","ey","fromNode","mx","my","$el","findNodeWithID","find","getPortPosition","existed","to","_links","newLink","workflow_id","link_label","html","timer","showConfirmButton","deletedLink","$swal","moveSelectedNode","diffX","diffY","contains","nodeCloned","nodeConfig","matches","which","assign","_type","deleteItem","alertDelete","alertClone","cloneItem","selectedCampaign","campaign","createworkflow","theader","$props","workflow","workflow_name","created_at","updated_at","changeToWorkflowSpace","alertDeleteDisplay","alertDuplicateDisplay","workflow_message","availableCampaigns","table_header","campaigns","workflows","getAllWorkflow","getAllAvailableCampaigns","campaign_id","deleteWorkflow","duplicateWorkflow","showCancelButton","cancelButtonColor","confirmButtonText","cancelButtonText","redirectJRoute","SimpleFlowchart","addWorkflow","items","nodeCategory","cronSave","alertWelcomeDisplay","loadWorkflow","insertInitBloc","cronUpdate","getWorkflowInfo","getMenu","init","item_id","axisX","axisY","itemCategory","_style","_id","floor","CSS_style","setTimeout","setInterval","saveWorkflow","current_nodes","item_label","getElementById","innerText","quitWorkflow","changeToDashboard","info","require","Vue","use","BootstrapVue","IconsPlugin","VModal","config","productionTip","devtools","VueSweetalert2","InputColorPicker","el","render","h","app"],"mappings":"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","file":"app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleFlowchart.vue?vue&type=style&index=0&id=0b8a17ce&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.top.hover\",modifiers:{\"top\":true,\"hover\":true}}],staticClass:\"editable-workflow-name\",attrs:{\"contenteditable\":\"true\",\"id\":\"editable-workflow-name-div\",\"title\":\"Cliquer sur le nom du workflow pour le changer\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateWorkflowname()}}},[_vm._v(\" \"+_vm._s(this.$data.workflowname)+\" \")]),_c('p',{staticClass:\"tooltip\"},[_vm._v(\" Dernier mis a jour: \"+_vm._s(this.$data.lastSave))]),_c('button',{staticClass:\"vertical-menu\",on:{\"click\":function($event){_vm.seen=!_vm.seen}}},[_vm._v(\" NEW BLOCK \")]),_c('button',{staticClass:\"save-button\",on:{\"click\":function($event){return _vm.alertSaveDisplay()}}},[_vm._v(\" SAUVEGARDER \")]),_c('button',{staticClass:\"exit-button\",on:{\"click\":function($event){return _vm.alertExitDisplay()}}},[_vm._v(\" QUITTER \")]),_c('button',{on:{\"click\":function($event){return _vm.autoMatchLink()}}},[_vm._v(\"Creer des liens\")]),_c('transition',{attrs:{\"name\":\"bounce\"}},[(_vm.seen)?_c('div',{staticClass:\"element-menu\"},[_c('h2',{staticStyle:{\"align-items\":\"center\"}},[_vm._v(\" \"+_vm._s(this.$data.menu_message)+\" \")]),_vm._l((_vm.items),function(item,index){return _c('li',{staticStyle:{\"line-height\":\"2.8\"}},[_c('i',{class:item.icon}),_c('span',{staticStyle:{\"margin\":\"0 35px\"}},[_vm._v(\" \"+_vm._s(item.item_name)+\" \")]),_c('button',{staticClass:\"add-button\",on:{\"click\":function($event){return _vm.addNode(index+1)}}},[_vm._v(\"ADD\")])])})],2):_vm._e()]),_c('simple-flowchart',{attrs:{\"scene\":_vm.scene,\"height\":800},on:{\"update:scene\":function($event){_vm.scene=$event},\"nodeClick\":_vm.nodeClick,\"nodeDelete\":_vm.nodeDelete,\"linkBreak\":_vm.linkBreak,\"linkAdded\":_vm.linkAdded,\"canvasClick\":_vm.canvasClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flowchart-container\",on:{\"mousemove\":_vm.handleMove,\"mouseup\":_vm.handleUp,\"mousedown\":_vm.handleDown}},[_c('svg',{attrs:{\"width\":\"100%\",\"height\":(_vm.height + \"px\")}},_vm._l((_vm.lines),function(link,index){return _c('flowchart-link',_vm._b({key:(\"link\" + index),on:{\"deleteLink\":function($event){return _vm.linkDelete(link.id)}}},'flowchart-link',link,false,true))}),1),_vm._l((_vm.scene.nodes),function(node,index){return _c('modal-config-element',{attrs:{\"ID\":node.id,\"element\":node},on:{\"linkingStart\":_vm.linkingStart,\"linkingStop\":_vm.linkingStop,\"linkDelete\":_vm.linkDelete}},[_vm._v(\" \"+_vm._s(node.id))])}),_vm._l((_vm.scene.nodes),function(node,index){return _c('flowchart-node',_vm._b({key:(\"node\" + index),style:({ background: node.background }),attrs:{\"options\":_vm.nodeOptions},on:{\"linkingStart\":function($event){return _vm.linkingStart(node.id)},\"linkingStop\":function($event){return _vm.linkingStop(node.id)},\"nodeSelected\":function($event){return _vm.nodeSelected(node.id, $event)}}},'flowchart-node',node,false,true))})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{on:{\"mouseover\":_vm.handleMouseOver,\"mouseleave\":_vm.handleMouseLeave}},[_c('path',{style:(_vm.pathStyle),attrs:{\"d\":_vm.dAttr}}),(_vm.show.delete)?_c('a',{on:{\"click\":_vm.deleteLink}},[_c('text',{staticClass:\"link-delete\",attrs:{\"text-anchor\":\"middle\",\"transform\":_vm.arrowTransform,\"font-size\":\"22\"}},[_vm._v(\"×\")])]):_c('path',{style:(_vm.arrowStyle),attrs:{\"d\":\"M -1 -1 L 0 1 L 1 -1 z\",\"transform\":_vm.arrowTransform}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <g @mouseover=\"handleMouseOver\"\n    @mouseleave=\"handleMouseLeave\">\n    <path :d=\"dAttr\" :style=\"pathStyle\"></path>\n    <a v-if=\"show.delete\" @click=\"deleteLink\">\n      <text \n        text-anchor=\"middle\" \n        :transform=\"arrowTransform\"\n        font-size=\"22\" class=\"link-delete\">&times;</text>\n    </a>\n    <path v-else d=\"M -1 -1 L 0 1 L 1 -1 z\"\n      :style=\"arrowStyle\"\n      :transform=\"arrowTransform\"></path>\n  </g>\n</template>\n\n<script>\nexport default {\n  name: 'FlowchartLink',\n  props: {\n    // start point position [x, y]\n    start: {\n      type: Array,\n      from: Number,       // from node\n      default() {\n        return [0, 0]\n      }\n    },\n    // end point position [x, y]\n    end: {\n      type: Array,\n      end: Number,      // to node\n      default() {\n        return [0, 0]\n      }\n    },\n    id: Number,\n  },\n  data() {\n    return {\n      show: {\n        delete: false,\n      }\n    }\n  },\n  methods: {\n    handleMouseOver() {\n      if (this.id) {\n        this.show.delete = true;\n      }\n    },\n    handleMouseLeave() {\n      this.show.delete = false;\n    },\n    caculateCenterPoint() {\n      // caculate arrow position: the center point between start and end\n      const dx = (this.end[0] - this.start[0]) / 2;\n      const dy = (this.end[1] - this.start[1]) / 2;\n      return [this.start[0] + dx, this.start[1] + dy];\n    },\n    caculateRotation() {\n      // caculate arrow rotation\n      const angle = -Math.atan2(this.end[0] - this.start[0], this.end[1] - this.start[1]);\n      const degree = angle * 180 / Math.PI;\n      return degree < 0 ? degree + 360 : degree;\n    },\n    deleteLink() {\n      this.$emit('deleteLink')\n    }\n  },\n  computed: {\n    pathStyle() {\n      return {\n        stroke: 'rgb(255, 136, 85)',\n        strokeWidth: 2.73205,\n        fill: 'none',\n      }\n    },\n    arrowStyle() {\n      return {\n        stroke: 'rgb(255, 136, 85)',\n        strokeWidth: 5.73205,\n        fill: 'none',\n      }\n    },\n    arrowTransform() {\n      const [arrowX, arrowY] = this.caculateCenterPoint();\n      const degree = this.caculateRotation()\n      return `translate(${arrowX}, ${arrowY}) rotate(${degree})`;\n    },\n    dAttr() {\n      let cx = this.start[0], cy = this.start[1], ex = this.end[0], ey = this.end[1];\n      let x1 = cx, y1 = cy + 50, x2 = ex, y2 = ey - 50;\n      return `M ${cx}, ${cy} C ${x1}, ${y1}, ${x2}, ${y2}, ${ex}, ${ey}`;\n    }\n  }\n}\n</script>\n\n<style scoped>\ng {\n  cursor: pointer;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowchartLink.vue?vue&type=template&id=0210c1b9&scoped=true&\"\nimport script from \"./FlowchartLink.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowchartLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlowchartLink.vue?vue&type=style&index=0&id=0210c1b9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0210c1b9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flowchart-node\",class:{selected: _vm.options.selected === _vm.id},style:(_vm.nodeStyle),on:{\"mousedown\":_vm.handleMousedown,\"mouseover\":_vm.handleMouseOver,\"mouseleave\":_vm.handleMouseLeave}},[_c('div',{staticClass:\"node-port node-input\",on:{\"mousedown\":_vm.inputMouseDown,\"mouseup\":_vm.inputMouseUp}}),_c('div',{staticClass:\"node-main\"},[_c('div',{staticClass:\"node-type\",domProps:{\"textContent\":_vm._s(_vm.type)}}),_c('p',{staticClass:\"node-label\",attrs:{\"contenteditable\":\"true\",\"id\":'label_'+_vm.id},domProps:{\"textContent\":_vm._s(_vm.label)}})]),_c('div',{staticClass:\"node-port node-output\",on:{\"mousedown\":_vm.outputMouseDown}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.delete),expression:\"show.delete\"}],staticClass:\"node-delete\"},[_vm._v(\"×\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.clone),expression:\"show.clone\"}],ref:\"duplicate\",staticClass:\"duplicate-option\",attrs:{\"id\":_vm.id}},[_vm._v(\"Dupliquer\")]),_c('div',{ref:\"configuration\",staticClass:\"configuration\",attrs:{\"id\":_vm.id}},[_vm._v(\"Configurer\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flowchart-node\" :style=\"nodeStyle\" \n    @mousedown=\"handleMousedown\"\n    @mouseover=\"handleMouseOver\"\n    @mouseleave=\"handleMouseLeave\"\n    v-bind:class=\"{selected: options.selected === id}\">\n    <div class=\"node-port node-input\"\n       @mousedown=\"inputMouseDown\"\n       @mouseup=\"inputMouseUp\">\n    </div>\n    <div class=\"node-main\">\n      <div v-text=\"type\" class=\"node-type\"></div>\n      <p contenteditable=\"true\" class=\"node-label\" :id=\"'label_'+id\" v-text=\"label\"/>\n    </div>\n    <div class=\"node-port node-output\" \n      @mousedown=\"outputMouseDown\">\n    </div>\n    <div v-show=\"show.delete\" class=\"node-delete\">&times;</div>\n    <div v-show=\"show.clone\" class=\"duplicate-option\" :id=\"id\" ref=\"duplicate\">Dupliquer</div>\n    <div class=\"configuration\" :id=\"id\" ref=\"configuration\">Configurer</div>\n  </div>\n</template>\n\n<script>\nimport {DateTime as LuxonDateTime} from \"luxon\";\nimport axios from \"axios\";\nconst qs = require('qs');\n\nexport default {\n  name: 'FlowchartNode',\n  props: {\n    background: {\n      type: String,\n      default: '',\n    },\n    id: {\n      type: Number,\n      default: 1000,\n      validator(val) {\n        return typeof val === 'number'\n      }\n    },\n    x: {\n      type: Number,\n      default: 0,\n      validator(val) {\n        return typeof val === 'number'\n      }\n    },    \n    y: {\n      type: Number,\n      default: 0,\n      validator(val) {\n        return typeof val === 'number'\n      }\n    },\n    type: {\n      type: String,\n      default: 'Element'\n    },\n    label: {\n      type: String,\n      default: 'input name'\n    },\n    options: {\n      type: Object,\n      default() {\n        return {\n          centerX: 1024,\n          scale: 1,\n          centerY: 140,\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      show: {\n        delete: false,\n        clone: false,\n      }\n    }\n  },\n  mounted() {\n  },\n  computed: {\n    nodeStyle() {\n      return {\n        top: this.options.centerY + this.y * this.options.scale + 'px', // remove: this.options.offsetTop + \n        left: this.options.centerX + this.x * this.options.scale + 'px', // remove: this.options.offsetLeft + \n        transform: `scale(${this.options.scale})`,\n      }\n    }\n  },\n  methods: {\n    handleMousedown(e) {\n      const target = e.target || e.srcElement;\n      // console.log(target);\n      if (target.className.indexOf('node-input') < 0 && target.className.indexOf('node-output') < 0) {\n        this.$emit('nodeSelected', e);\n      }\n    },\n    handleMouseOver() {\n      this.show.delete = true;\n      this.show.clone = true;\n    },\n    handleMouseLeave() {\n      this.show.delete = false;\n      this.show.clone = false;\n    },\n    outputMouseDown(e) {\n      this.$emit('linkingStart')\n      e.preventDefault();\n    },\n    inputMouseDown(e) {\n      e.preventDefault();\n    },\n    inputMouseUp(e) {\n      this.$emit('linkingStop')\n      e.preventDefault();\n    },\n\n    handleDuplicatItem(e) {\n      this.$emit('duplicateItem');\n      e.preventDefault();\n    },\n\n    handleConfigure(e) {\n      this.$emit('configureItem');\n      e.preventDefault();\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.flowchart-node {\n  margin: 0;\n  width: 80px;\n  height: 80px;\n  position: absolute;\n  box-sizing: border-box;\n  border: none;\n  background: white;\n  z-index: 1;\n  opacity: 0.9;\n  cursor: move;\n  transform-origin: top left;\n  /*border-radius: 0.75rem;*/\n}\n.flowchart-node .node-main {\n  text-align: center;\n}\n.flowchart-node .node-main .node-type {\n  background: #f85;\n  color: white;\n  font-size: 13px;\n  padding: 6px;\n  /*border-radius: 0.75rem;*/\n}\n.flowchart-node .node-main .node-label {\n  font-size: 13px;\n  text-decoration: underline;\n  cursor: auto;\n}\n.flowchart-node .node-port {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  left: 50%;\n  transform: translate(-50%);\n  border: 1px solid #ccc;\n  border-radius: 100px;\n  background: white;\n}\n.flowchart-node .node-port:hover {\n  background: #f85;\n  border: 1px solid #f85;\n}\n.flowchart-node .node-input {\n  top: -8px;\n}\n.flowchart-node .node-output {\n  bottom: -8px;\n}\n.flowchart-node .node-delete {\n  position: absolute;\n  right: -6px;\n  top: -6px;\n  font-size: 12px;\n  width: 12px;\n  height: 12px;\n  color: #f85;\n  cursor: pointer;\n  background: white;\n  border: 1px solid #f85;\n  border-radius: 100px;\n  text-align: center;\n}\n.flowchart-node .node-delete:hover {\n  background: #f85;\n  color: white;\n}\n\n.flowchart-node .duplicate-option {\n  position: absolute;\n  margin: 20px 60px;\n  width: 12px;\n  height: 12px;\n  color: #ba0f8a;\n  cursor: pointer;\n  text-align: center;\n  font-size: x-small;\n}\n\n.flowchart-node .remove-option {\n  font-size: small;\n  text-align: center;\n  width: -moz-fit-content !important;\n  height: fit-content;\n  display: inline-block;\n  background: #d94c4c;\n  position: absolute;\n  margin: -5px 85px !important;\n  cursor: pointer;\n  color: white;\n  border-radius: 0.25rem !important;\n}\n\n.configuration {\n  font-size: x-small;\n  color: #0010ff;\n  text-align: center;\n  margin: 0px 5px;\n  cursor: pointer;\n}\n\n.configuration:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19) !important;\n}\n.selected {\n  box-shadow: 0 0 0 2px #f85;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartNode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartNode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlowchartNode.vue?vue&type=template&id=369e7e61&scoped=true&\"\nimport script from \"./FlowchartNode.vue?vue&type=script&lang=js&\"\nexport * from \"./FlowchartNode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlowchartNode.vue?vue&type=style&index=0&id=369e7e61&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"369e7e61\",\n  null\n  \n)\n\nexport default component.exports","/**\n * @param element {HTMLElement}\n * @return {{top: number, left: number}}\n */\nfunction getOffsetRect (element) {\n    let box = element.getBoundingClientRect()\n\n    let scrollTop = window.pageYOffset\n    let scrollLeft = window.pageXOffset\n\n    let top = box.top + scrollTop\n    let left = box.left + scrollLeft\n\n    return {top: Math.round(top), left: Math.round(left)}\n}\n/**\n * @param event {MouseEvent}\n * @param element {HTMLElement}\n * @return {{x: number, y: number}}\n */\nfunction getMousePosition (element, event) {\n    let mouseX = event.pageX || event.clientX + document.documentElement.scrollLeft\n    let mouseY = event.pageY || event.clientY + document.documentElement.scrollTop\n\n    let offset = getOffsetRect(element)\n    let x = mouseX - offset.left\n    let y = mouseY - offset.top\n\n    return [x, y];\n}\n\nexport {\n    getMousePosition, getOffsetRect\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ModalConfigElement\"}},[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('modal',{attrs:{\"name\":'elementModal' + _vm.ID,\"width\":580,\"height\":600,\"adaptive\":true,\"draggable\":true,\"scrollable\":true,\"clickToClose\":true},on:{\"before-open\":_vm.beforeOpen}},[_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_c('h3',[_vm._v(\"Configuration globale\")])]),_c('br'),_c('br'),_c('b-nav',{attrs:{\"tabs\":\"\"}},[_c('b-nav-item',{attrs:{\"active\":\"\"}},[_vm._v(\"Configurations\")]),_c('b-nav-item',[_vm._v(\"Lorem Ipsum\")])],1),_c('br'),_c('br'),(this.type == 2)?_c('espace-modal',{ref:\"forms\",attrs:{\"element\":_vm.element}}):_vm._e(),(this.type == 4)?_c('message-modal',{ref:\"emails\",attrs:{\"element\":_vm.element}}):_vm._e(),_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.updateParams()}}},[_vm._v(\"Sauvegarder\")]),_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.exitModal()}}},[_vm._v(\"Quitter\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.form_name_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.formNameSelected),expression:\"form.formNameSelected\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"formNameSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('b-form-select-option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"--Formulaire--\")]),_vm._l((this.$data.forms),function(form){return _c('option',{domProps:{\"value\":form.id}},[_vm._v(\" \"+_vm._s(form.label))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.edited_status_title))]),_vm._l((this.$data.inStatus),function(item){return (!item.disabled)?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checked[item.step]),expression:\"checked[item.step]\"}],attrs:{\"type\":\"checkbox\",\"id\":item.step},domProps:{\"value\":item.step,\"checked\":Array.isArray(_vm.checked[item.step])?_vm._i(_vm.checked[item.step],item.step)>-1:(_vm.checked[item.step])},on:{\"change\":function($event){var $$a=_vm.checked[item.step],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=item.step,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.checked, item.step, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.checked, item.step, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.checked, item.step, $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":item.step}},[_vm._v(_vm._s(item.value))])]):_vm._e()})],2),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.output_status_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.outputStatus),expression:\"form.outputStatus\"}],staticClass:\"form-control-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"outputStatus\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('b-form-select-option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"--Statut de sortie--\")]),_vm._l((this.$data.outStatus),function(item,index){return (!item.disabled)?_c('option',{attrs:{\"disabled\":item.disabled},domProps:{\"value\":item.step}},[_vm._v(\" \"+_vm._s(item.value))]):_vm._e()})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-6 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.notes_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.notes),expression:\"form.notes\"}],staticStyle:{\"margin\":\"-5px\",\"width\":\"102%\"},attrs:{\"id\":\"notes_form\",\"rows\":\"3\",\"placeholder\":\"Notes\"},domProps:{\"value\":(_vm.form.notes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"notes\", $event.target.value)}}})])]),_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-sm-4\",staticStyle:{\"padding-left\":\"0\"}},[_c('v-input-colorpicker',{staticStyle:{\"width\":\"140px\"},model:{value:(_vm.form.color),callback:function ($$v) {_vm.$set(_vm.form, \"color\", $$v)},expression:\"form.color\"}})],1),_c('div',{staticClass:\"col-sm-2\",attrs:{\"id\":\"hex_color\"}},[_c('p',{staticStyle:{\"padding\":\"3px\",\"margin\":\"0px -15px\"},style:({ color: this.form.color })},[_vm._v(_vm._s(this.form.color))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-6\"},[_c('label',[_vm._v(\"Choisir couleur\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n<!--    {{ this.$data.inStatus }}-->\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ this.$data.elementTitle.form_name_title }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.formNameSelected\" class=\"form-control\">\n          <b-form-select-option selected disabled>--Formulaire--</b-form-select-option>\n          <option v-for=\"form in this.$data.forms\" :value=\"form.id\"> {{ form.label }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ this.$data.elementTitle.edited_status_title }}</label>\n<!--      <div class=\"col-xs-8\">-->\n<!--        <select v-model=\"form.editedStatusSelected\" class=\"form-control-select\" @change=\"updateOutStatus(form.editedStatusSelected)\">-->\n<!--          <b-form-select-option selected disabled>&#45;&#45;Statut d'édition&#45;&#45;</b-form-select-option>-->\n<!--          <option v-for=\"(item, index) in this.$data.inStatus\" :value=\"item.step\" :disabled=\"item.disabled\"> {{ item.value }}</option>-->\n<!--        </select>-->\n\n      <div v-for=\"item in this.$data.inStatus\" v-if=\"!item.disabled\">\n        <input type=\"checkbox\" :id=\"item.step\" :value=\"item.step\" v-model=\"checked[item.step]\"/>\n        <label class=\"form-check-label\" :for=\"item.step\">{{item.value}}</label>\n      </div>\n<!--      </div>-->\n\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ this.$data.elementTitle.output_status_title }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.outputStatus\" class=\"form-control-select\">\n          <b-form-select-option selected disabled>--Statut de sortie--</b-form-select-option>\n          <option v-for=\"(item, index) in this.$data.outStatus\" :value=\"item.step\" :disabled=\"item.disabled\" v-if=\"!item.disabled\"> {{ item.value }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-6 col-form-label\">{{ this.$data.elementTitle.notes_title }}</label>\n      <div class=\"col-xs-8\">\n        <textarea id=\"notes_form\" rows=\"3\" v-model=\"form.notes\" placeholder=\"Notes\" style=\"margin: -5px; width: 102%\"></textarea>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <label>Choisir couleur</label>\n      </div>\n      <div class=\"col-sm-4\" style=\"padding-left: 0\">\n        <v-input-colorpicker  v-model=\"form.color\" style=\"width:140px\"/>\n      </div>\n      <div class=\"col-sm-2\" id=\"hex_color\">\n        <p style=\"padding: 3px; margin:0px -15px\" v-bind:style=\"{ color: this.form.color }\">{{ this.form.color }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nconst qs = require('qs');\nlet _all = [];\nexport default {\n  name: \"espaceModal\",\n  props: {\n    element: Object,\n  },\n  data: function() {\n    return {\n      elementTitle: {\n        form_name_title: \"Nom du formulaire\",\n        edited_status_title: \"Statut d'édition\",\n        output_status_title: \"Statut de sortie\",\n        notes_title: \"Notes\",\n      },\n      form: {\n        formNameSelected: '',\n        inputStatus: [],\n        outputStatus: '',\n        notes: '',\n        color: \"#0f4c81\",\n      },\n      forms: [],\n      status: [],\n      inStatus: [],\n      outStatus: [],\n      isDisabled: true,\n      checked: [],\n\n      in: [],\n      out: [],\n    }\n  },\n  methods: {\n    getAllFormType: function() {\n      axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallpublishedforms')\n          .then(response => {\n            this.$data.forms = response.data.data;\n          })\n          .catch(error => {\n            console.log(error);\n          })\n    },\n    // getAllStatus: function() {\n    //   axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallstatus')\n    //       .then(response => {\n    //         this.$data.status = response.data.data;\n    //       })\n    //       .catch(error => {\n    //         console.log(error);\n    //       })\n    // },\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    getCurrentStatus: function(id) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getcurrentinputstatusbyitem',\n        params: { id },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        if(response.data.data !== null) {\n          response.data.data.forEach(elt => { this.checked[elt.step] = true; })\n        }\n        else {}\n      })\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getcurrentoutputstatusbyitem',\n        params: { id },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        // console.log(response);\n        if(response.data.data !== null) {\n          this.form.outputStatus = (response.data.data)[0].step;\n        }\n        else {}\n      })\n    },\n\n    getAvailableInStatus: async function(data) {\n      var _rawA2 = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getavailableinputstatus', { params: { data : data }});\n      var _rawAll = await axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallstatus');\n\n      var _a2 = _rawA2.data.data;\n      var _all = _rawAll.data.data;\n\n      let _idiff = _all.filter(({ step: id1 }) => !_a2.some(({ step: id2 }) => id2 === id1));\n      let _iintersect = _all.filter(item1 => _a2.some(item2 => item1.step === item2.step));\n\n      if(_idiff.length !== 0 && _iintersect.length !== 0) {\n        _idiff.forEach(elt => elt['disabled'] = true);\n        _iintersect.forEach(elt => elt['disabled'] = false);\n        var _merge1 = _idiff.concat(_iintersect);\n      }\n\n      else {\n        if(_idiff.length !== 0 && _iintersect.length == 0) {\n          _all.forEach(elt => elt['disabled'] = true);\n          var _merge1 = _all;\n        }\n        else {\n          _all.forEach(elt => elt['disabled'] = false);\n          var _merge1 = _all;\n        }\n      }\n\n      this.$data.inStatus = _merge1;\n    },\n\n    getAvailableOutStatus: async function(data) {\n      var _rawB2 = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getavailableoutputstatus', { params: { data : data }});\n      var _rawAll = await axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallstatus');\n\n      var _b2 = _rawB2.data.data;\n      var _all = _rawAll.data.data;\n\n      let _odiff = _all.filter(({ step: id1 }) => !_b2.some(({ step: id2 }) => id2 === id1));\n      let _ointersect = _all.filter(item1 => _b2.some(item2 => item1.step === item2.step));\n\n      if(_odiff.length !== 0 && _ointersect.length !== 0) {\n        _odiff.forEach(elt => elt['disabled'] = true);\n        _ointersect.forEach(elt => elt['disabled'] = false);\n        var _merge2 = _odiff.concat(_ointersect);\n      }\n\n      else {\n        _all.forEach(elt => elt['disabled'] = false);\n        var _merge2 = _all;\n      }\n\n      this.$data.outStatus = _merge2;\n    },\n\n    getNonStatusParams: function(id) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getnonstatusparamsbyitem',\n        params: { id },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        if(response.data.data !== null) {\n          this.form.formNameSelected = (response.data.data).profile;\n          this.form.notes = (response.data.data).notes;\n        }\n        else {}\n      })\n    }\n\n  },\n  created() {\n    this.form = this.element;\n    this.form.inputStatus = this.checked;\n\n    var data = {\n      wid:this.getWorkflowIdFromURL(),\n      id: this.form.id,\n    }\n\n    this.getCurrentStatus(this.form.id);\n    this.getAvailableInStatus(data);\n    this.getAvailableOutStatus(data);\n\n    this.getAllFormType();\n\n    this.getNonStatusParams(this.form.id);\n  },\n\n}\n</script>\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./espaceModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./espaceModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./espaceModal.vue?vue&type=template&id=03fd4725&\"\nimport script from \"./espaceModal.vue?vue&type=script&lang=js&\"\nexport * from \"./espaceModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.email_model_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.emailSelected),expression:\"form.emailSelected\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"emailSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('b-form-select-option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"--Message--\")]),_vm._l((this.$data.emails),function(model){return _c('option',{domProps:{\"value\":model.id}},[_vm._v(\" \"+_vm._s(model.lbl))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.input_status_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.inputStatus),expression:\"form.inputStatus\"}],staticClass:\"form-control-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"inputStatus\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('b-form-select-option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"--Statut--\")]),_vm._l((this.$data.status),function(statu){return _c('option',{domProps:{\"value\":statu.id}},[_vm._v(\" \"+_vm._s(statu.value))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.destination_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.destinationSelected),expression:\"form.destinationSelected\"}],staticClass:\"form-control-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"destinationSelected\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('b-form-select-option',{attrs:{\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"--Destination--\")]),_vm._l((this.$data.destination),function(destination){return _c('option',{domProps:{\"value\":destination.id}},[_vm._v(\" \"+_vm._s(destination.label))])})],2)])]),_c('div',{staticClass:\"row mb-3\"},[_c('label',{staticClass:\"col-sm-4 col-form-label\"},[_vm._v(_vm._s(this.$data.elementTitle.notes_title))]),_c('div',{staticClass:\"col-xs-8\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.notes),expression:\"form.notes\"}],staticStyle:{\"margin\":\"-3px\",\"width\":\"95%\"},attrs:{\"placeholder\":\"Supplementaires informations\"},domProps:{\"value\":(_vm.form.notes)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"notes\", $event.target.value)}}})])]),_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-sm-4\",staticStyle:{\"padding-left\":\"0\"}},[_c('v-input-colorpicker',{staticStyle:{\"width\":\"140px\"},model:{value:(_vm.form.color),callback:function ($$v) {_vm.$set(_vm.form, \"color\", $$v)},expression:\"form.color\"}})],1),_c('div',{staticClass:\"col-sm-2\",attrs:{\"id\":\"hex_color\"}},[_c('p',{staticStyle:{\"padding\":\"3px\",\"margin\":\"0px -15px\"},style:({ color: this.form.color })},[_vm._v(_vm._s(this.form.color))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-6\"},[_c('label',[_vm._v(\"Choisir couleur\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ this.$data.elementTitle.email_model_title }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.emailSelected\" class=\"form-control\">\n          <b-form-select-option selected disabled>--Message--</b-form-select-option>\n          <option v-for = \"model in this.$data.emails\" :value=\"model.id\"> {{ model.lbl }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ this.$data.elementTitle.input_status_title }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.inputStatus\" class=\"form-control-select\">\n          <b-form-select-option selected disabled>--Statut--</b-form-select-option>\n          <option v-for=\"statu in this.$data.status\" :value=\"statu.id\"> {{ statu.value }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ this.$data.elementTitle.destination_title }}</label>\n      <div class=\"col-xs-8\">\n        <select v-model=\"form.destinationSelected\" class=\"form-control-select\">\n          <b-form-select-option selected disabled>--Destination--</b-form-select-option>\n          <option v-for=\"destination in this.$data.destination\" :value=\"destination.id\"> {{ destination.label }}</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"row mb-3\">\n      <label class=\"col-sm-4 col-form-label\">{{ this.$data.elementTitle.notes_title }}</label>\n      <div class=\"col-xs-8\">\n        <textarea v-model=\"form.notes\" placeholder=\"Supplementaires informations\" style=\"margin: -3px; width: 95%\"/>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <label>Choisir couleur</label>\n      </div>\n\n      <div class=\"col-sm-4\" style=\"padding-left: 0\">\n        <v-input-colorpicker  v-model=\"form.color\" style=\"width:140px\"/>\n      </div>\n\n      <div class=\"col-sm-2\" id=\"hex_color\">\n        <p style=\"padding: 3px; margin:0px -15px\" v-bind:style=\"{ color: this.form.color }\">{{ this.form.color }}</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nconst qs = require('qs');\n\n  export default {\n    name: \"messageModal\",\n\n    props: {\n      element: Object,\n    },\n\n    data: function() {\n      return {\n        elementTitle: {\n          email_model_title: \"Message\",\n          input_status_title: \"Statut d'entrée\",\n          destination_title: \"Destinataire\",\n          notes_title: \"Notes\",\n        },\n\n        form: {\n          emailSelected: '',\n          inputStatus: '',\n          destinationSelected: '',\n          notes: '',\n          color: \"#0f4c81\",\n        },\n\n        emails: [],\n        status: [],\n        destination: [],\n      }\n    },\n\n    created() {\n      this.getAllMessages();\n      this.getAllStatus();\n      this.getAllDestinations();\n      this.form = this.element;\n    },\n\n    methods: {\n      getAllMessages: function() {\n        axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallmessages')\n          .then(response => {\n            this.$data.emails = response.data.data;\n          })\n          .catch(error => {\n            console.log(error);\n          })\n      },\n\n      getAllStatus: function() {\n        axios.get('index.php?option=com_emundus_workflow&controller=common&task=getallstatus')\n            .then(response => {\n              this.$data.status = response.data.data;\n            })\n            .catch(error => {\n              console.log(error);\n            })\n      },\n\n      getAllDestinations: function() {\n        axios.get('index.php?option=com_emundus_workflow&controller=common&task=getalldestinations')\n            .then(response => {\n              this.$data.destination = response.data.data;\n              console.log(response);\n            })\n            .catch(error => {\n              console.log(error);\n            })\n      },\n\n      configureMessage: function() {\n\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageModal.vue?vue&type=template&id=2f6ae987&\"\nimport script from \"./messageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./messageModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"ModalConfigElement\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <modal :name=\"'elementModal' + ID\" :width=\"580\" :height=\"600\" :adaptive=\"true\" :draggable=\"true\" :scrollable=\"true\" :clickToClose=\"true\" @before-open=\"beforeOpen\">\n      <b-badge variant=\"warning\"><h3>Configuration globale</h3></b-badge>\n      <br/>\n      <br/>\n      <b-nav tabs>\n        <b-nav-item active>Configurations</b-nav-item>\n        <b-nav-item>Lorem Ipsum</b-nav-item>\n      </b-nav>\n      <br/>\n      <br/>\n      <espace-modal v-if=\"this.type == 2\" ref=\"forms\" :element=\"element\"/>\n      <message-modal v-if=\"this.type == 4\" ref=\"emails\" :element=\"element\"/>\n      <b-button variant=\"success\" @click=\"updateParams()\">Sauvegarder</b-button>\n      <b-button variant=\"danger\" @click=\"exitModal()\">Quitter</b-button>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport espaceModal from './elements/espaceModal.vue';\nimport messageModal from './elements/messageModal.vue';\n\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nconst qs = require('qs');\n\nexport default {\n  name: \"ModalConfigElement\",\n\n  components: {\n    espaceModal,\n    messageModal,\n  },\n\n  data: function() {\n    return {\n      type: '',\n    }\n  },\n\n  props: {\n    ID: Number,\n    element: Object,\n  },\n\n  methods: {\n    getElementByItem: function () {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=getitem',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        params: {\n          id: this.ID,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        this.$data.type = (response.data.data)[0].item_id;\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    updateParams: function() {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=updateparams',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          params: this.element,\n        })\n      }).then(response => {\n        Swal.fire({\n          icon: 'success',\n          title: 'Congrat',\n          text: 'Les parametres sont sauvegardés',\n          footer: '<a href>EMundus SAS</a>',\n          confirmButtonColor: '#28a745',\n        }).then((result) => {\n          if (result.isConfirmed) {\n            this.$modal.hide('elementModal' + this.ID);\n\n            //// insert code here --> auto create link\n            var _data = {\n             wid: this.getWorkflowIdFromURL(),\n             id: this.ID,\n            }\n            this.autoCreateLink(_data);\n          }})\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    exitModal: function() {\n      this.$modal.hide('elementModal' + this.ID);\n    },\n\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    autoCreateLink: async function(data) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=matchalllinksbyitem',\n        params: { data },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        //based on the returned status [0] or [1] --> we will create a link between blocs\n        if((response.data.permission) == 'available') {\n          var _data = {\n            _from : response.data.data,\n            _to : this.ID,\n          }\n\n          this.$emit('linkingStart', _data._from);\n          this.$emit('linkingStop', _data._to);\n        }\n        else {\n        //   // check if there are the links from this node --> if yes --> remove it [this.$emit.nodeDelete]// if no --> anything do\n        //   axios({\n        //     method: 'post',\n        //     url: 'index.php?option=com_emundus_workflow&controller=item&task=checkexistlink',\n        //     headers: {\n        //       \"Content-Type\": \"application/x-www-form-urlencoded\"\n        //     },\n        //     data: qs.stringify({data: this.ID})\n        //   }).then(answer => {\n        //     // console.log(answer);\n        //     if (answer.data.data == true) {\n        //       ///// link exist --> get link_id --> delete it\n        //       var _data = {\n        //         _from: null,\n        //         _to: this.ID,\n        //       }\n        //       axios({\n        //         method: 'post',\n        //         url: 'index.php?option=com_emundus_workflow&controller=item&task=getlinkbytoitem',\n        //         headers: {\n        //           \"Content-Type\": \"application/x-www-form-urlencoded\"\n        //         },\n        //         data: qs.stringify({ data: _data })\n        //       }).then(reply => {\n        //         var _linkArray = reply.data.data;\n        //         this.$emit('linkDelete', _linkArray[0].id);\n        //       })\n        //     }\n        //   })\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    beforeOpen(event) {\n      this.getElementByItem();\n    }\n  }\n}\n</script>\n\n<style>\n\n  .vm--modal {\n    padding: 10px 25px !important;\n  }\n\n  .row {\n    margin-right:100px !important;\n  }\n\n  .select {\n    max-width: 300px !important;\n  }\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigElement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigElement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalConfigElement.vue?vue&type=template&id=7ce6d28c&\"\nimport script from \"./ModalConfigElement.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalConfigElement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ModalConfigElement.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"flowchart-container\" \n    @mousemove=\"handleMove\" \n    @mouseup=\"handleUp\"\n    @mousedown=\"handleDown\">\n    <svg width=\"100%\" :height=\"`${height}px`\">\n      <flowchart-link v-bind.sync=\"link\" \n        v-for=\"(link, index) in lines\" \n        :key=\"`link${index}`\"\n        @deleteLink=\"linkDelete(link.id)\">\n      </flowchart-link>\n    </svg>\n    <modal-config-element v-for=\"(node, index) in scene.nodes\" :ID=\"node.id\" :element=\"node\" @linkingStart=\"linkingStart\" @linkingStop=\"linkingStop\" @linkDelete=\"linkDelete\"> {{ node.id }}</modal-config-element>\n    <flowchart-node v-bind.sync=\"node\" \n      v-for=\"(node, index) in scene.nodes\" \n      :key=\"`node${index}`\"\n      :options=\"nodeOptions\"\n      @linkingStart=\"linkingStart(node.id)\"\n      @linkingStop=\"linkingStop(node.id)\"\n      @nodeSelected=\"nodeSelected(node.id, $event)\"\n      v-bind:style=\"{ background: node.background }\"\n    >\n    </flowchart-node>\n  </div>\n</template>\n\n<script>\nimport FlowchartLink from './FlowchartLink.vue';\nimport FlowchartNode from './FlowchartNode.vue';\nimport { getMousePosition } from '../assets/position';\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nimport ModalConfigElement from \"../ModalConfigElement\";\nconst qs = require('qs');\n\nexport default {\n  name: 'VueFlowchart',\n  props: {\n    scene: {\n      type: Object,\n      default() {\n        return {\n          centerX: 1024,\n          scale: 1,\n          centerY: 140,\n          nodes: [],\n          links: [],\n          background: '',\n        }\n      }\n    },\n    height: {\n      type: Number,\n      default: 400,\n    },\n  },\n  data() {\n    return {\n      action: {\n        linking: false,\n        dragging: false,\n        scrolling: false,\n        selected: 0,\n      },\n      mouse: {\n        x: 0,\n        y: 0,\n        lastX: 0,\n        lastY: 0,\n      },\n      draggingLink: null,\n      rootDivOffset: {\n        top: 0,\n        left: 0\n      },\n    };\n  },\n  components: {\n    ModalConfigElement,\n    FlowchartLink,\n    FlowchartNode,\n  },\n  computed: {\n    nodeOptions() {\n      return {\n        centerY: this.scene.centerY,\n        centerX: this.scene.centerX,\n        scale: this.scene.scale,\n        offsetTop: this.rootDivOffset.top,\n        offsetLeft: this.rootDivOffset.left,\n        selected: this.action.selected,\n      }\n    },\n    lines() {\n      const lines = this.scene.links.map((link) => {\n        const fromNode = this.findNodeWithID(link.from)\n        const toNode = this.findNodeWithID(link.to)\n        let x, y, cy, cx, ex, ey;\n        x = this.scene.centerX + fromNode.x;\n        y = this.scene.centerY + fromNode.y;\n        [cx, cy] = this.getPortPosition('bottom', x, y);\n        x = this.scene.centerX + toNode.x;\n        y = this.scene.centerY + toNode.y;\n        [ex, ey] = this.getPortPosition('top', x, y);\n        return { \n          start: [cx, cy], \n          end: [ex, ey],\n          id: link.id,\n        };\n      })\n      if (this.draggingLink) {\n        let x, y, cy, cx;\n        const fromNode = this.findNodeWithID(this.draggingLink.from)\n        x = this.scene.centerX + fromNode.x;\n        y = this.scene.centerY + fromNode.y;\n        [cx, cy] = this.getPortPosition('bottom', x, y);\n        // push temp dragging link, mouse cursor postion = link end postion \n        lines.push({ \n          start: [cx, cy], \n          end: [this.draggingLink.mx, this.draggingLink.my],\n        })\n      }\n      return lines;\n    }\n  },\n  mounted() {\n    this.rootDivOffset.top = this.$el ? this.$el.offsetTop : 0;\n    this.rootDivOffset.left = this.$el ? this.$el.offsetLeft : 0;\n    // console.log(22222, this.rootDivOffset);\n  },\n  methods: {\n    findNodeWithID(id) {\n      return this.scene.nodes.find((item) => {\n          return id === item.id\n      })\n    },\n    getPortPosition(type, x, y) {\n      if (type === 'top') {\n        return [x + 40, y];\n      }\n      else if (type === 'bottom') {\n        return [x + 40, y + 80];\n      }\n    },\n    linkingStart(index) {\n      this.action.linking = true;\n      this.draggingLink = {\n        from: index,\n        mx: 0,\n        my: 0,\n      };\n    },\n\n    linkingStop(index) {\n      // add new Link\n      if (this.draggingLink && this.draggingLink.from !== index) {\n        // check link existence\n        const existed = this.scene.links.find((link) => {\n          return link.from === this.draggingLink.from && link.to === index;\n        })\n        if (!existed) {\n          let maxID = Math.max(0, ...this.scene.links.map((link) => {\n            return link.id\n          }))\n          const newLink = {\n            from: this.draggingLink.from,\n            to: index,\n          };\n\n          //axios --> call to the api of create new link --> with params = {from,to,workflow_id}\n          //workflow_id --> rewrite the function of get id\n          var _links = {\n            from: newLink.from,\n            to: index,\n            workflow_id: this.getWorkflowIdFromURL(),\n            link_label: '',\n          }\n\n          axios({\n            method: 'post',\n            url: 'index.php?option=com_emundus_workflow&controller=item&task=checkmatchingitems',\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: _links\n            })\n          }).then(answer => {\n            if(answer.data.data == true) {\n              axios({\n                method: 'post',\n                url: 'index.php?option=com_emundus_workflow&controller=item&task=createlink',\n                headers: {\n                  \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                data: qs.stringify({\n                  data: _links\n                })\n              }).then(response => {\n                newLink['id'] = response.data.data;\n              }).catch(error => {\n                console.log(error);\n              })\n              this.scene.links.push(newLink)\n              this.$emit('linkAdded', newLink)\n            }\n            else {\n              Swal.fire({\n                icon: 'error',\n                title: 'Erreur',\n                html: 'Les status entre les deux items ne sont pas pareils',\n                timer: 1500,\n                showConfirmButton:false,\n              })\n            }\n          })\n        }\n      }\n      this.draggingLink = null\n    },\n\n    // get workflow id from url\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    linkDelete(id) {\n      const deletedLink = this.scene.links.find((item) => {\n          return item.id === id;\n      });\n      if (deletedLink) {\n        this.scene.links = this.scene.links.filter((item) => {\n            return item.id !== id;\n        });\n        this.$emit('linkBreak', deletedLink);\n        this.$swal('Merci', 'Cette liaison est supprimée', 'success');\n        this.deleteLink(id);\n      }\n    },\n    nodeSelected(id, e) {\n      this.action.dragging = id;\n      this.action.selected = id;\n      this.$emit('nodeClick', id);\n      this.mouse.lastX = e.pageX || e.clientX + document.documentElement.scrollLeft\n      this.mouse.lastY = e.pageY || e.clientY + document.documentElement.scrollTop\n    },\n    handleMove(e) {\n      if (this.action.linking) {\n        [this.mouse.x, this.mouse.y] = getMousePosition(this.$el, e);\n        [this.draggingLink.mx, this.draggingLink.my] = [this.mouse.x, this.mouse.y];\n      }\n      if (this.action.dragging) {\n        this.mouse.x = e.pageX || e.clientX + document.documentElement.scrollLeft\n        this.mouse.y = e.pageY || e.clientY + document.documentElement.scrollTop\n        let diffX = this.mouse.x - this.mouse.lastX;\n        let diffY = this.mouse.y - this.mouse.lastY;\n\n        this.mouse.lastX = this.mouse.x;\n        this.mouse.lastY = this.mouse.y;\n        this.moveSelectedNode(diffX, diffY);\n      }\n      if (this.action.scrolling) {\n        [this.mouse.x, this.mouse.y] = getMousePosition(this.$el, e);\n        let diffX = this.mouse.x - this.mouse.lastX;\n        let diffY = this.mouse.y - this.mouse.lastY;\n\n        this.mouse.lastX = this.mouse.x;\n        this.mouse.lastY = this.mouse.y;\n\n        this.scene.centerX += diffX;\n        this.scene.centerY += diffY;\n\n        // this.hasDragged = true\n      }\n    },\n    handleUp(e) {\n      const target = e.target || e.srcElement;\n      if (this.$el.contains(target)) {\n        if (typeof target.className !== 'string' || target.className.indexOf('node-input') < 0) {\n          this.draggingLink = null;\n        }\n        if (typeof target.className === 'string' && target.className.indexOf('node-delete') > -1) {\n          // this.$swal('Merci', 'Ce bloc est supprimé', 'success');\n          this.nodeDelete(this.action.dragging);\n        }\n        if (typeof target.className === 'string' && target.className.indexOf('duplicate-option') > -1) {\n          // this.$swal('Merci', 'Ce bloc est dupliqué', 'success');\n          this.nodeCloned(this.action.dragging);\n        }\n        if (typeof target.className === 'string' && target.className.indexOf('configuration') > -1) {\n          this.nodeConfig(this.action.dragging);\n        }\n      }\n      this.action.linking = false;\n      this.action.dragging = null;\n      this.action.scrolling = false;\n    },\n\n    handleDown(e) {\n      const target = e.target || e.srcElement;\n      // console.log('for scroll', target, e.keyCode, e.which)\n      if ((target === this.$el || target.matches('svg, svg *')) && e.which === 1) {\n        this.action.scrolling = true;\n        [this.mouse.lastX, this.mouse.lastY] = getMousePosition(this.$el, e);\n        this.action.selected = null; // deselectAll\n      }\n      this.$emit('canvasClick', e);\n    },\n    moveSelectedNode(dx, dy) {\n      let index = this.scene.nodes.findIndex((item) => {\n        return item.id === this.action.dragging\n      })\n      let left = this.scene.nodes[index].x + dx / this.scene.scale;\n      let top = this.scene.nodes[index].y + dy / this.scene.scale;\n      this.$set(this.scene.nodes, index, Object.assign(this.scene.nodes[index], {\n        x: left,\n        y: top,\n      }));\n    },\n    nodeDelete(id) {\n      this.$emit('nodeDelete', id)\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          id: id,\n        })\n      }).then(response => {\n        var _type = (response.data.data)[0];\n\n        if(_type.item_name == 'Initialisation') {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            html: 'Vous pouvez pas supprimer le bloc <h2 style=\"color:red\">INITIALISATION!',\n            timer: 1500,\n            showConfirmButton:false,\n          })\n          console.log('cannot delete');\n        }\n        else {\n          this.scene.nodes = this.scene.nodes.filter((node) => {\n            return node.id !== id;\n          })\n          this.scene.links = this.scene.links.filter((link) => {\n            return link.from !== id && link.to !== id\n          })\n\n          this.alertDelete(id)\n        }\n      })\n    },\n\n    nodeConfig(id) {\n      this.$emit('nodeConfig', id);\n      //if type is init or cloture --> skipp\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          id: id,\n        })\n      }).then(response => {\n        var _type = (response.data.data)[0];\n        if(_type.item_name == 'Initialisation' || _type.item_name == 'Cloture') {\n          //skip\n        }\n        else {\n          this.$modal.show('elementModal' + id);\n        }\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    nodeCloned(id) {\n      this.$emit('nodeClone', id)\n\n      //check if the node_id is init or not\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          id: id,\n        })\n      }).then(response => {\n        var _type = (response.data.data)[0];\n\n        if(_type.item_name == 'Initialisation') {\n          Swal.fire({\n            icon: 'error',\n            title: 'Erreur',\n            html: 'Vous pouvez pas cloner le bloc <h2 style=\"color:red\">INITIALISATION!',\n            timer: 1500,\n            showConfirmButton:false,\n          })\n        }\n        else {\n          this.alertClone(id);\n        }\n      })\n    },\n\n    // delete item by id\n    deleteItem: function(id) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=deleteitem',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({id})\n      }).then(response => {\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    //delete link by id\n    deleteLink: function(id) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=deletelink',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({id})\n      }).then(response => {\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    alertDelete: function(id) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        text: 'Le bloc est supprimé!',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.deleteItem(id);\n    },\n\n    alertClone: function(id) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        text: 'Le bloc est dupliqué!',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.cloneItem(id);\n    },\n\n    cloneItem: async function(id) {\n      let _response = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getitem', { params: {id: id}});\n      var olditem = (_response.data.data)[0];\n\n      var newitem = {\n        item_name: olditem.item_name,\n        item_id: olditem.item_id,\n        workflow_id: olditem.workflow_id,\n        item_label: document.getElementById('label_' + id).innerText || 'anonyme',\n      }\n\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&sub_option=clone&workflowid=\" + newitem.workflow_id + \"&olditemid=\" + newitem.item_id,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: newitem\n        })\n      }).then(response => {\n        axios({\n          method: 'post',\n          url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            id: response.data.data,\n          })\n        }).then(answer => {\n          var _style = (answer.data.data)[0];\n          this.scene.nodes.push({\n            id: response.data.data,\n            x: -500 + Math.floor((Math.random() * 100) + 1),\n            y: 70 + Math.floor((Math.random() * 100) + 1),\n            type: newitem.item_name,\n            label: newitem.item_label,\n            background: _style.CSS_style,\n          })\n        })\n      })\n    },\n\n\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.flowchart-container {\n  margin: 0;\n  background-color: #eee;\n  position: relative;\n  overflow: hidden;\n  box-shadow: 5px 5px #eee;\n  /*background-image: linear-gradient(#b1b9c6 .1em, transparent .1em), linear-gradient(90deg, #B1B9C6 .1em, transparent .1em);*/\n  background-image: radial-gradient(circle, black 1px, rgba(0, 0, 0, 0) 1px);\n  background-size: 2em 2em;\n  border-style: none;\n  width: 1850px;\n}\n\n.flowchart-container svg {\n  cursor: grab;\n}\n\n.swal2-styled.swal2-confirm {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-confirm:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.swal2-styled.swal2-cancel {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-cancel:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleFlowchart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleFlowchart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimpleFlowchart.vue?vue&type=template&id=0b8a17ce&scoped=true&\"\nimport script from \"./SimpleFlowchart.vue?vue&type=script&lang=js&\"\nexport * from \"./SimpleFlowchart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SimpleFlowchart.vue?vue&type=style&index=0&id=0b8a17ce&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b8a17ce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"}}),_c('link',{attrs:{\"type\":\"text/css\",\"rel\":\"stylesheet\",\"href\":\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\"}}),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('b-alert',{staticStyle:{\"background-color\":\"#d4edda\",\"border-color\":\"#c3e6cb\",\"padding\":\"3.75rem\",\"align-items\":\"center\"},attrs:{\"show\":\"\",\"variant\":\"success\",\"show\":\"\",\"dismissible\":\"\"}},[_c('h1',[_vm._v(\"EMundus Workflow Demo\")])])],1),_c('b-form-group',{attrs:{\"label-cols\":\"4\",\"label-cols-lg\":\"2\",\"label-size\":\"lg\",\"label\":\"Nom du workflow\",\"label-for\":\"input-lg\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Nom du workflow\",\"size\":\"sm\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('b-form-group',{attrs:{\"label-cols\":\"4\",\"label-cols-lg\":\"2\",\"label-size\":\"lg\",\"label\":\"Campagne associee\",\"label-for\":\"input-lg\"}},[_c('b-form-select',{staticClass:\"form-control-select\",model:{value:(_vm.selectedCampaign),callback:function ($$v) {_vm.selectedCampaign=$$v},expression:\"selectedCampaign\"}},[_c('b-form-select-option',{attrs:{\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(\"-- Campagnes disponibles --\")]),_vm._l((this.availableCampaigns),function(campaign){return _c('option',{domProps:{\"value\":campaign.id}},[_vm._v(\" \"+_vm._s(campaign.label)+\" \")])})],2)],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"success\"},on:{\"click\":_vm.createworkflow}},[_vm._v(\"Créer nouveau workflow\")]),_c('table',{staticClass:\"styled-table\"},[_c('thead',[_c('tr',_vm._l((this.$data.table_header),function(theader,index){return _c('th',{key:index},[_vm._v(\" \"+_vm._s(theader)+\" \")])}),0)]),_c('tbody',_vm._l((this.$props.workflows),function(workflow,index){return _c('tr',{key:workflow.id},[_c('th',[_vm._v(_vm._s(index))]),_c('th',[_vm._v(_vm._s(workflow.id))]),_c('th',[_vm._v(_vm._s(workflow.workflow_name))]),_c('th',[_vm._v(\" \"+_vm._s(workflow.label)+\" \")]),_c('th',[_vm._v(_vm._s(workflow.name))]),_c('th',[_vm._v(_vm._s(workflow.created_at))]),_c('th',[_vm._v(_vm._s(workflow.updated_at))]),_c('th',[_c('button',{staticClass:\"edit-button\",on:{\"click\":function($event){return _vm.changeToWorkflowSpace(workflow.id)}}},[_vm._v(\"OUVRIR\")]),_c('button',{staticClass:\"delete-button\",on:{\"click\":function($event){return _vm.alertDeleteDisplay(workflow.id)}}},[_vm._v(\"SUPPRIMER\")]),_c('button',{staticClass:\"duplicate-button\",on:{\"click\":function($event){return _vm.alertDuplicateDisplay(workflow.id)}}},[_vm._v(\"DUPLIQUER\")])])])}),0)]),_c('div',{staticClass:\"alert-count\"},[_c('p',[_vm._v(\" \"+_vm._s(this.workflow_message)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <div style=\"text-align: center\">\n      <b-alert show variant=\"success\" style=\"background-color: #d4edda; border-color: #c3e6cb; padding: 3.75rem; align-items: center\" show dismissible>\n\n          <h1>EMundus Workflow Demo</h1>\n\n      </b-alert>\n    </div>\n\n    <b-form-group label-cols=\"4\" label-cols-lg=\"2\" label-size=\"lg\" label=\"Nom du workflow\" label-for=\"input-lg\">\n      <b-form-input v-model=\"name\" placeholder=\"Nom du workflow\" size=\"sm\"></b-form-input>\n    </b-form-group>\n\n    <b-form-group label-cols=\"4\" label-cols-lg=\"2\" label-size=\"lg\" label=\"Campagne associee\" label-for=\"input-lg\">\n      <b-form-select v-model=\"selectedCampaign\" class=\"form-control-select\">\n        <b-form-select-option disabled selected>-- Campagnes disponibles --</b-form-select-option>\n        <option v-for=\"campaign in this.availableCampaigns\" :value=\"campaign.id\"> {{ campaign.label }} </option>\n      </b-form-select>\n    </b-form-group>\n\n    <b-button type=\"submit\" variant=\"success\" @click=\"createworkflow\">Créer nouveau workflow</b-button>\n\n    <table class=\"styled-table\">\n      <thead>\n        <tr>\n          <th v-for=\"(theader,index) in this.$data.table_header\" :key=\"index\">\n            {{ theader }}\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr v-for=\"(workflow,index) in this.$props.workflows\" :key=\"workflow.id\">\n          <th>{{ index }}</th>\n          <th>{{ workflow.id }}</th>\n          <th>{{ workflow.workflow_name }}</th>\n          <th> {{ workflow.label }} </th>\n          <th>{{ workflow.name }}</th>\n          <th>{{ workflow.created_at }}</th>\n          <th>{{ workflow.updated_at }}</th>\n          <th>\n            <button @click=\"changeToWorkflowSpace(workflow.id)\" class=\"edit-button\">OUVRIR</button>\n            <button @click=\"alertDeleteDisplay(workflow.id)\" class=\"delete-button\">SUPPRIMER</button>\n            <button @click=\"alertDuplicateDisplay(workflow.id)\" class=\"duplicate-button\">DUPLIQUER</button>\n          </th>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"alert-count\">\n      <p> {{ this.workflow_message }} </p>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport { DateTime } from 'vue-datetime';\n\nimport Swal from 'sweetalert2'\n\n// CommonJS\n\nlet now = new Date();\n\nconst qs = require('qs');\n\nexport default {\n  name: \"addWorkflow\",\n\n  data: function() {\n    return {\n      availableCampaigns: 0,\n      workflow_message: '',\n      form: {\n        workflow_name: '',   //name of workflow\n      },\n      name: '',\n      selectedCampaign: 0,\n      workflow_id: 0,\n      table_header: ['No.ligne', 'Workflow ID', 'Nom du workflow', 'Campagne Associeé', 'Dernier Mis-a-jour par', 'Créé à', 'Mis-a-jour ', 'Action'],\n    }\n  },\n\n  // using props to share data between components\n  props: {\n    workflow: Object,\n    campaigns: Array,\n    workflow_id: Number,\n    workflows: Array,\n  },\n\n  created() {\n    // this.getAllCampaigns();\n    this.getAllWorkflow();\n    this.getAllAvailableCampaigns();\n  },\n\n  methods: {\n    //may be used later !!!\n\n    // getAllCampaigns: function() {\n    //   axios.get(\"index.php?option=com_emundus_workflow&controller=workflow&task=getassociatedcampaigns\")\n    //       .then(response=>{\n    //         this.campaigns = response.data.data;\n    //       }).catch(error => {\n    //         console.log(error);\n    //   })\n    // },\n\n    getAllAvailableCampaigns: function() {\n      axios.get(\"index.php?option=com_emundus_workflow&controller=workflow&task=getallavailablecampaigns\")\n          .then(response=>{\n            console.log(response.data.data);\n            this.$data.availableCampaigns = response.data.data;\n          }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    getAllWorkflow: function() {\n      axios.get(\"index.php?option=com_emundus_workflow&controller=workflow&task=getallworkflows\")\n          .then(response=>{\n            this.workflows = response.data.data;\n            if(parseInt(response.data.count) == 0) {\n              this.workflow_message = \"Aucun workflow trouvé\";\n            }\n            else {\n              this.workflow_message = \"Il y a \" + response.data.count + \" workflows\";\n            }\n          }).catch(error => {\n            console.log(error);\n      })\n    },\n\n    // create workflow with campaign\n    createworkflow: function() {\n      axios({\n        method: \"post\",\n        url: \"index.php?option=com_emundus_workflow&controller=workflow&task=getcampaignbyid\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: this.$data.selectedCampaign,\n        }),\n      }).then(answer => {\n        var workflow = {\n          campaign_id :this.$data.selectedCampaign,\n          workflow_name: this.$data.name || \"Workflow de \" + ((answer.data.data)[0]).label,\n        }\n          axios({\n            method: \"post\",\n            url: \"index.php?option=com_emundus_workflow&controller=workflow&task=createworkflow\",\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: workflow\n            }),\n          }).then(response => {\n            this.workflow = response.data.data;\n            //redirect to workflow space\n            this.changeToWorkflowSpace(response.data.data);\n          }).catch(error => {\n            console.log(error);\n          })\n      })\n    },\n\n    //delete workflow\n    deleteWorkflow: function(wid) {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=deleteworkflow',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({wid})\n      }).then(response => {\n        this.getAllWorkflow();\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    //duplicate workflow from id --> duplicate all existing items of the last workflow\n    ///api 1 --> get workflow_name / campaign_id of last workflow\n    ///api 2 --> get all items of last workflow\n    ///api 3 --> create new workflow with api 1 + api 2\n\n\n    duplicateWorkflow: async function(id) {\n      //api 1 -- get workflow_name, campaign_id of last workflow\n      let _response = await axios.get('index.php?option=com_emundus_workflow&controller=workflow&task=getworkflowbyid', { params: {wid:id} });\n      var oldworkflow = ((_response.data.data)[0]);\n\n      var newworkflow = {\n        campaign_id :oldworkflow.campaign_id,\n        workflow_name: oldworkflow.workflow_name + \"copy\",\n      }\n\n      //get all elements (items + links) of the last workflow\n      let rawItems = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getallitemsbyworkflow', {params: {data: id}}); //get all items\n      let rawLinks = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getalllinks', {params: {data: id}}); //get all links\n\n      var items = rawItems.data.data;    //items : Array\n      var links = rawLinks.data.data;    //links: Array\n\n      //api 2 -- create cloned workflow :: empty items\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=createworkflow&suboption=clone&oldworkflow=' + oldworkflow.id,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data:newworkflow\n        })\n      }).then(response => {\n        //create new item\n        items.forEach(its => {\n          var _newitems = {\n            item_id: its.item_id,\n            item_label: its.item_label,\n            item_name: its.item_name,\n            style: its.style,\n            workflow_id: response.data.data,\n            axisX: its.axisX,\n            axisY: its.axisY,\n          }\n          axios({\n            method: 'post',\n            url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&workflowid=\" + response.data.data + \"&itemid=\" + _newitems.item_id,\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: _newitems\n            })\n          }).then(answer => {})\n          this.getAllWorkflow();\n        })\n      }).catch(error => {console.log(error);})\n    },\n\n    alertDeleteDisplay: function(wid) {\n      Swal.fire({\n        title: 'Supprime le workflow',\n        text: \"Action irréversible\",\n        icon: 'error',\n        showCancelButton: true,\n        confirmButtonColor: '#28a745',\n        cancelButtonColor: '#dc3545',\n        confirmButtonText: '<i class=\"far fa-thumbs-up\"></i> Oui, c\\'est sûr',\n        cancelButtonText: 'Non, garder ce workflow',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire('Merci', 'Le workflow est supprimé', 'success');\n          this.deleteWorkflow(wid);\n        } else if (result.isDismissed) {\n          Swal.fire('Merci', 'Le workflow est gardé', 'success');\n        }\n      })\n    },\n\n    alertDuplicateDisplay: function(id) {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        html: 'Le workflow est dupliqué <h2 style=\"color:red\">SAUF LES LIAISONS!',\n        footer: '<a href>EMundus SAS</a>',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.duplicateWorkflow(id);\n    },\n\n    redirectJRoute(link) {\n      axios({\n        method: \"get\",\n        url: \"index.php?option=com_emundus_workflow&controller=settings&task=redirectjroute\",\n        params: {\n          link: link,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        window.location.href =  window.location.pathname + response.data.data;\n      });\n    },\n\n    changeToWorkflowSpace(id) {\n      this.redirectJRoute('index.php?option=com_emundus_workflow&view=item&layout=add&id=' + id);\n    }\n  },\n}\n</script>\n\n<style>\n  .styled-table {\n    border-collapse: collapse;\n    margin: 25px 0;\n    font-size: 0.9em;\n    font-family: sans-serif;\n    min-width: 400px;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\n  }\n\n  .styled-table thead tr {\n    background-color: #009879;\n    color: #ffffff;\n    text-align: left;\n  }\n\n  .styled-table th {\n    background: none;\n  }\n\n  .styled-table td {\n    padding: 12px 15px;\n  }\n\n  .styled-table tbody tr {\n    border-bottom: 1px solid #dddddd;\n  }\n\n  .styled-table tbody tr:nth-of-type(even) {\n    background-color: #f3f3f3;\n  }\n\n  .edit-button {\n    top: auto;\n    background-color: #06ba00;\n    border-color: #06ba00;\n    color: #fff;\n    display: inline-block;\n    text-align: center;\n    vertical-align: center;\n    user-select: none;\n    border-radius: .25rem;\n    margin: 5px;\n    padding: 4px 20px;\n  }\n\n  .edit-button:hover {\n    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n  }\n\n  .delete-button {\n    top: auto;\n    background-color: red;\n    border-color: red;\n    color: #fff;\n    display: inline-block;\n    text-align: center;\n    vertical-align: center;\n    user-select: none;\n    border-radius: .25rem !important;\n    margin: 5px;\n    padding: 4px 20px;\n  }\n\n  .duplicate-button {\n    top: auto;\n    background-color: orange;\n    border-color: orange;\n    color: #fff;\n    display: inline-block;\n    text-align: center;\n    vertical-align: center;\n    user-select: none;\n    border-radius: .25rem;\n    margin: 5px;\n    padding: 4px 20px;\n  }\n\n  .delete-button:hover {\n    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n  }\n\n  .swal2-styled.swal2-confirm {\n    border-radius: 5px !important;\n  }\n\n  .swal2-styled.swal2-confirm:hover {\n    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n  }\n\n  .swal2-styled.swal2-cancel {\n    border-radius: 5px !important;\n  }\n\n  .swal2-styled.swal2-cancel:hover {\n    box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n  }\n\n  .alert-count {\n    border-radius: 4px;\n    border: 1px solid #c80101;\n    text-align: center;\n    width: 100%;\n    font-size: large;\n    color: #0A246A;\n  }\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./addWorkflow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./addWorkflow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addWorkflow.vue?vue&type=template&id=a39270cc&\"\nimport script from \"./addWorkflow.vue?vue&type=script&lang=js&\"\nexport * from \"./addWorkflow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addWorkflow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\" />\n    <link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css\" />\n\n    <div contenteditable=\"true\" class=\"editable-workflow-name\" id=\"editable-workflow-name-div\" v-on:keyup.enter=\"updateWorkflowname()\" v-b-tooltip.top.hover title=\"Cliquer sur le nom du workflow pour le changer\">\n      {{ this.$data.workflowname }}\n    </div>\n\n    <p class=\"tooltip\"> Dernier mis a jour: {{ this.$data.lastSave }}</p>\n\n    <button class=\"vertical-menu\" @click=\"seen=!seen\">\n      NEW BLOCK\n    </button>\n\n    <button class='save-button' @click=\"alertSaveDisplay()\">\n      SAUVEGARDER\n    </button>\n\n    <button class='exit-button' @click=\"alertExitDisplay()\">\n      QUITTER\n    </button>\n\n    <button @click=\"autoMatchLink()\">Creer des liens</button>\n\n    <transition name=\"bounce\">\n      <div class=\"element-menu\" v-if=\"seen\">\n        <h2 style=\"align-items: center\"> {{ this.$data.menu_message }} </h2>\n        <li v-for=\"(item,index) in items\" style=\"line-height: 2.8\">\n          <i :class=\"item.icon\"/>\n          <span style=\"margin: 0 35px\"> {{ item.item_name }} </span>\n          <button @click=\"addNode(index+1)\" class=\"add-button\">ADD</button>\n        </li>\n      </div>\n    </transition>\n\n    <simple-flowchart :scene.sync=\"scene\"\n                      @nodeClick=\"nodeClick\"\n                      @nodeDelete=\"nodeDelete\"\n                      @linkBreak=\"linkBreak\"\n                      @linkAdded=\"linkAdded\"\n                      @canvasClick=\"canvasClick\"\n                      :height=\"800\"/>\n  </div>\n</template>\n\n<script>\nimport SimpleFlowchart from './components/SimpleFlowchart.vue';\nimport addWorkflow from \"./addWorkflow\";\nimport axios from 'axios';\nimport Swal from \"sweetalert2\";\nimport ModalConfigElement from \"./ModalConfigElement\";\nlet now = new Date();\nconst qs = require('qs');\n\nconst _lst = [];\n\nexport default {\n  name: 'app',\n  components: {\n    ModalConfigElement,\n    SimpleFlowchart,\n    addWorkflow,\n  },\n\n  props: {\n    items: Array,\n    nodeCategory: Array,\n  },\n\n  data: function() {\n    return {\n      lastSave: '',\n      workflowname: '',\n      seen: false,\n      menu_message: \"Menu\",\n      scene: {\n        centerX: 1024,\n        centerY: 140,\n        scale: 1,\n        nodes: [],\n        links: [],\n      },\n    }\n  },\n\n  created() {\n    this.cronSave();\n    this.alertWelcomeDisplay();\n\n    this.loadWorkflow();\n    this.insertInitBloc();\n\n    this.cronUpdate();\n\n    this.getWorkflowInfo();\n    this.getMenu();\n    // this.getItemSimpleName();\n  },\n\n  methods: {\n    alertWelcomeDisplay: function() {\n      Swal.fire({\n        icon: 'success',\n        title: 'Bienvenue',\n        text: 'C\\'est vos espace de travail!',\n        footer: '<a href>Tutorials</a>',\n        timer: 3000,\n        showConfirmButton:false,\n      })\n    },\n\n    getWorkflowInfo: function () {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=getworkflowbyid',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          wid: this.getWorkflowIdFromURL()\n        })\n      }).then(response => {\n        var _data = (response.data.data)[0];\n        this.$data.workflowname = _data.workflow_name;\n        this.$data.lastSave = _data.updated_at;\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    insertInitBloc: function () {\n      var init = {\n        item_id: 1,\n        item_name: \"Initialisation\",\n        workflow_id: this.getWorkflowIdFromURL(),\n        axisX: -700,\n        axisY: -50,\n        style: '#9bde74',\n      }\n\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=getcounditembyid\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: init,\n        })\n      }).then(response => {\n        //insert new init bloc\n        if (response.data.status == 0) {\n          //create new init bloc\n          axios({\n            method: 'post',\n            url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&workflowid=\" + init.workflow_id + \"&itemid=1\",\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            data: qs.stringify({\n              data: init,\n            })\n          }).then(response => {\n            this.scene.nodes.push({\n              id: response.data.data,\n              x: -700,\n              y: -69,\n              type: 'Initialisation',\n              label: '',\n              background: '#9bde74',\n            })\n          }).catch(error => {\n            console.log(error);\n          })\n        }\n        //restore current init bloc\n        else {\n          // axios({\n          //   method: 'post',\n          //   url: 'index.php?option=com_emundus_workflow&controller=item&task=getinitid',\n          //   headers: {\n          //     \"Content-Type\": \"application/x-www-form-urlencoded\"\n          //   },\n          //   data: qs.stringify({\n          //     data: init.workflow_id\n          //   })\n          // }).then(response => {\n          //   this.scene.nodes.push({\n          //     id: (response.data.data)[0].id,\n          //     x: (response.data.data)[0].axisX,\n          //     y: (response.data.data)[0].axisY,\n          //     type: (response.data.data)[0].item_name,\n          //     label: (response.data.data)[0].item_label,\n          //   })\n          // }).catch(error => {\n          //   console.log(error)\n          // })\n        }\n      })\n    },\n\n    getWorkflowIdFromURL: function () {\n      return window.location.href.split('id=')[1];\n    },\n\n    getMenu: function() {\n      axios.get(\"index.php?option=com_emundus_workflow&controller=item&task=getallitems\").\n      then(response => {\n\n        var itemCategory = [];\n        (response.data.data).forEach(element => itemCategory.push(element.item_name));\n        this.$props.nodeCategory = itemCategory;\n\n\n        this.items = response.data.data;\n        this.items.splice(0, 1);\n\n\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n\n    // getItemSimpleName: async function () {\n    //   var json = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getallitems');\n    //   var rawData = (JSON.parse(JSON.stringify(json))).data.data;\n    //\n    //   var itemCategory = [];\n    //   rawData.forEach(element => itemCategory.push(element.item_name));\n    //   this.$props.nodeCategory = itemCategory;\n    //   return this.$props.nodeCategory;\n    // },\n\n    addNode: function (index) {\n      let nodeCategory = this.$props.nodeCategory;\n      var items = {\n        item_name: nodeCategory[index],\n        item_id: index+1,\n        workflow_id: this.getWorkflowIdFromURL(),\n        params: '',\n      }\n\n      axios({\n        method: 'post',\n        url: \"index.php?option=com_emundus_workflow&controller=item&task=createitem&workflowid=\" + items.workflow_id + \"&itemid=\" + items.item_id,\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: items\n        })\n      }).then(response => {\n        axios({\n          method: 'post',\n          url: \"index.php?option=com_emundus_workflow&controller=item&task=getitem\",\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            id: response.data.data,\n          })\n        }).then(answer => {\n          // console.log(answer);\n\n          var _style = (answer.data.data)[0];\n          var _id = (response.data.data).toString();\n\n          this.$data.scene.nodes.push({\n            id: _id,\n            x: -400 + Math.floor((Math.random() * 100) + 1),\n            y: 50 + Math.floor((Math.random() * 100) + 1),\n            type: nodeCategory[index],\n            label: '',\n            background: _style.CSS_style,\n          });\n\n          setTimeout(() => {\n            this.$modal.show('elementModal' + _id);\n          },500);\n        })\n\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n\n    cronSave: function() {\n      setInterval(this.saveWorkflow,60000);\n    },\n\n    saveWorkflow: function() {\n      this.$data.scene.nodes.forEach(element => {\n        var current_nodes = {\n          id: element.id,\n          type: element.type,\n          axisX: element.x,\n          axisY: element.y,\n          item_label: document.getElementById('label_' + element.id).innerText,\n          style: element.background,\n        };\n\n        axios({\n          method: 'post',\n          url: 'index.php?option=com_emundus_workflow&controller=item&task=saveitems',\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n          },\n          data: qs.stringify({\n            data: current_nodes\n          })\n        }).then(response => {\n        }).catch(error => {\n          console.log(error);\n        })\n      });\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=updatelastsavedworkflow',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: this.getWorkflowIdFromURL(),\n        })\n      }).then(response => {\n      })\n    },\n\n    quitWorkflow: function() {\n      this.saveWorkflow();\n      setTimeout(this.changeToDashboard(),4500);    //set timeout = 4.5 seconds\n    },\n\n    redirectJRoute(link) {\n      axios({\n        method: \"get\",\n        url: \"index.php?option=com_emundus_workflow&controller=settings&task=redirectjroute\",\n        params: {\n          link: link,\n        },\n        paramsSerializer: params => {\n          return qs.stringify(params);\n        }\n      }).then(response => {\n        window.location.href =  response.data.data;\n      });\n    },\n\n    changeToDashboard() {\n      this.redirectJRoute('index.php?option=com_emundus_workflow&view=workflow');\n    },\n\n    //load workflow = load items + load links\n    loadWorkflow: async function() {\n      let rawItems = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getallitemsbyworkflow', {params: {data: this.getWorkflowIdFromURL()}}); //get all items\n      let rawLinks = await axios.get('index.php?option=com_emundus_workflow&controller=item&task=getalllinks', {params: {data: this.getWorkflowIdFromURL()}}); //get all links\n\n      var items = rawItems.data.data;    //items : Array\n      var links = rawLinks.data.data;    //links: Array\n\n      items.forEach(element => {\n        this.$data.scene.nodes.push({\n          id: element.id,\n          label: element.item_label,\n          type: element.item_name,\n          x: Number(element.axisX),\n          y: Number(element.axisY),\n          background: element.style,\n        })\n      });\n\n      links.forEach(element => {\n        this.$data.scene.links.push({\n          id: element.id,\n          from: element.from,\n          to: element.to,\n        })\n      });\n      },\n    //next step --> clone workflow = clone all items\n\n    alertExitDisplay: function() {\n      Swal.fire({\n        title: 'Quitter l\\'espace de travail',\n        text: \"Le workflow sera sauvegardé automatiquement\",\n        icon: 'error',\n        showCancelButton: true,\n        confirmButtonColor: '#28a745',\n        cancelButtonColor: '#dc3545',\n        confirmButtonText: '<i class=\"far fa-thumbs-up\"></i> Oui, c\\'est sûr',\n        cancelButtonText: 'Non, garder ce workflow',\n      }).then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire('Merci', 'Le workflow est sauvegardé', 'success');\n          this.quitWorkflow();\n        } else if (result.isDismissed) {\n          Swal.fire('Merci', 'Rester ici', 'success');\n        }\n      })\n    },\n\n    alertSaveDisplay: function() {\n      Swal.fire({\n        icon: 'success',\n        title: 'Congrat',\n        text: 'Le workflow est sauvegardé!',\n        footer: '<a href>EMundus SAS</a>',\n        timer: 2000,\n        showConfirmButton:false,\n      })\n      this.saveWorkflow();\n    },\n\n    updateWorkflowname: function() {\n      var info = {\n        workflow_name: document.getElementById('editable-workflow-name-div').innerText,\n        id: this.getWorkflowIdFromURL(),\n      }\n\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=workflow&task=updateworkflow',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({\n          data: info,\n        })\n      }).then(response => {\n      }).catch(error => {\n        console.log(error);\n      })\n    },\n\n    cronUpdate: function() {\n      setInterval(this.getWorkflowInfo, 45000);\n    },\n\n    //match all links by workflow\n    autoMatchLink: function() {\n      axios({\n        method: 'post',\n        url: 'index.php?option=com_emundus_workflow&controller=item&task=matchalllinksbyworkflow',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        data: qs.stringify({ data: this.getWorkflowIdFromURL(),})\n      }).then(response => {\n        // console.log(response);\n      }).catch(error => {\n        console.log(error);\n      })\n    }\n  }\n}\n\n</script>\n\n<style>\n\n.app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: 0;\n  overflow: hidden;\n  height: 1020px;\n}\n.app > tool-wrapper {\n  position: relative;\n}\n\n#g-container-main .element-menu {\n  padding-bottom: 2px;\n  width: 300px;\n  position: fixed;\n  display: block;\n  top: 0;\n  background: #fff;\n  left: 75px;\n  padding-top: 5%;\n  height: 100%;\n  border-left: 0px solid #F4F4F6;\n}\n\n.vertical-menu {\n  transform: rotate(270deg);\n  position: relative !important;\n  top: 215px !important;\n  left: -100px !important;\n  background: #28a745;\n  color: #fff;\n  border-radius: .25rem !important;\n  padding: 15px 32px;\n}\n\n.vertical-menu:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.save-button {\n  transform: rotate(270deg);\n  position: relative !important;\n  top: 415px !important;\n  left: -265px !important;\n  background: #8a8a8a;\n  color: #fff;\n  border-radius: .25rem !important;\n  padding: 15px 32px;\n}\n\n.save-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.exit-button {\n  transform: rotate(270deg);\n  position: relative !important;\n  top: 610px !important;\n  left: -415px !important;\n  background: #de2f2f;\n  color: #fff;\n  border-radius: .25rem !important;\n  padding: 15px 32px;\n}\n\n.exit-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.add-button {\n  position: absolute !important;\n  right: 25px !important;\n  top: initial !important;\n  background-color: #28a745 !important;\n  border-color: #28a745 !important;\n  color: #fff !important;\n  display: inline-block !important;\n  text-align: center !important;\n  vertical-align: center !important;\n  user-select: none !important;\n  border-radius: .25rem !important;\n  line-height: 35px;\n  margin: 5px;\n}\n\n.add-button:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19) !important;\n}\n\n#g-container-main .g-container {\n  width: 100rem !important;\n}\n\n.bounce-enter-active {\n  animation: bounce-in .5s;\n}\n.bounce-leave-active {\n  animation: bounce-in .5s reverse;\n}\n@keyframes bounce-in {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1.5);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.swal2-styled.swal2-confirm {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-confirm:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.swal2-styled.swal2-cancel {\n  border-radius: 5px !important;\n}\n\n.swal2-styled.swal2-cancel:hover {\n  box-shadow: 0 12px 16px 0 rgba(0,0,0,0.24), 0 17px 50px 0 rgba(0,0,0,0.19);\n}\n\n.editable-workflow-name {\n  color: #8a1f11 !important;\n  font-size: xx-large !important;\n  font-weight: bold !important;\n  width: max-content;\n  border-bottom: 1px dotted black;\n}\n\n[contenteditable=\"true\"].editable-workflow-name {\n  white-space: nowrap;\n  width:max-content;\n  overflow: hidden;\n}\n[contenteditable=\"true\"].editable-workflow-name br {\n  display:none;\n}\n[contenteditable=\"true\"].editable-workflow-name * {\n  display:inline;\n  white-space:nowrap;\n}\n\n.tooltip {\n  opacity: 1 !important;\n  font-size: small !important;\n  color: #8a8a8a;\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=9e3d2962&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport app from './app.vue'\nimport addWorkflow from \"@/addWorkflow\";\n\n//import VueSidebarMenu from 'vue-sidebar-menu'\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport \"@fortawesome/fontawesome-free/js/all.js\";\nimport VueSweetalert2 from 'vue-sweetalert2';\nimport VModal from 'vue-js-modal';\n\nimport axios from 'axios';\nconst qs = require('qs');\n\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\n\n// Import Bootstrap an BootstrapVue CSS files (order is important)\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\n// Make BootstrapVue available throughout your project\nVue.use(BootstrapVue)\n// Optionally install the BootstrapVue icon components plugin\nVue.use(IconsPlugin)\n\nVue.use(VModal);\nVue.config.productionTip = false;\nVue.config.devtools = true;\n\n//using Sweet alert\nVue.use(VueSweetalert2);\n\n//using color picker\nimport InputColorPicker from \"vue-native-color-picker\";\nVue.use(InputColorPicker);\n\nif (document.getElementById('add-workflow')) {\n  new Vue({\n    el: '#add-workflow',\n    render(h) {\n      return h(addWorkflow, {\n        props: {}\n      });\n    }\n  });\n}\n\nif(document.getElementById('add-item')) {\n  new Vue({\n    el: '#add-item',\n    render(h) {\n      return h(app, {\n        props:{}\n      });\n    }\n  });\n}\n\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartNode.vue?vue&type=style&index=0&id=369e7e61&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalConfigElement.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlowchartLink.vue?vue&type=style&index=0&id=0210c1b9&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./addWorkflow.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}