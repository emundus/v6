(function(e){function t(t){for(var o,s,r=t[0],l=t[1],c=t[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},i={app:0},n=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0391":function(e,t,a){},"0582":function(e,t,a){"use strict";var o=a("09a8"),i=a.n(o);i.a},"06ba":function(e,t,a){},"0749":function(e,t,a){},"08c3":function(e,t,a){"use strict";var o=a("b3ba"),i=a.n(o);i.a},"09a8":function(e,t,a){},"0a64":function(e,t,a){"use strict";var o=a("7e71"),i=a.n(o);i.a},"0a96":function(e,t,a){},"0d2b":function(e,t,a){},"0e4e":function(e,t,a){},"0f86":function(e,t,a){"use strict";var o=a("1986"),i=a.n(o);i.a},1986:function(e,t,a){},"19b0":function(e,t,a){"use strict";var o=a("26a9"),i=a.n(o);i.a},"1bce":function(e,t,a){},"1d1b":function(e,t,a){},"1e03":function(e,t,a){},2326:function(e,t,a){"use strict";var o=a("7961"),i=a.n(o);i.a},"255b":function(e,t,a){"use strict";var o=a("0d2b"),i=a.n(o);i.a},2588:function(e,t,a){"use strict";var o=a("0749"),i=a.n(o);i.a},"26a9":function(e,t,a){},"27c7":function(e,t,a){"use strict";var o=a("86b2"),i=a.n(o);i.a},"2df0":function(e,t,a){},"2f4f":function(e,t,a){"use strict";var o=a("1e03"),i=a.n(o);i.a},3488:function(e,t,a){"use strict";var o=a("af57"),i=a.n(o);i.a},3574:function(e,t,a){},4004:function(e,t,a){},4036:function(e,t,a){"use strict";var o=a("8b91"),i=a.n(o);i.a},"423ed":function(e,t,a){"use strict";var o=a("77fe"),i=a.n(o);i.a},4554:function(e,t,a){},"45fe":function(e,t,a){},4678:function(e,t,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=n,e.exports=i,i.id="4678"},"471a":function(e,t,a){},"47db":function(e,t,a){"use strict";var o=a("90b9"),i=a.n(o);i.a},4956:function(e,t,a){"use strict";var o=a("3574"),i=a.n(o);i.a},"4b60":function(e,t,a){},"4ed5":function(e,t,a){},5581:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),i=a("1dce"),n=a.n(i),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:"email"==e.type?"margin-top: 13em":"",attrs:{id:"list"}},["files"!=e.type?a("actions",{attrs:{data:e.actions,selected:e.selecedItems,updateTotal:e.updateTotal,filter:e.filter,sort:e.sort,cherche:e.cherche,chercheGo:e.chercheGo,validateFilters:e.validateFilters,nbresults:e.nbresults,isEmpty:e.isEmpty}}):e._e(),a("h2",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}]},[e._v(e._s(e.Total)+" : "+e._s(e.total))]),a("div",{class:1==e.countPages?"noPagination":"pagination-pages"},[e.total>0?a("ul",{staticClass:"pagination"},[a("a",{staticClass:"pagination-arrow arrow-left",on:{click:function(t){return e.nbpages(e.pages-1)}}},[a("em",{staticClass:"fas fa-chevron-left"})]),e._l(e.countPages,(function(t){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.countPages<=10||t<4||t>e.countPages-3||t>e.pages-3&&t<e.pages+3||t==e.pages-3||t==e.pages+3,expression:"countPages <= 10 ||\n          index < 4 ||\n          index > countPages - 3 ||\n          (index > pages - 3 && index < pages + 3) ||\n          index == pages - 3 ||\n          index == pages + 3"}],key:t,staticClass:"pagination-number"},[a("a",{staticClass:"pagination-number",class:t==e.pages?"current-number":"",on:{click:function(a){return e.nbpages(t)}}},[e._v(" "+e._s(e.countPages>10?t<4||t>e.countPages-3||t>e.pages-3&&t<e.pages+3?t:"...":t)+" ")])])})),a("a",{staticClass:"pagination-arrow arrow-right",on:{click:function(t){return e.nbpages(e.pages+1)}}},[a("em",{staticClass:"fas fa-chevron-right"})])],2):e._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0||"files"==e.type,expression:"total > 0 || type == 'files'"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],staticClass:"buttonSelectDeselect"},[a("button",{staticClass:"btn-selectAll",class:[e.isEmpty?"active":""],on:{click:function(t){e.isEmpty?e.deselectItem():e.selectAllItem()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmpty,expression:"!isEmpty"}],attrs:{id:"buttonLabelSelect"}},[e._v(" "+e._s(e.Select)+" ("+e._s(e.pages<e.countPages?e.limit:e.total-e.limit*e.countPages+e.limit)+") ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty,expression:"isEmpty"}],attrs:{id:"buttonLabelDeselect"}},[e._v(e._s(e.Deselect))])]),e._l(e.list,(function(t,o){return"files"!=e.type?a("div",{key:o},[a(e.type,{tag:"component",attrs:{data:t,selectItem:e.selectItem}})],1):e._e()})),"files"==e.type?a("div",[a(e.type,{tag:"component"})],1):e._e(),a("div",{class:1==e.countPages?"noPagination":"pagination-pages"},[e.total>0?a("ul",{staticClass:"pagination"},[a("a",{staticClass:"pagination-arrow arrow-left",on:{click:function(t){return e.nbpages(e.pages-1)}}},[a("em",{staticClass:"fas fa-chevron-left"})]),e._l(e.countPages,(function(t){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.countPages<=10||t<4||t>e.countPages-3||t>e.pages-3&&t<e.pages+3||t==e.pages-3||t==e.pages+3,expression:"\n            countPages <= 10 ||\n              index < 4 ||\n              index > countPages - 3 ||\n              (index > pages - 3 && index < pages + 3) ||\n              index == pages - 3 ||\n              index == pages + 3\n          "}],key:t,staticClass:"pagination-number"},[a("a",{staticClass:"pagination-number",class:t==e.pages?"current-number":"",on:{click:function(a){return e.nbpages(t)}}},[e._v(e._s(e.countPages>10?t<4||t>e.countPages-3||t>e.pages-3&&t<e.pages+3?t:"...":t))])])})),a("a",{staticClass:"pagination-arrow arrow-right",on:{click:function(t){return e.nbpages(e.pages+1)}}},[a("em",{staticClass:"fas fa-chevron-right"})])],2):e._e()])],2),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total&&"files"!=e.type,expression:"total == 0 && type != 'files'"}],staticClass:"noneDiscover"},[e._v(" "+e._s("campaign"==this.type?e.noCampaign:"program"==this.type?e.noProgram:"email"==this.type?e.noEmail:"formulaire"==this.type?e.noForm:e.noFiles)+" ")])],1)},r=[],l=a("bc3a"),c=a.n(l),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-column-block w-row"},[a("div",{staticClass:"column-block w-col w-col-11"},[a("div",{staticClass:"block-dash",class:e.isPublished?"":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{class:e.isPublished?"publishedTag":"unpublishedTag"},[e._v(" "+e._s(e.isPublished?e.publishedTag:e.unpublishedTag)+" ")]),a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:e.isActive},on:{click:function(t){return e.selectItem(e.data.id)}}}),a("h1",{staticClass:"nom-campagne-block white"},[e._v(e._s(e.data.label))])])]),a("div",{staticClass:"date-menu orange"}),a("div",{staticClass:"description-block white",domProps:{innerHTML:e._s(e.data.notes)}})]),a("div",{staticClass:"column-inner-block-2 w-clearfix w-col w-col-4"},[a("div",{staticClass:"stats-block mb-1"},[a("label",{staticClass:"mb-0"},[e._v(e._s(e.CampaignNumbers)+" : ")]),a("div",{staticClass:"nb-dossier ml-10px"},[a("div",[e._v(e._s(e.data.nb_campaigns))])])]),a("div",{staticClass:"container-gerer-modifier-visualiser"},[a("a",{staticClass:"cta-block",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=program&layout=advancedsettings&pid="+e.data.id,title:e.AdvancedSettings}},[a("em",{staticClass:"fas fa-cog"})]),a("a",{staticClass:"cta-block ml-10px",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=program&layout=add&pid="+e.data.id,title:e.Modify}},[a("em",{staticClass:"fas fa-edit"})])])])])])])])},u=[],m=(a("ac6a"),a("6762"),a("2fdb"),a("2f62"));o["default"].use(m["a"]);var p={selectItem:function(e,t){return e.selectedItems.includes(t)?e.selectedItems.splice(e.selectedItems.indexOf(t),1):e.selectedItems.push(t),e.selectedItems},resetSelectedItemsList:function(e){e.selectedItems=[]},listUpdate:function(e,t){e.list=t},listInsert:function(e,t){t.forEach((function(t){e.list.push(t)}))},publish:function(e,t){e.list.forEach((function(a,o){t.includes(a.id)&&(e.list[o].published=1)}))},unpublish:function(e,t){e.list.forEach((function(a,o){t.includes(a.id)&&(e.list[o].published=0)}))},deleteSelected:function(e,t){e.list.some((function(a,o){if(t==a.id)return e.list.splice(o,1),!0}))}},_=new m["a"].Store({state:{list:[],selectedItems:[]},getters:{list:function(e){return e.list},selectedItems:function(e){return e.selectedItems},isSelected:function(e){return function(t){return e.selectedItems.includes(t)}},isSomething:function(e){return Array.isArray(e.selectedItems)&&e.selectedItems.length}},mutations:p,actions:{deleteSelected:function(e,t){var a=e.commit;e.state;t.forEach((function(e){a("deleteSelected",e)}))}}}),f={name:"programItem",props:{data:Object,selectItem:Function},data:function(){return{selectedData:[],path:window.location.pathname,publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),AdvancedSettings:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADVANCED_SETTINGS"),CampaignNumbers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CAMPAIGN_NUMBERS")}},computed:{isPublished:function(){return 1==this.data.published},isActive:function(){return _.getters.isSelected(this.data.id)}}},h=f,g=(a("6fce"),a("2877")),v=Object(g["a"])(h,d,u,!1,null,"92719816",null),b=v.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-column-block w-row max900"},[a("div",{staticClass:"column-block w-col w-col-11"},[a("div",{staticClass:"block-dash",class:e.isPublished?"":e.isFinish?"passee":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{class:e.isPublished?"publishedTag":e.isFinish?"passeeTag":"unpublishedTag"},[e._v(" "+e._s(e.isPublished?e.publishedTag:e.isFinish?e.passeeTag:e.unpublishedTag)+" ")]),a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:e.isActive},on:{click:function(t){return e.selectItem(e.data.id)}}}),a("h1",{staticClass:"nom-campagne-block white"},[e._v(e._s(e.data.label))])])]),a("div",{staticClass:"date-menu orange"},[e._v(" "+e._s(null!=e.data.end_date&&"0000-00-00 00:00:00"!=e.data.end_date?e.From:e.Since+" ")+" "+e._s(e.moment(e.data.start_date).format("DD/MM/YYYY"))+" "+e._s(null!=e.data.end_date&&"0000-00-00 00:00:00"!=e.data.end_date?e.To+" "+e.moment(e.data.end_date).format("DD/MM/YYYY"):"")+" ")]),a("p",{staticClass:"description-block white"},[e._v(e._s(e.data.short_description))])]),a("div",{staticClass:"column-inner-block-2 w-clearfix w-col w-col-4"},[a("div",{staticClass:"stats-block mb-1"},[a("label",{staticClass:"mb-0"},[e._v(e._s(e.Program)+" : ")]),a("a",{staticClass:"button-programme ml-10px",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=program&layout=advancedsettings&pid="+e.data.program_id}},[e._v(" "+e._s(e.data.program_label)+" ")])]),a("div",{staticClass:"stats-block"},[a("label",{staticClass:"mb-0"},[e._v(e._s(e.FilesCount)+" : ")]),a("div",{staticClass:"nb-dossier ml-10px"},[a("div",[e._v(e._s(e.data.nb_files))])])]),a("div",{staticClass:"container-gerer-modifier-visualiser"},[a("a",{staticClass:"cta-block",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+e.data.id+"&index=0",title:e.AdvancedSettings}},[a("em",{staticClass:"fas fa-cog"})]),a("a",{staticClass:"cta-block ml-10px",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=campaign&layout=add&cid="+e.data.id,title:e.Modify}},[a("em",{staticClass:"fas fa-edit"})])])])])])])])},O=[],E=a("c1df"),D=a.n(E),x={name:"camapaignItem",props:{data:Object,selectItem:Function},data:function(){return{selectedData:[],path:window.location.pathname,publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),From:Joomla.JText._("COM_EMUNDUS_ONBOARD_FROM"),To:Joomla.JText._("COM_EMUNDUS_ONBOARD_TO"),Since:Joomla.JText._("COM_EMUNDUS_ONBOARD_SINCE"),AdvancedSettings:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADVANCED_SETTINGS"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_PROGRAM"),FilesCount:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_COUNT")}},methods:{moment:function(e){return D()(e)}},computed:{isPublished:function(){return 1==this.data.published&&D()(this.data.start_date)<=D()()&&(D()(this.data.end_date)>=D()()||null==this.data.end_date||"0000-00-00 00:00:00"==this.data.end_date)},isFinish:function(){return D()(this.data.end_date)<=D()()},isActive:function(){return _.getters.isSelected(this.data.id)}}},N=x,U=(a("08c3"),Object(g["a"])(N,C,O,!1,null,"10bd996c",null)),y=U.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-column-block w-row"},[a("div",{staticClass:"column-block w-col w-col-11"},[a("div",{staticClass:"block-dash",class:e.isPublished?"":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{class:e.isPublished?"publishedTag":"unpublishedTag"},[e._v(" "+e._s(e.isPublished?e.publishedTag:e.unpublishedTag)+" ")]),a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:e.isActive},on:{click:function(t){return e.selectItem(e.data.id)}}}),a("h1",{staticClass:"nom-campagne-block white"},[e._v(e._s(e.data.subject))])])]),a("p",{staticClass:"description-block white"},[a("span",{domProps:{innerHTML:e._s(e.data.message)}})])]),a("div",{staticClass:"column-inner-block-2 w-clearfix w-col w-col-4",staticStyle:{"min-height":"150px !important"}},[a("a",{staticClass:"button-programme",attrs:{href:"#"}},[e._v(e._s(e.type[e.langue][e.data.type-1]))]),a("div",{staticClass:"container-gerer-modifier-visualiser"},[a("a",{staticClass:"cta-block",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=email&layout=add&eid="+e.data.id,title:e.Modify}},[a("em",{staticClass:"fas fa-edit"})])])])])])])])},M=[],T={name:"emailItem",props:{data:Object,selectItem:Function,actualLanguage:String},data:function(){return{langue:0,selectedData:[],path:window.location.pathname,publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),type:[["Système","Modèle"],["System","Model"]]}},computed:{isPublished:function(){return 1==this.data.published},isActive:function(){return _.getters.isSelected(this.data.id)}},mounted:function(){"en"==this.actualLanguage&&(this.langue=1)}},A=T,S=(a("83a4"),Object(g["a"])(A,w,M,!1,null,"0b14b72c",null)),R=S.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-column-block w-row"},[a("div",{staticClass:"column-block w-col w-col-11"},[a("div",{staticClass:"block-dash",class:e.isPublished?"":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{class:e.isPublished?"publishedTag":"unpublishedTag"},[e._v(" "+e._s(e.isPublished?e.publishedTag:e.unpublishedTag)+" ")]),a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:e.isActive},on:{click:function(t){return e.selectItem(e.data.id)}}}),a("h1",{staticClass:"nom-campagne-block white"},[e._v(e._s(e.data.form_label))])])])]),a("div",{staticClass:"column-inner-block-2 w-clearfix w-col w-col-4"},[a("div",{staticClass:"container-gerer-modifier-visualiser"},[a("a",{staticClass:"cta-block",attrs:{href:e.path+"/index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+e.data.id+"&index=0&cid=",title:e.Modify}},[a("em",{staticClass:"fas fa-edit"})])])])])])])])},J=[],I={name:"formItem",props:{data:Object,selectItem:Function},data:function(){return{selectedData:[],path:window.location.pathname,publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE")}},computed:{isPublished:function(){return 1==this.data.published},isActive:function(){return _.getters.isSelected(this.data.id)}}},B=I,P=(a("7350"),Object(g["a"])(B,k,J,!1,null,"1820a8be",null)),L=P.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"section-recherche",class:0==e.total?"noneDiscoverRecherche":""},[a("div",{staticClass:"w-container"},[e._m(0),a("div",{staticClass:"wrapper-add-recherche"},[a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("div",{staticClass:"container-flexbox-choisir-ou-plus-droite w-clearfix"},[a("div",{staticClass:"wraper-dropdown-search"},[a("a",{staticClass:"link",on:{click:function(t){e.prog="reset",e.onProgChange()}}},[e._v("x")]),a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Programme",name:"Programme","data-name":"Programme"},on:{change:function(t){e.prog="",e.onProgChange(t)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.prog}},[e._v("Programme")]),e._l(e.distinctProg,(function(t,o){return a("option",{key:o},[e._v(e._s(t))])}))],2)]),a("div",{staticClass:"wraper-dropdown-search"},[a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Campagne",name:"Campagne","data-name":"Campagne"},on:{change:function(t){e.camp="",e.onCampChange(t)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.camp}},[e._v("Campagne")]),e._l(e.distinctCamp,(function(t,o){return a("option",{key:o},[e._v(e._s(t))])}))],2),a("a",{staticClass:"link",on:{click:function(t){e.camp="reset",e.onCampChange()}}},[e._v("x")])]),a("div",{staticClass:"wraper-dropdown-search"},[a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Ann-e",name:"Ann-e","data-name":"Année"},on:{change:function(t){e.session="",e.onSessionChange(t)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.session}},[e._v("Session")]),e._l(e.distinctSession,(function(t,o){return a("option",{key:o},[e._v(e._s(t))])}))],2),a("a",{staticClass:"link",on:{click:function(t){e.session="reset",e.onSessionChange()}}},[e._v("x")])]),a("div",{staticClass:"wraper-dropdown-search"},[a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Statut",name:"Statut","data-name":"Statut"},on:{change:function(t){e.status="",e.onStatusChange(t)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.status}},[e._v("Statut")]),e._l(e.distinctStatus,(function(t,o){return a("option",{key:o},[e._v(e._s(t))])}))],2),a("a",{staticClass:"link",on:{click:function(t){e.status="reset",e.onStatusChange()}}},[e._v("x")])])])])])])])]),a("table",{directives:[{name:"show",rawName:"v-show",value:0!=e.total,expression:"total != 0"}],staticClass:"table"},[a("thead",{staticClass:"content-results"},[a("tr",[a("th",{staticClass:"row-check",attrs:{scope:"col"}}),e._l(e.categoriesName,(function(t,o){return a("th",{directives:[{name:"show",rawName:"v-show",value:e.newCategories.includes(o),expression:"newCategories.includes(index)"}],key:o,attrs:{scope:"col"}},[e._v(" "+e._s(t)+" ")])})),a("div",{staticClass:"pin-add-column"},[a("a",{staticClass:"pin-add w-inline-block",on:{click:function(t){return e.show()}}},[a("div",{staticClass:"add-col"},[e._v("+")])])])],2)]),a("tbody",{staticClass:"title-results"},e._l(e.files,(function(t,o){return a("tr",{key:o},[e._m(1,!0),e._l(e.categoriesValue,(function(i,n){return a("th",{directives:[{name:"show",rawName:"v-show",value:e.newCategories.includes(n),expression:"newCategories.includes(valueIndex)"}],key:n,attrs:{scope:"row"}},[e._v(" "+e._s("lastname"==i||"firstname"==i?e.filesUsers[o][i]:t[i])+" ")])}))],2)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.total,expression:"total == 0"}],staticClass:"noneDiscover"},[e._v(" "+e._s(e.noDossiers)+" ")]),a("modal",{attrs:{name:"modalAddCat"}},[a("div",{staticClass:"modalHeader"},[e._v("Select a new category")]),a("div",{staticClass:"hr"}),e._l(e.categoriesName,(function(t,o){return a("div",{key:o,staticClass:"modalContent"},[a("div",{staticClass:"modalNewCategory",class:e.newCategories.includes(o)?"selectedElem":"",attrs:{id:o},on:{click:function(t){return e.toggleActive(o)}}},[e._v(" "+e._s(t)+" ")])])})),a("div",{staticClass:"hr"}),a("div",{staticClass:"modalFooter"},[a("button",{staticClass:"modalAdd",attrs:{type:"button"},on:{click:function(t){return e.resetCategories()}}},[e._v(e._s(e.ResetButton))]),a("button",{staticClass:"modalCancel",attrs:{type:"button"},on:{click:function(t){return e.removeCategories()}}},[e._v(" "+e._s(e.RemoveButton)+" ")]),a("button",{staticClass:"modalCancel",attrs:{type:"button"},on:{click:function(t){return e.cancelCategories()}}},[e._v(" "+e._s(e.CloseButton)+" ")])])],2)],1)},F=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper-rechercher w-row"},[a("div",{staticClass:"column-recherche w-col w-col-6"},[a("div",{staticClass:"form-recherche w-form"},[a("form",{staticClass:"form",attrs:{id:"email-form-2",name:"email-form-2","data-name":"Email Form 2"}},[a("div",{staticClass:"w-row"},[a("div",{staticClass:"column-5 w-col w-col-8"},[a("input",{staticClass:"text-recherche-hp w-input",attrs:{type:"text",maxlength:"256",name:"Rechercher","data-name":"Rechercher",placeholder:"Rechercher...",id:"Rechercher",required:""}})]),a("div",{staticClass:"w-clearfix w-col w-col-4"},[a("a",{staticClass:"sauvegarder w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"recherche w-inline-block",attrs:{href:"#","data-ix":"show-result"}})])])])])]),a("div",{staticClass:"column-recherche w-col w-col-6"},[a("div",{staticClass:"form-recherche w-form"},[a("form",{staticClass:"form",attrs:{id:"email-form-2",name:"email-form-2","data-name":"Email Form 2"}},[a("select",{staticClass:"profil-search w-select",attrs:{id:"Profil",name:"Profil","data-name":"Profil"}},[a("option",{attrs:{value:""}},[e._v("Dossier")]),a("option",{attrs:{value:""}},[e._v("Evaluation")]),a("option",{attrs:{value:"Décision"}},[e._v("Décision")])])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("th",{staticClass:"row-check",attrs:{scope:"row"}},[a("input",{staticClass:"w-checkbox-input",attrs:{type:"checkbox",id:"checkbox-77",name:"checkbox","data-name":"Checkbox"}})])}],G=(a("6b54"),a("4328")),$={name:"files",data:function(){return{total:-1,prog:"",camp:"",session:"",status:"",files:[],filesUsers:[],campaignsId:[],distinctProg:[],distinctCamp:[],distinctStatus:[],distinctSession:[],filtersProg:"&prog=",filtersCamp:"&camp=",filtersSession:"&session",filtersStatus:"&status=",newCategories:[0,1,2,3,4],categoriesName:["Nom","Prénom","Campagne","Programme","Statut","Session","Created","Profile Label","Start date","End date"],categoriesValue:["lastname","firstname","label","program_label","status_value","year","create_date_time","profile_label","start_date","end_date"],currentElement:"",publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),Lastname:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_LASTNAME"),Firstname:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_FIRSTNAME"),Campaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_CAMPAIGN"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_PROGRAM"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_STATUS"),Start:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_START"),End:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_END"),Created_at:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_CREATED"),Profile_name:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_PROFILE"),CloseButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_CLOSE"),ResetButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_RESET"),RemoveButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_REMOVE"),noDossiers:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFILES")}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},created:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=files&task=getallfiles").then((function(t){e.total=t.data.data.length;for(var a=0;a<t.data.data.length;a++)e.files.push(t.data.data[a][0]),e.filesUsers.push(t.data.data[a][1]),e.campaignsId.push(t.data.data[a][0].id)})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=files&task=getdistincts",{params:{ids:e.campaignsId},paramsSerializer:function(e){return G.stringify(e)}}).then((function(t){for(var a=0;a<t.data.data.length;a++)e.distinctProg.push(t.data.data[a].distinctProg),e.distinctCamp.push(t.data.data[a].distinctCamp),e.distinctStatus.push(t.data.data[a].distinctStatus),e.distinctSession.push(t.data.data[a].distinctSession);var o=function(e,t,a){return a.indexOf(e)===t};e.distinctProg=e.distinctProg.filter(o),e.distinctCamp=e.distinctCamp.filter(o),e.distinctStatus=e.distinctStatus.filter(o),e.distinctSession=e.distinctSession.filter(o)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},methods:{changeDate:function(e){var t,a=/\d{4}/gm,o=/-\d{2}-/gm,i=/-\d{2} /gm,n=e,s="";while(null!==(t=i.exec(n)))t.index===i.lastIndex&&i.lastIndex++,t.forEach((function(e,t){s=e.substring(1,3)+"/"}));while(null!==(t=o.exec(n)))t.index===o.lastIndex&&o.lastIndex++,t.forEach((function(e,t){s=s+e.substring(1,3)+"/"}));while(null!==(t=a.exec(n)))t.index===a.lastIndex&&a.lastIndex++,t.forEach((function(e,t){s+=e}));return s},changeFullDate:function(e){var t,a=/\d{4}/gm,o=/-\d{2}-/gm,i=/-\d{2} /gm,n=/\d{2}:\d{2}:\d{2}/gm,s=e,r="";while(null!==(t=i.exec(s)))t.index===i.lastIndex&&i.lastIndex++,t.forEach((function(e,t){r=e.substring(1,3)+"/"}));while(null!==(t=o.exec(s)))t.index===o.lastIndex&&o.lastIndex++,t.forEach((function(e,t){r=r+e.substring(1,3)+"/"}));while(null!==(t=a.exec(s)))t.index===a.lastIndex&&a.lastIndex++,t.forEach((function(e,t){r+=e}));while(null!==(t=n.exec(s)))t.index===n.lastIndex&&n.lastIndex++,t.forEach((function(e,t){r=r+" à "+e}));return r},show:function(){this.$modal.show("modalAddCat")},hide:function(){this.$modal.hide("modalAddCat")},toggleActive:function(e){this.currentElement=document.getElementById(e),this.newCategories.includes(e)?this.deselectElement(e):this.selectElement(e)},selectElement:function(e){this.newCategories.push(e)},deselectElement:function(e){var t=this.newCategories.indexOf(e);t>-1&&this.newCategories.splice(t,1)},resetCategories:function(){this.newCategories=[0,1,2,3,4]},removeCategories:function(){this.newCategories=[0,1]},cancelCategories:function(){this.hide()},onProgChange:function(e){this.filtersProg=void 0==e?"&prog=":"&prog="+e.target.value,this.validateFilters()},onCampChange:function(e){this.filtersCamp=void 0==e?"&camp=":"&camp="+e.target.value,this.validateFilters()},onSessionChange:function(e){this.filtersSession=void 0==e?"&session=":"&session="+e.target.value,this.validateFilters()},onStatusChange:function(e){this.filtersStatus=void 0==e?"&status=":"&status="+e.target.value,this.validateFilters()},validateFilters:function(){this.filters=this.filtersProg+this.filtersCamp+this.filtersSession+this.filtersStatus,this.allFilters(this.filters)},allFilters:function(e){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=files&task=getallfiles"+e).then((function(e){t.total=e.data.data.length,t.files=[],t.filesUsers=[];for(var a=0;a<e.data.data.length;a++)t.files.push(e.data.data[a][0]),t.filesUsers.push(e.data.data[a][1])})).catch((function(e){console.log(e)}))}}},H=$,q=(a("5fa4"),Object(g["a"])(H,j,F,!1,null,"1ff3f6dc",null)),V=q.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-sub-menu"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"w-row"},[a("div",{staticClass:"actions-add-block"},[a("div",{staticClass:"dropdown w-dropdown",staticStyle:{"margin-right":"3em"},attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(t){e.actionHover=!0},mouseleave:function(t){e.actionHover=!1}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty,expression:"isEmpty"}],staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[e._v(e._s(e.Action))])]),e.actionHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"action"}},["form"!==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(t){return e.publishSelected(e.checkItem)}}},[e._v(" "+e._s(e.ActionPublish)+" ")]):e._e(),"form"!==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(t){return e.unpublishSelected(e.checkItem)}}},[e._v(" "+e._s(e.ActionUnpublish)+" ")]):e._e(),"form"===e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(t){return e.publishSelected(e.checkItem)}}},[e._v(" "+e._s(e.Restore)+" ")]):e._e(),"campaign"===e.data.type||"form"===e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(t){return e.duplicateSelected(e.checkItem)}}},[e._v(" "+e._s(e.ActionDuplicate)+" ")]):e._e(),"form"!==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(t){return e.deleteSelected(e.checkItem)}}},[e._v(" "+e._s(e.ActionDelete)+" ")]):e._e(),"form"===e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(t){return e.unpublishSelected(e.checkItem)}}},[e._v(" "+e._s(e.Archive)+" ")]):e._e()]):e._e()]),a("div",[a("a",{staticClass:"bouton-ajouter w-inline-block",attrs:{href:e.data.add_url}},["program"===e.data.type?a("div",{staticClass:"add-button-div"},[e._v(" "+e._s(e.AddProgram)+" "),a("div",{staticClass:"addCampProgEmail"})]):e._e(),"campaign"===e.data.type?a("div",{staticClass:"add-button-div"},[e._v(" "+e._s(e.AddCampaign)+" "),a("div",{staticClass:"addCampProgEmail"})]):e._e(),"email"===e.data.type?a("div",{staticClass:"add-button-div"},[e._v(" "+e._s(e.AddEmail)+" "),a("div",{staticClass:"addCampProgEmail"})]):e._e(),"form"===e.data.type?a("div",{staticClass:"add-button-div"},[e._v(" "+e._s(e.AddForm)+" "),a("div",{staticClass:"addCampProgEmail"})]):e._e()])])]),a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.recherche,expression:"recherche"}],staticClass:"searchTerm",attrs:{placeholder:e.Rechercher},domProps:{value:e.recherche},on:{keyup:[function(t){e.cherche(e.recherche),e.debounce},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chercheGo(e.recherche)}],input:function(t){t.target.composing||(e.recherche=t.target.value)}}}),a("a",{staticClass:"searchButton",on:{click:function(t){return e.chercheGo(e.recherche)}}},[a("em",{staticClass:"fa fa-search"})])]),a("div",{staticClass:"filters-action"},[a("div",[a("div",{staticClass:"dropdown w-dropdown",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(t){e.sortHover=!0},mouseleave:function(t){e.sortHover=!1}}},[a("div",{staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[e._v(e._s(e.Sort))])]),e.sortHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"sort"}},[a("a",{staticClass:"action-submenu w-dropdown-link",class:"DESC"==e.tri?"selected":"",on:{click:function(t){e.sort("DESC"),e.updateSort("DESC")}}},[e._v(" "+e._s(e.SortCreasing)+" ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:"ASC"==e.tri?"selected":"",on:{click:function(t){e.sort("ASC"),e.updateSort("ASC")}}},[e._v(" "+e._s(e.SortDecreasing)+" ")])]):e._e()])]),a("div",[a("div",{staticClass:"dropdown w-dropdown",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(t){e.filterHover=!0},mouseleave:function(t){e.filterHover=!1}}},[a("div",{staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[e._v(e._s(e.Filter))])]),e.filterHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"filter"}},[a("a",{staticClass:"action-submenu w-dropdown-link",class:"all"==e.filtre?"selected":"",on:{click:function(t){e.filter("all"),e.updateFilter("all")}}},[e._v(" "+e._s(e.FilterAll)+" ")]),"campaign"==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"notTerminated"==e.filtre?"selected":"",on:{click:function(t){e.filter("notTerminated"),e.updateFilter("notTerminated")}}},[e._v(" "+e._s(e.FilterOpen)+" ")]):e._e(),"campaign"==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Terminated"==e.filtre?"selected":"",on:{click:function(t){e.filter("Terminated"),e.updateFilter("Terminated")}}},[e._v(" "+e._s(e.FilterClose)+" ")]):e._e(),"form"!==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Publish"==e.filtre?"selected":"",on:{click:function(t){e.filter("Publish"),e.updateFilter("Publish")}}},[e._v(" "+e._s(e.FilterPublish)+" ")]):e._e(),"form"!==e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Unpublish"==e.filtre?"selected":"",on:{click:function(t){e.filter("Unpublish"),e.updateFilter("Unpublish")}}},[e._v(" "+e._s(e.FilterUnpublish)+" ")]):e._e(),"form"===e.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Unpublish"==e.filtre?"selected":"",on:{click:function(t){e.filter("Unpublish"),e.updateFilter("Unpublish")}}},[e._v(" "+e._s(e.Archived)+" ")]):e._e()]):e._e()])]),a("div",[a("div",{staticClass:"dropdown w-dropdown",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(t){e.resultsHover=!0},mouseleave:function(t){e.resultsHover=!1}}},[a("div",{staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[e._v(e._s(e.NbResults))])]),e.resultsHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"Nb Results"}},[a("a",{staticClass:"action-submenu w-dropdown-link",class:"max"==e.afficher?"selected":"",on:{click:function(t){e.nbresults(999999),e.updateDisplay("max")}}},[e._v(" "+e._s(e.AllResults)+" ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:10==e.afficher?"selected":"",on:{click:function(t){e.nbresults(10),e.updateDisplay(10)}}},[e._v(" 10 ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:25==e.afficher?"selected":"",on:{click:function(t){e.nbresults(25),e.updateDisplay(25)}}},[e._v(" 25 ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:50==e.afficher?"selected":"",on:{click:function(t){e.nbresults(50),e.updateDisplay(50)}}},[e._v(" 50 ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:100==e.afficher?"selected":"",on:{click:function(t){e.nbresults(100),e.updateDisplay(100)}}},[e._v(" 100 ")])]):e._e()])])])])]),e.loading?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()])},z=[],Q=a("3d20"),X=a.n(Q),K=(a("415b"),a("15f5"),a("7051"),a("4328")),W={name:"action_menu",props:{data:Object,updateTotal:Function,filter:Function,sort:Function,cherche:Function,chercheGo:Function,validateFilters:Function,nbresults:Function,isEmpty:Boolean},computed:{checkItem:function(){return _.getters.selectedItems}},data:function(){return{recherche:"",filterHover:!1,actionHover:!1,sortHover:!1,resultsHover:!1,loading:!1,NbResults:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESULTS"),AllResults:Joomla.JText._("COM_EMUNDUS_ONBOARD_ALL_RESULTS"),Action:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION"),ActionPublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),ActionUnpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),ActionDuplicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DUPLICATE"),ActionDelete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),Sort:Joomla.JText._("COM_EMUNDUS_ONBOARD_SORT"),SortCreasing:Joomla.JText._("COM_EMUNDUS_ONBOARD_SORT_CREASING"),SortDecreasing:Joomla.JText._("COM_EMUNDUS_ONBOARD_SORT_DECREASING"),Filter:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER"),FilterAll:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_ALL"),FilterOpen:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_OPEN"),FilterClose:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),FilterPublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),FilterUnpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),AddCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN"),AddProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_PROGRAM"),AddEmail:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_EMAIL"),AddForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_FORM"),AddFiles:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_FILES"),Rechercher:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH"),Archive:Joomla.JText._("COM_EMUNDUS_ONBOARD_ARCHIVE"),Archived:Joomla.JText._("COM_EMUNDUS_ONBOARD_ARCHIVED"),Restore:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESTORE"),filtre:"all",tri:"DESC",afficher:25}},methods:{updateFilter:function(e){this.filtre=e},updateSort:function(e){this.tri=e},updateDisplay:function(e){this.afficher=e},deleteSelected:function(e){var t=this;switch(this.data.type){case"program":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=deleteprogram",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.commit("deleteSelected",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcount").then((function(e){t.total=e.data.data,t.updateTotal(t.total)}))})).catch((function(e){console.log(e)})))}));break;case"campaign":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=deletecampaign",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.dispatch("deleteSelected",e).then((function(){_.commit("resetSelectedItemsList")})),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaigncount").then((function(e){t.total=e.data.data,t.updateTotal(t.total),t.$parent.validateFilters()}))})).catch((function(e){console.log(e)})))}));break;case"email":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=deleteemail",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.dispatch("deleteSelected",e).then((function(){_.commit("resetSelectedItemsList")})),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailcount").then((function(e){t.total=e.data.data,t.updateTotal(t.total),t.$parent.validateFilters()}))})).catch((function(e){console.log(e)})))}));break;case"form":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=deleteform",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.dispatch("deleteSelected",e).then((function(){_.commit("resetSelectedItemsList")})),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getformcount").then((function(e){t.total=e.data.data,t.updateTotal(t.total),t.$parent.validateFilters()}))})).catch((function(e){console.log(e)})))}));break}},unpublishSelected:function(e){var t=this;switch(this.data.type){case"program":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=unpublishprogram",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.commit("unpublish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)})))}));break;case"campaign":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=unpublishcampaign",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.commit("unpublish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)})))}));break;case"email":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=unpublishemail",data:K.stringify({id:e})}).then((function(a){_.commit("unpublish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)}));break;case"form":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=unpublishform",data:K.stringify({id:e})}).then((function(a){t.loading=!1,_.commit("unpublish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)})))}));break}},publishSelected:function(e){var t=this;switch(this.data.type){case"program":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=publishprogram",data:K.stringify({id:e})}).then((function(a){_.commit("publish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)}));break;case"campaign":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=publishcampaign",data:K.stringify({id:e})}).then((function(a){_.commit("publish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)}));break;case"email":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=publishemail",data:K.stringify({id:e})}).then((function(a){_.commit("publish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)}));break;case"form":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=publishform",data:K.stringify({id:e})}).then((function(a){_.commit("publish",e),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),t.$parent.validateFilters()})).catch((function(e){console.log(e)}));break}},duplicateSelected:function(e){var t=this;switch(this.data.type){case"campaign":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNDUPLICATE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=duplicatecampaign",data:K.stringify({id:e})}).then((function(e){t.loading=!1,_.commit("listUpdate",e.data.data),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNDUPLICATED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaigncount").then((function(e){t.total=e.data.data,t.updateTotal(t.total),t.$parent.validateFilters()}))})).catch((function(e){console.log(e)})))}));break;case"form":X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDUPLICATE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(t.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=duplicateform",data:K.stringify({id:e})}).then((function(e){window.location.reload()})))}));break}}}},Z=W,ee=(a("99f9"),Object(g["a"])(Z,Y,z,!1,null,"12e6b735",null)),te=ee.exports,ae=(a("888a"),a("e382"),a("4ed5"),a("8d2f"),a("0391"),a("0e4e"),a("f717"),a("4328"),{components:{program:b,campaign:y,email:R,formulaire:L,files:V,actions:te},name:"list",props:{type:String,actualLanguage:String},data:function(){return{selecedItems:[],actions:{type:"",add_url:""},Select:Joomla.JText._("COM_EMUNDUS_ONBOARD_SELECT"),Deselect:Joomla.JText._("COM_EMUNDUS_ONBOARD_DESELECT"),Total:Joomla.JText._("COM_EMUNDUS_ONBOARD_TOTAL"),noCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOCAMPAIGN"),noProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOPROGRAM"),noEmail:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOEMAIL"),noForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFORM"),noFiles:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFILES"),isActionsAvailable:!1,total:0,isActiveAll:!1,filtersCount:"",filters:"",filtersCountFilter:"&filterCount=",filtersCountSearch:"&rechercheCount=",filtersFilter:"&filter=",filtersSort:"&sort=",filtersSearch:"&recherche=",filtersLim:"&lim=",filtersPage:"&page=",filtre:"",tri:"",search:"",limit:25,pages:1,countPages:1}},computed:{list:function(){return _.getters.list},isEmpty:function(){return _.getters.isSomething}},created:function(){this.actions.type=this.type,this.typeForAdd=this.type,"form"==this.typeForAdd&&(this.type="formulaire"),"files"!=this.typeForAdd&&(this.actions.add_url=window.location.pathname+"/index.php?option=com_emundus_onboard&view="+this.typeForAdd+"&layout=add"),this.validateFilters()},methods:{validateFilters:function(){this.filtersCount=this.filtersCountFilter+this.filtersCountSearch,this.filters=this.filtersFilter+this.filtersSort+this.filtersSearch+this.filtersLim+this.filtersPage,this.allFilters(this.filtersCount,this.filters)},filter:function(e){this.filtersCountFilter="&filterCount="+e,this.filtersFilter="&filter="+e,this.filtre=e,this.validateFilters()},sort:function(e){this.filtersSort="&sort="+e,this.tri=e,this.validateFilters()},cherche:function(e){this.filtersCountSearch="&rechercheCount="+e,this.filtersSearch="&recherche="+e,this.search=e,this.validateFilters()},chercheGo:function(e){this.cherche(e),this.validateFilters()},nbresults:function(e){this.filtersLim="&lim="+e,this.limit=e,this.validateFilters()},nbpages:function(e){e>=1&&e<=this.countPages&&(this.filtersPage="&page="+e,this.pages=e,this.validateFilters())},allFilters:function(e,t){var a=this;"files"!=this.type&&c.a.get("index.php?option=com_emundus_onboard&controller="+this.typeForAdd+"&task=get"+this.typeForAdd+"count"+e).then((function(e){a.total=e.data.data})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller="+a.typeForAdd+"&task=getall"+a.typeForAdd+t).then((function(e){_.commit("listUpdate",e.data.data),a.countPages=Math.ceil(a.total/a.limit)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},updateTotal:function(e){this.total=e},selectAllItem:function(){return this.list.filter((function(e){_.commit("selectItem",e.id)}))},deselectItem:function(){_.commit("resetSelectedItemsList")},selectItem:function(e){_.commit("selectItem",e)}}}),oe=ae,ie=(a("c3de"),Object(g["a"])(oe,s,r,!1,null,"7fb3243f",null)),ne=ie.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-principale"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required"},[e._v(e._s(e.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title programme"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.Program))])]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.AddProgramDesc)+" ")]),a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"program-form"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"form-group prog-label"},[a("label",{attrs:{for:"prog_label"}},[e._v(e._s(e.ProgName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.label,expression:"form.label"},{name:"focus",rawName:"v-focus"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.label},attrs:{id:"prog_label",type:"text",placeholder:" "},domProps:{value:e.form.label},on:{keyup:e.updateCode,input:function(t){t.target.composing||e.$set(e.form,"label",t.target.value)}}})]),e.errors.label?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group prog-code"},[a("label",{staticStyle:{top:"12.8em"},attrs:{for:"prog_code"}},[e._v(e._s(e.ProgCode)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.code,expression:"form.code"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.code},attrs:{id:"prog_code",type:"text",placeholder:" "},domProps:{value:e.form.code},on:{keyup:e.checkCode,input:function(t){t.target.composing||e.$set(e.form,"code",t.target.value)}}})]),e.errors.code?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.CodeRequired))])]):e._e(),a("div",{staticClass:"form-group prog-label"},[a("label",{staticStyle:{top:"10.7em"},attrs:{for:"prog_code"}},[e._v(e._s(e.ChooseCategory)+" *")]),a("autocomplete",{attrs:{id:"prog_category",items:this.categories,year:e.form.programmes},on:{searched:e.onSearchCategory}})],1),a("div",{staticClass:"form-group controls"},[e.dynamicComponent?a("editor",{attrs:{text:e.form.notes,lang:e.actualLanguage,id:"program",placeholder:e.ProgramResume},model:{value:e.form.notes,callback:function(t){e.$set(e.form,"notes",t)},expression:"form.notes"}}):e._e()],1),a("div",{staticClass:"form-group d-flex"},[a("label",{attrs:{for:"published"}},[e._v(e._s(e.Publish))]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.published,expression:"form.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(e.form.published)?e._i(e.form.published,null)>-1:e._q(e.form.published,"1")},on:{change:function(t){var a=e.form.published,o=t.target,i=o.checked?"1":"0";if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&e.$set(e.form,"published",a.concat([n])):s>-1&&e.$set(e.form,"published",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"published",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})])]),a("div",{staticClass:"form-group d-flex last-container"},[a("label",{attrs:{for:"apply"}},[e._v(e._s(e.DepotDeDossier))]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.apply_online,expression:"form.apply_online"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"apply",name:"apply"},domProps:{checked:Array.isArray(e.form.apply_online)?e._i(e.form.apply_online,null)>-1:e._q(e.form.apply_online,"1")},on:{change:function(t){var a=e.form.apply_online,o=t.target,i=o.checked?"1":"0";if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&e.$set(e.form,"apply_online",a.concat([n])):s>-1&&e.$set(e.form,"apply_online",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"apply_online",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})])]),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-button",attrs:{type:"button"},on:{click:function(t){e.quit=1,e.submit()}}},[e._v(" "+e._s(e.Continuer)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-quitter w-button",attrs:{type:"button"},on:{click:function(t){e.quit=0,e.submit()}}},[e._v(" "+e._s(e.Quitter)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour w-button",attrs:{type:"button",onclick:"history.go(-1)"}},[e._v(" "+e._s(e.Retour)+" ")])])])])])])])]),e.submitted?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#de6339"}})],1):e._e()])},re=[],le=(a("55dd"),a("28a5"),a("a481"),a("c5f6"),a("b5ae")),ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editor"},[a("div",{attrs:{id:"tiny_"+e.selector_id}})])},de=[],ue=a("e562"),me=a.n(ue),pe=a("2ef0"),_e=a.n(pe),fe=(a("bc54"),a("4237"),a("3aea"),a("0a9d"),a("4ea8"),a("64d8"),a("d2dc"),a("0902"),a("2b07"),a("69e4"),a("62e5"),a("c3d7"),{components:{editor:me.a},props:{text:String,lang:String,placeholder:String,id:String},data:function(){return{selector_id:this.id+_e.a.random(1e4,99999)}},methods:{saveText:function(){this.$emit("input",me.a.activeEditor.getContent())}},watch:{text:function(){this.$forceUpdate()}},mounted:function(){var e=this,t=window.location,a=t.protocol+"//"+t.host+"/"+t.pathname.split("/")[1],o={selector:"#tiny_"+this.selector_id,plugins:"paste link media preview image code anchor advlist hr emoticons lists searchreplace charmap quickbars imagetools pagebreak autolink print",toolbar:"undo redo | forecolor bold italic underline strikethrough | fontselect fontsizeselect formatselect | preview | alignleft aligncenter alignright alignjustify hr pagebreak | bullist numlist | outdent indent | link image insertfile media anchor| charmap emoticons backcolor | searchreplace print",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",content_css:a+"/media/com_emundus_onboard/skins/ui/oxide/content.min.css",height:"30em",branding:!1,elementpath:!1,statusbar:!1,menubar:!1,a11y_advanced_options:!0,toolbar_sticky:!0,quickbars_selection_toolbar:"bold italic underline | quicklink h2 h3 blockquote",toolbar_mode:"sliding",placeholder:this.placeholder,setup:function(t){t.on("keyup",(function(){e.$emit("input",me.a.activeEditor.getContent())})),t.on("init",(function(){me.a.activeEditor.setContent(e.text)}))}};"fr"==this.lang?(o.language="fr_FR",o.language_url=a+"/media/com_emundus_onboard/languages/fr_FR.js",me.a.init(o)):me.a.init(o),this.$forceUpdate()}}),he=fe,ge=(a("255b"),Object(g["a"])(he,ce,de,!1,null,"3ebdcdb4",null)),ve=ge.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"autocomplete"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],class:""!==e.year?"":"placeholder",attrs:{type:"text",id:e.id,placeholder:""!==e.year?e.year:e.name},domProps:{value:e.search},on:{input:[function(t){t.target.composing||(e.search=t.target.value)},e.onChange],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrowDown(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrowUp(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter(t)}]}}),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},e._l(e.results,(function(t,o){return a("li",{key:o,staticClass:"autocomplete-result",class:{"is-active":o===e.arrowCounter},on:{click:function(a){return e.setResult(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])},Ce=[],Oe=(a("386d"),{name:"autocomplete",props:{items:{type:Array,required:!1,default:function(){return[]}},name:String,year:String,id:String},data:function(){return{search:"",results:[],isOpen:!1,sLoading:!1,arrowCounter:-1}},created:function(){var e=this,t=function(e){return new Promise((function(t){return setTimeout(t,e)}))};t(500).then((function(){e.search=e.year}))},methods:{onSearching:function(e){this.$emit("searched",this.search)},onChange:function(){this.isOpen=!0,this.filterResults(),this.onSearching()},filterResults:function(){var e=this;this.results=this.items.filter((function(t){return t.toLowerCase().indexOf(e.search.toLowerCase())>-1}))},setResult:function(e){this.search=e,this.isOpen=!1,this.onSearching()},onArrowDown:function(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){this.search=this.results[this.arrowCounter],this.isOpen=!1,this.arrowCounter=-1,this.onSearching()},handleClickOutside:function(e){this.$el.contains(e.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}}),Ee=Oe,De=(a("f4e7"),Object(g["a"])(Ee,be,Ce,!1,null,"64ce080d",null)),xe=De.exports,Ne=a("4328"),Ue={name:"addProgram",components:{Editor:ve,Autocomplete:xe},directives:{focus:{inserted:function(e){e.focus()}}},props:{prog:Number,actualLanguage:String},data:function(){return{dynamicComponent:!1,isHidden:!1,new_category:"",categories:[],cats:[],programs:[],quit:1,Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),AddProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDPROGRAM"),ChooseProg:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CHOOSEPROG"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),DepotDeDossier:Joomla.JText._("COM_EMUNDUS_ONBOARD_DEPOTDEDOSSIER"),ProgName:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGNAME"),ProgCode:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGCODE"),ChooseCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),NameCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_NAMECATEGORY"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),CodeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_CODE"),CategoryRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_CATEGORY"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),ProgramResume:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_RESUME"),AdvancedSettings:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADVANCED_SETTINGS"),form:{label:"",code:"",programmes:"",notes:"",synthesis:'<ul><li><strong>[APPLICANT_NAME]</strong></li><li><a href="mailto:[EMAIL]">[EMAIL]</a></li></ul>',tmpl_trombinoscope:'<table cellpadding="2" style="width: 100%;"><tbody><tr style="border-collapse: collapse;"><td align="center" valign="top" style="text-align: center;"><p style="text-align: center;"><img src="[PHOTO]" alt="Photo" height="100" /> </p><p style="text-align: center;"><b>[NAME]</b><br /></p></td></tr></tbody></table>',tmpl_badge:'<table width="100%"><tbody><tr><td style="vertical-align: top; width: 100px;" align="left" valign="middle" width="30%"><img src="[LOGO]" alt="Logo" height="50" /></td><td style="vertical-align: top;" align="left" valign="top" width="70%"><b>[NAME]</b></td></tr></tbody></table>\n',published:1,apply_online:1},submitted:!1,errors:{label:!1,code:!1,category:!1}}},validations:{form:{label:{required:le["required"]},code:{required:le["required"]}}},methods:{submit:function(){var e=this;return this.errors.label=!1,this.errors.code=!1,this.errors.category=!1,""==this.form.label?(this.errors.label=!0,0):""==this.form.code?(this.errors.code=!0,0):(""!==this.new_category&&(this.form.programmes=this.new_category),this.$v.$touch(),void(this.$v.$invalid||(this.submitted=!0,""!==this.prog?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=updateprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ne.stringify({body:this.form,code:this.prog})}).then((function(t){e.quitFunnelOrContinue(e.quit)})).catch((function(e){console.log(e)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=createprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ne.stringify({body:this.form})}).then((function(t){e.prog=t.data.data,e.quitFunnelOrContinue(e.quit)})).catch((function(e){console.log(e)})))))},onSearchCategory:function(e){this.form.programmes=e},updateCode:function(){var e=this;""!==this.form.label?(this.form.code=this.form.label.toUpperCase().replace(/[^a-zA-Z0-9]/g,"_").substring(0,10)+"_00",this.programs.forEach((function(t,a){if(e.form.code==t.code){var o=parseInt(t.code.split("_")[1])+1;e.form.code=o>10?e.form.label.toUpperCase()+"_"+o:e.form.label.toUpperCase()+"_0"+o}}))):this.form.code=""},checkCode:function(){var e=this;this.programs.forEach((function(t,a){if(e.form.code.toUpperCase()==t.code){var o=parseInt(t.code.split("_")[1])+1;e.form.code=o>10?e.form.label.toUpperCase()+"_"+o:e.form.label.toUpperCase()+"_0"+o}}))},quitFunnelOrContinue:function(e){0==e?history.go(-1):1==e&&window.location.replace("index.php?option=com_emundus_onboard&view=program&layout=advancedsettings&pid="+this.prog)}},created:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcategories").then((function(t){e.categories=t.data.data;for(var a=0;a<e.categories.length;a++)e.cats.push(e.categories[a]);""!==e.prog?c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogrambyid&id=".concat(e.prog)).then((function(t){e.form.code=t.data.data.code,e.form.label=t.data.data.label,e.form.notes=t.data.data.notes,e.form.programmes=t.data.data.programmes,e.form.tmpl_badge=t.data.data.tmpl_badge,e.form.published=t.data.data.published,e.form.apply_online=t.data.data.apply_online,null!=t.data.data.synthesis&&(e.form.synthesis=t.data.data.synthesis.replace(/>\s+</g,"><")),null!=t.data.data.tmpl_trombinoscope&&(e.form.tmpl_trombinoscope=t.data.data.tmpl_trombinoscope.replace(/>\s+</g,"><")),e.dynamicComponent=!0})).catch((function(e){console.log(e)})):e.dynamicComponent=!0})).catch((function(e){console.log(e)})),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getallprogram").then((function(t){e.programs=t.data.data,e.programs.sort((function(e,t){return e.id-t.id}))})).catch((function(e){console.log(e)}))}},ye=Ue,we=(a("a5cb"),Object(g["a"])(ye,se,re,!1,null,"46008e44",null)),Me=we.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column-menu-main w-row",staticStyle:{"margin-top":"120px"}},[a("div",{staticClass:"w-row"},[a("div",{staticClass:"col-md-4 p-1"},[a("div",{staticClass:"mb-1"},[a("h1",{staticClass:"nom-campagne"},[e._v(e._s(e.Program)+" : "+e._s(e.program.label))]),a("div",{staticClass:"prog-info"},[a("div",[a("p",[e._v(" "+e._s(e.Code)+" : "+e._s(e.program.code)+" ")]),a("p",[e._v(" "+e._s(e.Category)+" : "+e._s(e.program.programmes)+" ")])]),a("a",{staticClass:"modifier-la-campagne",attrs:{href:"index.php?option=com_emundus_onboard&view=program&layout=add&pid="+e.prog}},[e._m(0)])])]),a("div",{staticClass:"divider-menu"}),a("transition",{attrs:{name:"slide-right"}},[a("div",{staticClass:"col-md-12 mt-2"},[a("div",{staticClass:"container-menu-funnel"},e._l(e.progCategories[e.langue],(function(t,o){return a("div",{key:o},[a("a",{staticClass:"menu-item",class:e.menuHighlight==o?"w--current":"",on:{click:function(t){e.menuHighlight=o}}},[e._v(e._s(t))])])})),0)])])],1),a("div",{staticClass:"col-md-8 p-1",staticStyle:{"padding-left":"2em !important"}},[a("h2",[e._v(e._s(e.progCategories[e.langue][e.menuHighlight]))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(e._s(e.funnelDescription[e.langue][e.menuHighlight]))]),a("transition",{attrs:{name:"slide-right"}},[0==e.menuHighlight?a("addGestionnaires",{attrs:{funnelCategorie:e.progCategories[e.langue][e.menuHighlight],group:this.prog_group}}):e._e(),1==e.menuHighlight?a("addEvaluationGrid",{attrs:{funnelCategorie:e.progCategories[e.langue][e.menuHighlight],prog:this.prog}}):e._e(),2==e.menuHighlight?a("addEvalVisi",{attrs:{funnelCategorie:e.progCategories[e.langue][e.menuHighlight],prog:this.prog}}):e._e(),3==e.menuHighlight?a("addEmail",{attrs:{funnelCategorie:e.progCategories[e.langue][e.menuHighlight],prog:this.prog}}):e._e()],1)],1)]),a("div",{staticClass:"section-sauvegarder-et-continuer-funnel"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.next()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return e.previous()}}},[e._v(" "+e._s(e.Retour)+" ")])])])])])},Ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"w-inline-block edit-icon"},[a("em",{staticClass:"fas fa-edit"})])}],Se=a("859b"),Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("ModalAddUser",{attrs:{group:this.group},on:{Updatemanager:function(t){return e.getManagersInGroup()},Updateevaluator:function(t){return e.getEvaluatorsInGroup()}}}),a("ModalAffect",{attrs:{group:this.group,groupProfile:"manager"},on:{Updatemanager:function(t){return e.getManagersInGroup()}}}),a("ModalAffect",{attrs:{group:this.group,groupProfile:"evaluator"},on:{Updateevaluator:function(t){return e.getEvaluatorsInGroup()}}}),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 create-user",on:{click:function(t){return e.$modal.show("modalAddUser")}}},[e._v(e._s(e.addUser))]),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.Administrators))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.$modal.show("modalAffectmanager")}}},[e._v(e._s(e.affectUsers))])]),e._l(e.managers,(function(t,o){return a("div",{key:o,staticClass:"manager-item"},[a("div",[a("p",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.email))])]),a("button",{staticClass:"remove-user",attrs:{type:"button"},on:{click:function(a){return e.removeManager(t,o)}}},[a("em",{staticClass:"fas fa-minus"})])])})),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.Evaluators))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.$modal.show("modalAffectevaluator")}}},[e._v(e._s(e.affectUsers))])]),e._l(e.evaluators,(function(t,o){return a("div",{key:o,staticClass:"manager-item"},[a("div",[a("p",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.email))])]),a("button",{staticClass:"remove-user",attrs:{type:"button"},on:{click:function(a){return e.removeEvaluator(t,o)}}},[a("em",{staticClass:"fas fa-minus"})])])}))],2)},ke=[],Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddUser"}},[a("modal",{attrs:{name:"modalAddUser",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddUser")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addUser)+" ")])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Lastname)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.lastname,expression:"form.lastname"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.lastname},attrs:{type:"text",maxlength:"40"},domProps:{value:e.form.lastname},on:{input:function(t){t.target.composing||e.$set(e.form,"lastname",t.target.value)}}}),e.errors.lastname?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.LastnameRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Firstname)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.firstname,expression:"form.firstname"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.firstname},attrs:{type:"text",maxlength:"40"},domProps:{value:e.form.firstname},on:{input:function(t){t.target.composing||e.$set(e.form,"firstname",t.target.value)}}}),e.errors.firstname?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.FirstnameRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.Email)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.email},attrs:{type:"text",maxlength:"40"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e.errors.email?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.EmailRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Role)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.profile,expression:"form.profile"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.profile},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"profile",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5"}},[e._v(e._s(e.Administrator))]),a("option",{attrs:{value:"6"}},[e._v(e._s(e.Evaluator))])]),e.errors.profile?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.RoleRequired))])]):e._e()])]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.createUser()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddUser")}}},[e._v(e._s(e.Retour))])])])],1)},Ie=[],Be=a("4328"),Pe={name:"modalAddUser",props:{group:Number},data:function(){return{errors:{firstname:!1,lastname:!1,login:!1,email:!1},form:{login:"",firstname:"",lastname:"",campaigns:"",oprofiles:"",groups:"",profile:5,jgr:13,email:"",newsletter:0,university_id:0,ldap:0},changes:!1,addUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADDUSER"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Firstname:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIRSTNAME"),FirstnameRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIRSTNAME_REQUIRED"),Lastname:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME"),LastnameRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME_REQUIRED"),Email:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL"),EmailRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_REQUIRED"),Role:Joomla.JText._("COM_EMUNDUS_ONBOARD_ROLE"),RoleRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_ROLE_REQUIRED"),Administrator:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATOR"),Evaluator:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATOR")}},methods:{beforeClose:function(e){},beforeOpen:function(e){},generatePseudo:function(){this.form.login=(this.form.firstname.charAt(0)+this.form.lastname.substr(0,10)).toLowerCase()},createUser:function(){var e=this;return this.errors={firstname:!1,lastname:!1,identifier:!1,email:!1},""==this.form.lastname?(this.errors.lastname=!0,0):""==this.form.firstname?(this.errors.firstname=!0,0):""==this.form.email?(this.errors.email=!0,0):(this.form.login=this.form.email,void c()({method:"post",url:"index.php?option=com_emundus&controller=users&task=adduser",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Be.stringify(this.form)}).then((function(t){1==t.data.status&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=affectusertogroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Be.stringify({profile:e.form.profile,group:e.group,email:e.form.email})}).then((function(t){5==e.form.profile?e.$emit("Updatemanager"):e.$emit("Updateevaluator"),e.$modal.hide("modalAddUser")}))})).catch((function(e){console.log(e)})))}}},Le=Pe,je=(a("0f86"),Object(g["a"])(Le,Je,Ie,!1,null,"1f046e6c",null)),Fe=je.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAffect"+e.groupProfile}},[a("modal",{attrs:{name:"modalAffect"+e.groupProfile,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAffect"+e.groupProfile)}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.affectUsers)+" ")])]),0===e.users.length?a("p",{staticClass:"mt-1 mb-1"},[e._v(e._s(e.usersEmpty))]):e._e(),0!==e.users.length?a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:e.Search},domProps:{value:e.searchTerm},on:{keyup:e.searchUserByTerm,input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:e.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]):e._e(),e._l(e.users,(function(t,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.affectedUsers[t.id],expression:"affectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.affectedUsers[t.id])?e._i(e.affectedUsers[t.id],null)>-1:e.affectedUsers[t.id]},on:{change:function(a){var o=e.affectedUsers[t.id],i=a.target,n=!!i.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&e.$set(e.affectedUsers,t.id,o.concat([s])):r>-1&&e.$set(e.affectedUsers,t.id,o.slice(0,r).concat(o.slice(r+1)))}else e.$set(e.affectedUsers,t.id,n)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.email))])])])}))],2),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.affectToGroup(t)}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAffect"+e.groupProfile)}}},[e._v(e._s(e.Retour))])])])],1)},$e=[],He=a("4328"),qe={name:"modalAffect",props:{group:Number,groupProfile:String},data:function(){return{users:[],affectedUsers:[],searchTerm:"",Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),affectUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_AFFECTUSERS"),usersEmpty:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_USERSEMPTY")}},methods:{beforeClose:function(e){},beforeOpen:function(e){this.getUsers()},affectToGroup:function(){var e=this,t=[];this.users.forEach((function(a){e.affectedUsers[a.id]&&t.push(a.id)})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=affectusersto"+this.groupProfile+"group",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:He.stringify({group:this.group,users:t})}).then((function(){e.affectedUsers=[],e.$emit("Update"+e.groupProfile),e.$modal.hide("modalAffect"+e.groupProfile)}))},getUsers:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserstoaffect&group="+this.group).then((function(t){e.users=t.data.data}))},searchUserByTerm:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserstoaffectbyterm&group="+this.group+"&term="+this.searchTerm).then((function(t){e.users=t.data.data}))}}},Ve=qe,Ye=(a("b2a6"),Object(g["a"])(Ve,Ge,$e,!1,null,"5ccadf80",null)),ze=Ye.exports,Qe=a("4328"),Xe={name:"addGestionnaires",components:{ModalAffect:ze,ModalAddUser:Fe},props:{funnelCategorie:String,group:Number},data:function(){return{managers:[],evaluators:[],addUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADDUSER"),affectUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_AFFECTUSERS"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS")}},methods:{getManagersInGroup:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getmanagers&group="+this.group).then((function(t){e.managers=t.data.data}))},getEvaluatorsInGroup:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getevaluators&group="+this.group).then((function(t){e.evaluators=t.data.data}))},removeManager:function(e,t){var a=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=removefrommanagergroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Qe.stringify({id:e.id,group:this.group})}).then((function(){a.managers.splice(t,1)}))},removeEvaluator:function(e,t){var a=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=removefromevaluatorgroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Qe.stringify({id:e.id,group:this.group})}).then((function(){a.evaluators.splice(t,1)}))}},created:function(){this.getManagersInGroup(),this.getEvaluatorsInGroup()}},Ke=Xe,We=(a("973c"),Object(g["a"])(Ke,Re,ke,!1,null,null,null)),Ze=We.exports,et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("ModalAddTrigger",{attrs:{prog:this.prog,trigger:this.triggerSelected,triggerAction:"candidate"},on:{UpdateTriggers:e.getTriggers}}),a("ModalAddTrigger",{attrs:{prog:this.prog,trigger:this.triggerSelected,triggerAction:"manual"},on:{UpdateTriggers:e.getTriggers}}),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.TheCandidate))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.$modal.show("modalAddTriggercandidate")}}},[e._v(e._s(e.addTrigger))])]),a("p",[e._v(e._s(e.TheCandidateDescription))]),e._l(e.triggers,(function(t,o){return 1==t.candidate?a("div",{key:o,staticClass:"trigger-item"},[a("div",{staticStyle:{"max-width":"80%"}},[a("p",[e._v(e._s(t.subject))]),a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.Target)+" : ")]),e._l(t.users,(function(o,i){return null==t.profile?a("span",[e._v(" "+e._s(o.firstname)+" "+e._s(o.lastname)+" "),i!=Object.keys(t.users).length-1?a("span",[e._v(", ")]):e._e()]):e._e()})),5==t.profile?a("span",[e._v(e._s(e.Administrators))]):e._e(),6==t.profile?a("span",[e._v(e._s(e.Evaluators))]):e._e()],2),a("p",[e._v(e._s(e.Status)+" "+e._s(t.status))])]),a("div",[a("button",{staticClass:"remove-user",attrs:{type:"button"},on:{click:function(a){return e.removeTrigger(t.trigger_id)}}},[a("em",{staticClass:"fas fa-times"})]),a("button",{attrs:{type:"button"},on:{click:function(a){return e.editTrigger(t.trigger_id)}}},[a("em",{staticClass:"fas fa-edit"})])])]):e._e()})),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.Manual))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.$modal.show("modalAddTriggermanual")}}},[e._v(e._s(e.addTrigger))])]),a("p",[e._v(e._s(e.ManualDescription))]),e._l(e.triggers,(function(t,o){return 1==t.manual?a("div",{key:o,staticClass:"trigger-item"},[a("div",{staticStyle:{"max-width":"80%"}},[a("p",[e._v(e._s(t.subject))]),a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.Target)+" : ")]),e._l(t.users,(function(o,i){return null==t.profile?a("span",[e._v(" "+e._s(o.firstname)+" "+e._s(o.lastname)+" "),i!=Object.keys(t.users).length-1?a("span",[e._v(", ")]):e._e()]):e._e()})),5==t.profile?a("span",[e._v(e._s(e.Administrators))]):e._e(),6==t.profile?a("span",[e._v(e._s(e.Evaluators))]):e._e()],2),a("p",[e._v(e._s(e.Status)+" "+e._s(t.status))])]),a("div",[a("button",{staticClass:"remove-user",attrs:{type:"button"},on:{click:function(a){return e.removeTrigger(t.trigger_id)}}},[a("em",{staticClass:"fas fa-times"})]),a("button",{attrs:{type:"button"},on:{click:function(a){return e.editTrigger(t.trigger_id)}}},[a("em",{staticClass:"fas fa-edit"})])])]):e._e()}))],2)},tt=[],at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddTrigger"+e.triggerAction}},[a("modal",{attrs:{name:"modalAddTrigger"+e.triggerAction,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("ModalEmailPreview",{attrs:{model:this.form.model,models:this.models}}),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddTrigger"+e.triggerAction)}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addTrigger)+" ")])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Model)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.model,expression:"form.model"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.model},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"model",t.target.multiple?a:a[0])}}},e._l(e.models,(function(t,o){return a("option",{key:o,domProps:{value:t.id}},[e._v(e._s(t.subject))])})),0),-1!=e.form.model?a("button",{staticClass:"btnPreview",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.show("modalEmailPreview")}}},[a("em",{staticClass:"fas fa-eye"})]):e._e()]),e.errors.model?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.ModelRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Status)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status,expression:"form.status"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.status},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"status",t.target.multiple?a:a[0])}}},e._l(e.status,(function(t,o){return a("option",{key:o,domProps:{value:t.step}},[e._v(e._s(t.value))])})),0),e.errors.status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.StatusRequired))])]):e._e()]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Target)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.target,expression:"form.target"}],staticClass:"dropdown-toggle",class:{"is-invalid":e.errors.target},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"target",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5"}},[e._v(e._s(e.Administrators))]),a("option",{attrs:{value:"6"}},[e._v(e._s(e.Evaluators))]),a("option",{attrs:{value:"1000"}},[e._v(e._s(e.Candidates))]),a("option",{attrs:{value:"0"}},[e._v(e._s(e.DefinedUsers))])]),e.errors.target?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.TargetRequired))])]):e._e()]),0==e.form.target?a("div",{staticClass:"form-group",staticStyle:{"align-items":"baseline"}},[a("label",[e._v(e._s(e.ChooseUsers)+"* :")]),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:e.Search},domProps:{value:e.searchTerm},on:{keyup:e.searchUserByTerm,input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:e.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),a("div",{staticClass:"select-all"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectall,expression:"selectall"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectall)?e._i(e.selectall,null)>-1:e.selectall},on:{click:e.selectAllUsers,change:function(t){var a=e.selectall,o=t.target,i=!!o.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&(e.selectall=a.concat([n])):s>-1&&(e.selectall=a.slice(0,s).concat(a.slice(s+1)))}else e.selectall=i}}}),a("label",[e._v(" "+e._s(e.SelectAll)+" ")])]),a("div",{staticClass:"users-block",class:{"is-invalid":e.errors.selectedUsers}},e._l(e.users,(function(t,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers[t.id],expression:"selectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectedUsers[t.id])?e._i(e.selectedUsers[t.id],null)>-1:e.selectedUsers[t.id]},on:{change:function(a){var o=e.selectedUsers[t.id],i=a.target,n=!!i.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&e.$set(e.selectedUsers,t.id,o.concat([s])):r>-1&&e.$set(e.selectedUsers,t.id,o.slice(0,r).concat(o.slice(r+1)))}else e.$set(e.selectedUsers,t.id,n)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.name))]),a("p",[e._v(e._s(t.email))])])])})),0),e.errors.selectedUsers?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[e._v(e._s(e.UsersRequired))])]):e._e()]):e._e()]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.createTrigger()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddTrigger"+e.triggerAction)}}},[e._v(e._s(e.Retour))])])],1)],1)},ot=[],it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalEmailPreview"}},[a("modal",{attrs:{name:"modalEmailPreview",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1,width:"70%"},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalEmailPreview")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.ModelPreview)+" ")]),null!=e.email?a("p",{staticClass:"description-block"},[a("span",{domProps:{innerHTML:e._s(e.email.message)}})]):e._e()])])])],1)},nt=[],st=(a("4328"),{name:"modalEmailPreview",props:{model:Number,models:Array},data:function(){return{email:null,ModelPreview:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_PREVIEWMODEL")}},methods:{beforeClose:function(e){},beforeOpen:function(e){var t=this;this.models.forEach((function(e){e.id==t.model&&(t.email=e)}))}}}),rt=st,lt=(a("6e5d"),Object(g["a"])(rt,it,nt,!1,null,"3b1f2052",null)),ct=lt.exports,dt=a("4328"),ut={name:"modalAddTrigger",components:{ModalEmailPreview:ct},props:{prog:Number,trigger:Number,triggerAction:String},data:function(){return{errors:{model:!1,status:!1,action_status:!1,target:!1,selectedUsers:!1},form:{model:-1,status:null,action_status:null,target:null,program:this.prog},users:[],selectedUsers:[],models:[],status:[],searchTerm:"",changes:!1,selectall:!1,addTrigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_ADDTRIGGER"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Model:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERMODEL"),ModelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERMODEL_REQUIRED"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),StatusRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),Target:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),TargetRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET_REQUIRED"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),Candidates:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CANDIDATES"),DefinedUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_DEFINED_USERS"),ChooseUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_CHOOSE_USERS"),UsersRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_USERS_REQUIRED"),Search:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH_USERS"),ChangedActionStatus:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHANGED_ACTION_STATUS"),TheCandidate:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL"),SelectAll:Joomla.JText._("COM_EMUNDUS_ONBOARD_SELECT_ALL")}},methods:{beforeClose:function(e){},beforeOpen:function(e){var t=this;this.searchTerm="",this.getUsers(),this.getEmailModels(),this.getStatus(),setTimeout((function(){null!=t.trigger&&t.getTrigger()}),200),"candidate"===this.triggerAction?this.form.action_status="to_current_user":this.form.action_status="to_applicant"},createTrigger:function(){var e=this;return this.errors={model:!1,status:!1,action_status:!1,target:!1,selectedUsers:!1},-1===this.form.model?(this.errors.model=!0,0):null==this.form.status?(this.errors.status=!0,0):null==this.form.action_status?(this.errors.action_status=!0,0):null==this.form.target?(this.errors.target=!0,0):(0==this.form.target&&0===this.selectedUsers.length&&(this.errors.selectedUsers=!0),void(null!=this.trigger?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=updatetrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:dt.stringify({tid:this.trigger,trigger:this.form,users:this.selectedUsers})}).then((function(t){e.selectedUsers=[],e.$emit("UpdateTriggers"),e.$modal.hide("modalAddTrigger"+e.triggerAction)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=createtrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:dt.stringify({trigger:this.form,users:this.selectedUsers})}).then((function(t){e.selectedUsers=[],e.$emit("UpdateTriggers"),e.$modal.hide("modalAddTrigger")}))))},getUsers:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserswithoutapplicants").then((function(t){e.users=t.data.data}))},searchUserByTerm:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=searchuserbytermwithoutapplicants&term="+this.searchTerm).then((function(t){e.users=t.data.data}))},getEmailModels:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getallemail").then((function(t){e.models=t.data.data}))},getStatus:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getstatus").then((function(t){e.status=t.data.data}))},getTrigger:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=gettriggerbyid&tid="+this.trigger).then((function(t){e.form.model=t.data.data.model,e.form.status=t.data.data.status,null==t.data.data.target?(e.form.target=0,t.data.data.users.forEach((function(t){e.selectedUsers[t.user_id]=!0}))):e.form.target=t.data.data.target}))},selectAllUsers:function(){var e=this;this.users.forEach((function(t){e.selectall?e.selectedUsers[t.id]=!1:e.selectedUsers[t.id]=!0})),this.$forceUpdate()}}},mt=ut,pt=(a("b016"),Object(g["a"])(mt,at,ot,!1,null,"155025d8",null)),_t=pt.exports,ft=a("4328"),ht={name:"addEmail",components:{ModalAddTrigger:_t},props:{funnelCategorie:String,prog:Number},data:function(){return{triggers:[],triggerSelected:null,addTrigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_ADDTRIGGER"),affectTriggers:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_AFFECTTRIGGERS"),ChooseEmailTrigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EMAIL_TRIGGER"),Target:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),TheCandidate:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL"),TheCandidateDescription:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE_DESCRIPTION"),ManualDescription:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL_DESCRIPTION")}},methods:{editTrigger:function(e){this.triggerSelected=e,this.$modal.show("modalAddTrigger")},removeTrigger:function(e){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=removetrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ft.stringify({tid:e})}).then((function(e){t.getTriggers()}))},getTriggers:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=gettriggersbyprogram&pid="+this.prog).then((function(t){e.triggers=t.data.data}))}},created:function(){this.getTriggers()}},gt=ht,vt=(a("2f4f"),Object(g["a"])(gt,et,tt,!1,null,null,null)),bt=vt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("p",{staticClass:"heading"},[e._v(e._s(e.chooseCampaign)+" :")]),a("div",{staticClass:"heading-block mb-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.cid,expression:"cid"}],staticClass:"dropdown-toggle",staticStyle:{width:"90%"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.cid=t.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}}),e._l(e.campaigns,(function(t,o){return a("option",{key:o,domProps:{value:t.id}},[e._v(" "+e._s(t.label)+" ")])}))],2),null!=e.cid?a("a",{staticClass:"modifier-la-campagne",attrs:{href:"index.php?option=com_emundus_onboard&view=campaign&layout=add&cid="+e.cid}},[e._m(0)]):e._e()]),null==e.cid?a("div",{staticClass:"required mt-1",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[e._v(e._s(e.chooseCampaignWarning))])]):e._e(),null!=e.cid&&null==e.profile?a("div",{staticClass:"required mt-1",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[e._v(e._s(e.NoFormAffectedToThisCampaign))])]):e._e(),null!=e.cid&&null!==e.profile?a("div",[a("div",[a("add-formulaire",{key:e.formReload,attrs:{profileId:e.profile,visibility:e.cid}})],1)]):e._e()])},Ot=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"w-inline-block edit-icon"},[a("em",{staticClass:"fas fa-edit"})])}],Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation formulairedepresentation"},[this.formList?a("FormCarrousel",{attrs:{formList:this.formList,visibility:this.visibility},on:{getEmitIndex:e.getEmitIndex}}):e._e()],1)},Dt=[],xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row card"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"menus-row"},e._l(e.formNameArray,(function(t,o){return a("li",{key:o,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem",class:e.indexHighlight==o?"MenuFormItem_current":"",on:{click:function(t){return e.ChangeIndex(o)}}},[e._v(e._s(t.value))])])})),0)]),a("div",{staticClass:"col-md-12 card-body",staticStyle:{"margin-bottom":"50%"}},[e.formLinkArray[e.indexHighlight]?a("FormViewer",{attrs:{link:e.formLinkArray[e.indexHighlight],visibility:this.visibility}}):e._e()],1)])])},Nt=[],Ut=(a("b54a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FormViewer container-fluid",attrs:{id:"FormViewer"}},[e.object_json.show_page_heading?a("div",{class:e.object_json.show_page_heading.class,domProps:{innerHTML:e._s(e.object_json.show_page_heading.page_heading)}}):e._e(),e.object_json.show_title?a("h2",{staticClass:"page_header",domProps:{innerHTML:e._s(e.object_json.show_title.value)}}):e._e(),e.object_json.intro?a("p",{staticClass:"introP",domProps:{innerHTML:e._s(e.object_json.intro)}}):e._e(),a("form",{staticClass:"form-page",attrs:{method:"post","object_json.attribs":""}},[e.object_json.plugintop?a("div",{domProps:{innerHTML:e._s(e.object_json.plugintop)}}):e._e(),e._l(e.object_json.Groups,(function(t){return a("div",{key:t.index,class:{unpublished:t.visibility&&null!=e.visibility},staticStyle:{padding:"5px"}},[a("fieldset",{class:t.group_class,style:t.group_css,attrs:{id:"group"+t.group_id}},[t.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[e._v(" "+e._s(t.group_showLegend)+" "),null!=e.visibility?a("button",{staticClass:"eye-button",attrs:{type:"button"},on:{click:function(a){return e.updateVisibility(t.group_id)}}},[a("em",{class:t.visibility?"eye-slash-icon":"eye-icon"})]):e._e()]):e._e(),t.group_intro?a("div",{staticClass:"groupintro"},[e._v(e._s(t.group_intro))]):e._e(),a("div",{staticClass:"elements-block"},e._l(t.elements,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.hidden,expression:"element.hidden === false"}],key:t.index,staticClass:"builder-item-element"},[t.label?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=t.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:e._s(t.label)}}):e._e(),t.params.date_table_format?a("div",[a("date-picker",{attrs:{config:e.options},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):0==t.labelsAbove?a("div",{staticClass:"controls"},[t.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]):a("span",[t.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]),t.tipBelow?a("span",{domProps:{innerHTML:e._s(t.tipBelow)}}):e._e()])})),0),t.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:e._s(e.group_outro)}}):e._e()])])})),e.object_json.pluginbottom?a("div",{domProps:{innerHTML:e._s(e.object_json.pluginbottom)}}):e._e()],2),e.submitted?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()])}),yt=[],wt=(a("456d"),a("133f")),Mt=a.n(wt),Tt=a("4328"),At={name:"FormViewer",props:{link:String,visibility:Number},components:{datePicker:Mt.a},data:function(){return{object_json:"",date:new Date,submitted:!1,options:{format:"DD/MM/YYYY",useCurrent:!1}}},methods:{getDataObject:_e.a.debounce((function(){var e=this;this.submitted=!0;var t=this.link.link.replace("fabrik","emundus_onboard");c.a.get(t+"&format=vue_jsonclean").then((function(t){e.object_json=t.data,null!=e.visibility&&c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=checkconstraintgroup",params:{cid:e.visibility},paramsSerializer:function(e){return Tt.stringify(e)}}).then((function(t){Object.keys(e.object_json.Groups).forEach((function(a){null!=t.data.data?c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=checkvisibility",params:{group:e.object_json.Groups[a]["group_id"],cid:e.visibility},paramsSerializer:function(e){return Tt.stringify(e)}}).then((function(t){parseInt(t.data.data)>0?e.object_json.Groups[a].visibility=!0:e.object_json.Groups[a].visibility=!1})):e.object_json.Groups[a].visibility=!0})),e.$forceUpdate()})),e.submitted=!1})).catch((function(e){console.log(e)}))}),150),updateVisibility:function(e){var t=this;this.object_json.Groups["group_"+e]["visibility"]=!this.object_json.Groups["group_"+e]["visibility"],c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=updatevisibility",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Tt.stringify({visibility:this.object_json.Groups["group_"+e]["visibility"],gid:e,cid:this.visibility})}).then((function(e){t.$forceUpdate()}))}},created:function(){this.getDataObject()},watch:{link:function(){this.getDataObject()}}},St=At,Rt=(a("d198"),Object(g["a"])(St,Ut,yt,!1,null,"51e3c2f2",null)),kt=Rt.exports,Jt=(a("b478"),a("4328"),{name:"FormCarrousel",props:{formList:Object,visibility:Number},components:{FormViewer:kt},data:function(){return{indexHighlight:"0",formNameArray:[],formLinkArray:[],formArray:[]}},methods:{ChangeIndex:function(e){this.indexHighlight=e,this.$emit("getEmitIndex",this.indexHighlight)},getDataObject:function(){var e=this;this.formList.forEach((function(t){var a=t.link.replace("fabrik","emundus_onboard");c.a.get(a+"&format=vue_json").then((function(a){e.formNameArray.push({value:a.data.show_title.value,rgt:t.rgt}),e.formLinkArray.push({link:t.link,rgt:t.rgt})})).then((function(t){e.formNameArray.sort((function(e,t){return e.rgt-t.rgt})),e.formLinkArray.sort((function(e,t){return e.rgt-t.rgt}))})).catch((function(e){console.log(e)}))}))}},created:function(){this.getDataObject()}}),It=Jt,Bt=(a("da76"),Object(g["a"])(It,xt,Nt,!1,null,"08eee9d2",null)),Pt=Bt.exports,Lt=a("4328"),jt={name:"addFormulaire",props:{profileId:String,formulaireEmundus:Number,visibility:Number},components:{FormCarrousel:Pt},data:function(){return{ChooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),EmitIndex:"0",formList:"",formdescription:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDESCRIPTION")}},methods:{getEmitIndex:function(e){this.EmitIndex=e},formbuilder:function(){window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.profileId+"&index="+this.EmitIndex+"&fid="+this.formulaireEmundus)},getForms:function(e){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getFormsByProfileId",params:{profile_id:e},paramsSerializer:function(e){return Lt.stringify(e)}}).then((function(e){t.formList=e.data.data})).catch((function(e){console.log(e)}))}},created:function(){this.getForms(this.profileId)},watch:{profileId:function(){this.getForms(this.profileId)}}},Ft=jt,Gt=Object(g["a"])(Ft,Et,Dt,!1,null,null,null),$t=Gt.exports,Ht=(a("4328"),{name:"addEvalVisi",components:{AddFormulaire:$t},props:{funnelCategorie:Object,prog:Number},data:function(){return{formReload:0,cid:null,profile:null,profiles:[],campaigns:[],EnableVisibility:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISIBILITY_ENABLE"),ChooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),chooseCampaignWarning:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_CAMPAIGN_WARNING"),chooseCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_CAMPAIGN"),NoFormAffectedToThisCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_NO_AFFECTED_FORM")}},methods:{getFormByCampaign:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignbyid&id="+this.cid).then((function(t){e.profile=t.data.data.campaign.profile_id,null!=e.profile&&(e.formReload+=1)}))},getCampaignsByProgram:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignsbyprogram&pid="+this.prog).then((function(t){e.campaigns=t.data.data}))}},watch:{cid:function(e){e&&this.getFormByCampaign()}},created:function(){this.getCampaignsByProgram()}}),qt=Ht,Vt=(a("423ed"),Object(g["a"])(qt,Ct,Ot,!1,null,null,null)),Yt=Vt.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.funnelCategorie[0]))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. ")]),e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8),e._m(9),a("div",{staticClass:"icon-title equipe"})])},Qt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ajouter-une-ligne"},[a("a",{staticClass:"waiting-for-everyone w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Groupe d'évaluateur 1")]),a("a",{staticClass:"bin w-inline-block",attrs:{href:"#"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("John Doe")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")]),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Benjamin Rivaland")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Tom Bach")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick-pending w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Claude François")]),a("div",{staticClass:"statut-invitation"},[e._v("en attente de confirmation")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ajouter-une-ligne"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Groupe d'évaluateur 2")]),a("a",{staticClass:"bin w-inline-block",attrs:{href:"#"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Will Smith")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Peter Pan")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[e._v("Vincent Cassel")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[e._v("Dernier envoi : 06/08/2019")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("div",{staticClass:"container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{staticClass:"dropdown-toggle w-select",attrs:{id:"Groupe-d-valuateur",name:"Groupe-d-valuateur","data-name":"Groupe d'évaluateur"}},[a("option",{attrs:{value:""}},[e._v("Choisir un groupe d'évaluateur")]),a("option",{attrs:{value:"Groupe d'évaluateur 1"}},[e._v("Groupe d'évaluateur 1")]),a("option",{attrs:{value:"Groupe d'évaluateur 2"}},[e._v("Groupe d'évaluateur 2")]),a("option",{attrs:{value:"Groupe d'évaluateur 3"}},[e._v("Groupe d'évaluateur 3")])]),a("a",{staticClass:"plus w-inline-block",attrs:{href:"#"}},[a("div",{staticClass:"text-block"},[e._v("+")])])])])])}],Xt={name:"addEvalEval",props:{funnelCategorie:Object},data:function(){return{}},methods:{},created:function(){}},Kt=Xt,Wt=Object(g["a"])(Kt,zt,Qt,!1,null,null,null),Zt=Wt.exports,ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-evaluation"},[a("div",{staticClass:"w-form"},[a("h2",{staticClass:"menuH3"},[e._v("Gestion du menu")]),e._m(0),a("div",{staticClass:"divFlex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.menutitle,expression:"menutitle"}],staticClass:"leftItem",attrs:{placeholder:"Nom du menu"},domProps:{value:e.menutitle},on:{input:function(t){t.target.composing||(e.menutitle=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.menu.menutype,expression:"menu.menutype"}],staticClass:"rightItem",attrs:{placeholder:"Nom du menu",disabled:""},domProps:{value:e.menu.menutype},on:{input:function(t){t.target.composing||e.$set(e.menu,"menutype",t.target.value)}}})]),a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{directives:[{name:"show",rawName:"v-show",value:e.isMenuChange,expression:"isMenuChange"}],staticClass:"buttonMenuItems",attrs:{type:"button"},on:{click:function(t){return e.createMenu()}}},[a("em",{staticClass:"far fa-edit"}),e._v(" Mettre à jour le menu ")])])]),a("div",{staticClass:"icon-title"})]),a("div",{staticClass:"divider"}),a("div",{staticClass:"container-evaluation"},[a("div",{staticClass:"toggleH2"},[a("h2",{staticClass:"menuH3 gestionDesItems"},[e._v("Gestion des items")]),a("h4",{staticClass:"secondtH4",staticStyle:{"margin-top":"0.65%"}},[e._v("Publié")]),a("div",{staticClass:"toggleMenu rightItem"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemPublished,expression:"itemPublished"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.itemPublished)?e._i(e.itemPublished,null)>-1:e.itemPublished},on:{change:function(t){var a=e.itemPublished,o=t.target,i=!!o.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&(e.itemPublished=a.concat([n])):s>-1&&(e.itemPublished=a.slice(0,s).concat(a.slice(s+1)))}else e.itemPublished=i}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})])]),e._m(1),e._m(2),a("div",{staticClass:"divFlex"},[a("select",{staticClass:"dropdown-toggle w-select inputSelect",on:{change:e.menuItemSelected}},e._l(this.menuItems,(function(t,o){return a("option",{key:o},[e._v(" "+e._s(""==t.title?"Nouvel Item":t.title)+" ")])})),0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemTitle,expression:"itemTitle"}],staticClass:"leftItem inputSelect",attrs:{placeholder:"Nom de l'item"},domProps:{value:e.itemTitle},on:{input:function(t){t.target.composing||(e.itemTitle=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemAlias,expression:"itemAlias"}],staticClass:"rightItem",attrs:{placeholder:"Alias de l'item"},domProps:{value:e.itemAlias},on:{input:function(t){t.target.composing||(e.itemAlias=t.target.value)}}})]),e._m(3),a("div",{staticClass:"divFlex10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemType,expression:"itemType"}],staticClass:"leftItem",attrs:{placeholder:"Type de l'item"},domProps:{value:e.itemType},on:{input:function(t){t.target.composing||(e.itemType=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemLink,expression:"itemLink"}],staticClass:"rightItem",attrs:{placeholder:"Lien de l'item"},domProps:{value:e.itemLink},on:{input:function(t){t.target.composing||(e.itemLink=t.target.value)}}})]),e._m(4),a("div",{staticClass:"divFlex10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemParent_id,expression:"itemParent_id"}],staticClass:"leftItem",attrs:{placeholder:"Parent de l'item"},domProps:{value:e.itemParent_id},on:{input:function(t){t.target.composing||(e.itemParent_id=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemComponent_id,expression:"itemComponent_id"}],staticClass:"rightItem",attrs:{placeholder:"Composant de l'item"},domProps:{value:e.itemComponent_id},on:{input:function(t){t.target.composing||(e.itemComponent_id=t.target.value)}}})]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.isNew,expression:"isNew"}],staticClass:"buttonMenuItems addMenuItems",attrs:{type:"button"},on:{click:function(t){return e.createItem()}}},[a("em",{staticClass:"fas fa-plus-circle"}),e._v(" Ajouter un item ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isNew&&e.isItemChange,expression:"!isNew && isItemChange"}],staticClass:"buttonMenuItems updateMenuItems",attrs:{type:"button"},on:{click:function(t){return e.modifyItem()}}},[a("em",{staticClass:"far fa-edit"}),e._v(" Mettre à jour l'item ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isNew,expression:"!isNew"}],staticClass:"buttonMenuItems removeMenuItems",attrs:{type:"button"},on:{click:function(t){return e.removeItem()}}},[a("em",{staticClass:"far fa-trash-alt"}),e._v(" Supprimer l'item ")]),a("div",{staticClass:"icon-title"})])])},ta=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divH4"},[a("h4",{staticClass:"leftItem"},[e._v("Nom du menu")]),a("h4",{staticClass:"secondtH4"},[e._v("Type du menu")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divH4"},[a("h4",{staticClass:"leftItem"},[e._v("Titre de l'item")]),a("h4",{staticClass:"secondtH4"},[e._v("Alias de l'item (automatique par défaut)")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rightItem bubble"},[a("div",{staticClass:"bubble-text",attrs:{id:"bubbleInfo"}},[a("p",[e._v("Cet alias existe déjà")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divH4"},[a("h4",{staticClass:"leftItem"},[e._v("Type de l'item")]),a("h4",{staticClass:"secondtH4"},[e._v("Lien de l'item")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"divH4"},[a("h4",{staticClass:"leftItem"},[e._v("Parent de l'item")]),a("h4",{staticClass:"secondtH4"},[e._v("ID du composant")])])}],aa=a("bd86"),oa={name:"addMenu",props:{profileId:Number},data:function(){return{tokenMenu:0,isNew:!0,isItemChange:!1,isMenuChange:!1,allAliases:[],menutitle:"",itemTitle:"",itemAlias:"",itemType:"",itemLink:"",itemParent_id:"",itemComponent_id:"",itemId:"",itemPublished:1,currentItemId:0,menu:{menuTitle:"",menutype:"menu-profile",title:"",alias:"",type:"component",link:"index.php?option=com_fabrik&view=form&formid=287",parent_id:1,component_id:10041,published:"",id:0},itemToChange:{title:"",alias:"",type:"",link:"",parent_id:"",component_id:"",published:""},menuItems:[],menuItems0:{title:"",alias:"",type:"component",link:"index.php?option=com_fabrik&view=form&formid=287",parent_id:1,component_id:10041,itemid:-1,published:1}}},validations:{menu:{menuTitle:{required:le["required"]},title:{required:le["required"]}}},methods:{createMenu:function(){var e=this,t={title:this.menutitle,menutype:this.menu.menutype,description:"",client_id:"0"};c()({method:"post",url:"/vanilla/funnel_candidate/administrator/index.php?option=com_menus&layout=edit&id=".concat(this.menu.id),data:qs.stringify(Object(aa["a"])({jform:t,task:"menu.apply"},this.tokenMenu,1))}).then((function(){e.getToken()})).catch((function(e){console.log(e)}))},createItem:function(){var e=this,t={client_id:0,menutype:this.menu.menutype,list:{fullordering:"a.lft ASC",limit:20}};c()({method:"post",url:"/vanilla/funnel_candidate/administrator/index.php?option=com_menus&view=items",data:qs.stringify(Object(aa["a"])({jform:t,task:"item.add",boxchecked:0},this.tokenMenu,1))}).then((function(){e.addItem()})).catch((function(e){console.log(e)}))},addItem:function(){var e={title:this.itemTitle,alias:this.itemAlias,type:this.itemType,link:this.itemLink,browserNav:0,template_style_id:0,id:0,menutype:this.menu.menutype,parent_id:this.itemParent_id,published:1,home:0,access:1,language:"*",note:"",component_id:this.itemComponent_id};c()({method:"post",url:"/vanilla/funnel_candidate/administrator/index.php?option=com_menus&view=item&client_id=0&layout=edit&id=0",data:qs.stringify(Object(aa["a"])({jform:e,task:"item.apply",forcedLanguage:""},this.tokenMenu,1))}).then((function(){})).catch((function(e){console.log(e)}))},removeItem:function(){var e=this;c()({method:"post",url:"/vanilla/funnel_candidate/administrator/index.php?option=com_menus&view=items",data:qs.stringify(Object(aa["a"])({menutype:this.menu.menutype,cid:this.itemId,task:"items.trash",boxchecked:1},this.tokenMenu,1))}).then((function(){e.menuItems.splice(e.currentItemId,1),e.menuItemSelected()})).catch((function(e){console.log(e)}))},modifyItem:function(){1==this.itemToChange.published?this.itemToChange.published=1:this.itemToChange.published=0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=modifymenuitem",data:qs.stringify({itemid:this.itemId,itemtochange:this.itemToChange})}).then((function(){})).catch((function(e){console.log(e)}))},getToken:function(){var e=this;c.a.get("/vanilla/funnel_candidate/administrator/index.php?option=com_menus&view=items&layout=give").then((function(t){e.tokenMenu=t.data.data})).catch((function(e){console.log(e)}))},menuItemSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0==e)t=0;else var t=e.target.options.selectedIndex;-1==t||(this.isNew=0==t,this.itemTitle=this.menuItems[t].title,this.itemAlias=this.menuItems[t].alias,this.itemType=this.menuItems[t].type,this.itemLink=this.menuItems[t].link,this.itemParent_id=this.menuItems[t].parent_id,this.itemComponent_id=this.menuItems[t].component_id,0==this.menuItems[t].published?(this.itemPublished=!1,this.menu.published=!1):(this.itemPublished=!0,this.menu.published=!0),this.menu.title=this.menuItems[t].title,this.menu.alias=this.menuItems[t].alias,this.menu.type=this.menuItems[t].type,this.menu.link=this.menuItems[t].link,this.menu.parent_id=this.menuItems[t].parent_id,this.menu.component_id=this.menuItems[t].component_id,this.itemId=this.menuItems[t].itemid,this.currentItemId=t)}},created:function(){var e=this;this.getToken(),this.menu.menutype="menu-profile"+this.profileId,c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getmenu&prid="+this.profileId).then((function(t){e.menu.menuTitle=t.data.data.title,e.menutitle=t.data.data.title,e.menu.id=t.data.data.id})).catch((function(e){console.log(e)})),c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getaliases").then((function(t){e.allAliases=t.data.data})).catch((function(e){console.log(e)})),c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getmenuitems&menutype="+this.menu.menutype).then((function(t){e.menuItems=t.data.data,e.menuItems.unshift(e.menuItems0)})).catch((function(e){console.log(e)}))},watch:{menutitle:function(e){e==this.menu.menuTitle?this.isMenuChange=!1:this.isMenuChange=!0},itemPublished:function(e){e==this.menu.published?this.isItemChange=!1:this.isItemChange=!0,this.itemToChange.published=e},itemTitle:function(e){var t=/[^a-zA-Z0-9]/gm,a=e.replace(t,"-");e==this.menu.title?this.isItemChange=!1:this.isItemChange=!0,this.itemToChange.title=e,this.itemAlias=a},itemAlias:function(e){if(document.getElementById("bubbleInfo").style.display="none",e==this.menu.alias)this.isItemChange=!1;else{this.isItemChange=!0;for(var t=0;t<this.allAliases.length;t++)this.allAliases[t].alias==e&&(document.getElementById("bubbleInfo").style.display="block")}this.itemToChange.alias=e},itemType:function(e){e==this.menu.type?this.isItemChange=!1:this.isItemChange=!0,this.itemToChange.type=e},itemLink:function(e){e==this.menu.link?this.isItemChange=!1:this.isItemChange=!0,this.itemToChange.link=e},itemParent_id:function(e){e==this.menu.parent_id?this.isItemChange=!1:this.isItemChange=!0,this.itemToChange.parent_id=e},itemComponent_id:function(e){e==this.menu.component_id?this.isItemChange=!1:this.isItemChange=!0,this.itemToChange.component_id=e}}},ia=oa,na=Object(g["a"])(ia,ea,ta,!1,null,null,null),sa=na.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ModalAddEvaluation",{attrs:{prog:this.prog,grid:this.grid},on:{updateGrid:e.getEvaluationGridByProgram}}),a("div",{staticClass:"container-evaluation"},[null==e.grid?a("div",{staticClass:"text-center"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer-3",staticStyle:{float:"none"},attrs:{type:"button"},on:{click:function(t){return e.$modal.show("modalAddEvaluation")}}},[e._v(e._s(e.addGrid))])]):e._e(),null!=e.grid?a("FormViewerEvaluation",{key:e.viewer,attrs:{link:e.link,prog:e.prog}}):e._e()],1)],1)},la=[],ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"FormViewer container-fluid",attrs:{id:"FormViewerEvaluation"}},[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"}}),a("notifications",{attrs:{group:"foo-velocity",position:"top right","animation-type":"velocity",speed:500}}),e.object_json.show_page_heading?a("div",{class:e.object_json.show_page_heading.class,domProps:{innerHTML:e._s(e.object_json.show_page_heading.page_heading)}}):e._e(),a("form",{attrs:{method:"post","object_json.attribs":""}},[e.object_json.plugintop?a("div",{domProps:{innerHTML:e._s(e.object_json.plugintop)}}):e._e(),a("draggable",{attrs:{handle:".handle"},on:{start:function(t){e.draggable=!0},end:e.SomethingChangeInGroup},model:{value:e.groups,callback:function(t){e.groups=t},expression:"groups"}},e._l(e.object_json.Groups,(function(t,o){return a("div",{key:t.index,on:{mouseover:function(a){return e.enableGroupHover(t.group_id)},mouseleave:function(t){return e.disableGroupHover()}}},[a("div",{staticClass:"group-action-menu"},[a("div",{staticClass:"second-group-menu"},[a("a",{staticClass:"add-element",attrs:{title:e.addGroup},on:{click:function(t){return e.createGroup()}}},[a("em",{staticClass:"add-group-icon"})]),a("a",{staticClass:"edit-group",class:{"disable-element":e.elementDisabled},attrs:{title:e.addItem},on:{click:function(t){e.addingElement=!e.addingElement}}},[a("em",{staticClass:"add-element-icon",class:[{"disable-element":e.elementDisabled},e.addingElement?"down-arrow-evaluation":""]})]),e.addingElement?a("draggable",e._b({staticStyle:{"padding-bottom":"5px"},attrs:{handle:".handle","drag-class":"plugin-drag","chosen-class":"plugin-chosen","ghost-class":"plugin-ghost"},on:{start:function(t){e.dragging=!0,e.draggingIndex=e.index},end:function(t){return e.addingNewElement(t)}},model:{value:e.plugins,callback:function(t){e.plugins=t},expression:"plugins"}},"draggable",e.dragOptions,!1),e._l(e.plugins,(function(e,t){return a("div",{staticClass:"d-flex plugin-link handle",attrs:{id:"plugin_"+e.value}},[a("em",{class:e.icon})])})),0):e._e()],1)]),a("fieldset",{class:t.group_class,style:t.group_css,attrs:{id:"group_"+t.group_id}},[a("div",{staticClass:"d-flex",class:e.updateGroup&&e.indexGroup==t.group_id?"hidden":""},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverGroup&&e.indexGroup==t.group_id,expression:"hoverGroup && indexGroup == group.group_id"}],staticClass:"icon-handle-group"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),t.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[e._v(e._s(t.group_showLegend))]):e._e(),a("a",{staticStyle:{"margin-left":"1em"},on:{click:function(a){return e.enableUpdatingGroup(t)}}},[a("em",{staticClass:"fas fa-pencil-alt",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.updateGroup&&e.indexGroup==t.group_id,expression:"updateGroup && indexGroup == group.group_id"}],staticStyle:{width:"max-content"}},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label_fr,expression:"group.label_fr"}],staticClass:"form-control mb-1",attrs:{id:"update_input_"+t.group_id},domProps:{value:t.label_fr},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateLabelGroup(t)},input:function(a){a.target.composing||e.$set(t,"label_fr",a.target.value)}}}),a("div",{staticClass:"d-flex actions-update-label",staticStyle:{"margin-bottom":"12px"}},[a("a",{staticStyle:{"margin-left":"1em",color:"black"},on:{click:function(a){return e.deleteAGroup(t,o)}}},[a("em",{staticClass:"fas fa-trash-alt",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})]),a("a",{on:{click:function(t){e.updateGroup=!1}}},[a("em",{staticClass:"fas fa-times ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})]),a("a",{on:{click:function(a){return e.updateLabelGroup(t)}}},[a("em",{staticClass:"fas fa-check ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])])])]),t.group_intro?a("div",{staticClass:"groupintro"},[e._v(e._s(t.group_intro))]):e._e(),a("div",{staticClass:"elements-block"},[a("draggable",{attrs:{handle:".handle",group:"items"},on:{start:function(t){e.draggable=!0},end:e.SomethingChange},model:{value:t.elts,callback:function(a){e.$set(t,"elts",a)},expression:"group.elts"}},[a("transition-group",{attrs:{name:"slide-down",type:"transition"}},e._l(t.elts,(function(t,o){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.hidden,expression:"element.hidden === false"}],key:t.id,staticClass:"builder-item-element",class:{"element-updating":e.hoverUpdating&&e.indexHighlight==t.id,unpublished:!t.publish,"draggable-item":e.draggable&&e.indexHighlight==t.id},on:{mouseover:function(a){return e.enableActionBar(t.id)},mouseleave:function(t){return e.disableActionBar()}}},[a("modalEditElement",{attrs:{ID:t.id,element:t,id:t.id},on:{reloadElement:e.reloadElement}}),a("div",{staticClass:"d-flex builder-item-element__properties"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverUpdating&&e.indexHighlight==t.id,expression:"hoverUpdating && indexHighlight == element.id"}],class:t.publish?"icon-handle":"icon-handle-unpublished"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex",staticStyle:{"align-items":"baseline"}},[t.label?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=t.labelsAbove,expression:"element.labelsAbove != 2"}],class:e.clickUpdatingLabel&&e.indexHighlight==t.id?"hidden":"",domProps:{innerHTML:e._s(t.label)}}):e._e(),a("a",{style:e.hoverUpdating&&e.indexHighlight==t.id&&!e.clickUpdatingLabel?"opacity: 1":"opacity: 0",on:{click:e.enableLabelInput}},[a("em",{staticClass:"fas fa-pencil-alt ml-10px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.clickUpdatingLabel&&e.indexHighlight==t.id,expression:"clickUpdatingLabel && indexHighlight == element.id"}],staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label_fr,expression:"element.label_fr"}],staticClass:"form-control mb-1",domProps:{value:t.label_fr},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateLabelElement(t)},input:function(a){a.target.composing||e.$set(t,"label_fr",a.target.value)}}}),a("div",{staticClass:"d-flex actions-update-label",staticStyle:{"margin-bottom":"12px"}},[a("a",{on:{click:function(t){e.clickUpdatingLabel=!1}}},[a("em",{staticClass:"fas fa-times ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})]),a("a",{on:{click:function(a){return e.updateLabelElement(t)}}},[a("em",{staticClass:"fas fa-check ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])])]),t.params.date_table_format?a("div",[a("date-picker",{attrs:{config:e.options},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):0==t.labelsAbove?a("div",{staticClass:"controls"},[t.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]):a("span",{staticClass:"d-flex w-100"},[t.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{staticClass:"w-100",class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]),t.tipBelow?a("span",{domProps:{innerHTML:e._s(t.tipBelow)}}):e._e()])]),a("div",{staticClass:"actions-item-bar d-flex",style:e.hoverUpdating&&e.indexHighlight==t.id?"opacity: 1":"opacity: 0"},[a("a",{staticClass:"d-flex mr-2 text-orange",on:{click:function(a){return e.publishUnpublishElement(t)}}},[a("em",{class:[t.publish?"fa-eye-slash":"fa-eye","far"],attrs:{id:"publish_icon_"+t.id}}),t.publish?a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Unpublish))]):e._e(),t.publish?e._e():a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Publish))])]),a("a",{staticClass:"d-flex mr-2 text-orange"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.FRequire,expression:"element.FRequire"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.FRequire)?e._i(t.FRequire,null)>-1:t.FRequire},on:{click:function(a){return e.updateRequireElement(t)},change:function(a){var o=t.FRequire,i=a.target,n=!!i.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&e.$set(t,"FRequire",o.concat([s])):r>-1&&e.$set(t,"FRequire",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(t,"FRequire",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Required))])]),a("a",{staticClass:"d-flex mr-2 text-orange",on:{click:function(a){return e.$modal.show("modalEditElement"+t.id)}}},[a("em",{staticClass:"fas fa-cog"}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Settings))])]),a("a",{staticClass:"d-flex mr-2",staticStyle:{color:"black"},on:{click:function(a){return e.deleteCriteria(t,o)}}},[a("em",{staticClass:"fas fa-trash-alt"}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Delete))])])])],1)})),0)],1)],1),t.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:e._s(e.group_outro)}}):e._e()])])})),0),e.object_json.pluginbottom?a("div",{domProps:{innerHTML:e._s(e.object_json.pluginbottom)}}):e._e()],1),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()],1)},da=[],ua=(a("96cf"),a("3b8d")),ma=a("310e"),pa=a.n(ma),_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalEditElement"}},[a("modal",{attrs:{name:"modalEditElement"+e.ID,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalEditElement"+e.ID)}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.label.fr)+" ")])]),a("div",{staticClass:"form-group mb-2"},[a("label",[e._v(e._s(e.fieldType)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.element.plugin,expression:"element.plugin"}],staticClass:"dropdown-toggle",attrs:{id:"select_type"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.element,"plugin",t.target.multiple?a:a[0])},e.checkPlugin]}},e._l(e.plugins,(function(t,o){return a("option",{key:o,domProps:{value:t.value}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("div",{staticClass:"col-md-12 separator-top top-responsive"},["field"==e.plugin?a("fieldF",{attrs:{element:e.element}}):e._e(),"birthday"==e.plugin?a("birthdayF",{attrs:{element:e.element}}):e._e(),"checkbox"==e.plugin?a("checkboxF",{attrs:{element:e.element},on:{subOptions:e.subOptions}}):e._e(),"dropdown"==e.plugin?a("dropdownF",{attrs:{element:e.element},on:{subOptions:e.subOptions}}):e._e(),"radiobutton"==e.plugin?a("radiobtnF",{attrs:{element:e.element},on:{subOptions:e.subOptions}}):e._e(),"textarea"==e.plugin?a("textareaF",{attrs:{element:e.element}}):e._e()],1)]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.UpdateParams(t)}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalEditElement"+e.ID)}}},[e._v(e._s(e.Retour))])])])],1)},fa=[],ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"fieldF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.fieldtype)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.element.params.password,expression:"element.params.password"}],staticClass:"dropdown-toggle",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.element.params,"password",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[e._v(e._s(e.textfield))]),a("option",{attrs:{value:"2"}},[e._v(e._s(e.phonefield))]),a("option",{attrs:{value:"3"}},[e._v(e._s(e.emailfield))]),a("option",{attrs:{value:"6"}},[e._v(e._s(e.numberfield))])])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.placeholdertext)+" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.msg,trigger:"hover",placement:"top-center",offset:5,popperOptions:{preventOverflow:!1},delay:{show:500,hide:300}},expression:"{\n        content: msg,\n        trigger: 'hover',\n        placement: 'top-center',\n        offset: 5,\n        popperOptions: {\n          preventOverflow: false\n        },\n        delay: {\n          show: 500,\n          hide: 300,\n          },\n        }"}]},[a("em",{staticClass:"fas fa-question-circle"})]),e._v(" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.placeholder,expression:"element.params.placeholder"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.placeholder},on:{input:function(t){t.target.composing||e.$set(e.element.params,"placeholder",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.maxlength)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.maxlength,expression:"element.params.maxlength"}],staticClass:"form__input field-general w-input",attrs:{type:"number",max:"255",min:"1"},domProps:{value:e.element.params.maxlength},on:{input:function(t){t.target.composing||e.$set(e.element.params,"maxlength",t.target.value)}}})])])])},ga=[],va={name:"fieldF",props:{element:Object},data:function(){return{msg:"",path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),placeholdertext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER"),sizetext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_SIZE"),maxlength:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH"),fieldtype:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FIELDTYPE"),textfield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FIELDTEXT"),phonefield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FIELDPHONE"),emailfield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EMAIL"),numberfield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_NUMBER"),placeholderHelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP")}},methods:{},created:function(){"localhost:8888"==window.location.host&&(this.path=window.location.protocol+"//"+window.location.host+"/v6/media/com_emundus_onboard/"),this.msg='<p style="color: white">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',this.element.params.maxlength=255,this.element.params.password=0}},ba=va,Ca=(a("4036"),Object(g["a"])(ba,ha,ga,!1,null,"4d15abf0",null)),Oa=Ca.exports,Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"birthdayF"}},[a("div",{staticClass:"rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})])])])},Da=[],xa={name:"birthdayF",props:{element:Object},data:function(){return{helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT")}}},Na=xa,Ua=(a("4956"),Object(g["a"])(Na,Ea,Da,!1,null,"3496b6c8",null)),ya=Ua.exports,wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"checkboxF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.suboptions)+" :")]),a("button",{staticClass:"add-option",on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("+")])]),a("div",{staticClass:"col-md-10"},e._l(e.arraySubValues,(function(t,o){return a("div",{key:o,staticClass:"dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.arraySubValues[o],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"suboption_"+o},domProps:{value:e.arraySubValues[o]},on:{change:function(t){return e.needtoemit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},input:function(t){t.target.composing||e.$set(e.arraySubValues,o,t.target.value)}}}),a("button",{staticClass:"remove-option",on:{click:function(t){return t.preventDefault(),e.leave(o)}}},[e._v("-")])])})),0)])])},Ma=[],Ta=a("4328"),Aa={name:"checkboxF",props:{element:Object},data:function(){return{arraySubValues:[],helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS")}},methods:{add:_e.a.debounce((function(){var e=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,e,""),this.needtoemit();var t="suboption_"+e.toString();setTimeout((function(){document.getElementById(t).focus()}),100)}),150),leave:function(e){this.$delete(this.arraySubValues,e),this.needtoemit()},initialised:function(){var e=this;"undefined"!==typeof this.element.params.sub_options?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ta.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then((function(t){e.arraySubValues=t.data})).catch((function(e){console.log(e)})):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},needtoemit:_e.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)}))},created:function(){this.initialised()}},Sa=Aa,Ra=(a("47db"),Object(g["a"])(Sa,wa,Ma,!1,null,"0bd55a70",null)),ka=Ra.exports,Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dropdownF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.suboptions)+" :")]),a("button",{staticClass:"add-option",on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("+")])]),a("div",{staticClass:"col-md-10"},e._l(e.arraySubValues,(function(t,o){return a("div",{key:o,staticClass:"dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.arraySubValues[o],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"suboption_"+o},domProps:{value:e.arraySubValues[o]},on:{change:function(t){return e.needtoemit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},input:function(t){t.target.composing||e.$set(e.arraySubValues,o,t.target.value)}}}),a("button",{staticClass:"remove-option",on:{click:function(t){return t.preventDefault(),e.leave(o)}}},[e._v("-")])])})),0)])])},Ia=[],Ba=a("4328"),Pa={name:"dropdownF",props:{element:Object},data:function(){return{arraySubValues:[],helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS")}},methods:{add:_e.a.debounce((function(){var e=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,e,""),this.needtoemit();var t="suboption_"+e.toString();setTimeout((function(){document.getElementById(t).focus()}),100)}),150),leave:function(e){this.$delete(this.arraySubValues,e),this.needtoemit()},initialised:function(){var e=this;"undefined"!==typeof this.element.params.sub_options?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ba.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then((function(t){e.arraySubValues=t.data})).catch((function(e){console.log(e)})):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},needtoemit:_e.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)}))},created:function(){this.initialised()}},La=Pa,ja=(a("a706"),Object(g["a"])(La,Ja,Ia,!1,null,"1f273098",null)),Fa=ja.exports,Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"radiobtnF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[e._v(e._s(e.suboptions)+" :")]),a("button",{staticClass:"add-option",on:{click:function(t){return t.preventDefault(),e.add(t)}}},[e._v("+")])]),a("div",{staticClass:"col-md-10"},e._l(e.arraySubValues,(function(t,o){return a("div",{key:o,staticClass:"dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.arraySubValues[o],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"suboption_"+o},domProps:{value:e.arraySubValues[o]},on:{change:function(t){return e.needtoemit()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},input:function(t){t.target.composing||e.$set(e.arraySubValues,o,t.target.value)}}}),a("button",{staticClass:"remove-option",on:{click:function(t){return t.preventDefault(),e.leave(o)}}},[e._v("-")])])})),0)])])},$a=[],Ha=a("4328"),qa={name:"radiobtnF",props:{element:Object},data:function(){return{arraySubValues:[],helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS")}},methods:{add:_e.a.debounce((function(){var e=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,e,""),this.needtoemit();var t="suboption_"+e.toString();setTimeout((function(){document.getElementById(t).focus()}),100)}),150),leave:function(e){this.$delete(this.arraySubValues,e),this.needtoemit()},initialised:function(){var e=this;"undefined"!==typeof this.element.params.sub_options?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ha.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then((function(t){e.arraySubValues=t.data})).catch((function(e){console.log(e)})):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},needtoemit:_e.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)}))},created:function(){this.initialised()}},Va=qa,Ya=(a("57b6"),Object(g["a"])(Va,Ga,$a,!1,null,"396f0968",null)),za=Ya.exports,Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"textareaF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.heightext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.height,expression:"element.params.height"}],staticClass:"form__input field-general w-input",attrs:{type:"number",max:"15",min:"3"},domProps:{value:e.element.params.height},on:{input:function(t){t.target.composing||e.$set(e.element.params,"height",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.placeholdertext)+" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.msg,placement:"top-center",offset:5,delay:{show:500,hide:300}},expression:"{\n        content: msg,\n        placement: 'top-center',\n        offset: 5,\n        delay: {\n          show: 500,\n          hide: 300,\n          },\n        }"}]},[a("em",{staticClass:"fas fa-question-circle"})]),e._v(" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.textarea_placeholder,expression:"element.params.textarea_placeholder"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.textarea_placeholder},on:{input:function(t){t.target.composing||e.$set(e.element.params,"textarea_placeholder",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.element.params.rollover},on:{input:function(t){t.target.composing||e.$set(e.element.params,"rollover",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.maxlength)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.element.params.maxlength,expression:"element.params.maxlength"}],staticClass:"form__input field-general w-input",attrs:{type:"number",max:"255",min:"1"},domProps:{value:e.element.params.maxlength},on:{input:function(t){t.target.composing||e.$set(e.element.params,"maxlength",t.target.value)}}})])])])},Xa=[],Ka={name:"textareaF",props:{element:Object},data:function(){return{msg:"",path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",arraySubValues:[],widthtext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_WIDTH"),heightext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HEIGHT"),helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),placeholdertext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER"),sizetext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_SIZE"),maxlength:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH"),placeholderHelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP")}},methods:{},created:function(){"localhost:8888"==window.location.host&&(this.path=window.location.protocol+"//"+window.location.host+"/v6/media/com_emundus_onboard/"),this.msg='<p style="color: black">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />'}},Wa=Ka,Za=(a("a3f1"),Object(g["a"])(Wa,Qa,Xa,!1,null,"61b37a54",null)),eo=Za.exports,to=a("4328"),ao={name:"modalEditElement",props:{ID:Number,element:Object},components:{fieldF:Oa,birthdayF:ya,checkboxF:ka,dropdownF:Fa,radiobtnF:za,textareaF:eo},data:function(){return{label:{fr:"",en:""},done:!1,changes:!1,sublabel:"",plugin:"",translate:{label:!1},plugins:{field:{value:"field",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},birthday:{value:"birthday",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},checkbox:{value:"checkbox",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},dropdown:{value:"dropdown",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},radiobutton:{value:"radiobutton",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},textarea:{value:"textarea",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")}},Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Require:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_REQUIRED"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),dataSaved:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),fieldType:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_TYPE"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH")}},methods:{subOptions:function(e){this.sublabel=e},UpdateParams:function(){var e=this;this.changes=!0,"undefined"!==typeof this.element.params.sub_options&&(this.element.params.sub_options.sub_values=this.sublabel),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updateparams",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:to.stringify({element:this.element})}).then((function(t){e.$emit("reloadElement"),e.$modal.hide("modalEditElement"+e.ID)})).catch((function(e){console.log(e)}))},axiostrad:function(e){return c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:to.stringify({toJTEXT:e})})},getElement:function(){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:this.element.id,gid:this.element.group_id},paramsSerializer:function(e){return to.stringify(e)}}).then((function(t){e.element=t.data,e.plugin=e.element.plugin}))},beforeClose:function(e){!0===this.changes&&this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations),this.changes=!1},beforeOpen:function(e){this.initialisation()},initialisation:function(){var e=this;this.axiostrad(this.element.label_tag).then((function(t){e.label.fr=t.data.fr,e.label.en=t.data.en})).catch((function(e){console.log(e)})),this.getElement()},checkPlugin:function(){this.plugin=this.element.plugin}},computed:{getlabel:function(){return this.tempEl.label_raw}},watch:{element:function(){this.tempEl=JSON.parse(JSON.stringify(this.element))}},created:function(){}},oo=ao,io=(a("19b0"),Object(g["a"])(oo,_a,fa,!1,null,"010ac4f3",null)),no=io.exports,so=a("4328"),ro={name:"FormViewerEvaluation",props:{link:String,prog:Number},components:{datePicker:Mt.a,draggable:pa.a,modalEditElement:no},data:function(){return{object_json:"",date:new Date,hoverUpdating:!1,hoverGroup:!1,lastIndex:0,indexHighlight:0,indexGroup:-1,clickUpdatingLabel:!1,updateGroup:!1,draggable:!1,fieldChanges:!1,draggingIndex:-1,elementDisabled:!1,addingElement:!1,groups:[],loading:!1,options:{format:"DD/MM/YYYY",useCurrent:!1},plugins:{field:{id:0,value:"field",icon:"fas fa-font",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},birthday:{id:1,value:"birthday",icon:"far fa-calendar-alt",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},checkbox:{id:2,value:"checkbox",icon:"far fa-check-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},dropdown:{id:3,value:"dropdown",icon:"fas fa-th-list",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},radiobutton:{id:4,value:"radiobutton",icon:"fas fa-list-ul",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},textarea:{id:5,value:"textarea",icon:"far fa-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")}},addGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),Unpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),Required:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),Settings:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_SETTINGS"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),sidemenuhelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_SIDEMENUHELP"),update:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),orderSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ORDERSUCESS"),orderFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ORDERFAILED"),updateFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED")}},methods:{getDataObject:_e.a.debounce((function(){var e=this;this.loading=!0;var t=this.link.link.replace("fabrik","emundus_onboard");c.a.get(t+"&format=vue_jsonclean").then((function(t){e.object_json=t.data,e.convertGroupElementsToArray(),e.loading=!1})).catch((function(e){console.log(e)}))}),150),show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Information";this.$notify({group:e,title:"".concat(o),text:a,type:t})},clean:function(e){this.$notify({group:e,clean:!0})},convertGroupElementsToArray:function(){var e=this;Object.keys(this.object_json.Groups).forEach((function(t){e.groups.push(e.object_json.Groups[t]),e.object_json.Groups[t].elts=[],Object.keys(e.object_json.Groups[t].elements).forEach((function(a){e.object_json.Groups[t].elts.push(e.object_json.Groups[t].elements[a])}))}))},UpdateGroupName:function(e,t){this.object_json.Groups[e].group_showLegend=t},UpdateLabel:function(e,t){e.label_raw=t},createGroup:function(){var e=this;this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimplegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({fid:this.object_json.id})}).then((function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXT",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({toJTEXT:t.data.group_tag})}).then((function(a){t.data.group_showLegend=a.data,e.loading=!1,e.pushGroup(t.data)}))}))},updateLabelGroup:function(e){var t=this,a={fr:e.label_fr,en:e.label_fr};c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({labelTofind:e.group_tag,NewSubLabel:a})}).then((function(){t.show("foo-velocity","success",t.updateSuccess,t.update),e.group_showLegend=e.label_fr,t.updateGroup=!1})).catch((function(e){t.show("foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},updateGroupsOrder:function(){var e=this,t=this.groups.map((function(e,t){return e.ordering=t+2,{id:e.group_id,order:t+2}}));c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=reordergroups",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({groups:t,fid:this.object_json.id})}).then((function(t){e.show("foo-velocity","success",e.orderSuccess,e.update)})).catch((function(t){e.show("foo-velocity","error",e.orderFailed,e.updating),console.log(t)}))},deleteAGroup:function(e,t){var a=this;X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUPWARNING"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteGroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({gid:e.group_id})}).then((function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=deletegroupfromprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({group:e.group_id,pid:a.prog})}).then((function(){X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_GROUPDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){a.groups.splice(t,1),delete a.object_json.Groups["group_"+e.group_id],a.$forceUpdate()}))}))})).catch((function(e){console.log(e)}))}))},pushGroup:function(e){this.object_json["Groups"]["group_"+e.group_id]={elements:{},group_id:e.group_id,group_showLegend:e.group_showLegend,label_fr:e.label_fr,label_en:e.label_en,group_tag:e.group_tag,ordering:e.ordering},this.$forceUpdate(),setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),200)},createElement:function(e,t,a){var o=this;this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createcriteria",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({gid:e,plugin:t})}).then((function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.data.scalar,gid:e},paramsSerializer:function(e){return so.stringify(e)}}).then((function(t){o.object_json.Groups["group_"+e].elements["element"+t.data.id]=t.data,o.object_json.Groups["group_"+e].elts.splice(a,0,t.data),o.updateElementsOrder(e,o.object_json.Groups["group_"+e].elts),o.loading=!1}))}))},addingNewElement:function(e){this.dragging=!1,this.draggingIndex=-1;var t=e.clone.id.split("_")[1],a=e.to.parentElement.parentElement.parentElement.id.split("_")[1];"undefined"!=typeof a&&this.createElement(a,t,e.newIndex)},updateLabelElement:function(e){var t=this,a={fr:e.label_fr,en:e.label_fr};c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({labelTofind:e.label_tag,NewSubLabel:a})}).then((function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:function(e){return so.stringify(e)}}).then((function(a){e.label=a.data.label,t.show("foo-velocity","success",t.updateSuccess,t.update),t.clickUpdatingLabel=!1}))})).catch((function(e){t.show("foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},reloadElement:function(e){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:function(e){return so.stringify(e)}}).then((function(t){e.element=t.data.element,e=t.data})).catch((function(e){t.show("foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},updateElementsOrder:function(){var e=Object(ua["a"])(regeneratorRuntime.mark((function e(t,a){var o,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=a.map((function(e,t){return{id:e.id,order:t+1}})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updateOrder",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({elements:o,group_id:t})}).then((function(e){i.show("foo-velocity","success",i.orderSuccess,i.update);var t=i.link.link.replace("fabrik","emundus_onboard");c.a.get(t+"&format=vue_jsonclean").then((function(e){i.groups.forEach((function(t){i.object_json.Groups["group_"+t.group_id].elements=e.data.Groups["group_"+t.group_id].elements}))}))})).catch((function(e){i.show("foo-velocity","error",i.orderFailed,i.updating),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),updateRequireElement:function(e){var t=this;setTimeout((function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=changerequire",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({element:e})}).then((function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:function(e){return so.stringify(e)}}).then((function(a){e.label=a.data.label,t.show("foo-velocity","success",t.updateSuccess,t.update)}))})).catch((function(e){t.show("foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))}),300)},publishUnpublishElement:function(e){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=publishunpublishelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({element:e.id})}).then((function(a){e.publish=!e.publish,e.publish?(document.getElementById("publish_icon_"+e.id).classList.remove("fa-eye"),document.getElementById("publish_icon_"+e.id).classList.add("fa-eye-slash")):(document.getElementById("publish_icon_"+e.id).classList.add("fa-eye"),document.getElementById("publish_icon_"+e.id).classList.remove("fa-eye-slash")),t.show("foo-velocity","success",t.updateSuccess,t.update)})).catch((function(e){t.show("foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},deleteCriteria:function(e,t){var a=this;X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEELEMENT"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteElement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:so.stringify({element:e.id})}).then((function(){X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ELEMENTDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){a.object_json.Groups["group_"+e.group_id].elts.splice(t,1),delete a.object_json.Groups["group_"+e.group_id].elements["element"+e.id],a.$forceUpdate()}))})).catch((function(e){console.log(e)}))}))},enableActionBar:function(e){this.hoverUpdating=!0,this.indexHighlight=e,this.lastIndex=e},disableActionBar:function(){this.hoverUpdating=!1,this.clickUpdatingLabel=!1,this.indexHighlight=0},enableLabelInput:function(){this.clickUpdatingLabel=!0},enableUpdatingGroup:function(e){this.updateGroup=!0,this.indexGroup=e.group_id,setTimeout((function(){document.getElementById("update_input_"+e.group_id).focus()}),200)},enableGroupHover:function(e){this.hoverGroup=!0,this.indexGroup=e},disableGroupHover:function(){this.hoverGroup=!1,this.updateGroup=!1,this.indexGroup=-1},SomethingChange:function(e){var t=this,a=e.item.childNodes[0].id;this.groups.forEach((function(e){e.elts.forEach((function(o){o.id==a&&t.updateElementsOrder(e.group_id,e.elts)}))})),this.draggable=!1},SomethingChangeInGroup:function(){this.draggable=!1,this.updateGroupsOrder()}},created:function(){this.getDataObject()},computed:{dragOptions:function(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}},watch:{link:function(){this.getDataObject()}}},lo=ro,co=(a("a6e8"),Object(g["a"])(lo,ca,da,!1,null,"844310fe",null)),uo=co.exports,mo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAddEvaluation"}},[a("modal",{attrs:{name:"modalAddEvaluation",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddEvaluation")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addGrid)+" ")])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.ChooseExistingGridModel)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model_id,expression:"model_id"}],staticClass:"dropdown-toggle",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.model_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}}),e._l(e.models,(function(t,o){return a("option",{domProps:{value:t.form_id}},[e._v(e._s(t.label))])}))],2)]),a("div",{staticClass:"form-group",class:{"mb-0":e.translate.label}},[a("label",[e._v(e._s(e.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.fr,expression:"label.fr"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40",id:"menu_label"},domProps:{value:e.label.fr},on:{input:function(t){t.target.composing||e.$set(e.label,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}})])]),e.translate.label?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("i",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.label?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.en,expression:"label.en"}],staticClass:"form__input field-general w-input",attrs:{type:"text",maxlength:"40"},domProps:{value:e.label.en},on:{input:function(t){t.target.composing||e.$set(e.label,"en",t.target.value)}}})]):e._e(),e.errors&&-1==e.model_id?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":e.translate.intro}},[a("label",[e._v(e._s(e.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.fr,expression:"intro.fr"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.fr},on:{input:function(t){t.target.composing||e.$set(e.intro,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.intro},attrs:{type:"button"},on:{click:function(t){e.translate.intro=!e.translate.intro}}})])]),e.translate.intro?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.intro?a("div",{staticClass:"form-group mb-1"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.en,expression:"intro.en"}],staticClass:"form__input field-general w-input",attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.en},on:{input:function(t){t.target.composing||e.$set(e.intro,"en",t.target.value)}}})]):e._e(),-1==e.model_id?a("div",{staticClass:"col-md-12 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.template)?e._i(e.template,null)>-1:e.template},on:{change:function(t){var a=e.template,o=t.target,i=!!o.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&(e.template=a.concat([n])):s>-1&&(e.template=a.slice(0,s).concat(a.slice(s+1)))}else e.template=i}}}),a("label",{staticClass:"ml-10px"},[e._v(e._s(e.SaveAsTemplate)+" :")])]):e._e()]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.createGrid()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAddEvaluation")}}},[e._v(e._s(e.Retour))])]),e.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()])],1)},po=[],_o=a("4328"),fo={name:"modalAddEvaluation",components:{},props:{prog:Number,grid:Number},data:function(){return{translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},model_id:-1,template:0,models:[],errors:!1,changes:!1,submitted:!1,addGrid:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGRID"),ChooseExistingGridModel:Joomla.JText._("COM_EMUNDUS_ONBOARD_GRIDMODEL"),Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),SaveAsTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{beforeClose:function(e){},beforeOpen:function(e){this.getExistingGrids()},getExistingGrids:function(){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getgridsmodel"}).then((function(t){e.models=t.data.data}))},createGrid:function(){var e=this;this.changes=!0,""!=this.label.fr||-1!=this.model_id?(this.translate.label||(this.label.en=this.label.fr),this.translate.intro||(this.intro.en=this.intro.fr),this.submitted=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=creategrid",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_o.stringify({label:this.label,intro:this.intro,modelid:this.model_id,template:this.template,pid:this.prog})}).then((function(t){e.submitted=!1,e.$emit("updateGrid"),e.$modal.hide("modalAddEvaluation")})).catch((function(e){console.log(e)}))):this.errors=!0}},watch:{model_id:function(e){var t=this;-1!=e?this.models.forEach((function(e){console.log(e.form_id),e.form_id==t.model_id&&(t.label.fr=e.label,t.intro.fr=e.intro)})):(this.label.fr="",this.intro.fr="")}}},ho=fo,go=(a("9112"),Object(g["a"])(ho,mo,po,!1,null,"29a80d04",null)),vo=go.exports,bo={name:"addEvaluationGrid",components:{ModalAddEvaluation:vo,Datetime:Se["Datetime"],FormViewerEvaluation:uo},props:{funnelCategorie:Object,prog:Number},data:function(){return{link:{link:""},visibility:null,viewer:0,grid:null,addGrid:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGRID")}},methods:{getEvaluationGridByProgram:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getevaluationgrid&pid="+this.prog).then((function(t){e.grid=t.data.data,null!=e.grid&&(e.link.link="index.php?option=com_fabrik&view=form&formid="+t.data.data,e.viewer++)}))}},created:function(){this.getEvaluationGridByProgram()}},Co=bo,Oo=Object(g["a"])(Co,ra,la,!1,null,null,null),Eo=Oo.exports,Do=(a("4328"),{name:"addProgramAdvancedSettings",components:{Datetime:Se["Datetime"],addGestionnaires:Ze,addEmail:bt,addEvalVisi:Yt,addEvalEval:Zt,addMenu:sa,addEvaluationGrid:Eo,ModalAddUser:Fe},props:{prog:Number,actualLanguage:String},data:function(){return{EmitIndex:"0",menuHighlight:null,selectedform:"default",dynamicComponent:!1,isHidden:!1,categories:[],cats:[],prog_group:null,langue:0,funnelDescription:[[Joomla.JText._("COM_EMUNDUS_ONBOARD_USERSDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EVALUATIONGRIDDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_VISIBILITYDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILSDESCRIPTION")],[Joomla.JText._("COM_EMUNDUS_ONBOARD_USERSDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EVALUATIONGRIDDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_VISIBILITYDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILSDESCRIPTION")]],progCategories:[["Utilisateurs","Grille d'évaluation","Visibilité","Emails"],["Users","Evaluation grid","Visibility","Emails"]],program:{label:"",code:"",programmes:"",notes:"",synthesis:'<ul><li><strong>[APPLICANT_NAME]</strong></li><li><a href="mailto:[EMAIL]">[EMAIL]</a></li></ul>',tmpl_trombinoscope:'<table cellpadding="2" style="width: 100%;"><tbody><tr style="border-collapse: collapse;"><td align="center" valign="top" style="text-align: center;"><p style="text-align: center;"><img src="[PHOTO]" alt="Photo" height="100" /> </p><p style="text-align: center;"><b>[NAME]</b><br /></p></td></tr></tbody></table>',tmpl_badge:'<table width="100%"><tbody><tr><td style="vertical-align: top; width: 100px;" align="left" valign="middle" width="30%"><img src="[LOGO]" alt="Logo" height="50" /></td><td style="vertical-align: top;" align="left" valign="top" width="70%"><b>[NAME]</b></td></tr></tbody></table>\n',published:1,apply_online:1},From:Joomla.JText._("COM_EMUNDUS_ONBOARD_FROM"),To:Joomla.JText._("COM_EMUNDUS_ONBOARD_TO"),Since:Joomla.JText._("COM_EMUNDUS_ONBOARD_SINCE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),Code:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CODE"),Category:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CATEGORY"),FORM:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM"),ChooseEvaluatorGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EVALUATOR_GROUP"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),chooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),chooseProfileWarning:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_PROFILE_WARNING")}},methods:{moment:function(e){return D()(e)},next:function(){this.menuHighlight<3?this.menuHighlight++:window.location.href="/"+this.actualLanguage+"/configuration/programs"},previous:function(){this.menuHighlight>0?this.menuHighlight--:window.location.href="/"+this.actualLanguage+"/configuration/programs"},getCampaignsByProgram:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignsbyprogram&pid="+this.prog).then((function(t){e.campaigns=t.data.data}))}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},created:function(){var e=this;"en"==this.actualLanguage&&(this.langue=1),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcategories").then((function(t){e.categories=t.data.data;for(var a=0;a<e.categories.length;a++)e.cats.push(e.categories[a]);""!==e.prog?c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogrambyid&id=".concat(e.prog)).then((function(t){e.program.code=t.data.data.code,e.program.label=t.data.data.label,e.program.notes=t.data.data.notes,e.program.programmes=t.data.data.programmes,e.program.tmpl_badge=t.data.data.tmpl_badge,e.program.published=t.data.data.published,e.program.apply_online=t.data.data.apply_online,null!=t.data.data.synthesis&&(e.program.synthesis=t.data.data.synthesis.replace(/>\s+</g,"><")),null!=t.data.data.tmpl_trombinoscope&&(e.program.tmpl_trombinoscope=t.data.data.tmpl_trombinoscope.replace(/>\s+</g,"><")),e.dynamicComponent=!0,e.prog_group=t.data.data.group,e.menuHighlight=0})).catch((function(e){console.log(e)})):e.dynamicComponent=!0})).catch((function(e){console.log(e)})),this.getCampaignsByProgram()},mounted:function(){}}),xo=Do,No=(a("5745"),Object(g["a"])(xo,Te,Ae,!1,null,null,null)),Uo=No.exports,yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-principale"},[a("notifications",{attrs:{group:"foo-velocity",position:"bottom left","animation-type":"velocity",speed:500,classes:"vue-notification-custom"}}),a("div",{staticClass:"w-container"},[a("form",{attrs:{id:"campaign-form"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required"},[e._v(e._s(e.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.Parameter))])]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.ParameterDesc)+" ")]),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.CampName)+" *")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.form.label.fr,expression:"form.label.fr"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.label,"mb-0":e.translate.label},attrs:{id:"campLabel",type:"text",required:""},domProps:{value:e.form.label.fr},on:{keyup:e.enableTranslationTip,input:function(t){t.target.composing||e.$set(e.form.label,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}})]),e.translate.label?a("div",{staticClass:"inlineflex",staticStyle:{margin:"10px"}},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.label?a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.label.en,expression:"form.label.en"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.form.label.en},on:{input:function(t){t.target.composing||e.$set(e.form.label,"en",t.target.value)}}}):e._e()]),e.errors.label?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"w-row"},[a("div",{staticClass:"w-col w-col-6"},[a("div",{staticClass:"w-form"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.StartDate)+" *")]),a("datetime",{attrs:{placeholder:e.StartDate,type:"datetime","input-id":"start_date",phrases:{ok:e.OK,cancel:e.Cancel}},model:{value:e.form.start_date,callback:function(t){e.$set(e.form,"start_date",t)},expression:"form.start_date"}})],1)]),a("div",{staticClass:"w-col w-col-6"},[a("div",{staticClass:"w-form"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.EndDate)+" *")]),a("datetime",{attrs:{placeholder:e.EndDate+" *",type:"datetime","input-id":"end_date","min-datetime":e.form.start_date,phrases:{ok:e.OK,cancel:e.Cancel}},model:{value:e.form.end_date,callback:function(t){e.$set(e.form,"end_date",t)},expression:"form.end_date"}})],1)])]),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[e._v(e._s(e.PickYear)+" *")]),a("autocomplete",{attrs:{id:"year",name:"2020-2021",items:this.session,year:e.form.year},on:{searched:e.onSearchYear}})],1),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.published,expression:"form.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(e.form.published)?e._i(e.form.published,null)>-1:e._q(e.form.published,"1")},on:{change:function(t){var a=e.form.published,o=t.target,i=o.checked?"1":"0";if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&e.$set(e.form,"published",a.concat([n])):s>-1&&e.$set(e.form,"published",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"published",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px",attrs:{for:"published"}},[e._v(e._s(e.Publish))])])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container"},[a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title informations"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.Information))])]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.InformationDesc)+" ")]),a("div",{staticClass:"form-group campaign-label"},[a("label",{staticStyle:{top:"5em"},attrs:{for:"campResume"}},[e._v(e._s(e.Resume)+" *")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.short_description,expression:"form.short_description"}],staticClass:"form__input field-general w-input",attrs:{type:"textarea",rows:"2",id:"campResume",maxlength:"200",placeholder:" "},domProps:{value:e.form.short_description},on:{keyup:function(t){return e.checkMaxlength("campResume")},focusout:function(t){return e.removeBorderFocus("campResume")},input:function(t){t.target.composing||e.$set(e.form,"short_description",t.target.value)}}})]),e.errors.short_description?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.ResumeRequired))])]):e._e(),a("div",{staticClass:"form-group campaign-label"},[a("label",{staticStyle:{top:"12em"},attrs:{for:"campDescription"}},[e._v(e._s(e.Description))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form__input field-general w-input",attrs:{type:"textarea",rows:"4",id:"campDescription",maxlength:"400",placeholder:" "},domProps:{value:e.form.description},on:{keyup:function(t){return e.checkMaxlength("campDescription")},focusout:function(t){return e.removeBorderFocus("campDescription")},input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title programme"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.Program))])]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.ProgramDesc)+" ")]),a("div",{staticClass:"form-group container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.training,expression:"form.training"}],staticClass:"dropdown-toggle w-select",staticStyle:{"margin-bottom":"0"},attrs:{id:"select_prog"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"training",t.target.multiple?a:a[0])},e.setCategory]}},[a("option",{attrs:{value:""}},[e._v(e._s(e.ChooseProg))]),e._l(this.programs,(function(t,o){return a("option",{key:o,attrs:{"data-category":t.programmes},domProps:{value:t.code}},[e._v(e._s(t.label))])}))],2),a("div",{staticClass:"addCampProgEmail",attrs:{id:"add-program"},on:{click:e.displayProgram}})]),a("transition",{attrs:{name:"slide-fade"}},[e.isHiddenProgram?a("div",{staticClass:"sous-container program-addCampaign"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.AddProgram))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.AddProgramDesc)+" ")]),a("div",{staticClass:"w-form"},[a("div",{staticClass:"form-group prog-label"},[a("label",{staticStyle:{top:"5.7em"},attrs:{for:"prog_label"}},[e._v(e._s(e.ProgName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.programForm.label,expression:"programForm.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors.progLabel},attrs:{type:"text",id:"prog_label",placeholder:" "},domProps:{value:e.programForm.label},on:{keyup:e.updateCode,input:function(t){t.target.composing||e.$set(e.programForm,"label",t.target.value)}}})]),e.errors.progLabel?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.ProgLabelRequired))])]):e._e(),a("div",{staticClass:"form-group campaign-label"},[a("label",{staticStyle:{top:"10.7em"}},[e._v(e._s(e.ChooseCategory))]),a("autocomplete",{attrs:{items:this.categories,year:e.programForm.programmes},on:{searched:e.onSearchCategory}})],1),e.isHiddenCategory?a("input",{directives:[{name:"model",rawName:"v-model",value:e.new_category,expression:"new_category"}],staticClass:"form__input field-general w-input",attrs:{type:"text",placeholder:e.NameCategory},domProps:{value:e.new_category},on:{input:function(t){t.target.composing||(e.new_category=t.target.value)}}}):e._e(),a("div",{staticClass:"form-group controls"},[a("editor",{attrs:{text:e.programForm.notes,placeholder:e.ProgramResume,id:"program_campaign"},model:{value:e.programForm.notes,callback:function(t){e.$set(e.programForm,"notes",t)},expression:"programForm.notes"}})],1),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.programForm.published,expression:"programForm.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(e.programForm.published)?e._i(e.programForm.published,null)>-1:e._q(e.programForm.published,"1")},on:{change:function(t){var a=e.programForm.published,o=t.target,i=o.checked?"1":"0";if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&e.$set(e.programForm,"published",a.concat([n])):s>-1&&e.$set(e.programForm,"published",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.programForm,"published",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px",attrs:{for:"published"}},[e._v(e._s(e.Publish))])]),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.programForm.apply_online,expression:"programForm.apply_online"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"apply",name:"apply"},domProps:{checked:Array.isArray(e.programForm.apply_online)?e._i(e.programForm.apply_online,null)>-1:e._q(e.programForm.apply_online,"1")},on:{change:function(t){var a=e.programForm.apply_online,o=t.target,i=o.checked?"1":"0";if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&e.$set(e.programForm,"apply_online",a.concat([n])):s>-1&&e.$set(e.programForm,"apply_online",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.programForm,"apply_online",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px",attrs:{for:"apply"}},[e._v(e._s(e.DepotDeDossier))])])])]):e._e()])],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-button",attrs:{type:"button"},on:{click:function(t){e.quit=1,e.submit()}}},[e._v(" "+e._s(e.Continuer)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-quitter w-button",attrs:{type:"button"},on:{click:function(t){e.quit=0,e.submit()}}},[e._v(" "+e._s(e.Quitter)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour w-button",attrs:{type:"button",onclick:"history.go(-1)"}},[e._v(" "+e._s(e.Retour)+" ")])])])])])]),a("v-tour",{attrs:{name:"myTour",steps:e.steps,options:e.tourOptions}}),e.submitted?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#de6339"}})],1):e._e()],1)},wo=[],Mo=a("1315");a("2440");var To=a("4328"),Ao={name:"addCampaign",components:{Datetime:Se["Datetime"],Editor:ve,Autocomplete:xe},directives:{focus:{inserted:function(e){e.focus()}}},quit:1,props:{campaign:Number,actualLanguage:String},data:function(){return{isHiddenYear:!1,isHiddenProgram:!1,isHiddenCategory:!1,endDateCheckbox:!1,olderDate:"",programs:[],years:[],categories:[],allProfiles:[],new_category:"",new_program:"",session:[],cats:[],search:"",form:{label:{fr:"",en:""},start_date:Mo["DateTime"].local().toISO(),end_date:"",short_description:"",description:"",training:"",year:"",published:1},translate:{label:!1},enableTip:!1,programForm:{code:"",label:"",notes:"",programmes:"",published:1,apply_online:1},year:{label:"",code:"",schoolyear:"",published:1,profile_id:"",programmes:""},errors:{label:!1,progCode:!1,progLabel:!1,short_description:!1},Parameter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PARAMETER"),CampName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CAMPNAME"),StartDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_STARTDATE"),EndDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_ENDDATE"),PasDeFin:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PASDEFIN"),Information:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_INFORMATION"),Resume:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_RESUME"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),AddProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDPROGRAM"),ChooseProg:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CHOOSEPROG"),PickYear:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PICKYEAR"),ChooseProfile:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CHOOSEPROFILE"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),DepotDeDossier:Joomla.JText._("COM_EMUNDUS_ONBOARD_DEPOTDEDOSSIER"),ProgName:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGNAME"),ProgCode:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGCODE"),ChooseCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),NameCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_NAMECATEGORY"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),ProgramResume:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_RESUME"),CodeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_CODE"),ProgLabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_LABEL"),ResumeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMP_REQUIRED_RESUME"),OK:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),Cancel:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),submitted:!1}},validations:{form:{label:{required:le["required"]},start_date:{required:le["required"]},training:{required:le["required"]},year:{required:le["required"]}}},created:function(){var e=this;Mo["Settings"].defaultLocale=this.actualLanguage,""!==this.campaign&&c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignbyid&id=".concat(this.campaign)).then((function(t){console.log(t.data.data),e.form.label.fr=t.data.data.label.fr.value,e.form.label.en=t.data.data.label.en.value,e.form.published=t.data.data.campaign.published,e.form.description=t.data.data.campaign.description,e.form.short_description=t.data.data.campaign.short_description,e.form.start_date=t.data.data.campaign.start_date,e.form.end_date=t.data.data.campaign.end_date,e.form.training=t.data.data.campaign.training,e.form.year=t.data.data.campaign.year,e.form.start_date=e.changeDate(e.form.start_date),e.form.end_date=e.changeDate(e.form.end_date),"0000-00-00T00:00:00.000Z"==e.form.end_date?e.form.end_date="":e.olderDate=e.form.end_date})).catch((function(e){console.log(e)})),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getallprogram").then((function(t){e.programs=t.data.data,e.programs.sort((function(e,t){return e.id-t.id}))})).catch((function(e){console.log(e)})),c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getyears").then((function(t){e.years=t.data.data;for(var a=0;a<e.years.length;a++)e.session.push(e.years[a].schoolyear)})).catch((function(e){console.log(e)})),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcategories").then((function(t){e.categories=t.data.data;for(var a=0;a<e.categories.length;a++)e.cats.push(e.categories[a])})).catch((function(e){console.log(e)}))},methods:{setCategory:function(e){this.year.programmes=e.target.options[e.target.options.selectedIndex].dataset.category},updateCode:function(){var e=this;""!==this.programForm.label?(this.programForm.code=this.programForm.label.toUpperCase().replace(/[^a-zA-Z0-9]/g,"_").substring(0,10)+"_00",this.programs.forEach((function(t,a){if(e.programForm.code==t.code){var o=parseInt(t.code.split("_")[1])+1;e.programForm.code=o>10?e.programForm.label.toUpperCase()+"_"+o:e.programForm.label.toUpperCase()+"_0"+o}}))):this.programForm.code=""},checkCode:function(){var e=this;this.programs.forEach((function(t,a){if(e.programForm.code==t.code){var o=parseInt(t.code.split("_")[1])+1;e.programForm.code=o>10?e.programForm.label.toUpperCase()+"_"+o:e.programForm.label.toUpperCase()+"_0"+o}}))},submit:function(){var e=this;if(this.errors={label:!1,progCode:!1,progLabel:!1,short_description:!1},""==this.form.label.fr)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.label=!0,0;if(!this.endDateCheckbox&&""==this.form.end_date)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("end_date").focus(),0;if(""==this.form.year)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("year").focus(),0;if(""==this.form.short_description)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("campResume").focus(),this.errors.short_description=!0,0;if(""==this.form.training){if(!this.isHiddenProgram)return document.getElementById("select_prog").focus(),0;if(""==this.programForm.label)return this.errors.progLabel=!0,document.getElementById("prog_label").focus(),0;if(""==this.programForm.code)return this.errors.progCode=!0,document.getElementById("prog_code").focus(),0;this.form.training=this.programForm.code}this.$v.$touch(),this.$v.$invalid||(this.year.label=this.form.label,this.year.code=this.form.training,this.year.schoolyear=this.form.year,this.year.published=this.form.published,this.year.profile_id=this.form.profile_id,this.submitted=!0,this.translate.label||(this.form.label.en=this.form.label.fr),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=createprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:To.stringify({body:this.programForm})}).then((function(){""!==e.campaign?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updatecampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:To.stringify({body:e.form,cid:e.campaign})}).then((function(t){e.quitFunnelOrContinue(e.quit)})).catch((function(e){console.log(e)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=createcampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:To.stringify({body:e.form})}).then((function(t){e.campaign=t.data.data,e.quitFunnelOrContinue(e.quit)})).catch((function(e){console.log(e)})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=createyear",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:To.stringify({body:e.year})}).then((function(e){})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})))},quitFunnelOrContinue:function(e){0==e?history.go(-1):1==e&&window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+this.campaign+"&index=0")},changeDate:function(e){var t,a=/\d{4}-\d{2}-\d{2}/gm,o=/\d{2}:\d{2}:\d{2}/gm,i=e,n="";while(null!==(t=a.exec(i)))t.index===o.lastIndex&&o.lastIndex++,t.forEach((function(e,t){n="".concat(e,"T")}));while(null!==(t=o.exec(i)))t.index===o.lastIndex&&o.lastIndex++,t.forEach((function(e,t){n+="".concat(e,".000Z")}));return n},onSearchYear:function(e){this.form.year=e},onSearchCategory:function(e){this.programForm.programmes=e},changeEndDate:function(){""==this.form.end_date?this.form.end_date=this.olderDate:(this.olderDate=this.form.end_date,this.form.end_date="")},displayProgram:function(){this.isHiddenProgram?document.getElementById("add-program").style="transform: rotate(0)":document.getElementById("add-program").style="transform: rotate(135deg)",this.form.training="",this.isHiddenProgram?document.getElementById("select_prog").removeAttribute("disabled"):document.getElementById("select_prog").setAttribute("disabled","disabled"),this.isHiddenProgram=!this.isHiddenProgram},enableTranslationTip:function(){this.enableTip||(this.enableTip=!0,this.tip())},checkMaxlength:function(e){var t=document.getElementById(e).getAttribute("maxlength");t==this.form.short_description.length?document.getElementById(e).style.borderColor="red":document.getElementById(e).style.borderColor="#3898ec"},removeBorderFocus:function(e){document.getElementById(e).style.borderColor="#cccccc"},tip:function(){this.show("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATETIP")+'<em class="translate-icon"></em>',Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP"))},show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:e,title:"".concat(a),text:t,duration:1e4})},clean:function(e){this.$notify({group:e,clean:!0})}}},So=Ao,Ro=(a("80d4"),Object(g["a"])(So,yo,wo,!1,null,"3f3c4013",null)),ko=Ro.exports,Jo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-principale"},[a("div",{staticClass:"w-container"},[a("form",{attrs:{id:"program-form"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"sous-container"},[a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title informations"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.Informations))])]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.InformationsDesc)+" ")]),a("div",{staticClass:"w-form"},[a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.emailName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.subject,expression:"form.subject"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.form.subject},on:{input:function(t){t.target.composing||e.$set(e.form,"subject",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.receiverName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.emailAddress)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.emailfrom,expression:"form.emailfrom"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.form.emailfrom},on:{input:function(t){t.target.composing||e.$set(e.form,"emailfrom",t.target.value)}}})]),a("div",{staticClass:"form-group controls forms-emails-editor"},[e.dynamicComponent?a("editor",{attrs:{text:e.form.message,placeholder:e.EmailResume},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}}):e._e()],1)])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.Parameter))])]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" "+e._s(e.ParameterDesc)+" ")]),a("div",{staticClass:"form-group container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type,expression:"form.type"}],staticClass:"dropdown-toggle w-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v(e._s(e.emailType))]),e._l(this.types,(function(t,o){return a("option",{key:o,domProps:{value:t,selected:e.form.type}},[e._v(e._s(e.emailtype[e.langue][t-1]))])}))],2)]),a("div",{staticClass:"form-group container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.category,expression:"form.category"}],staticClass:"dropdown-toggle w-select",attrs:{disabled:e.isHiddenCategory},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"category",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[e._v(e._s(e.emailCategory))]),e._l(this.categories,(function(t,o){return a("option",{key:o,domProps:{value:t,selected:e.form.category}},[e._v(e._s(t))])}))],2),a("div",{staticClass:"addCampProgEmail",attrs:{id:"add-category"},on:{click:e.displayCategory}})]),a("transition",{attrs:{name:"slide-fade"}},[e.isHiddenCategory?a("label",[e._v(e._s(e.CategoryName)+" *")]):e._e(),e.isHiddenCategory?a("input",{directives:[{name:"model",rawName:"v-model",value:e.new_category,expression:"new_category"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:e.new_category},on:{input:function(t){t.target.composing||(e.new_category=t.target.value)}}}):e._e()])],1),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-button",attrs:{type:"submit"}},[e._v(" "+e._s(e.continuer)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour w-button",attrs:{type:"button",onclick:"history.go(-1)"}},[e._v(" "+e._s(e.retour)+" ")])])])])])])])},Io=[],Bo=(a("7f7f"),a("4328")),Po={name:"addEmail",components:{Editor:ve},props:{email:Number,actualLanguage:String},data:function(){return{langue:0,dynamicComponent:!1,isHiddenCategory:!1,Parameter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PARAMETER"),Informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_INFORMATION"),emailType:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_CHOOSETYPE"),emailCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),emailName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_NAME"),receiverName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_RECEIVER"),emailAddress:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_ADDRESS"),EmailResume:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_RESUME"),CategoryName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_CATEGORY"),new_category:"",types:[],categories:[],emailtype:[["Système","Modèle"],["System","Model"]],form:{lbl:"",subject:"",name:"",emailfrom:"",message:"",type:"",category:"",published:1},submitted:!1}},validations:{form:{subject:{required:le["required"]},message:{required:le["required"]},type:{required:le["required"]},category:{required:le["required"]}}},methods:{submit:function(){this.submitted=!0,this.form.lbl=this.form.subject,""!==this.new_category&&(this.form.category=this.new_category),this.$v.$touch(),this.$v.$invalid||(""!==this.email?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=updateemail",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Bo.stringify({body:this.form,code:this.email})}).then((function(e){window.location.replace("emails")})).catch((function(e){console.log(e)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=createemail",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Bo.stringify({body:this.form})}).then((function(e){window.location.replace("emails")})).catch((function(e){console.log(e)})))},displayCategory:function(){this.isHiddenCategory?document.getElementById("add-category").style="transform: rotate(0)":document.getElementById("add-category").style="transform: rotate(135deg)",this.isHiddenCategory=!this.isHiddenCategory}},created:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailtypes").then((function(t){e.types=t.data.data,c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailcategories").then((function(t){e.categories=t.data.data,""!==e.email?c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailbyid&id=".concat(e.email)).then((function(t){e.form.subject=t.data.data.subject,e.form.name=t.data.data.name,e.form.emailfrom=t.data.data.emailfrom,e.form.message=t.data.data.message,e.form.type=t.data.data.type,e.form.category=t.data.data.category,e.form.published=t.data.data.published,e.dynamicComponent=!0})).catch((function(e){console.log(e)})):e.dynamicComponent=!0}))})).catch((function(e){console.log(e)}))},mounted:function(){"en"==this.actualLanguage&&(this.langue=1)}},Lo=Po,jo=(a("2326"),Object(g["a"])(Lo,Jo,Io,!1,null,"e3640086",null)),Fo=jo.exports,Go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-principale"},[a("div",{staticClass:"w-container"},[a("form",{attrs:{id:"campaign-form"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required"},[e._v(e._s(e.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title"}),a("h2",{staticClass:"heading"},[e._v(e._s(e.CreateForm))])]),a("p",{staticClass:"paragraphe-sous-titre"}),a("div",{staticClass:"form-group form-label"},[a("label",{attrs:{for:"formLabel"}},[e._v(e._s(e.FormName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.$v.form.label.$model,expression:"$v.form.label.$model",modifiers:{lazy:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors||e.formTouched},attrs:{id:"formLabel",type:"text",placeholder:" ",maxlength:"100"},domProps:{value:e.$v.form.label.$model},on:{change:function(t){return e.$set(e.$v.form.label,"$model",t.target.value)}}})]),e.errors||e.formTouched?a("p",{staticClass:"error"},[e.$v.form.label.required?e._e():a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.Description))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticClass:"form__input field-general w-input",attrs:{type:"textarea",rows:"4",maxlength:"400"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.published,expression:"form.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(e.form.published)?e._i(e.form.published,null)>-1:e._q(e.form.published,"1")},on:{change:function(t){var a=e.form.published,o=t.target,i=o.checked?"1":"0";if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&e.$set(e.form,"published",a.concat([n])):s>-1&&e.$set(e.form,"published",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"published",i)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px",attrs:{for:"published"}},[e._v(e._s(e.Publish))])])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-button",attrs:{type:"button"},on:{click:function(t){e.quit=1,e.submit()}}},[e._v(" "+e._s(e.Continuer)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-quitter w-button",attrs:{type:"button"},on:{click:function(t){e.quit=0,e.submit()}}},[e._v(" "+e._s(e.Quitter)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour w-button",attrs:{type:"button",onclick:"history.go(-1)"}},[e._v(" "+e._s(e.Retour)+" ")])])])])])]),e.submitted?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()])},$o=[],Ho=a("4328"),qo={name:"addForm",quit:1,props:{profileId:Number,campaignId:Number},components:{},directives:{focus:{inserted:function(e){e.focus()}}},data:function(){return{form:{label:"",description:"",published:1},CreateForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_FORM"),FormName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDFORM_FORMNAME"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),submitted:!1,errors:"",formTouched:""}},validations:{form:{label:{required:le["required"]}}},created:function(){var e=this;""!==this.profileId&&c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getformbyid&id=".concat(this.profileId)).then((function(t){e.form.label=t.data.data.label,e.form.description=t.data.data.description})).catch((function(e){console.log(e)}))},methods:{submit:function(){var e=this;this.formTouched=!this.$v.form.$anyDirty,this.errors=this.$v.form.$anyError,!1===this.errors&&(""===this.form.label?this.formTouched=!0:(this.submitted=!0,""!==this.profileId?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=updateform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ho.stringify({body:this.form,pid:this.profileId})}).then((function(t){e.quitFunnelOrContinue(e.quit)})).catch((function(e){console.log(e)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=createform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ho.stringify({body:this.form})}).then((function(t){e.profileId=t.data.data,e.quitFunnelOrContinue(e.quit)})).catch((function(e){console.log(e)}))))},quitFunnelOrContinue:function(e){0==e?window.location.replace("forms"):1==e&&(null!=this.campaignId?window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.profileId+"&index=0&cid="+this.campaignId):window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.profileId+"&index=0&cid="))}},mounted:function(){}},Vo=qo,Yo=(a("c830"),Object(g["a"])(Vo,Go,$o,!1,null,"1f625eb7",null)),zo=Yo.exports,Qo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column-menu-main w-row",staticStyle:{"margin-top":"120px"}},[a("ModalWarningFormBuilder",{attrs:{pid:e.profileId,cid:e.campaignId}}),a("div",{staticClass:"w-row"},[a("div",{staticClass:"col-md-4 p-1"},[a("div",{staticClass:"mb-1"},[a("h1",{staticClass:"nom-campagne"},[e._v(e._s(e.CAMPAIGN)+" : "+e._s(e.form.label))]),a("div",{staticClass:"date-menu orange"},[e._v(" "+e._s(null!=e.form.end_date?e.From:e.Since+" ")+" "+e._s(e.form.start_date)+" "+e._s(null!=e.form.end_date?e.To+" "+e.form.end_date:"")+" ")])]),a("p",{staticClass:"heading"},[e._v(e._s(e.chooseForm))]),a("div",{staticClass:"heading-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.profileId,expression:"profileId"}],staticClass:"dropdown-toggle",attrs:{id:"select_profile"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.profileId=t.target.multiple?a:a[0]}}},e._l(e.profiles,(function(t,o){return a("option",{key:o,domProps:{value:t.id},on:{click:function(a){return e.updateProfileCampaign(t.id)}}},[e._v(" "+e._s(t.form_label)+" ")])})),0),a("button",{staticClass:"w-inline-block edit-icon",on:{click:function(t){return t.preventDefault(),e.addNewForm()}}},[a("em",{staticClass:"fas fa-plus"})]),null!=e.profileId?a("button",{staticClass:"w-inline-block edit-icon",on:{click:function(t){return t.preventDefault(),e.formbuilder()}}},[a("em",{staticClass:"fas fa-edit"})]):e._e()]),a("div",{staticClass:"divider-menu"}),a("transition",{attrs:{name:"slide-right"}},[a("div",{staticClass:"col-md-12",class:null==e.profileId?"mt-1":"mt-2"},[a("div",{staticClass:"container-menu-funnel"},[null==e.profileId?a("div",{staticClass:"required",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[e._v(e._s(e.chooseProfileWarning))])]):e._e(),e._l(e.formCategories[e.langue],(function(t,o){return a("div",{key:o},[a("a",{staticClass:"menu-item",class:[e.menuHighlight==o?"w--current":"",null==e.profileId?"grey-link":""],on:{click:function(t){null!=e.profileId&&(e.menuHighlight=o)}}},[e._v(e._s(t))])])}))],2)])])],1),a("div",{staticClass:"col-md-8 p-1",staticStyle:{"padding-left":"2em !important","border-left":"solid 1px #cecece"}},[a("h2",[e._v(e._s(e.formCategories[e.langue][e.menuHighlight]))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(e._s(e.funnelDescription[e.langue][e.menuHighlight]))]),a("transition",{attrs:{name:"slide-right"}},[0==e.menuHighlight?a("addFormulaire",{key:e.formReload,attrs:{profileId:e.profileId,visibility:null}}):e._e(),1==e.menuHighlight?a("addDocuments",{attrs:{funnelCategorie:e.formCategories[e.langue][e.menuHighlight],profileId:e.profileId,campaignId:e.campaignId,langue:e.langue,menuHighlight:e.menuHighlight}}):e._e()],1)],1)]),a("div",{staticClass:"section-sauvegarder-et-continuer-funnel",class:5==e.menuHighlight?"big":1==e.menuHighlight?"noShow":""},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.next()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return e.previous()}}},[e._v(" "+e._s(e.Retour)+" ")])])])])],1)},Xo=[],Ko=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("div",{staticClass:"w-form"},[a("ul",{staticStyle:{"padding-left":"0"}},[a("draggable",e._b({staticClass:"list-group",attrs:{tag:"ul",handle:".handle"},model:{value:e.documents,callback:function(t){e.documents=t},expression:"documents"}},"draggable",e.dragOptions,!1),[a("transition-group",{attrs:{type:"transition",value:e.drag?null:"flip-list"}},e._l(e.documents,(function(t,o){return a("li",{key:o,staticClass:"list-group-item",attrs:{id:"itemDoc"+t.id}},[a("em",{staticClass:"fas fa-arrows-alt-v handle"}),a("div",{staticStyle:{display:"inline"}},[a("span",{staticClass:"draggable"},[e._v(e._s(t.value))]),a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button"},on:{click:function(a){return e.deleteDoc(o,t.id)}}},[a("em",{staticClass:"fas fa-times"})]),a("div",{class:1==t.need?"text-required":"",staticStyle:{float:"right"}},[e._v(" "+e._s(e.inners[e.langue][2])+" ")]),a("div",{staticClass:"toggle changeStateDoc",staticStyle:{float:"right",margin:"0 12px"},attrs:{id:"spanDoc"+t.id,class:"toggle changeStateDoc"},on:{click:function(a){return e.changeState(o,t.id)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.need,expression:"document.need"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(t.need)?e._i(t.need,null)>-1:e._q(t.need,"1")},on:{change:function(a){var o=t.need,i=a.target,n=i.checked?"1":"0";if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&e.$set(t,"need",o.concat([s])):r>-1&&e.$set(t,"need",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(t,"need",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("div",{class:0==t.need?"text-non-required":"",staticStyle:{float:"right"}},[e._v(" "+e._s(e.inners[e.langue][1])+" ")])])])})),0)],1)],1),a("hr"),a("ul",{staticStyle:{"padding-left":"0"}},[a("draggable",e._b({staticClass:"list-group",attrs:{tag:"ul",handle:".handle"},model:{value:e.undocuments,callback:function(t){e.undocuments=t},expression:"undocuments"}},"draggable",e.undocDragOptions,!1),[a("transition-group",{attrs:{type:"transition",value:e.drag?null:"flip-list"}},e._l(e.undocuments,(function(t,o){return a("li",{key:o,staticClass:"list-group-item undocuments-item",class:1==t.need?"documentObligatoire":0==t.need?"documentFacultatif":"",attrs:{id:"itemDoc"+t.id}},[a("button",{staticClass:"buttonAddDoc",attrs:{type:"button"},on:{click:function(t){return e.addUndoc(o)}}},[a("em",{staticClass:"fas fa-plus"})]),a("div",{staticStyle:{display:"inline"}},[a("span",{staticClass:"draggable"},[e._v(e._s(t.value))]),a("div",{staticStyle:{float:"right"},attrs:{id:"spanDoc"+t.id}},[e._v(" "+e._s(e.inners[e.langue][0])+" ")])])])})),0)],1)],1)]),a("div",{staticClass:"section-sauvegarder-et-continuer-funnel"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.$parent.next()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return e.previousMenu()}}},[e._v(" "+e._s(e.Retour)+" ")])])])])])},Wo=[],Zo=a("4328"),ei={name:"addDocuments",display:"Handle",components:{draggable:pa.a},props:{funnelCategorie:String,obligatoireDoc:Number,profileId:Number,campaignId:Number,langue:Number,formulaireEmundus:Number,menuHighlight:Number},data:function(){return{drag:!1,obligatoireDoc:0,inners:[["Non assigné","Facultatif","Obligatoire"],["Unassigned","Optional","Mandatory"]],documents:[],undocuments:[],attachments:[],attachmentsId:[],unattachments:[],unid:[],Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER")}},methods:{updateDocuments:function(){for(var e=0;e<this.documents.length;e++)this.documents[e].ordering=e;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=updatedocuments",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({body:this.documents,prid:this.profileId,cid:this.campaignId})}).then((function(){})).catch((function(e){console.log(e)}))},removeDocument:function(e){console.log(e),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=removedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({did:e,prid:this.profileId,cid:this.campaignId})}).then((function(){})).catch((function(e){console.log(e)}))},changeState:function(e,t){this.obligatoireDoc=this.documents[e].need,this.obligatoireDoc<1&&this.obligatoireDoc>=-1?this.documents[e].need++:this.documents[e].need=0,this.updateDocuments()},deleteDoc:function(e,t){this.documents[e].need=-1;var a=this.documents[e];this.documents.splice(e,1),this.undocuments.push(a),this.removeDocument(t)},addUndoc:function(e){this.undocuments[e].need=0;var t=this.undocuments[e];this.undocuments.splice(e,1),this.documents.push(t),this.updateDocuments()}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},previousMenu:function(){this.$parent.previous()}},mounted:function(){},created:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getalldocuments&prid="+this.profileId+"&cid="+this.campaignId).then((function(t){for(var a=0;a<t.data.data.length;a++)e.unid.push(t.data.data[a].id),e.documents.push(t.data.data[a])})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getundocuments").then((function(t){for(var a=0,o=0;o<t.data.data.length;o++)a=t.data.data[o].id,e.unid.includes(a)||e.unattachments.push(t.data.data[o]);e.undocuments=e.unattachments.map((function(e){var t={id:e.id,value:e.value,ordering:e.ordering,need:-1};return t}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}},ti=ei,ai=(a("6103"),Object(g["a"])(ti,Ko,Wo,!1,null,null,null)),oi=ai.exports,ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container-evaluation"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.funnelCategorie[0]))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. ")]),a("div",{staticClass:"w-row"},[a("div",{staticClass:"w-col w-col-6"},[a("div",{staticClass:"w-form"},[a("form",{staticClass:"form-2",attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("datetime",{attrs:{placeholder:e.StartDate,type:"datetime",id:"start_date",language:e.fr},model:{value:e.form.start_date,callback:function(t){e.$set(e.form,"start_date",t)},expression:"form.start_date"}})],1)])]),a("div",{staticClass:"w-col w-col-6"},[a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("datetime",{attrs:{placeholder:e.EndDate,type:"datetime",id:"end_date",language:e.fr},model:{value:e.form.end_date,callback:function(t){e.$set(e.form,"end_date",t)},expression:"form.end_date"}})],1)])])]),a("div",{staticClass:"icon-title evaluation"})]),a("div",{staticClass:"divider"}),a("div",{staticClass:"container-evaluation"},[a("h2",{staticClass:"heading"},[e._v(e._s(e.funnelCategorie[1]))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. ")]),a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("div",{staticClass:"container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{staticClass:"dropdown-toggle",attrs:{id:"Grille-d-valuation",name:"Grille-d-valuation","data-name":"Grille D Valuation"}},[a("option",{attrs:{value:""}},[e._v(e._s(e.ChooseEvalutationGrid))]),a("option",{attrs:{value:"Grille d'évaluation 1"}},[e._v("Grille d'évaluation 1")]),a("option",{attrs:{value:"Grille d'évaluation 2"}},[e._v("Grille d'évaluation 2")]),a("option",{attrs:{value:"Grille d'évaluation 3"}},[e._v("Grille d'évaluation 3")])]),a("button",{staticClass:"plus w-inline-block"},[e._v("+")])])])]),a("div",{staticClass:"icon-title evaluation"})])])},ni=[],si={name:"addEvaluation",components:{Datetime:Se["Datetime"]},props:{funnelCategorie:Object,form:Object},data:function(){return{ChooseEvalutationGrid:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EVALUATION_GRID"),StartDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_STARTDATE"),EndDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_ENDDATE")}},methods:{},created:function(){}},ri=si,li=Object(g["a"])(ri,ii,ni,!1,null,null,null),ci=li.exports,di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalWarningFormBuilder"}},[a("modal",{attrs:{name:"modalWarningFormBuilder",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalWarningFormBuilder")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.Warning)+" ")]),a("p",[e._v(" "+e._s(e.FormAffectedToFiles)+" ")])])]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.duplicateProfile()}}},[e._v(e._s(e.Duplicate))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalWarningFormBuilder")}}},[e._v(e._s(e.Retour))])])])],1)},ui=[],mi=a("4328"),pi={name:"modalWarningFormBuilder",props:{pid:Number,cid:Number},data:function(){return{Warning:Joomla.JText._("COM_EMUNDUS_ONBOARD_WARNING"),FormAffectedToFiles:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_AFFECTEDFILES"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Duplicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_DUPLICATE")}},methods:{beforeClose:function(e){},beforeOpen:function(e){},duplicateProfile:function(){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=duplicateform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mi.stringify({id:this.pid})}).then((function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updateprofile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mi.stringify({profile:e.pid,campaign:e.cid})}).then((function(){window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+t.data.data+"&index=0&cid="+e.cid)}))}))}}},_i=pi,fi=(a("6153"),Object(g["a"])(_i,di,ui,!1,null,"a5738386",null)),hi=fi.exports,gi=a("4328"),vi={name:"addFormNextCampaign",components:{ModalWarningFormBuilder:hi,Datetime:Se["Datetime"],addFormulaire:$t,addDocuments:oi,addGestionnaires:Ze,addEmail:bt,addEvaluation:ci,addEvalVisi:Yt,addEvalEval:Zt,addMenu:sa},props:{campaignId:Number,actualLanguage:String,index:Number},data:function(){return{prid:"",EmitIndex:"0",menuHighlight:0,formReload:0,selectedform:"default",formList:"",profileId:null,profiles:[],currentElement:"",currentSpan:"",langue:0,funnelDescription:[[Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCSDESCRIPTION")],[Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCSDESCRIPTION")]],formCategories:[["Aperçu du formulaire","Documents"],["Form Preview","Documents"]],form:{label:"",profile_id:"",start_date:"",end_date:""},From:Joomla.JText._("COM_EMUNDUS_ONBOARD_FROM"),To:Joomla.JText._("COM_EMUNDUS_ONBOARD_TO"),Since:Joomla.JText._("COM_EMUNDUS_ONBOARD_SINCE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),CAMPAIGN:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGN"),FORM:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM"),ChooseEvaluatorGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EVALUATOR_GROUP"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),chooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),chooseProfileWarning:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_PROFILE_WARNING")}},methods:{moment:function(e){return D()(e)},next:function(){this.menuHighlight<1?this.menuHighlight++:window.location.href="/"+this.actualLanguage+"/configuration/campaigns"},previous:function(){this.menuHighlight>0?this.menuHighlight--:window.location.href="/"+this.actualLanguage+"/configuration/campaigns"},formbuilder:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getfilesbyform&pid="+this.profileId).then((function(t){0!=t.data.data?e.$modal.show("modalWarningFormBuilder"):window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+e.profileId+"&index="+e.EmitIndex+"&cid="+e.campaignId)}))},addNewForm:function(){window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=add&cid="+this.campaignId)},updateProfileCampaign:function(e){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updateprofile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:gi.stringify({profile:e,campaign:this.campaignId})}).then((function(e){t.formReload+=1}))}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},created:function(){var e=this;"en"==this.actualLanguage&&(this.langue=1),c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignbyid&id=".concat(this.campaignId)).then((function(t){e.form.label=t.data.data.campaign.label,e.form.profile_id=t.data.data.campaign.profile_id,e.form.start_date=t.data.data.campaign.start_date,e.form.end_date=t.data.data.campaign.end_date,e.form.start_date=D()(e.form.start_date).format("DD/MM/YYYY"),"0000-00-00 00:00:00"==e.form.end_date?e.form.end_date=null:e.form.end_date=D()(e.form.end_date).format("DD/MM/YYYY"),c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getallformpublished").then((function(t){e.profiles=t.data.data,null==e.form.profile_id?(console.log(e.profiles.length),0!=e.profiles.length?e.profileId=e.profiles[0].id:e.profileId=null,null!=e.profileId&&(e.formReload+=1,e.updateProfileCampaign(e.profileId))):(e.formReload+=1,e.profileId=e.form.profile_id)}))})).then((function(){})).catch((function(e){console.log(e)})),this.menuHighlight=this.index}},bi=vi,Ci=(a("3488"),Object(g["a"])(bi,Qo,Xo,!1,null,null,null)),Oi=Ci.exports,Ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column-menu-main w-row",staticStyle:{"margin-top":"120px"}},[a("div",{staticClass:"w-row"},[a("div",{staticClass:"col-md-2 p-1"},[a("transition",{attrs:{name:"slide-right"}},[a("div",{staticClass:"col-md-12 mt-2"},[a("div",{staticClass:"container-menu-funnel"},e._l(e.settingsCategories[e.langue],(function(t,o){return a("div",{key:o},[a("a",{staticClass:"menu-item",class:e.menuHighlight==o?"w--current":"",on:{click:function(t){e.menuHighlight=o}}},[e._v(e._s(t))])])})),0)])])],1),a("div",{staticClass:"col-md-10 p-1",staticStyle:{"padding-left":"2em !important"}},[a("h2",[e._v(e._s(e.settingsCategories[e.langue][e.menuHighlight]))]),a("p",{staticClass:"paragraphe-sous-titre"},[e._v(e._s(e.funnelDescription[e.langue][e.menuHighlight]))]),a("transition",{attrs:{name:"slide-right"}},[0==e.menuHighlight?a("editHomepage",{ref:"homepage",attrs:{actualLanguage:e.actualLanguage}}):e._e(),1==e.menuHighlight?a("editStatus",{ref:"datas"}):e._e(),2==e.menuHighlight?a("editTags",{ref:"tags"}):e._e()],1)],1)]),a("div",{staticClass:"section-sauvegarder-et-continuer-funnel"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return e.next()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return e.previous()}}},[e._v(" "+e._s(e.Retour)+" ")])])])])])},Di=[],xi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},e._l(e.status,(function(t,o){return a("div",{staticClass:"status-item"},[a("div",{staticClass:"status-field",style:{background:t.class}},[a("div",{staticStyle:{width:"100%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.value_fr,expression:"statu.value_fr"}],attrs:{type:"text"},domProps:{value:t.value_fr},on:{input:function(a){a.target.composing||e.$set(t,"value_fr",a.target.value)}}}),t.translate?a("div",{staticClass:"translate-block"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),t.translate?a("input",{directives:[{name:"model",rawName:"v-model",value:t.value_en,expression:"statu.value_en"}],attrs:{type:"text"},domProps:{value:t.value_en},on:{input:function(a){a.target.composing||e.$set(t,"value_en",a.target.value)}}}):e._e()]),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate},staticStyle:{height:"10%","margin-top":"10px"},attrs:{type:"button"},on:{click:function(a){t.translate=!t.translate,e.$forceUpdate()}}}),a("input",{class:"label-"+t.class,attrs:{type:"hidden"}})]),a("v-swatches",{attrs:{swatches:e.swatches,shapes:"circles","row-length":"8","show-border":"","popover-x":"left","popover-y":"top"},model:{value:t.class,callback:function(a){e.$set(t,"class",a)},expression:"statu.class"}})],1)})),0)},Ni=[],Ui=a("7f75"),yi=a.n(Ui),wi=(a("b3a4"),a("4328"),{name:"editStatus",components:{VSwatches:yi.a},props:{},data:function(){return{status:[],show:!1,swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"],TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH")}},methods:{getStatus:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getstatus").then((function(t){e.status=t.data.data,setTimeout((function(){e.getHexColors()}),100)}))},getHexColors:function(){var e=this;this.status.forEach((function(t){t.translate=!1;var a=document.querySelector(".label-"+t.class),o=getComputedStyle(a),i=o.backgroundColor.split("(")[1].split(")")[0].split(",");t.class=e.rgbToHex(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]))}))},rgbToHex:function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1).toUpperCase()}},created:function(){this.getStatus()}}),Mi=wi,Ti=(a("b042"),Object(g["a"])(Mi,xi,Ni,!1,null,null,null)),Ai=Ti.exports,Si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[e._l(e.tags,(function(t,o){return a("div",{staticClass:"status-item tags-item"},[a("div",{staticClass:"status-field",style:{background:t.class}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"tag.label"}],attrs:{type:"text"},domProps:{value:t.label},on:{input:function(a){a.target.composing||e.$set(t,"label",a.target.value)}}}),a("input",{class:t.class,attrs:{type:"hidden"}})]),a("v-swatches",{attrs:{swatches:e.swatches,shapes:"circles","row-length":"8","show-border":"","popover-x":"left","popover-y":"top"},model:{value:t.class,callback:function(a){e.$set(t,"class",a)},expression:"tag.class"}}),a("button",{staticClass:"remove-tag",attrs:{type:"button"},on:{click:function(a){return e.removeTag(t,o)}}},[a("i",{staticClass:"fas fa-trash"})])],1)})),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 create-tag",on:{click:e.pushTag}},[e._v(e._s(e.addTag))])],2)},Ri=[],ki=a("4328"),Ji={name:"editTags",components:{VSwatches:yi.a},props:{},data:function(){return{tags:[],show:!1,swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"],addTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_ADDTAG")}},methods:{getTags:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=gettags").then((function(t){e.tags=t.data.data,setTimeout((function(){e.tags.forEach((function(t){e.getHexColors(t)}))}),100)}))},getHexColors:function(e){var t=document.querySelector("."+e.class),a=getComputedStyle(t),o=a.backgroundColor.split("(")[1].split(")")[0].split(",");e.class=this.rgbToHex(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]))},rgbToHex:function(e,t,a){return"#"+((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1).toUpperCase()},pushTag:function(){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=createtag",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){e.tags.push(t.data),setTimeout((function(){e.getHexColors(t.data)}),100)}))},removeTag:function(e,t){var a=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=deletetag",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ki.stringify({id:e.id})}).then((function(){a.tags.splice(t,1)}))}},created:function(){this.getTags()}},Ii=Ji,Bi=(a("dc51"),Object(g["a"])(Ii,Si,Ri,!1,null,null,null)),Pi=Bi.exports,Li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-evaluation"},[a("ul",{staticClass:"menus-home-row"},e._l(e.languages,(function(t,o){return a("li",{key:o,staticClass:"MenuFormHome"},[a("a",{staticClass:"MenuFormItemHome",class:e.indexHighlight==o?"MenuFormItemHome_current":"",on:{click:function(t){return e.changeTranslation(o)}}},[e._v(" "+e._s(t)+" ")])])})),0),0==e.indexHighlight?a("div",{staticClass:"form-group controls"},[a("editor",{key:e.dynamicComponent,attrs:{text:e.form.content.fr,lang:e.actualLanguage,id:"editor_fr"},model:{value:e.form.content.fr,callback:function(t){e.$set(e.form.content,"fr",t)},expression:"form.content.fr"}})],1):e._e(),1==e.indexHighlight?a("div",{staticClass:"form-group controls"},[a("editor",{key:e.dynamicComponent,attrs:{text:e.form.content.en,lang:e.actualLanguage,id:"editor_en"},model:{value:e.form.content.en,callback:function(t){e.$set(e.form.content,"en",t)},expression:"form.content.en"}})],1):e._e()])},ji=[],Fi=(a("4328"),{name:"editHomepage",components:{Editor:ve},props:{actualLanguage:String},data:function(){return{dynamicComponent:0,indexHighlight:0,form:{content:{fr:"",en:""}},languages:["Français","Anglais"],TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH")}},methods:{getArticle:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=gethomepagearticle").then((function(t){e.form.content.fr=t.data.data.introtext,e.form.content.en=t.data.data.introtext_en}))},changeTranslation:function(e){this.indexHighlight=e,this.dynamicComponent++}},created:function(){this.getArticle()}}),Gi=Fi,$i=(a("a4b5"),Object(g["a"])(Gi,Li,ji,!1,null,null,null)),Hi=$i.exports,qi=a("4328"),Vi={name:"globalSettings",components:{editStatus:Ai,editTags:Pi,editHomepage:Hi},props:{actualLanguage:String},data:function(){return{menuHighlight:0,langue:0,funnelDescription:[[Joomla.JText._("COM_EMUNDUS_ONBOARD_HOMEDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_STATUSDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_TAGSDESCRIPTION")],[Joomla.JText._("COM_EMUNDUS_ONBOARD_HOMEDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_STATUSDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_TAGSDESCRIPTION")]],settingsCategories:[["Page d'accueil","Statuts","Etiquettes"],["Home page","Status","Tags"]],Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER")}},methods:{next:function(){0==this.menuHighlight?(this.menuHighlight++,this.updateHomepage(this.$refs.homepage.$data.form.content)):1==this.menuHighlight?(this.menuHighlight++,this.updateStatus(this.$refs.datas.$data.status)):this.updateTags(this.$refs.tags.$data.tags)},updateStatus:function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatestatus",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:qi.stringify({status:e})}).then((function(){}))},updateTags:function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatetags",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:qi.stringify({tags:e})}).then((function(){window.location.replace("campaigns")}))},updateHomepage:function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatehomepage",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:qi.stringify({content:e})}).then((function(){}))},previous:function(){this.menuHighlight>0?this.menuHighlight--:history.go(-1)}},created:function(){"en"==this.actualLanguage&&(this.langue=1)}},Yi=Vi,zi=Object(g["a"])(Yi,Ei,Di,!1,null,"5ccef5f6",null),Qi=zi.exports,Xi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("notifications",{attrs:{group:"foo-velocity",position:"top right","animation-type":"velocity",speed:500}}),a("ModalAffectCampaign",{attrs:{prid:e.prid}}),a("ModalMenu",{attrs:{profileId:e.prid},on:{AddMenu:e.pushMenu}}),e._l(e.formObjectArray,(function(t,o){return a("ModalSide",{directives:[{name:"show",rawName:"v-show",value:e.formObjectArray[e.indexHighlight],expression:"formObjectArray[indexHighlight]"}],key:o,attrs:{ID:t.rgt,element:t.object,menus:e.formObjectArray,index:o},on:{show:e.show,UpdateUx:e.UpdateUXT,UpdateName:e.UpdateName,UpdateVue:e.updateFormObjectAndComponent,removeMenu:e.removeMenu}})})),a("div",{staticClass:"row form-builder"},[a("div",{staticClass:"heading-block col-md-offset-4"},[a("h1",{staticClass:"form-title",staticStyle:{padding:"0",margin:"0"}},[e._v(e._s(e.profileLabel))]),a("a",{staticStyle:{"margin-left":"1em"},attrs:{href:"index.php?option=com_emundus_onboard&view=form&layout=add&pid="+this.prid}},[a("em",{staticClass:"fas fa-pencil-alt",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{staticClass:"actions-menu menu-block"},[a("div",[a("div",{staticClass:"heading-actions"},[a("label",{staticClass:"form-title",staticStyle:{padding:"0",margin:"0"}},[e._v(e._s(e.Actions))])]),a("div",{staticClass:"action-links"},[a("a",{staticClass:"d-flex action-link",staticStyle:{"padding-top":"2em"},on:{click:function(t){return e.$modal.show("modalMenu")}}},[a("em",{staticClass:"add-page-icon col-md-offset-1"}),a("label",{staticClass:"action-label col-md-offset-2"},[e._v(e._s(e.addMenu))])]),a("a",{staticClass:"d-flex action-link",on:{click:function(t){return e.createGroup()}}},[a("em",{staticClass:"add-group-icon col-md-offset-1"}),a("label",{staticClass:"action-label col-md-offset-2"},[e._v(e._s(e.addGroup))])]),a("a",{staticClass:"d-flex action-link",class:{"disable-element":e.elementDisabled},on:{click:e.showElements}},[a("em",{staticClass:"add-element-icon col-md-offset-1"}),a("label",{staticClass:"action-label col-md-offset-2",class:[{"disable-element":e.elementDisabled},e.addingElement?"down-arrow":"right-arrow"]},[e._v(e._s(e.addItem))])]),e.addingElement?a("draggable",e._b({staticStyle:{"padding-bottom":"2em"},attrs:{handle:".handle","drag-class":"plugin-drag","chosen-class":"plugin-chosen","ghost-class":"plugin-ghost"},on:{start:function(t){e.dragging=!0,e.draggingIndex=e.index},end:function(t){return e.addingNewElement(t)}},model:{value:e.plugins,callback:function(t){e.plugins=t},expression:"plugins"}},"draggable",e.dragOptions,!1),e._l(e.plugins,(function(t,o){return a("div",{staticClass:"d-flex plugin-link col-md-offset-3 handle",attrs:{id:"plugin_"+t.value}},[a("em",{class:t.icon}),a("span",{staticClass:"ml-10px"},[e._v(e._s(t.name))])])})),0):e._e()],1)]),a("a",{staticClass:"send-form-button",on:{click:e.sendForm}},[a("label",{staticStyle:{cursor:"pointer"}},[e._v(e._s(e.sendFormButton))]),a("em",{staticClass:"fas fa-paper-plane",staticStyle:{"font-size":"20px"}})])]),a("div",{staticClass:"col-md-8 col-md-offset-4 menu-block"},[a("ul",{staticClass:"menus-row"},[a("draggable",{class:"draggables-list",attrs:{handle:".handle"},on:{end:e.SomethingChange},model:{value:e.formObjectArray,callback:function(t){e.formObjectArray=t},expression:"formObjectArray"}},e._l(e.formObjectArray,(function(t,o){return a("li",{key:o,staticClass:"MenuForm",on:{mouseover:function(t){return e.enableGrab(o)},mouseleave:function(t){return e.disableGrab()}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.grab&&e.indexGrab==o,expression:"grab && indexGrab == index"}],staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("a",{staticClass:"MenuFormItem",class:e.indexHighlight==o?"MenuFormItem_current":"",on:{click:function(a){return e.changeGroup(o,t.rgt)}}},[e._v(" "+e._s(t.object.show_title.value)+" ")])])})),0)],1),a("div",{staticClass:"col-md-12 form-viewer-builder"},[e.formObjectArray[e.indexHighlight]?a("Builder",{key:e.builderKey,ref:"builder",attrs:{object:e.formObjectArray[e.indexHighlight],UpdateUx:e.UpdateUx,rgt:e.rgt},on:{show:e.show,UpdateFormBuilder:e.updateFormObjectAndComponent,removeGroup:e.removeGroup}}):e._e()],1)])]),e.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()],2)},Ki=[],Wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid",attrs:{id:"FormBuilder"}},[a("div",{staticClass:"row"},[e.object?a("BuilderViewer",{key:e.builderViewKey,ref:"builder_viewer",staticClass:"col-md-12",attrs:{object:e.object,groups:e.GroupList,change:this.change,changedElement:this.changedElement,changedGroup:this.changedGroup,UpdateUx:e.UpdateUx},on:{show:e.show,UpdateUxf:e.UpdateUXF}}):e._e()],1)])},Zi=[],en=(a("8615"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BuilderViewer",attrs:{id:"BuilderViewer"}},[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"}}),e.object_json.show_page_heading?a("div",{class:e.object_json.show_page_heading.class,domProps:{innerHTML:e._s(e.object_json.show_page_heading.page_heading)}}):e._e(),a("div",{staticClass:"d-flex"},[e.object_json.show_title?a("h2",{staticClass:"page_header",domProps:{innerHTML:e._s(e.object_json.show_title.value)}}):e._e(),a("span",{on:{click:function(t){return e.$modal.show("modalSide"+e.object.rgt)}}},[a("em",{staticClass:"fas fa-pencil-alt",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])]),e.object_json.intro?a("p",{staticClass:"introP",domProps:{innerHTML:e._s(e.object_json.intro)}}):e._e(),a("form",{staticClass:"form-page",attrs:{method:"post","object_json.attribs":""},on:{submit:function(e){e.preventDefault()}}},[e.object_json.plugintop?a("div",{domProps:{innerHTML:e._s(e.object_json.plugintop)}}):e._e(),a("draggable",{attrs:{handle:".handle"},on:{start:function(t){e.draggable=!0},end:e.SomethingChangeInGroup},model:{value:e.groups,callback:function(t){e.groups=t},expression:"groups"}},e._l(e.orderedGroups,(function(t,o){return a("div",{key:t.index,on:{mouseover:function(a){return e.enableGroupHover(t.group_id)},mouseleave:function(t){return e.disableGroupHover()}}},[a("fieldset",{class:t.group_class,style:t.group_css,attrs:{id:"group_"+t.group_id}},[a("div",{staticClass:"d-flex",class:e.updateGroup&&e.indexGroup==t.group_id?"hidden":"",staticStyle:{width:"100%"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverGroup&&e.indexGroup==t.group_id,expression:"hoverGroup && indexGroup == group.group_id"}],staticClass:"icon-handle-group"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),t.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[e._v(" "+e._s(t.group_showLegend)+" ")]):e._e(),a("a",{staticStyle:{"margin-left":"1em"},on:{click:function(a){return e.enableUpdatingGroup(t)}}},[a("em",{staticClass:"fas fa-pencil-alt",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.updateGroup&&e.indexGroup==t.group_id,expression:"updateGroup && indexGroup == group.group_id"}],staticStyle:{width:"max-content"}},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label_fr,expression:"group.label_fr"}],staticClass:"form-control",class:e.translate.label_group?"":"mb-1",staticStyle:{width:"400px"},attrs:{id:"update_input_"+t.group_id},domProps:{value:t.label_fr},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateLabelGroup(t)},input:function(a){a.target.composing||e.$set(t,"label_fr",a.target.value)}}}),a("button",{staticClass:"translate-icon",class:e.translate.label_group?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(t){e.translate.label_group=!e.translate.label_group}}}),a("div",{staticClass:"d-flex actions-update-label",style:e.translate.label_group?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{staticStyle:{"margin-left":"1em",color:"black"},on:{click:function(a){return e.deleteAGroup(t,o)}}},[a("em",{staticClass:"fas fa-trash-alt",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})]),a("a",{on:{click:function(t){e.updateGroup=!1,e.translate.label_group=!1}}},[a("em",{staticClass:"fas fa-times ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})]),a("a",{on:{click:function(a){return e.updateLabelGroup(t)}}},[a("em",{staticClass:"fas fa-check ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])])]),e.translate.label_group?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.label_group?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label_en,expression:"group.label_en"}],staticClass:"form-control",attrs:{type:"text",maxlength:"40"},domProps:{value:t.label_en},on:{input:function(a){a.target.composing||e.$set(t,"label_en",a.target.value)}}})]):e._e()]),t.group_intro?a("div",{staticClass:"groupintro"},[e._v(e._s(t.group_intro))]):e._e(),e.openGroup[t.group_id]?a("div",{staticClass:"elements-block"},[a("draggable",{staticClass:"draggable-span",attrs:{handle:".handle",group:"items"},on:{start:function(t){e.draggable=!0},end:e.SomethingChange},model:{value:t.elts,callback:function(a){e.$set(t,"elts",a)},expression:"group.elts"}},[a("transition-group",{attrs:{name:"slide-down",type:"transition"}},e._l(t.elts,(function(t,o){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.hidden,expression:"element.hidden === false"}],key:t.id,staticClass:"builder-item-element",class:{"element-updating":e.hoverUpdating&&e.indexHighlight==t.id,unpublished:!t.publish,"draggable-item":e.draggable&&e.indexHighlight==t.id},on:{mouseover:function(a){return e.enableActionBar(t.id)},mouseleave:function(t){return e.disableActionBar()}}},[a("modalEditElement",{attrs:{ID:t.id,element:t,id:t.id},on:{reloadElement:function(a){return e.reloadElement(t)}}}),a("div",{staticClass:"d-flex builder-item-element__properties"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.hoverUpdating&&e.indexHighlight==t.id,expression:"hoverUpdating && indexHighlight == element.id"}],class:t.publish?"icon-handle":"icon-handle-unpublished"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex",staticStyle:{"align-items":"baseline"}},[t.label?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=t.labelsAbove,expression:"element.labelsAbove != 2"}],class:e.clickUpdatingLabel&&e.indexHighlight==t.id?"hidden":"",domProps:{innerHTML:e._s(t.label)}}):e._e(),a("a",{style:e.hoverUpdating&&e.indexHighlight==t.id&&!e.clickUpdatingLabel?"opacity: 1":"opacity: 0",on:{click:e.enableLabelInput}},[a("em",{staticClass:"fas fa-pencil-alt ml-10px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.clickUpdatingLabel&&e.indexHighlight==t.id,expression:"clickUpdatingLabel && indexHighlight == element.id"}],staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label_fr,expression:"element.label_fr"}],staticClass:"form-control",class:e.translate.label?"":"mb-1",domProps:{value:t.label_fr},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.updateLabelElement(t)},input:function(a){a.target.composing||e.$set(t,"label_fr",a.target.value)}}}),a("button",{staticClass:"translate-icon",class:e.translate.label?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}}),a("div",{staticClass:"d-flex actions-update-label",style:e.translate.label?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{on:{click:function(t){e.clickUpdatingLabel=!1,e.translate.label=!1}}},[a("em",{staticClass:"fas fa-times ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})]),a("a",{on:{click:function(a){return e.updateLabelElement(t)}}},[a("em",{staticClass:"fas fa-check ml-20px",attrs:{"data-toggle":"tooltip","data-placement":"top",title:e.sidemenuhelp}})])])]),e.translate.label&&e.clickUpdatingLabel&&e.indexHighlight==t.id?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.label&&e.clickUpdatingLabel&&e.indexHighlight==t.id?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label_en,expression:"element.label_en"}],staticClass:"form__input field-general w-input",attrs:{type:"text",maxlength:"40"},domProps:{value:t.label_en},on:{input:function(a){a.target.composing||e.$set(t,"label_en",a.target.value)}}})]):e._e(),t.params.date_table_format?a("div",[a("date-picker",{attrs:{config:e.options},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1):0==t.labelsAbove?a("div",{staticClass:"controls"},[t.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]):a("span",{staticClass:"d-flex w-100"},[t.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:e._s(t.error)}}):e._e(),t.element?a("div",{staticClass:"w-100",class:t.errorClass,domProps:{innerHTML:e._s(t.element)}}):e._e(),t.tipSide?a("span",{domProps:{innerHTML:e._s(t.tipSide)}}):e._e()]),t.tipBelow?a("span",{domProps:{innerHTML:e._s(t.tipBelow)}}):e._e()])]),a("div",{staticClass:"actions-item-bar d-flex",style:e.hoverUpdating&&e.indexHighlight==t.id?"opacity: 1":"opacity: 0"},[a("a",{staticClass:"d-flex mr-2 text-orange",on:{click:function(a){return e.publishUnpublishElement(t)}}},[a("em",{class:[t.publish?"fa-eye-slash":"fa-eye","far"],attrs:{id:"publish_icon_"+t.id}}),t.publish?a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Unpublish))]):e._e(),t.publish?e._e():a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Publish))])]),a("a",{staticClass:"d-flex mr-2 text-orange"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.FRequire,expression:"element.FRequire"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.FRequire)?e._i(t.FRequire,null)>-1:t.FRequire},on:{click:function(a){return e.updateRequireElement(t)},change:function(a){var o=t.FRequire,i=a.target,n=!!i.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&e.$set(t,"FRequire",o.concat([s])):r>-1&&e.$set(t,"FRequire",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(t,"FRequire",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Required))])]),a("a",{staticClass:"d-flex mr-2 text-orange",on:{click:function(a){return e.$modal.show("modalEditElement"+t.id)}}},[a("em",{staticClass:"fas fa-cog"}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Settings))])]),a("a",{staticClass:"d-flex mr-2",staticStyle:{color:"black"},on:{click:function(a){return e.deleteElement(t,o)}}},[a("em",{staticClass:"fas fa-trash-alt"}),a("span",{staticClass:"ml-10px"},[e._v(e._s(e.Delete))])])])],1)})),0)],1)],1):e._e(),t.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:e._s(e.group_outro)}}):e._e()])])})),0),e.object_json.pluginbottom?a("div",{domProps:{innerHTML:e._s(e.object_json.pluginbottom)}}):e._e()],1)])}),tn=[],an=a("4328"),on={name:"BuilderViewer",props:{object:Object,groups:Array,change:Boolean,changedElement:Array,changedGroup:String,UpdateUx:Boolean},components:{datePicker:Mt.a,draggable:pa.a,modalEditElement:no},data:function(){return{object_json:"",openGroup:{},hoverUpdating:!1,hoverGroup:!1,lastIndex:0,indexHighlight:0,indexGroup:-1,clickUpdatingLabel:!1,updateGroup:!1,draggable:!1,fieldChanges:!1,date:new Date,options:{format:"DD/MM/YYYY",useCurrent:!1},translate:{label:!1,label_group:!1},update:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),orderSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ORDERSUCESS"),orderFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ORDERFAILED"),updateFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED"),sidemenuhelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_SIDEMENUHELP"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Unpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),Required:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),Settings:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_SETTINGS"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE")}},methods:{updateElementsOrder:function(){var e=Object(ua["a"])(regeneratorRuntime.mark((function e(t,a){var o,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=a.map((function(e,t){return{id:e.id,order:t+1}})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updateOrder",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({elements:o,group_id:t})}).then((function(e){i.$emit("show","foo-velocity","success",i.orderSuccess,i.update);var t=i.object.link.replace("fabrik","emundus_onboard");c.a.get(t+"&format=vue_jsonclean").then((function(e){i.groups.forEach((function(t){i.object_json.Groups["group_"+t.group_id].elements=e.data.Groups["group_"+t.group_id].elements}))}))})).catch((function(e){i.$emit("show","foo-velocity","error",i.orderFailed,i.updating),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),updateRequireElement:function(e){var t=this;setTimeout((function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=changerequire",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({element:e})}).then((function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:function(e){return an.stringify(e)}}).then((function(a){e.label=a.data.label,t.$emit("show","foo-velocity","success",t.updateSuccess,t.update)}))})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))}),300)},publishUnpublishElement:function(e){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=publishunpublishelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({element:e.id})}).then((function(a){e.publish=!e.publish,e.publish?(document.getElementById("publish_icon_"+e.id).classList.remove("fa-eye"),document.getElementById("publish_icon_"+e.id).classList.add("fa-eye-slash")):(document.getElementById("publish_icon_"+e.id).classList.add("fa-eye"),document.getElementById("publish_icon_"+e.id).classList.remove("fa-eye-slash")),t.$emit("show","foo-velocity","success",t.updateSuccess,t.update)})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},deleteElement:function(e,t){var a=this;X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEELEMENT"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteElement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({element:e.id})}).then((function(){X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ELEMENTDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){a.object_json.Groups["group_"+e.group_id].elts.splice(t,1),delete a.object_json.Groups["group_"+e.group_id].elements["element"+e.id],a.$forceUpdate()}))})).catch((function(e){console.log(e)}))}))},updateLabelElement:function(e){var t=this,a={fr:e.label_fr,en:e.label_en};"Unnamed item"===a.en&&(a.en=a.fr,e.label_en=a.fr),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({labelTofind:e.label_tag,NewSubLabel:a})}).then((function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:function(e){return an.stringify(e)}}).then((function(a){e.label=a.data.label,t.$emit("show","foo-velocity","success",t.updateSuccess,t.update),t.translate.label=!1,t.clickUpdatingLabel=!1}))})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},reloadElement:function(e){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.id,gid:e.group_id},paramsSerializer:function(e){return an.stringify(e)}}).then((function(t){e.element=t.data.element,e=t.data})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},updateLabelGroup:function(e){var t=this,a={fr:e.label_fr,en:e.label_en};c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({labelTofind:e.group_tag,NewSubLabel:a})}).then((function(){t.$emit("show","foo-velocity","success",t.updateSuccess,t.update),e.group_showLegend=e.label_fr,t.translate.label_group=!1,t.updateGroup=!1})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},deleteAGroup:function(e,t){var a=this;X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUPWARNING"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteGroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({gid:e.group_id})}).then((function(){X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_GROUPDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){a.groups.splice(t,1),delete a.object_json.Groups["group_"+e.group_id],a.$forceUpdate()}))})).catch((function(e){console.log(e)}))}))},updateGroupsOrder:function(){var e=this,t=this.groups.map((function(e,t){return e.ordering=t+2,{id:e.group_id,order:t+2}}));c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=reordergroups",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:an.stringify({groups:t,fid:this.object_json.id})}).then((function(t){e.$emit("show","foo-velocity","success",e.orderSuccess,e.update)})).catch((function(t){e.$emit("show","foo-velocity","error",e.orderFailed,e.updating),console.log(t)}))},getDataObject:_e.a.debounce((function(){this.object_json=this.object.object,this.getElementsArray()}),500),getApiData:_e.a.debounce((function(){var e=this;this.$emit("show","foo-velocity","",this.updating,this.update);var t=this.object.link.replace("fabrik","emundus_onboard");c.a.get(t+"&format=vue_jsonclean").then((function(t){e.object_json=t.data,e.$emit("UpdateUxf"),e.$emit("show","foo-velocity","success",e.updateSuccess,e.update)}))}),1e3),getElementsArray:function(){var e=this;Object.keys(this.object_json.Groups).forEach((function(t){e.object_json.Groups[t].elts=[],e.openGroup[e.object_json.Groups[t].group_id]=!0,Object.keys(e.object_json.Groups[t].elements).forEach((function(a){e.object_json.Groups[t].elts.push(e.object_json.Groups[t].elements[a])}))}))},enableActionBar:function(e){this.hoverUpdating=!0,this.indexHighlight=e,this.lastIndex=e},disableActionBar:function(){this.clickUpdatingLabel||(this.hoverUpdating=!1,this.clickUpdatingLabel=!1,this.indexHighlight=0,this.translate.label=!1)},enableLabelInput:function(){this.clickUpdatingLabel=!0},enableUpdatingGroup:function(e){this.updateGroup=!0,this.indexGroup=e.group_id,setTimeout((function(){document.getElementById("update_input_"+e.group_id).focus()}),200)},enableGroupHover:function(e){this.hoverGroup=!0,this.indexGroup=e},disableGroupHover:function(){this.updateGroup||(this.hoverGroup=!1,this.updateGroup=!1,this.indexGroup=-1)},SomethingChange:function(e){var t=this,a=e.item.childNodes[0].id;this.groups.forEach((function(e){e.elts.forEach((function(o){o.id==a&&t.updateElementsOrder(e.group_id,e.elts)}))})),this.draggable=!1},SomethingChangeInGroup:function(){this.draggable=!1,this.updateGroupsOrder()}},created:function(){this.getDataObject()},watch:{object:function(){this.getDataObject()},UpdateUx:function(){!0===this.UpdateUx&&this.getApiData()}},computed:{orderedGroups:function(){return _e.a.orderBy(this.groups,"ordering")}}},nn=on,sn=(a("e8e4"),Object(g["a"])(nn,en,tn,!1,null,"34d4628e",null)),rn=sn.exports,ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalElement"}},[a("modal",{attrs:{name:"modalElement",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalElement")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addElement)+" ")])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.ChooseGroup)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.gid,expression:"gid"}],staticClass:"dropdown-toggle",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.gid=t.target.multiple?a:a[0]}}},e._l(e.groups,(function(t,o){return a("option",{domProps:{value:t.group_id}},[e._v(e._s(t.group_showLegend))])})),0)])]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.createElement()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalElement")}}},[e._v(e._s(e.Retour))])]),e.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()])],1)},cn=[],dn=a("4328"),un={name:"modalElement",props:{groups:Number},data:function(){return{submitted:!1,changes:!1,gid:0,addElement:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),ChooseGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_GROUP"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),ElementCreated:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_CREATEDELEMENT"),ElementCreating:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_CREATEDELEMENTSUCCES")}},methods:{beforeClose:function(e){!0===this.changes&&this.$emit("show","foo-velocity","success",this.ElementCreated,this.ElementCreating),this.changes=!1},beforeOpen:function(e){this.gid=Object.values(this.groups)[0].group_id},createElement:function(){var e=this;this.changes=!0,this.submitted=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimpleelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:dn.stringify({gid:this.gid})}).then((function(t){e.submitted=!1,e.$modal.hide("modalElement"),e.$emit("GetElement",t.data.scalar,e.gid)}))}},watch:{model_id:function(e){var t=this;-1!=e?Object.values(this.models).forEach((function(e){if(e.form_id==t.model_id){t.label.fr=e.label.fr,t.label.en=e.label.en;var a=document.createElement("div"),o=document.createElement("div");a.innerHTML=e.intro.fr,o.innerHTML=e.intro.en,t.intro.fr=a.innerText,t.intro.en=o.innerText}})):(this.label.fr="",this.intro.fr="")}}},mn=un,pn=(a("27c7"),Object(g["a"])(mn,ln,cn,!1,null,"10eeee1e",null)),_n=pn.exports,fn=a("4328"),hn={name:"FormBuilder",props:{object:Object,UpdateUx:Boolean,rgt:Number},components:{draggable:pa.a,BuilderViewer:rn,ModalElement:_n},data:function(){return{newlabel:[],dblckickLabel:[],testastos:[],ElementList:[],GroupList:[],object_json:Object,GroupsObject:Object,change:!1,changedElement:"",changedGroup:"",update:!1,builderViewKey:0,addGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),editGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EDITGROUP"),deleteGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),deleteMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU")}},methods:{UpdateUXT:function(){this.UpdateUx=!0},UpdateUXF:function(){this.UpdateUx=!1},UpdateLabel:function(e,t){e.label_raw=t},UpdateGroupName:function(e,t){this.object_json.Groups[e].group_showLegend=t},UpdateBuilderView:function(){this.$emit("UpdateFormBuilder")},show:function(e,t,a,o){this.$emit("show",e,t,a,o)},Initialised:function(){for(var e in this.GroupsObject){var t=this.object.rgt+"_"+this.GroupsObject[e].group_id;this.ElementList[t]=Object.values(this.GroupsObject[e].elements)}},deleteAMenu:function(e){var t=this;X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENUWARNING"),type:"warning",showCancelButton:!0}).then((function(a){a.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteMenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:fn.stringify({mid:e})}).then((function(){t.$modal.hide("modalSide"+t.ID),X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MENUDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){t.$emit("UpdateFormBuilder")}))})).catch((function(e){console.log(e)}))}))},updateOrder:function(){var e=Object(ua["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.builder_viewer.updateElementsOrder(t,a);case 2:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),getDataObject:function(){this.object_json=this.object.object,this.GroupList=Object.values(this.object_json.Groups),this.GroupsObject=this.object_json.Groups,this.Initialised()}},created:function(){this.getDataObject()},watch:{object:function(){this.getDataObject()},update:function(){!0===this.update&&this.getDataObject()},UpdateUx:function(){!0===this.UpdateUx&&this.UpdateUXT()}}},gn=hn,vn=(a("0a64"),Object(g["a"])(gn,Wi,Zi,!1,null,"58b3bf37",null)),bn=vn.exports,Cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalSide"}},[a("modal",{attrs:{name:"modalSide"+e.ID,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalSide"+e.ID)}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.editMenu)+" ")])]),a("div",{staticClass:"form-group",class:{"mb-0":e.translate.label}},[a("label",[e._v(e._s(e.Name)+" :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.fr,expression:"label.fr"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:e.label.fr},on:{input:function(t){t.target.composing||e.$set(e.label,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}})])]),e.translate.label?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.label?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.en,expression:"label.en"}],staticClass:"form__input field-general w-input",attrs:{type:"text",maxlength:"40"},domProps:{value:e.label.en},on:{input:function(t){t.target.composing||e.$set(e.label,"en",t.target.value)}}})]):e._e(),e.errors?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":e.translate.intro}},[a("label",[e._v(e._s(e.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.fr,expression:"intro.fr"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.fr},on:{input:function(t){t.target.composing||e.$set(e.intro,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.intro},attrs:{type:"button"},on:{click:function(t){e.translate.intro=!e.translate.intro}}})])]),e.translate.intro?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.intro?a("div",{staticClass:"form-group mb-1"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.en,expression:"intro.en"}],staticClass:"form__input field-general w-input",attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.en},on:{input:function(t){t.target.composing||e.$set(e.intro,"en",t.target.value)}}})]):e._e(),a("div",{staticClass:"col-md-12 d-flex mb-1",staticStyle:{"align-items":"center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.template)?e._i(e.template,null)>-1:e.template},on:{change:function(t){var a=e.template,o=t.target,i=!!o.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&(e.template=a.concat([n])):s>-1&&(e.template=a.slice(0,s).concat(a.slice(s+1)))}else e.template=i}}}),a("label",{staticClass:"ml-10px"},[e._v(e._s(e.SaveAsTemplate)+" :")])]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){t.preventDefault(),e.$modal.hide("modalSide"+e.ID),e.UpdateParams()}}},[e._v(e._s(e.Continuer))]),e.menus.length>1?a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-delete",on:{click:function(t){return t.preventDefault(),e.deleteMenu()}}},[e._v(" "+e._s(e.Delete)+" ")]):e._e(),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalSide"+e.ID)}}},[e._v(e._s(e.Retour))])])])])],1)},On=[],En=a("4328"),Dn={name:"modalSide",props:{ID:Number,element:Object,index:Number,menus:Array},components:{},data:function(){return{tempEl:[],translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},template:!1,errors:!1,changes:!1,Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),dataSaved:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),orderingMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MENUORDERING"),editMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EDITMENU"),Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),SaveAsTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{UpdateParams:function(){this.changes=!0,""==this.label.en&&(this.label.en=this.label.fr),""==this.intro.en&&(this.intro.en=this.intro.fr),this.axioschange(this.intro,this.tempEl.intro_raw),this.axioschange(this.label,this.tempEl.show_title.titleraw),this.saveAsTemplate(),this.element=JSON.parse(JSON.stringify(this.tempEl)),this.$emit("UpdateName",this.index,this.label.fr),this.$emit("UpdateUx")},beforeClose:function(e){0!=this.changes&&(this.$emit("show","foo-velocity","success",this.dataSaved,this.informations),this.changes=!1)},beforeOpen:function(e){this.initialisation()},axioschange:function(e,t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:En.stringify({labelTofind:t,NewSubLabel:e})}).catch((function(e){console.log(e)}))},axiostrad:function(e){return c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:En.stringify({toJTEXT:e})})},deleteMenu:function(){var e=this;X.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(t){t.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deletemenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:En.stringify({mid:e.element.id})}).then((function(t){e.$emit("removeMenu",e.element.id),e.$modal.hide("modalSide"+e.ID)}))}))},saveAsTemplate:function(){return c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=savemenuastemplate",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:En.stringify({menu:this.element,template:this.template})})},checkIfTemplate:function(){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getPagesModel"}).then((function(t){var a={};try{Object.values(t.data).forEach((function(t,o){if(t.form_id==e.element.id)throw e.template=!0,a}))}catch(o){if(o!==a)throw e.template=!1}}))},initialisation:function(){var e=this;this.tempEl=JSON.parse(JSON.stringify(this.element)),this.axiostrad(this.tempEl.intro_raw).then((function(t){e.intro.fr=t.data.fr,e.intro.en=t.data.en})).catch((function(e){console.log(e)})),this.axiostrad(this.tempEl.show_title.titleraw).then((function(t){e.label.fr=t.data.fr,e.label.en=t.data.en})).catch((function(e){console.log(e)})),this.checkIfTemplate()}},watch:{element:function(){this.tempEl=JSON.parse(JSON.stringify(this.element))}},created:function(){}},xn=Dn,Nn=(a("2588"),Object(g["a"])(xn,Cn,On,!1,null,"2559a40a",null)),Un=Nn.exports,yn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalMenu"}},[a("modal",{attrs:{name:"modalMenu",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalMenu")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.addMenu)+" ")])]),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.ChooseExistingPageModel)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model_id,expression:"model_id"}],staticClass:"dropdown-toggle",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.model_id=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}}),e._l(e.models,(function(t,o){return a("option",{domProps:{value:t.form_id}},[e._v(e._s(t.label.fr))])}))],2)]),a("div",{staticClass:"form-group",class:{"mb-0":e.translate.label}},[a("label",[e._v(e._s(e.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.fr,expression:"label.fr"}],staticClass:"form__input field-general w-input",class:{"is-invalid":e.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40",id:"menu_label"},domProps:{value:e.label.fr},on:{input:function(t){t.target.composing||e.$set(e.label,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.label},attrs:{type:"button"},on:{click:function(t){e.translate.label=!e.translate.label}}})])]),e.translate.label?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.label?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label.en,expression:"label.en"}],staticClass:"form__input field-general w-input",attrs:{type:"text",maxlength:"40"},domProps:{value:e.label.en},on:{input:function(t){t.target.composing||e.$set(e.label,"en",t.target.value)}}})]):e._e(),e.errors&&-1==e.model_id?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[e._v(e._s(e.LabelRequired))])]):e._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":e.translate.intro}},[a("label",[e._v(e._s(e.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.fr,expression:"intro.fr"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.fr},on:{input:function(t){t.target.composing||e.$set(e.intro,"fr",t.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate.intro},attrs:{type:"button"},on:{click:function(t){e.translate.intro=!e.translate.intro}}})])]),e.translate.intro?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[e._v(" "+e._s(e.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):e._e(),e.translate.intro?a("div",{staticClass:"form-group mb-1"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.intro.en,expression:"intro.en"}],staticClass:"form__input field-general w-input",attrs:{rows:"3",maxlength:"300"},domProps:{value:e.intro.en},on:{input:function(t){t.target.composing||e.$set(e.intro,"en",t.target.value)}}})]):e._e(),-1==e.model_id?a("div",{staticClass:"col-md-12 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.template)?e._i(e.template,null)>-1:e.template},on:{change:function(t){var a=e.template,o=t.target,i=!!o.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);o.checked?s<0&&(e.template=a.concat([n])):s>-1&&(e.template=a.slice(0,s).concat(a.slice(s+1)))}else e.template=i}}}),a("label",{staticClass:"ml-10px"},[e._v(e._s(e.SaveAsTemplate)+" :")])]):e._e()]),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.createMenu()}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalMenu")}}},[e._v(e._s(e.Retour))])]),e.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#de6339"}})],1):e._e()])],1)},wn=[],Mn=a("4328"),Tn={name:"modalMenu",props:{profileId:Number},data:function(){return{translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},model_id:-1,template:!1,models:[],errors:!1,changes:!1,submitted:!1,Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),dataSaved:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),addMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),ChooseExistingPageModel:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_CHOOSE_EXISTING_MODEL_PAGE"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),SaveAsTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{beforeClose:function(e){!0===this.changes&&this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations),this.changes=!1},beforeOpen:function(e){this.getExistingPages()},getExistingPages:function(){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getPagesModel"}).then((function(t){e.models=t.data}))},createMenu:function(){var e=this;this.changes=!0,""!=this.label.fr||-1!=this.model_id?(this.translate.label||(this.label.en=this.label.fr),this.translate.intro||(this.intro.en=this.intro.fr),this.submitted=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createMenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Mn.stringify({label:this.label,intro:this.intro,prid:this.profileId,modelid:this.model_id,template:this.template})}).then((function(t){e.submitted=!1,e.$modal.hide("modalMenu"),e.$emit("AddMenu",t.data)})).catch((function(e){console.log(e)}))):this.errors=!0}},watch:{model_id:function(e){var t=this;-1!=e?Object.values(this.models).forEach((function(e){if(e.form_id==t.model_id){t.label.fr=e.label.fr,t.label.en=e.label.en;var a=document.createElement("div"),o=document.createElement("div");a.innerHTML=e.intro.fr,o.innerHTML=e.intro.en,t.intro.fr=a.innerText,t.intro.en=o.innerText}})):(this.label.fr="",this.intro.fr="")}}},An=Tn,Sn=(a("7b04"),Object(g["a"])(An,yn,wn,!1,null,"74ea5a60",null)),Rn=Sn.exports,kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{attrs:{id:"modalAffectCampaign"}},[a("modal",{attrs:{name:"modalAffectCampaign",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:e.beforeClose,"before-open":e.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAffectCampaign")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[e._v(" "+e._s(e.affectCampaigns)+" ")])]),0===e.campaigns.length?a("p",{staticClass:"mt-1 mb-1"},[e._v(e._s(e.campaignsEmpty))]):e._e(),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:e.Search},domProps:{value:e.searchTerm},on:{keyup:e.searchCampaignByTerm,input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:e.searchCampaignByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),e._l(e.campaigns,(function(t,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.affectedCampaigns[t.id],expression:"affectedCampaigns[campaign.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.affectedCampaigns[t.id])?e._i(e.affectedCampaigns[t.id],null)>-1:e.affectedCampaigns[t.id]},on:{change:function(a){var o=e.affectedCampaigns[t.id],i=a.target,n=!!i.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);i.checked?r<0&&e.$set(e.affectedCampaigns,t.id,o.concat([s])):r>-1&&e.$set(e.affectedCampaigns,t.id,o.slice(0,r).concat(o.slice(r+1)))}else e.$set(e.affectedCampaigns,t.id,n)}}}),a("div",{staticClass:"ml-10px"},[a("p",[e._v(e._s(t.label))])])])}))],2),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(t){return t.preventDefault(),e.affectToForm(t)}}},[e._v(e._s(e.Continuer))]),a("a",{staticClass:"bouton-sauvergarder-et-continuer-3 w-retour",on:{click:function(t){return t.preventDefault(),e.$modal.hide("modalAffectCampaign")}}},[e._v(e._s(e.Retour))])])])],1)},Jn=[],In=a("4328"),Bn={name:"modalAffectCampaign",props:{prid:Number},data:function(){return{campaigns:[],affectedCampaigns:[],searchTerm:"",Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),affectCampaigns:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_AFFECTCAMPAIGNS"),campaignsEmpty:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_CAMPAIGNSEMPTY")}},methods:{beforeClose:function(e){},beforeOpen:function(e){this.getCampaigns()},affectToForm:function(){var e=this,t=[];this.campaigns.forEach((function(a){e.affectedCampaigns[a.id]&&t.push(a.id)})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=affectcampaignstoform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:In.stringify({prid:this.prid,campaigns:t})}).then((function(){e.$modal.hide("modalAffectCampaign"),history.go(-1)}))},getCampaigns:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignstoaffect").then((function(t){e.campaigns=t.data.data}))},searchCampaignByTerm:function(){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignstoaffectbyterm&term="+this.searchTerm).then((function(t){e.campaigns=t.data.data}))}}},Pn=Bn,Ln=(a("0582"),Object(g["a"])(Pn,kn,Jn,!1,null,"2c3cf15a",null)),jn=Ln.exports,Fn=a("4328"),Gn={name:"FormBuilder",props:{prid:String,index:Number,cid:Number},components:{ModalAffectCampaign:jn,ModalElement:_n,Builder:bn,ModalSide:Un,ModalMenu:Rn,draggable:pa.a},data:function(){return{UpdateUx:!1,showModal:!1,indexHighlight:"0",indexGrab:"0",formObjectArray:[],thevalue:"",formList:"",profileLabel:"",id:0,grab:0,rgt:0,builderKey:0,animation:{enter:{opacity:[1,0],translateX:[0,-300],scale:[1,.2]},leave:{opacity:0,height:0}},loading:!1,link:"",dragging:!1,draggingIndex:-1,elementDisabled:!1,addingElement:!1,plugins:{field:{id:0,value:"field",icon:"fas fa-font",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},birthday:{id:1,value:"birthday",icon:"far fa-calendar-alt",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},checkbox:{id:2,value:"checkbox",icon:"far fa-check-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},dropdown:{id:3,value:"dropdown",icon:"fas fa-th-list",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},radiobutton:{id:4,value:"radiobutton",icon:"fas fa-list-ul",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},textarea:{id:5,value:"textarea",icon:"far fa-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")}},buildmenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDMENU"),preview:Joomla.JText._("COM_EMUNDUS_ONBOARD_PREVIEW"),addMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),addGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),Actions:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS"),sendFormButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEND_FORM")}},methods:{createElement:function(e,t,a){var o=this;_e.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups)||(this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimpleelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Fn.stringify({gid:e,plugin:t})}).then((function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.data.scalar,gid:e},paramsSerializer:function(e){return Fn.stringify(e)}}).then((function(t){o.formObjectArray[o.indexHighlight].object.Groups["group_"+e].elements["element"+t.data.id]=t.data,o.formObjectArray[o.indexHighlight].object.Groups["group_"+e].elts.splice(a,0,t.data),o.$refs.builder.updateOrder(e,o.formObjectArray[o.indexHighlight].object.Groups["group_"+e].elts),o.loading=!1}))})))},addingNewElement:function(e){this.dragging=!1,this.draggingIndex=-1;var t=e.clone.id.split("_")[1],a=e.to.parentElement.parentElement.parentElement.id.split("_")[1];"undefined"!=typeof a&&this.createElement(a,t,e.newIndex)},createGroup:function(){var e=this;this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimplegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Fn.stringify({fid:this.formObjectArray[this.indexHighlight].object.id})}).then((function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXT",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Fn.stringify({toJTEXT:t.data.group_tag})}).then((function(a){t.data.group_showLegend=a.data,e.loading=!1,e.pushGroup(t.data)}))}))},UpdateName:function(e,t){this.formObjectArray[e].object.show_title.value=t},UpdateUXT:function(){this.UpdateUx=!0},pushGroup:function(e){var t=this;this.formObjectArray.forEach((function(a,o){a.object.id==e.formid&&(t.formObjectArray[o]["object"]["Groups"]["group_"+e.group_id]={elements:{},group_id:e.group_id,group_showLegend:e.group_showLegend,label_fr:e.label_fr,label_en:e.label_en,group_tag:e.group_tag,ordering:e.ordering})})),this.builderKey+=1,this.elementDisabled=!1,setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),200)},pushMenu:function(e){var t=this,a={link:e.link,rgt:e.rgt};this.formList.push(a),c.a.get("index.php?option=com_emundus_onboard&view=form&formid="+e.id+"&format=vue_jsonclean").then((function(a){t.formObjectArray.push({object:a.data,rgt:e.rgt,link:e.link}),t.indexHighlight=t.formObjectArray.length-1}))},removeMenu:function(e){var t=this;this.formObjectArray.forEach((function(a,o){a.object.id==e&&t.formObjectArray.splice(o,1)})),this.builderKey+=1,this.indexHighlight-=1},removeGroup:function(e,t){var a=this;this.formObjectArray.forEach((function(o,i){o.object.id==t&&delete a.formObjectArray[i]["object"]["Groups"]["group_"+e]})),this.builderKey+=1},updateFormObjectAndComponent:function(){this.formObjectArray=[],this.getDataObject(),this.builderKey+=1},getElement:function(e,t){var a=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e,gid:t},paramsSerializer:function(e){return Fn.stringify(e)}}).then((function(e){a.formObjectArray[a.indexHighlight].object.Groups["group_"+t].elements["element"+e.data.id]=e.data,a.formObjectArray[a.indexHighlight].object.Groups["group_"+t].elts.push(e.data),a.builderKey+=1}))},show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Information";this.$notify({group:e,title:"".concat(o),text:a,type:t})},clean:function(e){this.$notify({group:e,clean:!0})},getDataObject:function(){var e=this;this.indexHighlight=this.index,this.formList.forEach((function(t){var a=t.link.replace("fabrik","emundus_onboard");c.a.get(a+"&format=vue_jsonclean").then((function(a){e.formObjectArray.push({object:a.data,rgt:t.rgt,link:t.link})})).then((function(t){e.formObjectArray.sort((function(e,t){return e.rgt-t.rgt})),e.rgt=e.formObjectArray[0].rgt,e.loading=!1,e.elementDisabled=_e.a.isEmpty(e.formObjectArray[e.indexHighlight].object.Groups)})).catch((function(e){console.log(e)}))}))},getForms:function(e){var t=this;this.loading=!0,c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getFormsByProfileId",params:{profile_id:e},paramsSerializer:function(e){return Fn.stringify(e)}}).then((function(a){t.formList=a.data.data,setTimeout((function(){t.getDataObject(),t.getProfileLabel(e)}),100)})).catch((function(e){console.log(e)}))},getProfileLabel:function(e){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getProfileLabelByProfileId",params:{profile_id:e},paramsSerializer:function(e){return Fn.stringify(e)}}).then((function(e){t.profileLabel=e.data.data.label})).catch((function(e){console.log(e)}))},sendForm:function(){var e=this;""!=this.cid?window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+this.cid+"&index=1"):c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getassociatedcampaign",params:{pid:this.prid},paramsSerializer:function(e){return Fn.stringify(e)}}).then((function(t){t.data.data.length>0?history.go(-1):e.$modal.show("modalAffectCampaign")})).catch((function(e){console.log(e)}))},changeGroup:function(e,t){this.indexHighlight=e,this.rgt=t,this.elementDisabled=_e.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups)},SomethingChange:function(e){this.dragging=!0;var t=[];this.formList.forEach((function(e,a){t.push(e.rgt)})),this.formObjectArray.forEach((function(e,a){e.rgt=t[a]})),this.reorderItems()},showElements:function(){this.elementDisabled?this.addingElement=!1:this.addingElement=!this.addingElement},reorderItems:function(){this.formObjectArray.forEach((function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=reordermenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Fn.stringify({rgt:e.rgt,link:e.link})}).catch((function(e){console.log(e)}))}))},enableGrab:function(e){this.indexGrab=e,this.grab=!0},disableGrab:function(){this.indexGrab=0,this.grab=!1}},created:function(){this.getForms(this.prid)},computed:{dragOptions:function(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}}},$n=Gn,Hn=(a("a60a"),Object(g["a"])($n,Xi,Ki,!1,null,"f9e9eb14",null)),qn=Hn.exports,Vn=a("1881"),Yn=a.n(Vn),zn=a("d8c5"),Qn=a.n(zn),Xn=a("e37d"),Kn=a("2536"),Wn=a.n(Kn),Zn=a("d277"),es=a("ee98"),ts=a.n(es),as=a("589d"),os=a.n(as);o["default"].directive("tooltip",Xn["c"]),o["default"].directive("close-popover",Xn["a"]),o["default"].component("v-popover",Xn["b"]),o["default"].use(ts.a,{velocity:os.a}),o["default"].use(n.a),o["default"].use(Yn.a),o["default"].use(Qn.a),o["default"].use(Wn.a),o["default"].use(Zn),o["default"].config.productionTip=!1,o["default"].config.devtools=!0,document.getElementById("em-list-vue")&&new o["default"]({el:"list",render:function(e){return e(ne,{props:{type:this.$el.attributes.type.value}})}}),document.getElementById("em-addProgram-vue")&&new o["default"]({el:"#em-addProgram-vue",render:function(e){return e(Me,{props:{prog:this.$el.attributes.prog.value,actualLanguage:this.$el.attributes.actualLanguage.value}})}}),document.getElementById("em-addProgramAdvancedSettings-vue")&&new o["default"]({el:"#em-addProgramAdvancedSettings-vue",render:function(e){return e(Uo,{props:{prog:this.$el.attributes.prog.value,actualLanguage:this.$el.attributes.actualLanguage.value}})}}),document.getElementById("em-addCampaign-vue")&&new o["default"]({el:"#em-addCampaign-vue",render:function(e){return e(ko,{props:{campaign:this.$el.attributes.campaign.value,actualLanguage:this.$el.attributes.actualLanguage.value}})}}),document.getElementById("em-addEmail-vue")&&new o["default"]({el:"#em-addEmail-vue",render:function(e){return e(Fo,{props:{email:this.$el.attributes.email.value,actualLanguage:this.$el.attributes.actualLanguage.value}})}}),document.getElementById("em-addForm-vue")&&new o["default"]({el:"#em-addForm-vue",render:function(e){return e(zo,{props:{profileId:this.$el.attributes.profileId.value,campaignId:this.$el.attributes.campaignId.value}})}}),document.getElementById("em-addFormNextCampaign-vue")&&new o["default"]({el:"#em-addFormNextCampaign-vue",render:function(e){return e(Oi,{props:{campaignId:this.$el.attributes.campaignId.value,actualLanguage:this.$el.attributes.actualLanguage.value,index:this.$el.attributes.index.value}})}}),document.getElementById("em-formBuilder-vue")&&new o["default"]({el:"#em-formBuilder-vue",render:function(e){return e(qn,{props:{prid:this.$el.attributes.prid.value,index:this.$el.attributes.index.value,cid:this.$el.attributes.cid.value}})}}),document.getElementById("em-globalSettings-vue")&&new o["default"]({el:"#em-globalSettings-vue",render:function(e){return e(Qi,{props:{actualLanguage:this.$el.attributes.actualLanguage.value}})}})},"570c":function(e,t,a){},5745:function(e,t,a){"use strict";var o=a("7d61"),i=a.n(o);i.a},"57b6":function(e,t,a){"use strict";var o=a("2df0"),i=a.n(o);i.a},"5fa4":function(e,t,a){"use strict";var o=a("e7a2"),i=a.n(o);i.a},6103:function(e,t,a){"use strict";var o=a("570c"),i=a.n(o);i.a},6153:function(e,t,a){"use strict";var o=a("06ba"),i=a.n(o);i.a},"630c":function(e,t,a){},"65e0":function(e,t,a){},"6b3b":function(e,t,a){},"6e5d":function(e,t,a){"use strict";var o=a("f732"),i=a.n(o);i.a},"6fce":function(e,t,a){"use strict";var o=a("9200"),i=a.n(o);i.a},7350:function(e,t,a){"use strict";var o=a("630c"),i=a.n(o);i.a},"736d":function(e,t,a){},"77fe":function(e,t,a){},7961:function(e,t,a){},"7b04":function(e,t,a){"use strict";var o=a("1bce"),i=a.n(o);i.a},"7cc9":function(e,t,a){},"7d61":function(e,t,a){},"7e71":function(e,t,a){},"80d4":function(e,t,a){"use strict";var o=a("4554"),i=a.n(o);i.a},"83a4":function(e,t,a){"use strict";var o=a("cba7"),i=a.n(o);i.a},"86b2":function(e,t,a){},"882d":function(e,t,a){},"888a":function(e,t,a){},"8b91":function(e,t,a){},"8d2f":function(e,t,a){},"90b9":function(e,t,a){},9112:function(e,t,a){"use strict";var o=a("7cc9"),i=a.n(o);i.a},9200:function(e,t,a){},"973c":function(e,t,a){"use strict";var o=a("0a96"),i=a.n(o);i.a},"98a4":function(e,t,a){},"99f9":function(e,t,a){"use strict";var o=a("5581"),i=a.n(o);i.a},"9eec":function(e,t,a){},a3f1:function(e,t,a){"use strict";var o=a("1d1b"),i=a.n(o);i.a},a4b5:function(e,t,a){"use strict";var o=a("e721"),i=a.n(o);i.a},a5cb:function(e,t,a){"use strict";var o=a("9eec"),i=a.n(o);i.a},a60a:function(e,t,a){"use strict";var o=a("d89f"),i=a.n(o);i.a},a6e8:function(e,t,a){"use strict";var o=a("882d"),i=a.n(o);i.a},a706:function(e,t,a){"use strict";var o=a("65e0"),i=a.n(o);i.a},af57:function(e,t,a){},b016:function(e,t,a){"use strict";var o=a("4004"),i=a.n(o);i.a},b042:function(e,t,a){"use strict";var o=a("6b3b"),i=a.n(o);i.a},b2a6:function(e,t,a){"use strict";var o=a("dc93"),i=a.n(o);i.a},b3ba:function(e,t,a){},b478:function(e,t,a){},bc4e:function(e,t,a){},c1d0:function(e,t,a){},c3de:function(e,t,a){"use strict";var o=a("4b60"),i=a.n(o);i.a},c830:function(e,t,a){"use strict";var o=a("736d"),i=a.n(o);i.a},cba7:function(e,t,a){},d198:function(e,t,a){"use strict";var o=a("bc4e"),i=a.n(o);i.a},d89f:function(e,t,a){},da76:function(e,t,a){"use strict";var o=a("471a"),i=a.n(o);i.a},dc51:function(e,t,a){"use strict";var o=a("98a4"),i=a.n(o);i.a},dc93:function(e,t,a){},e382:function(e,t,a){},e721:function(e,t,a){},e7a2:function(e,t,a){},e8e4:function(e,t,a){"use strict";var o=a("c1d0"),i=a.n(o);i.a},f4e7:function(e,t,a){"use strict";var o=a("45fe"),i=a.n(o);i.a},f717:function(e,t,a){},f732:function(e,t,a){}});
//# sourceMappingURL=app.js.map