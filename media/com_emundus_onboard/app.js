(function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],u=0,m=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},n={app:0},s=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00d6":function(t,e,a){},"0277":function(t,e,a){"use strict";a("9e86")},"02ef":function(t,e,a){"use strict";a("3b6a")},"0391":function(t,e,a){},"0739":function(t,e,a){"use strict";a("4404")},"0e4e":function(t,e,a){},"0e51":function(t,e,a){},"0ea7":function(t,e,a){"use strict";a("7f5c")},"0fcc":function(t,e,a){},"16b4":function(t,e,a){},"177b":function(t,e,a){"use strict";a("da71")},"18bf":function(t,e,a){"use strict";a("c96b")},"19d6":function(t,e,a){},"1a8f":function(t,e,a){"use strict";a("5562")},"1ab8":function(t,e,a){},"1ad3":function(t,e,a){"use strict";a("832c")},"1e48":function(t,e,a){},"1f48":function(t,e,a){},2051:function(t,e,a){},2218:function(t,e,a){},"255d":function(t,e,a){},2707:function(t,e,a){"use strict";a("591a")},"284e":function(t,e,a){"use strict";a("fd40")},"2d98":function(t,e,a){"use strict";a("1e48")},"2eab":function(t,e,a){"use strict";a("d739")},3212:function(t,e,a){},"36e3":function(t,e,a){},"3b6a":function(t,e,a){},"3c35":function(t,e,a){"use strict";a("fd3f")},"3eac":function(t,e,a){"use strict";a("7ab4")},"423ed":function(t,e,a){"use strict";a("77fe")},4404:function(t,e,a){},"44f3":function(t,e,a){"use strict";a("5b5e")},"460b":function(t,e,a){"use strict";a("00d6")},4678:function(t,e,a){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}n.keys=function(){return Object.keys(o)},n.resolve=s,t.exports=n,n.id="4678"},4906:function(t,e,a){},4912:function(t,e,a){"use strict";a("7e2b")},"4bf9":function(t,e,a){"use strict";a("9bb1")},"4ff4":function(t,e,a){"use strict";a("0e51")},5562:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),n=a("1dce"),s=a.n(n),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"list"}},["files"!=t.type?a("actions",{attrs:{data:t.actions,selected:t.selecedItems,updateTotal:t.updateTotal,filter:t.filter,sort:t.sort,cherche:t.cherche,chercheGo:t.chercheGo,validateFilters:t.validateFilters,nbresults:t.nbresults,isEmpty:t.isEmpty,coordinatorAccess:t.coordinatorAccess}}):t._e(),"email"!=t.type||t.loading||0==t.total?t._e():a("ul",{staticClass:"form-section email-sections"},[a("li",[t._v(t._s(t.Categories)+" : ")]),a("li",[a("a",{class:0===t.menuEmail?"form-section__current":"",on:{click:function(e){t.menuEmail=0}}},[t._v(t._s(t.All))])]),t._l(t.email_categories,(function(e,o){return""!=e?a("li",[a("a",{class:t.menuEmail===e?"form-section__current":"",on:{click:function(a){t.menuEmail=e}}},[t._v(t._s(e))])]):t._e()})),a("li",[a("a",{class:1===t.menuEmail?"form-section__current":"",on:{click:function(e){t.menuEmail=1}}},[t._v(t._s(t.System))])])],2),a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],class:1==t.countPages?"noPagination":"pagination-pages"},[t.total>0?a("ul",{staticClass:"pagination"},[a("a",{staticClass:"pagination-arrow arrow-left",on:{click:function(e){return t.nbpages(t.pages-1)}}},[a("em",{staticClass:"fas fa-chevron-left"})]),t._l(t.countPages,(function(e){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.countPages<=10||e<4||e>t.countPages-3||e>t.pages-3&&e<t.pages+3||e==t.pages-3||e==t.pages+3,expression:"countPages <= 10 ||\n            index < 4 ||\n            index > countPages - 3 ||\n            (index > pages - 3 && index < pages + 3) ||\n            index == pages - 3 ||\n            index == pages + 3"}],key:e,staticClass:"pagination-number"},[a("a",{staticClass:"pagination-number",class:e==t.pages?"current-number":"",on:{click:function(a){return t.nbpages(e)}}},[t._v(" "+t._s(t.countPages>10?e<4||e>t.countPages-3||e>t.pages-3&&e<t.pages+3?e:"...":e)+" ")])])})),a("a",{staticClass:"pagination-arrow arrow-right",on:{click:function(e){return t.nbpages(t.pages+1)}}},[a("em",{staticClass:"fas fa-chevron-right"})])],2):t._e()])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0||"files"==t.type,expression:"total > 0 || type == 'files'"}]},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"buttonSelectDeselect"},[a("button",{staticClass:"btn-selectAll",class:[t.isEmpty?"active":""],attrs:{title:t.Select},on:{click:function(e){t.isEmpty?t.deselectItem():t.selectAllItem()}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],attrs:{id:"buttonLabelSelect"}},[t._v(" "+t._s(t.Select)+" ("+t._s(t.pages<t.countPages?t.limit:t.total-t.limit*t.countPages+t.limit)+") ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty,expression:"isEmpty"}],attrs:{id:"buttonLabelDeselect"}},[t._v(t._s(t.Deselect))])])]),a("transition-group",{staticStyle:{display:"inline-block","margin-bottom":"5%",width:"100%"},attrs:{name:"slide-down",type:"transition"}},[t._l(t.list,(function(e,o){return"files"!=t.type&&"email"!=t.type?a("div",{key:o,staticClass:"col-sm-12 col-lg-6 mb-2"},[a(t.type,{tag:"component",attrs:{data:e,selectItem:t.selectItem}})],1):t._e()})),t._l(t.list,(function(e,o){return"email"==t.type&&0==t.menuEmail?a("div",{key:o,staticClass:"col-sm-12 col-lg-6 mb-2"},[a(t.type,{tag:"component",attrs:{data:e,selectItem:t.selectItem,models:t.list}})],1):t._e()})),t._l(t.list,(function(e,o){return"email"==t.type&&1!=t.menuEmail&&0!=t.menuEmail&&t.menuEmail==e.category?a("div",{key:o,staticClass:"col-sm-12 col-lg-6 mb-2"},[a(t.type,{tag:"component",attrs:{data:e,selectItem:t.selectItem}})],1):t._e()})),t._l(t.list,(function(e,o){return"email"==t.type&&1==t.menuEmail&&1==e.type?a("div",{key:o,staticClass:"col-sm-12 col-lg-6 mb-2"},[a(t.type,{tag:"component",attrs:{data:e,selectItem:t.selectItem}})],1):t._e()}))],2),"files"==t.type?a("div",[a(t.type,{tag:"component"})],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],class:1==t.countPages?"noPagination":"pagination-pages"},[t.total>0?a("ul",{staticClass:"pagination",staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[a("a",{staticClass:"pagination-arrow arrow-left",on:{click:function(e){return t.nbpages(t.pages-1)}}},[a("em",{staticClass:"fas fa-chevron-left"})]),t._l(t.countPages,(function(e){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.countPages<=10||e<4||e>t.countPages-3||e>t.pages-3&&e<t.pages+3||e==t.pages-3||e==t.pages+3,expression:"\n              countPages <= 10 ||\n                index < 4 ||\n                index > countPages - 3 ||\n                (index > pages - 3 && index < pages + 3) ||\n                index == pages - 3 ||\n                index == pages + 3\n            "}],key:e,staticClass:"pagination-number"},[a("a",{staticClass:"pagination-number",class:e==t.pages?"current-number":"",on:{click:function(a){return t.nbpages(e)}}},[t._v(t._s(t.countPages>10?e<4||e>t.countPages-3||e>t.pages-3&&e<t.pages+3?e:"...":e))])])})),a("a",{staticClass:"pagination-arrow arrow-right",on:{click:function(e){return t.nbpages(t.pages+1)}}},[a("em",{staticClass:"fas fa-chevron-right"})])],2):t._e()])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total&&"files"!=t.type&&!t.loading,expression:"total == 0 && type != 'files' && !loading"}],staticClass:"noneDiscover"},[t._v(" "+t._s("campaign"==this.type?t.noCampaign:"program"==this.type?t.noProgram:"email"==this.type?t.noEmail:"formulaire"==this.type?t.noForm:t.noFiles)+" ")]),t.loading?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},r=[],l=(a("c5f6"),a("bc3a")),c=a.n(l),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-column-block"},[a("div",{staticClass:"column-block w-col w-col-11"},[a("div",{staticClass:"block-dash",class:t.isPublished?"":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:t.isActive},on:{click:function(e){return t.selectItem(t.data.id)}}}),a("h1",{staticClass:"nom-campagne-block white"},[t._v(t._s(t.data.label))])])]),a("div",{staticClass:"date-menu orange"}),a("div",{staticClass:"description-block white",domProps:{innerHTML:t._s(t.data.notes)}})]),a("div",{staticClass:"column-inner-block-2 w-clearfix w-col w-col-4"},[a("div",{class:t.isPublished?"publishedTag":"unpublishedTag"},[t._v(" "+t._s(t.isPublished?t.publishedTag:t.unpublishedTag)+" ")]),a("div",{staticClass:"stats-block mb-1"},[a("label",{staticClass:"mb-0"},[t._v(t._s(t.CampaignNumbers)+" : ")]),a("div",{staticClass:"nb-dossier"},[a("div",[t._v(t._s(t.data.nb_campaigns))])])]),a("div",{staticClass:"container-gerer-modifier-visualiser"},[a("a",{staticClass:"cta-block pointer",attrs:{title:t.AdvancedSettings},on:{click:function(e){return t.redirectJRoute("index.php?option=com_emundus_onboard&view=program&layout=advancedsettings&pid="+t.data.id)}}},[a("em",{staticClass:"fas fa-cog"})]),a("a",{staticClass:"cta-block ml-10px pointer",attrs:{title:t.Modify},on:{click:function(e){return t.redirectJRoute("index.php?option=com_emundus_onboard&view=program&layout=add&pid="+t.data.id)}}},[a("em",{staticClass:"fas fa-edit"})])])])])])])])},u=[],m=(a("ac6a"),a("6762"),a("2fdb"),a("2f62"));o["default"].use(m["a"]);var p={selectItem:function(t,e){return t.selectedItems.includes(e)?t.selectedItems.splice(t.selectedItems.indexOf(e),1):t.selectedItems.push(e),t.selectedItems},resetSelectedItemsList:function(t){t.selectedItems=[]},listUpdate:function(t,e){t.list=e},formsAccessUpdate:function(t,e){t.formsAccess=e},listInsert:function(t,e){e.forEach((function(e){t.list.push(e)}))},publish:function(t,e){t.list.forEach((function(a,o){e.includes(a.id)&&(t.list[o].published=1)}))},unpublish:function(t,e){t.list.forEach((function(a,o){e.includes(a.id)&&(t.list[o].published=0)}))},deleteSelected:function(t,e){t.list.some((function(a,o){if(e==a.id)return t.list.splice(o,1),!0}))}},_=new m["a"].Store({state:{list:[],selectedItems:[],formsAccess:[]},getters:{list:function(t){return t.list},formsAccess:function(t){return t.formsAccess},selectedItems:function(t){return t.selectedItems},isSelected:function(t){return function(e){return t.selectedItems.includes(e)}},isSomething:function(t){return Array.isArray(t.selectedItems)&&t.selectedItems.length}},mutations:p,actions:{deleteSelected:function(t,e){var a=t.commit;t.state;e.forEach((function(t){a("deleteSelected",t)}))}}}),f=a("4328"),g={name:"programItem",props:{data:Object,selectItem:Function},data:function(){return{selectedData:[],publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),AdvancedSettings:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADVANCED_SETTINGS"),CampaignNumbers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CAMPAIGN_NUMBERS")}},methods:{redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return f.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}},computed:{isPublished:function(){return 1==this.data.published},isActive:function(){return _.getters.isSelected(this.data.id)}}},h=g,b=(a("5cee"),a("2877")),v=Object(b["a"])(h,d,u,!1,null,"74e726ec",null),C=v.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-column-block"},[a("div",{staticClass:"column-block w-100"},[a("div",{staticClass:"block-dash",class:t.isPublished?"":t.isFinish?"passee":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:t.isActive},on:{click:function(e){return t.selectItem(t.data.id)}}}),a("h2",{staticClass:"nom-campagne-block"},[t._v(t._s(t.data.label))])]),a("div",{class:t.isPublished?"publishedTag":t.isFinish?"passeeTag":"unpublishedTag"},[t._v(" "+t._s(t.isPublished?t.publishedTag:t.isFinish?t.passeeTag:t.unpublishedTag)+" ")])]),a("div",{staticClass:"date-menu"},[t._v(" "+t._s(null!=t.data.end_date&&"0000-00-00 00:00:00"!=t.data.end_date?t.From:t.Since+" ")+" "+t._s(t.moment(t.data.start_date).format("DD/MM/YYYY"))+" "+t._s(null!=t.data.end_date&&"0000-00-00 00:00:00"!=t.data.end_date?t.To+" "+t.moment(t.data.end_date).format("DD/MM/YYYY"):"")+" ")]),a("p",{staticClass:"description-block",domProps:{innerHTML:t._s(t.data.short_description)}}),a("div",{staticClass:"stats-block"},[a("div",{staticClass:"nb-dossier",staticStyle:{"margin-left":"35px"}},[a("div",[t._v(t._s(t.data.nb_files)+" "),t.data.nb_files>1?a("span",[t._v(t._s(t.Files))]):a("span",[t._v(t._s(t.File))])])]),a("a",{staticClass:"cta-block pointer",attrs:{title:t.AdvancedSettings},on:{click:function(e){return t.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+t.data.id+"&index=0")}}},[a("em",{staticClass:"fas fa-pen"})])])])])])])])},D=[],E=a("c1df"),x=a.n(E),y=a("4328"),U={name:"camapaignItem",props:{data:Object,selectItem:Function},data:function(){return{selectedData:[],publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),From:Joomla.JText._("COM_EMUNDUS_ONBOARD_FROM"),To:Joomla.JText._("COM_EMUNDUS_ONBOARD_TO"),Since:Joomla.JText._("COM_EMUNDUS_ONBOARD_SINCE"),AdvancedSettings:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADVANCED_SETTINGS"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_PROGRAM"),Files:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILES"),File:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE")}},methods:{moment:function(t){return x()(t)},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return y.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}},computed:{isPublished:function(){return 1==this.data.published&&x()(this.data.start_date)<=x()()&&(x()(this.data.end_date)>=x()()||null==this.data.end_date||"0000-00-00 00:00:00"==this.data.end_date)},isFinish:function(){return x()(this.data.end_date)<=x()()},isActive:function(){return _.getters.isSelected(this.data.id)}}},N=U,T=(a("a903"),Object(b["a"])(N,O,D,!1,null,"0b355ffe",null)),A=T.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-column-block"},[a("ModalEmailPreview",{attrs:{model:this.email_to_preview,models:this.models}}),a("div",{staticClass:"column-block w-100"},[a("div",{staticClass:"block-dash",class:t.isPublished?"":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{staticClass:"block-label"},[2==t.data.type?a("a",{staticClass:"item-select w-inline-block",class:{active:t.isActive},on:{click:function(e){return t.selectItem(t.data.id)}}}):t._e(),a("h2",{staticClass:"nom-campagne-block",style:2!=t.data.type?"margin-left: 35px":""},[t._v(t._s(t.data.subject))])]),a("div",{class:t.isPublished?"publishedTag":"unpublishedTag"},[t._v(" "+t._s(t.isPublished?t.publishedTag:t.unpublishedTag)+" ")])]),a("a",{staticClass:"button-programme",staticStyle:{"margin-left":"35px"},attrs:{href:"#"}},[t._v(t._s(t.type[t.langue][t.data.type-1]))]),a("p",{staticClass:"description-block"},[a("span",{domProps:{innerHTML:t._s(t.data.message)}})]),a("div",{staticClass:"stats-block",staticStyle:{"justify-content":"flex-end"}},[a("button",{staticClass:"cta-block mb-0",attrs:{type:"button",title:t.Visualize},on:{click:function(e){return t.$modal.show("modalEmailPreview_"+t.data.id)}}},[a("em",{staticClass:"fas fa-eye"})]),a("a",{staticClass:"cta-block pointer",attrs:{title:t.Modify},on:{click:function(e){return t.redirectJRoute("index.php?option=com_emundus_onboard&view=email&layout=add&eid="+t.data.id)}}},[a("em",{staticClass:"fas fa-pen"})])])])])])])],1)},S=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalEmailPreview_"+t.model}},[a("modal",{attrs:{name:"modalEmailPreview_"+t.model,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1,width:"70%"},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalEmailPreview_"+t.model)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.ModelPreview)+" ")])])]),a("div",{staticClass:"modalC-content"},[null!=t.email?a("p",{staticClass:"description-block"},[a("span",{domProps:{innerHTML:t._s(t.email.message)}})]):t._e()])])],1)},R=[],J=(a("4328"),{name:"modalEmailPreview",props:{model:Number,models:Array},data:function(){return{email:null,ModelPreview:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_PREVIEWMODEL")}},methods:{beforeClose:function(t){},beforeOpen:function(t){var e=this;this.models.forEach((function(t){t.id==e.model&&(e.email=t)}))}}}),k=J,B=(a("90c1"),Object(b["a"])(k,w,R,!1,null,"a77141cc",null)),I=B.exports,L=a("4328"),P={name:"emailItem",components:{ModalEmailPreview:I},props:{data:Object,selectItem:Function,actualLanguage:String,models:Array},data:function(){return{langue:0,email_to_preview:-1,selectedData:[],publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),type:[["Système","Modèle"],["System","Model"]]}},methods:{redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return L.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}},computed:{isPublished:function(){return 1==this.data.published},isActive:function(){return _.getters.isSelected(this.data.id)}},mounted:function(){"en"==this.actualLanguage&&(this.langue=1),this.email_to_preview=this.data.id}},j=P,F=(a("df81"),Object(b["a"])(j,M,S,!1,null,"e4b4c552",null)),$=F.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-column-block"},[a("div",{staticClass:"column-block w-100"},[a("div",{staticClass:"block-dash",class:t.isPublished?"":"unpublishedBlock"},[a("div",{staticClass:"column-blocks w-row"},[a("div",{staticClass:"column-inner-block w-col w-col-8 pl-30px"},[a("div",{staticClass:"list-item-header"},[a("div",{staticClass:"block-label"},[a("a",{staticClass:"item-select w-inline-block",class:{active:t.isActive},on:{click:function(e){return t.selectItem(t.data.id)}}}),a("h2",{staticClass:"nom-campagne-block"},[t._v(t._s(t.data.form_label))])]),a("div",{class:t.isPublished?"publishedTag":"unpublishedTag"},[t._v(" "+t._s(t.isPublished?t.publishedTag:t.unpublishedTag)+" ")])]),a("div",[1==t.campaigns.length?a("p",{staticClass:"pl-30px associated-campaigns"},[t._v(t._s(t.campaignAssociated)+" :")]):t._e(),t.campaigns.length>1?a("p",{staticClass:"pl-30px associated-campaigns"},[t._v(t._s(t.campaignsAssociated)+" :")]):t._e(),a("ul",{staticStyle:{"margin-top":"10px"}},t._l(t.campaigns,(function(e,o){return a("li",{staticClass:"campaigns-item"},[t._v(t._s(e.label))])})),0)]),a("div",{staticClass:"stats-block",staticStyle:{"justify-content":"flex-end"}},[a("a",{staticClass:"cta-block pointer",attrs:{title:t.Modify},on:{click:function(e){return t.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+t.data.id+"&index=0&cid=")}}},[a("em",{staticClass:"fas fa-pen"})])])])])])])])},H=[],z=a("4328"),q={name:"formItem",props:{data:Object,selectItem:Function},data:function(){return{selectedData:[],updateAccess:!1,campaigns:[],publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),passeeTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Visualize:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISUALIZE"),campaignAssociated:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGN_ASSOCIATED"),campaignsAssociated:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNS_ASSOCIATED")}},methods:{redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return z.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},getAssociatedCampaigns:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getassociatedcampaign",params:{pid:this.data.id},paramsSerializer:function(t){return z.stringify(t)}}).then((function(e){t.campaigns=e.data.data}))}},created:function(){var t=this;_.getters.formsAccess[0].forEach((function(e){e===t.data.id&&(t.updateAccess=!0)})),this.getAssociatedCampaigns()},computed:{isPublished:function(){return 1==this.data.status},isActive:function(){return _.getters.isSelected(this.data.id)}}},V=q,Y=(a("0277"),Object(b["a"])(V,G,H,!1,null,"91cb088a",null)),Q=Y.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"section-recherche",class:0==t.total?"noneDiscoverRecherche":""},[a("div",{staticClass:"w-container"},[t._m(0),a("div",{staticClass:"wrapper-add-recherche"},[a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("div",{staticClass:"container-flexbox-choisir-ou-plus-droite w-clearfix"},[a("div",{staticClass:"wraper-dropdown-search"},[a("a",{staticClass:"link",on:{click:function(e){t.prog="reset",t.onProgChange()}}},[t._v("x")]),a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Programme",name:"Programme","data-name":"Programme"},on:{change:function(e){t.prog="",t.onProgChange(e)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.prog}},[t._v("Programme")]),t._l(t.distinctProg,(function(e,o){return a("option",{key:o},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"wraper-dropdown-search"},[a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Campagne",name:"Campagne","data-name":"Campagne"},on:{change:function(e){t.camp="",t.onCampChange(e)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.camp}},[t._v("Campagne")]),t._l(t.distinctCamp,(function(e,o){return a("option",{key:o},[t._v(t._s(e))])}))],2),a("a",{staticClass:"link",on:{click:function(e){t.camp="reset",t.onCampChange()}}},[t._v("x")])]),a("div",{staticClass:"wraper-dropdown-search"},[a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Ann-e",name:"Ann-e","data-name":"Année"},on:{change:function(e){t.session="",t.onSessionChange(e)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.session}},[t._v("Session")]),t._l(t.distinctSession,(function(e,o){return a("option",{key:o},[t._v(t._s(e))])}))],2),a("a",{staticClass:"link",on:{click:function(e){t.session="reset",t.onSessionChange()}}},[t._v("x")])]),a("div",{staticClass:"wraper-dropdown-search"},[a("select",{staticClass:"dropdown-toggle-recherche w-select",attrs:{id:"Statut",name:"Statut","data-name":"Statut"},on:{change:function(e){t.status="",t.onStatusChange(e)}}},[a("option",{attrs:{value:""},domProps:{selected:"reset"==this.status}},[t._v("Statut")]),t._l(t.distinctStatus,(function(e,o){return a("option",{key:o},[t._v(t._s(e))])}))],2),a("a",{staticClass:"link",on:{click:function(e){t.status="reset",t.onStatusChange()}}},[t._v("x")])])])])])])])]),a("table",{directives:[{name:"show",rawName:"v-show",value:0!=t.total,expression:"total != 0"}],staticClass:"table"},[a("thead",{staticClass:"content-results"},[a("tr",[a("th",{staticClass:"row-check",attrs:{scope:"col"}}),t._l(t.categoriesName,(function(e,o){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.newCategories.includes(o),expression:"newCategories.includes(index)"}],key:o,attrs:{scope:"col"}},[t._v(" "+t._s(e)+" ")])})),a("div",{staticClass:"pin-add-column"},[a("a",{staticClass:"pin-add w-inline-block",on:{click:function(e){return t.show()}}},[a("div",{staticClass:"add-col"},[t._v("+")])])])],2)]),a("tbody",{staticClass:"title-results"},t._l(t.files,(function(e,o){return a("tr",{key:o},[t._m(1,!0),t._l(t.categoriesValue,(function(n,s){return a("th",{directives:[{name:"show",rawName:"v-show",value:t.newCategories.includes(s),expression:"newCategories.includes(valueIndex)"}],key:s,attrs:{scope:"row"}},[t._v(" "+t._s("lastname"==n||"firstname"==n?t.filesUsers[o][n]:e[n])+" ")])}))],2)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.total,expression:"total == 0"}],staticClass:"noneDiscover"},[t._v(" "+t._s(t.noDossiers)+" ")]),a("modal",{attrs:{name:"modalAddCat"}},[a("div",{staticClass:"modalHeader"},[t._v("Select a new category")]),a("div",{staticClass:"hr"}),t._l(t.categoriesName,(function(e,o){return a("div",{key:o,staticClass:"modalContent"},[a("div",{staticClass:"modalNewCategory",class:t.newCategories.includes(o)?"selectedElem":"",attrs:{id:o},on:{click:function(e){return t.toggleActive(o)}}},[t._v(" "+t._s(e)+" ")])])})),a("div",{staticClass:"hr"}),a("div",{staticClass:"modalFooter"},[a("button",{staticClass:"modalAdd",attrs:{type:"button"},on:{click:function(e){return t.resetCategories()}}},[t._v(t._s(t.ResetButton))]),a("button",{staticClass:"modalCancel",attrs:{type:"button"},on:{click:function(e){return t.removeCategories()}}},[t._v(" "+t._s(t.RemoveButton)+" ")]),a("button",{staticClass:"modalCancel",attrs:{type:"button"},on:{click:function(e){return t.cancelCategories()}}},[t._v(" "+t._s(t.CloseButton)+" ")])])],2)],1)},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-rechercher w-row"},[a("div",{staticClass:"column-recherche w-col w-col-6"},[a("div",{staticClass:"form-recherche w-form"},[a("form",{staticClass:"form",attrs:{id:"email-form-2",name:"email-form-2","data-name":"Email Form 2"}},[a("div",{staticClass:"w-row"},[a("div",{staticClass:"column-5 w-col w-col-8"},[a("input",{staticClass:"text-recherche-hp w-input",attrs:{type:"text",maxlength:"256",name:"Rechercher","data-name":"Rechercher",placeholder:"Rechercher...",id:"Rechercher",required:""}})]),a("div",{staticClass:"w-clearfix w-col w-col-4"},[a("a",{staticClass:"sauvegarder w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"recherche w-inline-block",attrs:{href:"#","data-ix":"show-result"}})])])])])]),a("div",{staticClass:"column-recherche w-col w-col-6"},[a("div",{staticClass:"form-recherche w-form"},[a("form",{staticClass:"form",attrs:{id:"email-form-2",name:"email-form-2","data-name":"Email Form 2"}},[a("select",{staticClass:"profil-search w-select",attrs:{id:"Profil",name:"Profil","data-name":"Profil"}},[a("option",{attrs:{value:""}},[t._v("Dossier")]),a("option",{attrs:{value:""}},[t._v("Evaluation")]),a("option",{attrs:{value:"Décision"}},[t._v("Décision")])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"row-check",attrs:{scope:"row"}},[a("input",{staticClass:"w-checkbox-input",attrs:{type:"checkbox",id:"checkbox-77",name:"checkbox","data-name":"Checkbox"}})])}],W=(a("6b54"),a("4328")),Z={name:"files",data:function(){return{total:-1,prog:"",camp:"",session:"",status:"",files:[],filesUsers:[],campaignsId:[],distinctProg:[],distinctCamp:[],distinctStatus:[],distinctSession:[],filtersProg:"&prog=",filtersCamp:"&camp=",filtersSession:"&session",filtersStatus:"&status=",newCategories:[0,1,2,3,4],categoriesName:["Nom","Prénom","Campagne","Programme","Statut","Session","Created","Profile Label","Start date","End date"],categoriesValue:["lastname","firstname","label","program_label","status_value","year","create_date_time","profile_label","start_date","end_date"],currentElement:"",publishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),unpublishedTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),Lastname:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_LASTNAME"),Firstname:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_FIRSTNAME"),Campaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_CAMPAIGN"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_PROGRAM"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_STATUS"),Start:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_START"),End:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_END"),Created_at:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_CREATED"),Profile_name:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_PROFILE"),CloseButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_CLOSE"),ResetButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_RESET"),RemoveButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_REMOVE"),noDossiers:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFILES")}},computed:{console:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return console}))},created:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=files&task=getallfiles").then((function(e){t.total=e.data.data.length;for(var a=0;a<e.data.data.length;a++)t.files.push(e.data.data[a][0]),t.filesUsers.push(e.data.data[a][1]),t.campaignsId.push(e.data.data[a][0].id)})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=files&task=getdistincts",{params:{ids:t.campaignsId},paramsSerializer:function(t){return W.stringify(t)}}).then((function(e){for(var a=0;a<e.data.data.length;a++)t.distinctProg.push(e.data.data[a].distinctProg),t.distinctCamp.push(e.data.data[a].distinctCamp),t.distinctStatus.push(e.data.data[a].distinctStatus),t.distinctSession.push(e.data.data[a].distinctSession);var o=function(t,e,a){return a.indexOf(t)===e};t.distinctProg=t.distinctProg.filter(o),t.distinctCamp=t.distinctCamp.filter(o),t.distinctStatus=t.distinctStatus.filter(o),t.distinctSession=t.distinctSession.filter(o)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},methods:{changeDate:function(t){var e,a=/\d{4}/gm,o=/-\d{2}-/gm,n=/-\d{2} /gm,s=t,i="";while(null!==(e=n.exec(s)))e.index===n.lastIndex&&n.lastIndex++,e.forEach((function(t,e){i=t.substring(1,3)+"/"}));while(null!==(e=o.exec(s)))e.index===o.lastIndex&&o.lastIndex++,e.forEach((function(t,e){i=i+t.substring(1,3)+"/"}));while(null!==(e=a.exec(s)))e.index===a.lastIndex&&a.lastIndex++,e.forEach((function(t,e){i+=t}));return i},changeFullDate:function(t){var e,a=/\d{4}/gm,o=/-\d{2}-/gm,n=/-\d{2} /gm,s=/\d{2}:\d{2}:\d{2}/gm,i=t,r="";while(null!==(e=n.exec(i)))e.index===n.lastIndex&&n.lastIndex++,e.forEach((function(t,e){r=t.substring(1,3)+"/"}));while(null!==(e=o.exec(i)))e.index===o.lastIndex&&o.lastIndex++,e.forEach((function(t,e){r=r+t.substring(1,3)+"/"}));while(null!==(e=a.exec(i)))e.index===a.lastIndex&&a.lastIndex++,e.forEach((function(t,e){r+=t}));while(null!==(e=s.exec(i)))e.index===s.lastIndex&&s.lastIndex++,e.forEach((function(t,e){r=r+" à "+t}));return r},show:function(){this.$modal.show("modalAddCat")},hide:function(){this.$modal.hide("modalAddCat")},toggleActive:function(t){this.currentElement=document.getElementById(t),this.newCategories.includes(t)?this.deselectElement(t):this.selectElement(t)},selectElement:function(t){this.newCategories.push(t)},deselectElement:function(t){var e=this.newCategories.indexOf(t);e>-1&&this.newCategories.splice(e,1)},resetCategories:function(){this.newCategories=[0,1,2,3,4]},removeCategories:function(){this.newCategories=[0,1]},cancelCategories:function(){this.hide()},onProgChange:function(t){this.filtersProg=void 0==t?"&prog=":"&prog="+t.target.value,this.validateFilters()},onCampChange:function(t){this.filtersCamp=void 0==t?"&camp=":"&camp="+t.target.value,this.validateFilters()},onSessionChange:function(t){this.filtersSession=void 0==t?"&session=":"&session="+t.target.value,this.validateFilters()},onStatusChange:function(t){this.filtersStatus=void 0==t?"&status=":"&status="+t.target.value,this.validateFilters()},validateFilters:function(){this.filters=this.filtersProg+this.filtersCamp+this.filtersSession+this.filtersStatus,this.allFilters(this.filters)},allFilters:function(t){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=files&task=getallfiles"+t).then((function(t){e.total=t.data.data.length,e.files=[],e.filesUsers=[];for(var a=0;a<t.data.data.length;a++)e.files.push(t.data.data[a][0]),e.filesUsers.push(t.data.data[a][1])})).catch((function(t){console.log(t)}))}}},tt=Z,et=(a("5fa4"),Object(b["a"])(tt,X,K,!1,null,"1ff3f6dc",null)),at=et.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-sub-menu"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",["campaign"===t.data.type?a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/megaphone.svg",alt:"megaphone"}}),a("h1",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.Campaigns))])]):t._e(),"email"===t.data.type?a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/email.png",alt:"email"}}),a("h1",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.Emails))])]):t._e(),"form"===t.data.type?a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/form.png",alt:"form"}}),a("h1",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.Forms))])]):t._e(),a("div",{staticClass:"actions-add-block"},["campaign"===t.data.type?a("p",{staticClass:"tchooz-section-description"},[t._v(t._s(t.CampaignsDesc))]):t._e(),"form"===t.data.type?a("p",{staticClass:"tchooz-section-description"},[t._v(t._s(t.FormsDesc))]):t._e(),"email"===t.data.type?a("p",{staticClass:"tchooz-section-description"},[t._v(t._s(t.EmailsDesc))]):t._e(),t.addHidden?t._e():a("a",{staticClass:"bouton-ajouter pointer",on:{click:t.redirectToAdd}},["campaign"===t.data.type?a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.AddCampaign)+" ")]):t._e(),"email"===t.data.type?a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.AddEmail)+" ")]):t._e(),"form"===t.data.type?a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.AddForm)+" ")]):t._e()])]),a("div",{staticClass:"dropdown w-dropdown actions-block",staticStyle:{"margin-right":"3em"},style:"email"===t.data.type?"left: 30px":"",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(e){t.actionHover=!0},mouseleave:function(e){t.actionHover=!1}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmpty,expression:"isEmpty"}],staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[t._v(t._s(t.Action))])]),t.actionHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"action"}},["form"!==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(e){return t.publishSelected(t.checkItem)}}},[t._v(" "+t._s(t.ActionPublish)+" ")]):t._e(),"form"!==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(e){return t.unpublishSelected(t.checkItem)}}},[t._v(" "+t._s(t.ActionUnpublish)+" ")]):t._e(),"form"===t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",staticStyle:{"border-right":"0"},on:{click:function(e){return t.publishSelected(t.checkItem)}}},[t._v(" "+t._s(t.Restore)+" ")]):t._e(),"campaign"===t.data.type||"form"===t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",staticStyle:{"border-left":"0","border-right":"0"},on:{click:function(e){return t.duplicateSelected(t.checkItem)}}},[t._v(" "+t._s(t.ActionDuplicate)+" ")]):t._e(),"form"!==t.data.type&&"campaign"!==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",on:{click:function(e){return t.deleteSelected(t.checkItem)}}},[t._v(" "+t._s(t.ActionDelete)+" ")]):t._e(),"form"===t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",staticStyle:{"border-left":"0"},on:{click:function(e){return t.unpublishSelected(t.checkItem)}}},[t._v(" "+t._s(t.Archive)+" ")]):t._e()]):t._e()]),a("div",{staticClass:"actions-filters-block"},[a("div",{staticClass:"filters-action"},[a("div",[a("div",{staticClass:"dropdown",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(e){t.sortHover=!0},mouseleave:function(e){t.sortHover=!1}}},[a("div",{staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[t._v(t._s(t.Sort))])]),t.sortHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"sort"}},[a("a",{staticClass:"action-submenu w-dropdown-link",class:"DESC"==t.tri?"selected":"",on:{click:function(e){t.sort("DESC"),t.updateSort("DESC")}}},[t._v(" "+t._s(t.SortCreasing)+" ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:"ASC"==t.tri?"selected":"",on:{click:function(e){t.sort("ASC"),t.updateSort("ASC")}}},[t._v(" "+t._s(t.SortDecreasing)+" ")])]):t._e()])]),a("div",[a("div",{staticClass:"dropdown",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(e){t.filterHover=!0},mouseleave:function(e){t.filterHover=!1}}},[a("div",{staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[t._v(t._s(t.Filter))])]),t.filterHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"filter"}},[a("a",{staticClass:"action-submenu w-dropdown-link",class:"all"==t.filtre?"selected":"",on:{click:function(e){t.filter("all"),t.updateFilter("all")}}},[t._v(" "+t._s(t.FilterAll)+" ")]),"campaign"==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"notTerminated"==t.filtre?"selected":"",on:{click:function(e){t.filter("notTerminated"),t.updateFilter("notTerminated")}}},[t._v(" "+t._s(t.FilterOpen)+" ")]):t._e(),"campaign"==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Terminated"==t.filtre?"selected":"",on:{click:function(e){t.filter("Terminated"),t.updateFilter("Terminated")}}},[t._v(" "+t._s(t.FilterClose)+" ")]):t._e(),"form"!==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Publish"==t.filtre?"selected":"",on:{click:function(e){t.filter("Publish"),t.updateFilter("Publish")}}},[t._v(" "+t._s(t.FilterPublish)+" ")]):t._e(),"form"!==t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Unpublish"==t.filtre?"selected":"",on:{click:function(e){t.filter("Unpublish"),t.updateFilter("Unpublish")}}},[t._v(" "+t._s(t.FilterUnpublish)+" ")]):t._e(),"form"===t.data.type?a("a",{staticClass:"action-submenu w-dropdown-link",class:"Unpublish"==t.filtre?"selected":"",on:{click:function(e){t.filter("Unpublish"),t.updateFilter("Unpublish")}}},[t._v(" "+t._s(t.Archived)+" ")]):t._e()]):t._e()])]),a("div",[a("div",{staticClass:"dropdown",attrs:{"data-hover":"1","data-delay":"0"},on:{mouseover:function(e){t.resultsHover=!0},mouseleave:function(e){t.resultsHover=!1}}},[a("div",{staticClass:"dropdown-toggle-2 w-dropdown-toggle"},[a("div",{staticClass:"icon w-icon-dropdown-toggle"}),a("div",[t._v(t._s(t.NbResults))])]),t.resultsHover?a("nav",{staticClass:"dropdown-list w-dropdown-list",attrs:{"aria-label":"Nb Results"}},[a("a",{staticClass:"action-submenu w-dropdown-link",class:"max"==t.afficher?"selected":"",on:{click:function(e){t.nbresults(999999),t.updateDisplay("max")}}},[t._v(" "+t._s(t.AllResults)+" ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:10==t.afficher?"selected":"",on:{click:function(e){t.nbresults(10),t.updateDisplay(10)}}},[t._v(" 10 ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:25==t.afficher?"selected":"",on:{click:function(e){t.nbresults(25),t.updateDisplay(25)}}},[t._v(" 25 ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:50==t.afficher?"selected":"",on:{click:function(e){t.nbresults(50),t.updateDisplay(50)}}},[t._v(" 50 ")]),a("a",{staticClass:"action-submenu w-dropdown-link",class:100==t.afficher?"selected":"",on:{click:function(e){t.nbresults(100),t.updateDisplay(100)}}},[t._v(" 100 ")])]):t._e()])])])])])])],1),t.loading?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):t._e()])},nt=[],st=a("3d20"),it=a.n(st),rt=(a("415b"),a("15f5"),a("7051"),a("4328")),lt={name:"action_menu",props:{data:Object,updateTotal:Function,filter:Function,sort:Function,cherche:Function,chercheGo:Function,validateFilters:Function,nbresults:Function,isEmpty:Boolean,coordinatorAccess:Number},computed:{checkItem:function(){return _.getters.selectedItems}},data:function(){return{form:{label:"Nouveau formulaire",description:"",published:1},recherche:"",filterHover:!1,actionHover:!1,sortHover:!1,resultsHover:!1,loading:!1,NbResults:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESULTS"),AllResults:Joomla.JText._("COM_EMUNDUS_ONBOARD_ALL_RESULTS"),Action:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION"),ActionPublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),ActionUnpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),ActionDuplicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DUPLICATE"),ActionDelete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),Sort:Joomla.JText._("COM_EMUNDUS_ONBOARD_SORT"),SortCreasing:Joomla.JText._("COM_EMUNDUS_ONBOARD_SORT_CREASING"),SortDecreasing:Joomla.JText._("COM_EMUNDUS_ONBOARD_SORT_DECREASING"),Filter:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER"),FilterAll:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_ALL"),FilterOpen:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_OPEN"),FilterClose:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_CLOSE"),FilterPublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),FilterUnpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_UNPUBLISH"),AddCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN"),AddProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_PROGRAM"),AddEmail:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_EMAIL"),AddForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_FORM"),Rechercher:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH"),Archive:Joomla.JText._("COM_EMUNDUS_ONBOARD_ARCHIVE"),Archived:Joomla.JText._("COM_EMUNDUS_ONBOARD_ARCHIVED"),Restore:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESTORE"),Campaigns:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNS"),CampaignsDesc:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNS_DESC"),Emails:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILS"),Forms:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMS"),FormsDesc:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMS_DESC"),EmailsDesc:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILS_DESC"),filtre:"all",tri:"DESC",afficher:25,addHidden:!1}},methods:{updateFilter:function(t){this.filtre=t},updateSort:function(t){this.tri=t},updateDisplay:function(t){this.afficher=t},deleteSelected:function(t){var e=this;switch(this.data.type){case"program":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=deleteprogram",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.commit("deleteSelected",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcount").then((function(t){e.total=t.data.data,e.updateTotal(e.total)}))})).catch((function(t){console.log(t)})))}));break;case"campaign":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=deletecampaign",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.dispatch("deleteSelected",t).then((function(){_.commit("resetSelectedItemsList")})),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaigncount").then((function(t){e.total=t.data.data,e.updateTotal(e.total),e.$parent.validateFilters()}))})).catch((function(t){console.log(t)})))}));break;case"email":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=deleteemail",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.dispatch("deleteSelected",t).then((function(){_.commit("resetSelectedItemsList")})),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailcount").then((function(t){e.total=t.data.data,e.updateTotal(e.total),e.$parent.validateFilters()}))})).catch((function(t){console.log(t)})))}));break;case"form":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDELETE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=deleteform",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.dispatch("deleteSelected",t).then((function(){_.commit("resetSelectedItemsList")})),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDELETED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getformcount").then((function(t){e.total=t.data.data,e.updateTotal(e.total),e.$parent.validateFilters()}))})).catch((function(t){console.log(t)})))}));break}},unpublishSelected:function(t){var e=this;switch(this.data.type){case"program":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=unpublishprogram",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.commit("unpublish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)})))}));break;case"campaign":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=unpublishcampaign",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.commit("unpublish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)})))}));break;case"email":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=unpublishemail",data:rt.stringify({id:t})}).then((function(a){_.commit("unpublish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)}));break;case"form":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMUNPUBLISH"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=unpublishform",data:rt.stringify({id:t})}).then((function(a){e.loading=!1,_.commit("unpublish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMUNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)})))}));break}},publishSelected:function(t){var e=this;switch(this.data.type){case"program":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=publishprogram",data:rt.stringify({id:t})}).then((function(a){_.commit("publish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)}));break;case"campaign":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=publishcampaign",data:rt.stringify({id:t})}).then((function(a){_.commit("publish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)}));break;case"email":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=publishemail",data:rt.stringify({id:t})}).then((function(a){_.commit("publish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)}));break;case"form":c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=publishform",data:rt.stringify({id:t})}).then((function(a){_.commit("publish",t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMPUBLISHED"),type:"success",showConfirmButton:!1,timer:2e3}),e.$parent.validateFilters()})).catch((function(t){console.log(t)}));break}},duplicateSelected:function(t){var e=this;switch(this.data.type){case"campaign":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNDUPLICATE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=duplicatecampaign",data:rt.stringify({id:t})}).then((function(t){e.loading=!1,_.commit("listUpdate",t.data.data),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGNDUPLICATED"),type:"success",showConfirmButton:!1,timer:2e3})})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaigncount").then((function(t){e.total=t.data.data,e.updateTotal(e.total),e.$parent.validateFilters()}))})).catch((function(t){console.log(t)})))}));break;case"form":it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDUPLICATE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&(e.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=duplicateform",data:rt.stringify({id:t})}).then((function(t){window.location.reload()})))}));break}},redirectToAdd:function(){"index.php?option=com_emundus_onboard&view=form&layout=add"==this.data.add_url?this.createForm():this.redirectJRoute(this.data.add_url)},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return rt.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},createForm:function(){var t=this;this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=createform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:rt.stringify({body:this.form})}).then((function(e){t.loading=!1,t.profileId=e.data.data,t.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+t.profileId+"&index=0&cid=")})).catch((function(t){console.log(t)}))}},created:function(){"program"===this.data.type&&0==this.coordinatorAccess&&(this.addHidden=!0)}},ct=lt,dt=(a("2707"),Object(b["a"])(ct,ot,nt,!1,null,"1cff1054",null)),ut=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},pt=[],_t=(a("456d"),a("8615"),{name:"tasks",data:function(){return{openTasks:!0}},created:function(){this.getTasks()},methods:{getTasks:function(){var t=this;document.getElementsByClassName("swal2-shown")[0]?setTimeout((function(){t.getTasks()}),1e3):c()({method:"GET",url:"index.php?option=com_emundus_onboard&controller=settings&task=gettasks"}).then((function(t){var e="<div id='open-tasks' style='display: none' onclick=\"document.getElementsByClassName('task-container')[0].style.transform = 'translateY(0)';document.getElementById('close-tasks').style.display = 'block';document.getElementById('open-tasks').style.display = 'none'\"><i class='fas fa-plus'></i></div><div id='close-tasks' onclick=\"document.getElementsByClassName('task-container')[0].style.transform = 'translateY(80%)';document.getElementById('open-tasks').style.display = 'block';document.getElementById('close-tasks').style.display = 'none'\"><i class='fas fa-minus'></i></div><ul id='tasks_list'>",a=Object.values(t.data.params).some((function(t){return!0===t}));a&&(Object.keys(t.data.params).forEach((function(a){switch(a){case"first_campaign":t.data.params[a]?e+="<li><div class='col-md-2'><i class='far fa-times-circle' style='color: darkred'></i></div><a href='configuration-campaigns?view=campaign&layout=add'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_CAMPAIGN")+"</span></a></li><hr>":e+="<li><div class='col-md-2'><i class='far fa-check-circle' style='color: green'></i></div><a href='configuration-campaigns?view=campaign&layout=add'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_CAMPAIGN")+"</span></a></li><hr>";break;case"first_form":t.data.params[a]?e+="<li><div class='col-md-2'><i class='far fa-times-circle' style='color: darkred'></i></div><a href='configuration-forms?view=form&layout=add'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_FORM")+"</span></a></li><hr>":e+="<li><div class='col-md-2'><i class='far fa-check-circle' style='color: green'></i></div><a href='configuration-forms?view=form&layout=add'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_FORM")+"</span></a></li><hr>";break;case"first_formbuilder":t.data.params[a]?e+="<li><div class='col-md-2'><i class='far fa-times-circle' style='color: darkred'></i></div><a href='configuration-forms'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_FORMBUILDER")+"</span></a></li><hr>":e+="<li><div class='col-md-2'><i class='far fa-check-circle' style='color: green'></i></div><a href='configuration-forms'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_FORMBUILDER")+"</span></a></li><hr>";break;case"first_documents":t.data.params[a]?e+="<li><div class='col-md-2'><i class='far fa-times-circle' style='color: darkred'></i></div><a href='configuration-campaigns'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_DOCUMENTS")+"</span></a></li><hr>":e+="<li><div class='col-md-2'><i class='far fa-check-circle' style='color: green'></i></div><a href='configuration-campaigns'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_DOCUMENTS")+"</span></a></li><hr>";break;case"first_program":t.data.params[a]?e+="<li><div class='col-md-2'><i class='far fa-times-circle' style='color: darkred'></i></div><a href='configuration-programs'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_PROGRAM")+"</span></a></li><hr>":e+="<li><div class='col-md-2'><i class='far fa-check-circle' style='color: green'></i></div><a href='configuration-programs'><span>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_PROGRAM")+"</span></a></li><hr>";break}})),setTimeout((function(){document.getElementById("close-tasks").click()}),3e3),e+="</ul>",it.a.fire({position:"bottom-end",backdrop:!1,allowOutsideClick:!1,title:"Progression",html:e,customClass:{container:"task-container",title:"task-title",content:"task-content"},showConfirmButton:!1}))}))}},watch:{openTasks:function(){document.getElementsByClassName("task-content")[0].style.display="none"}}}),ft=_t,gt=Object(b["a"])(ft,mt,pt,!1,null,"7641f07e",null),ht=gt.exports,bt=(a("e382"),a("81b3"),a("16b4"),a("8d2f"),a("0391"),a("0e4e"),a("f717"),a("4328"),{components:{program:C,campaign:A,email:$,formulaire:Q,files:at,actions:ut,tasks:ht},name:"list",props:{type:String,actualLanguage:String,coordinatorAccess:Number},data:function(){return{selecedItems:[],actions:{type:"",add_url:""},loading:!1,Select:Joomla.JText._("COM_EMUNDUS_ONBOARD_SELECT"),Deselect:Joomla.JText._("COM_EMUNDUS_ONBOARD_DESELECT"),Total:Joomla.JText._("COM_EMUNDUS_ONBOARD_TOTAL"),noCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOCAMPAIGN"),noProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOPROGRAM"),noEmail:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOEMAIL"),noForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFORM"),noFiles:Joomla.JText._("COM_EMUNDUS_ONBOARD_NOFILES"),All:Joomla.JText._("COM_EMUNDUS_ONBOARD_ALL"),System:Joomla.JText._("COM_EMUNDUS_ONBOARD_SYSTEM"),Categories:Joomla.JText._("COM_EMUNDUS_ONBOARD_CATEGORIES"),total:0,filtersCount:"",filters:"",filtersCountFilter:"&filterCount=",filtersCountSearch:"&rechercheCount=",filtersFilter:"&filter=",filtersSort:"&sort=",filtersSearch:"&recherche=",filtersLim:"&lim=",filtersPage:"&page=",filtre:"",tri:"",search:"",limit:25,pages:1,countPages:1,menuEmail:0,email_categories:[],tasks:""}},computed:{list:function(){return _.getters.list},isEmpty:function(){return _.getters.isSomething}},created:function(){this.actions.type=this.type,this.typeForAdd=this.type,"form"==this.typeForAdd&&(this.type="formulaire"),"files"!=this.typeForAdd&&(this.actions.add_url="index.php?option=com_emundus_onboard&view="+this.typeForAdd+"&layout=add"),this.validateFilters()},methods:{validateFilters:function(){this.loading=!0,this.filtersCount=this.filtersCountFilter+this.filtersCountSearch,this.filters=this.filtersFilter+this.filtersSort+this.filtersSearch+this.filtersLim+this.filtersPage,this.allFilters(this.filtersCount,this.filters)},filter:function(t){this.filtersCountFilter="&filterCount="+t,this.filtersFilter="&filter="+t,this.filtre=t,this.validateFilters()},sort:function(t){this.filtersSort="&sort="+t,this.tri=t,this.validateFilters()},cherche:function(t){this.filtersCountSearch="&rechercheCount="+t,this.filtersSearch="&recherche="+t,this.search=t,this.validateFilters()},chercheGo:function(t){this.cherche(t),this.validateFilters()},nbresults:function(t){this.filtersLim="&lim="+t,this.limit=t,this.validateFilters()},nbpages:function(t){t>=1&&t<=this.countPages&&(this.filtersPage="&page="+t,this.pages=t,this.validateFilters())},allFilters:function(t,e){var a=this;"files"!=this.type&&c.a.get("index.php?option=com_emundus_onboard&controller="+this.typeForAdd+"&task=get"+this.typeForAdd+"count"+t).then((function(t){c.a.get("index.php?option=com_emundus_onboard&controller="+a.typeForAdd+"&task=getall"+a.typeForAdd+e).then((function(e){a.total=t.data.data,_.commit("listUpdate",e.data.data),"undefined"!=typeof e.data.forms_updating&&_.commit("formsAccessUpdate",e.data.forms_updating),a.countPages=Math.ceil(a.total/a.limit),"email"==a.type&&c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailcategories").then((function(t){a.email_categories=t.data.data})),a.loading=!1})).catch((function(t){console.log(t),a.loading=!1}))})).catch((function(t){console.log(t),a.loading=!1}))},updateTotal:function(t){this.total=t},selectAllItem:function(){return this.list.filter((function(t){_.commit("selectItem",t.id)}))},deselectItem:function(){_.commit("resetSelectedItemsList")},selectItem:function(t){_.commit("selectItem",t)}}}),vt=bt,Ct=(a("81e9b"),Object(b["a"])(vt,i,r,!1,null,"43b94b38",null)),Ot=Ct.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-principale"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required"},[t._v(t._s(t.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title programme"}),a("h2",{staticClass:"heading"},[t._v(t._s(t.Program))])]),a("p",{staticClass:"paragraphe-sous-titre"},[t._v(" "+t._s(t.AddProgramDesc)+" ")]),a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"program-form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"form-group prog-label"},[a("label",{attrs:{for:"prog_label"}},[t._v(t._s(t.ProgName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.label,expression:"form.label"},{name:"focus",rawName:"v-focus"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.label},attrs:{id:"prog_label",type:"text",placeholder:" "},domProps:{value:t.form.label},on:{keyup:t.updateCode,input:function(e){e.target.composing||t.$set(t.form,"label",e.target.value)}}})]),t.errors.label?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.LabelRequired))])]):t._e(),a("div",{staticClass:"form-group prog-label"},[a("label",{staticStyle:{top:"10.7em"},attrs:{for:"prog_category"}},[t._v(t._s(t.ChooseCategory))]),a("autocomplete",{attrs:{id:"prog_category",items:this.categories,year:t.form.programmes},on:{searched:t.onSearchCategory}})],1),a("div",{staticClass:"form-group controls"},[t.dynamicComponent?a("editor",{attrs:{height:"30em",text:t.form.notes,lang:t.actualLanguage,enable_variables:!1,id:"program",placeholder:t.ProgramResume},model:{value:t.form.notes,callback:function(e){t.$set(t.form,"notes",e)},expression:"form.notes"}}):t._e()],1),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.published,expression:"form.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(t.form.published)?t._i(t.form.published,null)>-1:t._q(t.form.published,"1")},on:{change:function(e){var a=t.form.published,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&t.$set(t.form,"published",a.concat([s])):i>-1&&t.$set(t.form,"published",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.form,"published",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"published"}},[t._v(t._s(t.Publish))])]),a("div",{staticClass:"form-group d-flex last-container"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.apply_online,expression:"form.apply_online"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"apply",name:"apply"},domProps:{checked:Array.isArray(t.form.apply_online)?t._i(t.form.apply_online,null)>-1:t._q(t.form.apply_online,"1")},on:{change:function(e){var a=t.form.apply_online,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&t.$set(t.form,"apply_online",a.concat([s])):i>-1&&t.$set(t.form,"apply_online",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.form,"apply_online",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"apply"}},[t._v(t._s(t.DepotDeDossier))])]),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){t.quit=1,t.submit()}}},[t._v(" "+t._s(t.Continuer)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-quitter",attrs:{type:"button"},on:{click:function(e){t.quit=0,t.submit()}}},[t._v(" "+t._s(t.Quitter)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button",onclick:"history.go(-1)"}},[t._v(" "+t._s(t.Retour)+" ")])])])])])])])]),t.submitted?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#de6339"}})],1):t._e(),a("tasks")],1)},Et=[],xt=(a("55dd"),a("28a5"),a("a481"),a("b5ae")),yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editor"},[a("div",{attrs:{id:"tiny_"+t.selector_id}})])},Ut=[],Nt=(a("7f7f"),a("e562")),Tt=a.n(Nt),At=a("2ef0"),Mt=a.n(At),St=(a("1157"),a("bc54"),a("4237"),a("3aea"),a("0a9d"),a("4ea8"),a("64d8"),a("d2dc"),a("0902"),a("2b07"),a("69e4"),a("62e5"),a("c3d7"),{components:{editor:Tt.a},props:{text:String,lang:String,placeholder:String,id:String,height:String,enable_variables:Boolean},data:function(){return{selector_id:this.id+Mt.a.random(1e4,99999),variables:{},data:null}},methods:{saveText:function(){this.$emit("input",Tt.a.activeEditor.getContent())}},watch:{text:function(){this.$forceUpdate()}},mounted:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=geteditorvariables"}).then((function(e){t.variables=e.data.data}));var e=window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",a={selector:"#tiny_"+this.selector_id,images_upload_url:"index.php?option=com_emundus_onboard&controller=settings&task=uploadimages",plugins:"paste link media preview image code anchor advlist hr emoticons lists searchreplace charmap quickbars imagetools pagebreak autolink print mention",toolbar:"undo redo | forecolor bold italic underline strikethrough | fontsizeselect formatselect | image link preview | alignleft aligncenter alignright alignjustify hr | bullist numlist | outdent indent | insertfile media anchor| charmap emoticons backcolor | searchreplace print",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",content_css:e+"skins/ui/oxide/content.min.css",height:this.height,branding:!1,elementpath:!1,statusbar:!1,menubar:!1,a11y_advanced_options:!1,toolbar_sticky:!1,quickbars_insert_toolbar:"",quickbars_selection_toolbar:"bold italic underline | quicklink h2 h3 blockquote",toolbar_mode:"sliding",placeholder:this.placeholder,file_picker_types:"image",file_picker_callback:function(t,e,a){var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("accept","image/*"),o.onchange=function(){var e=this.files[0],a=new FileReader;a.onload=function(){var o="blobid"+(new Date).getTime(),n=Tt.a.activeEditor.editorUpload.blobCache,s=a.result.split(",")[1],i=n.create(o,e,s);n.add(i),t(i.blobUri(),{title:e.name})},a.readAsDataURL(e)},o.click()},mentions:{delimiter:"/",source:function(e,a,o){"/"===o&&1==t.enable_variables&&a(t.variables)},queryBy:"tag",delay:200,insert:function(e){return setTimeout((function(){t.$emit("input",Tt.a.activeEditor.getContent())}),500),"<span>["+e.tag+"]</span>"},render:function(t){return'<li class="email-tags"><a href="javascript:;"><span>'+t.tag+"</span><p>"+t.description+"</p></a></li>"},renderDropdown:function(){return'<ul class="rte-autocomplete dropdown-menu"></ul>'}},setup:function(e){e.on("keyup",(function(){t.$emit("input",Tt.a.activeEditor.getContent())})),e.on("init",(function(){Tt.a.activeEditor.setContent(t.text)}))}};"fr"==this.lang?(a.language="fr_FR",a.language_url=e+"languages/fr_FR.js",Tt.a.init(a)):Tt.a.init(a),this.$forceUpdate(),setInterval(this.saveText,3e3)}}),wt=St,Rt=(a("6408"),Object(b["a"])(wt,yt,Ut,!1,null,"f9cb1d20",null)),Jt=Rt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"autocomplete"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],class:""!==t.year?"":"placeholder",attrs:{type:"text",id:t.id,placeholder:""!==t.year?t.year:t.name},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onChange],keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrowDown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrowUp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)}]}}),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"autocomplete-results"},t._l(t.results,(function(e,o){return a("li",{key:o,staticClass:"autocomplete-result",class:{"is-active":o===t.arrowCounter},on:{click:function(a){return t.setResult(e)}}},[t._v(" "+t._s(e)+" ")])})),0)])},Bt=[],It=(a("386d"),{name:"autocomplete",props:{items:{type:Array,required:!1,default:function(){return[]}},name:String,year:String,id:String},data:function(){return{search:"",results:[],isOpen:!1,sLoading:!1,arrowCounter:-1}},created:function(){var t=this,e=function(t){return new Promise((function(e){return setTimeout(e,t)}))};e(2e3).then((function(){t.search=t.year}))},methods:{onSearching:function(t){this.$emit("searched",this.search)},onChange:function(){this.isOpen=!0,this.filterResults(),this.onSearching()},filterResults:function(){var t=this;this.results=this.items.filter((function(e){return e.toLowerCase().indexOf(t.search.toLowerCase())>-1}))},setResult:function(t){this.search=t,this.isOpen=!1,this.onSearching()},onArrowDown:function(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){this.search=this.results[this.arrowCounter],this.isOpen=!1,this.arrowCounter=-1,this.onSearching()},handleClickOutside:function(t){this.$el.contains(t.target)||(this.isOpen=!1,this.arrowCounter=-1)}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}}),Lt=It,Pt=(a("bb8f"),Object(b["a"])(Lt,kt,Bt,!1,null,"d62d9cce",null)),jt=Pt.exports,Ft=a("4328"),$t={name:"addProgram",components:{Tasks:ht,Editor:Jt,Autocomplete:jt},directives:{focus:{inserted:function(t){t.focus()}}},props:{prog:Number,actualLanguage:String},data:function(){return{dynamicComponent:!1,isHidden:!1,new_category:"",categories:[],cats:[],programs:[],quit:1,Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),AddProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDPROGRAM"),ChooseProg:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CHOOSEPROG"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),DepotDeDossier:Joomla.JText._("COM_EMUNDUS_ONBOARD_DEPOTDEDOSSIER"),ProgName:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGNAME"),ProgCode:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGCODE"),ChooseCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),NameCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_NAMECATEGORY"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),CodeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_CODE"),CategoryRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_CATEGORY"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),ProgramResume:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_RESUME"),AdvancedSettings:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADVANCED_SETTINGS"),form:{label:"",code:"",programmes:"",notes:"",synthesis:'<ul><li><strong>[APPLICANT_NAME]</strong></li><li><a href="mailto:[EMAIL]">[EMAIL]</a></li></ul>',tmpl_trombinoscope:'<table cellpadding="2" style="width: 100%;"><tbody><tr style="border-collapse: collapse;"><td align="center" valign="top" style="text-align: center;"><p style="text-align: center;"><img src="[PHOTO]" alt="Photo" height="100" /> </p><p style="text-align: center;"><b>[NAME]</b><br /></p></td></tr></tbody></table>',tmpl_badge:'<table width="100%"><tbody><tr><td style="vertical-align: top; width: 100px;" align="left" valign="middle" width="30%"><img src="[LOGO]" alt="Logo" height="50" /></td><td style="vertical-align: top;" align="left" valign="top" width="70%"><b>[NAME]</b></td></tr></tbody></table>\n',published:1,apply_online:1},submitted:!1,errors:{label:!1,code:!1,category:!1}}},validations:{form:{label:{required:xt["required"]},code:{required:xt["required"]}}},methods:{submit:function(){var t=this;return this.errors.label=!1,this.errors.code=!1,this.errors.category=!1,""==this.form.label?(this.errors.label=!0,0):""==this.form.code?(this.errors.code=!0,0):(""!==this.new_category&&(this.form.programmes=this.new_category),this.$v.$touch(),void(this.$v.$invalid||(this.submitted=!0,""!==this.prog?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=updateprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ft.stringify({body:this.form,code:this.prog})}).then((function(e){t.quitFunnelOrContinue(t.quit)})).catch((function(t){console.log(t)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=createprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ft.stringify({body:this.form})}).then((function(e){t.prog=e.data.data,t.quitFunnelOrContinue(t.quit)})).catch((function(t){console.log(t)})))))},onSearchCategory:function(t){this.form.programmes=t},updateCode:function(){var t=this;""!==this.form.label?(this.form.code=this.form.label.toUpperCase().replace(/[^a-zA-Z0-9]/g,"_").substring(0,10)+"_00",this.programs.forEach((function(e,a){if(t.form.code==e.code){var o=parseInt(e.code.split("_")[1])+1;t.form.code=o>10?t.form.label.toUpperCase()+"_"+o:t.form.label.toUpperCase()+"_0"+o}}))):this.form.code=""},checkCode:function(){var t=this;this.programs.forEach((function(e,a){if(t.form.code.toUpperCase()==e.code){var o=parseInt(e.code.split("_")[1])+1;t.form.code=o>10?t.form.label.toUpperCase()+"_"+o:t.form.label.toUpperCase()+"_0"+o}}))},quitFunnelOrContinue:function(t){0==t?window.location.href="/configuration-programs":1==t&&window.location.replace("index.php?option=com_emundus_onboard&view=program&layout=advancedsettings&pid="+this.prog)}},created:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcategories").then((function(e){t.categories=e.data.data;for(var a=0;a<t.categories.length;a++)t.cats.push(t.categories[a]);""!==t.prog?c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogrambyid&id=".concat(t.prog)).then((function(e){t.form.code=e.data.data.code,t.form.label=e.data.data.label,t.form.notes=e.data.data.notes,t.form.programmes=e.data.data.programmes,t.form.tmpl_badge=e.data.data.tmpl_badge,t.form.published=e.data.data.published,t.form.apply_online=e.data.data.apply_online,null!=e.data.data.synthesis&&(t.form.synthesis=e.data.data.synthesis.replace(/>\s+</g,"><")),null!=e.data.data.tmpl_trombinoscope&&(t.form.tmpl_trombinoscope=e.data.data.tmpl_trombinoscope.replace(/>\s+</g,"><")),t.dynamicComponent=!0})).catch((function(t){console.log(t)})):t.dynamicComponent=!0})).catch((function(t){console.log(t)})),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getallprogram").then((function(e){t.programs=e.data.data,t.programs.sort((function(t,e){return t.id-e.id}))})).catch((function(t){console.log(t)}))}},Gt=$t,Ht=Object(b["a"])(Gt,Dt,Et,!1,null,"e119ddfe",null),zt=Ht.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column-menu-main w-row",staticStyle:{"margin-top":"120px"}},[a("div",{staticClass:"w-row"},[a("div",{staticClass:"col-md-4 p-1"},[a("div",{staticClass:"mb-1"},[a("h1",{staticClass:"nom-campagne"},[t._v(t._s(t.Program)+" : "+t._s(t.program.label))]),a("div",{staticClass:"prog-info"},[a("div",[a("p",[t._v(" "+t._s(t.Code)+" : "+t._s(t.program.code)+" ")]),a("p",[t._v(" "+t._s(t.Category)+" : "+t._s(t.program.programmes)+" ")])]),a("a",{staticClass:"modifier-la-campagne pointer",on:{click:function(e){return t.redirectJRoute("index.php?option=com_emundus_onboard&view=program&layout=add&pid="+t.prog)}}},[t._m(0)])])]),a("div",{staticClass:"divider-menu"}),a("transition",{attrs:{name:"slide-right"}},[a("div",{staticClass:"col-md-12 mt-2"},[a("div",{staticClass:"container-menu-funnel"},t._l(t.progCategories[t.langue],(function(e,o){return a("div",{key:o},[a("a",{staticClass:"menu-item",class:t.menuHighlight==o?"w--current":"",on:{click:function(e){t.menuHighlight=o}}},[t._v(t._s(e))])])})),0)])])],1),a("div",{staticClass:"col-md-8 p-1",staticStyle:{"padding-left":"2em !important"}},[a("h2",[t._v(t._s(t.progCategories[t.langue][t.menuHighlight]))]),a("p",{staticClass:"paragraphe-sous-titre"},[t._v(t._s(t.funnelDescription[t.langue][t.menuHighlight]))]),a("transition",{attrs:{name:"slide-right"}},[0==t.menuHighlight?a("addGestionnaires",{attrs:{funnelCategorie:t.progCategories[t.langue][t.menuHighlight],group:this.prog_group,coordinatorAccess:t.coordinatorAccess}}):t._e(),1==t.menuHighlight?a("addEvaluationGrid",{attrs:{funnelCategorie:t.progCategories[t.langue][t.menuHighlight],prog:this.prog}}):t._e(),2==t.menuHighlight?a("addEmail",{attrs:{funnelCategorie:t.progCategories[t.langue][t.menuHighlight],prog:this.prog}}):t._e()],1)],1)]),a("div",{staticClass:"section-sauvegarder-et-continuer-funnel"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation w-clearfix"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",on:{click:function(e){return t.next()}}},[t._v(t._s(t.Continuer))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",on:{click:function(e){return t.previous()}}},[t._v(" "+t._s(t.Retour)+" ")])])])]),a("tasks")],1)},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"w-inline-block edit-icon"},[a("em",{staticClass:"fas fa-edit"})])}],Yt=a("859b"),Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("ModalAddUser",{attrs:{group:this.group,coordinatorAccess:t.coordinatorAccess,userManage:0},on:{Updatemanager:function(e){return t.getManagersInGroup()},Updateevaluator:function(e){return t.getEvaluatorsInGroup()}}}),0!=t.coordinatorAccess?a("ModalAffect",{attrs:{group:this.group,groupProfile:"manager"},on:{Updatemanager:function(e){return t.getManagersInGroup()}}}):t._e(),a("ModalAffect",{attrs:{group:this.group,groupProfile:"evaluator"},on:{Updateevaluator:function(e){return t.getEvaluatorsInGroup()}}}),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",staticStyle:{width:"max-content"},on:{click:function(e){return t.$modal.show("modalAddUser")}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.addUser)+" ")])]),0!=t.coordinatorAccess?a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.Administrators))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return t.$modal.show("modalAffectmanager")}}},[t._v(t._s(t.affectUsers))])]):t._e(),a("transition-group",{attrs:{name:"slide-down",type:"transition"}},t._l(t.managers,(function(e,o){return 0!=t.coordinatorAccess?a("div",{key:o,staticClass:"manager-item"},[a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.email))])]),a("button",{staticClass:"remove-user",attrs:{type:"button"},on:{click:function(a){return t.removeManager(e,o)}}},[a("em",{staticClass:"fas fa-minus"})])]):t._e()})),0),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.Evaluators))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return t.$modal.show("modalAffectevaluator")}}},[t._v(t._s(t.affectUsers))])]),a("transition-group",{attrs:{name:"slide-down",type:"transition"}},t._l(t.evaluators,(function(e,o){return a("div",{key:o,staticClass:"manager-item"},[a("div",[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.email))])]),a("button",{staticClass:"remove-user",attrs:{type:"button"},on:{click:function(a){return t.removeEvaluator(e,o)}}},[a("em",{staticClass:"fas fa-minus"})])])})),0)],1)},Xt=[],Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAddUser"}},[a("modal",{attrs:{name:"modalAddUser",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddUser")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.addUser)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Lastname)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lastname,expression:"form.lastname"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.lastname},attrs:{type:"text",maxlength:"40"},domProps:{value:t.form.lastname},on:{input:function(e){e.target.composing||t.$set(t.form,"lastname",e.target.value)}}}),t.errors.lastname?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.LastnameRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Firstname)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstname,expression:"form.firstname"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.firstname},attrs:{type:"text",maxlength:"40"},domProps:{value:t.form.firstname},on:{input:function(e){e.target.composing||t.$set(t.form,"firstname",e.target.value)}}}),t.errors.firstname?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.FirstnameRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Email)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.email},attrs:{type:"text",maxlength:"40"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.errors.email?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.EmailRequired))])]):t._e()]),1==t.userManage?a("div",{staticClass:"form-group"},[a("label",{staticClass:"mb-1"},[t._v(t._s(t.Program)+"* :")]),a("div",{staticClass:"select-all"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectall,expression:"selectall"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectall)?t._i(t.selectall,null)>-1:t.selectall},on:{click:t.selectAllPrograms,change:function(e){var a=t.selectall,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.selectall=a.concat([s])):i>-1&&(t.selectall=a.slice(0,i).concat(a.slice(i+1)))}else t.selectall=n}}}),a("label",[t._v(" "+t._s(t.SelectAll)+" ")])]),a("div",{staticClass:"users-block"},t._l(t.programs,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.affected_programs[e.id],expression:"affected_programs[program.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.affected_programs[e.id])?t._i(t.affected_programs[e.id],null)>-1:t.affected_programs[e.id]},on:{change:function(a){var o=t.affected_programs[e.id],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.affected_programs,e.id,o.concat([i])):r>-1&&t.$set(t.affected_programs,e.id,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.affected_programs,e.id,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.label))])])])})),0)]):t._e(),0!=t.userManage&&t.least_one_program?t._e():a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Role)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.profile,expression:"form.profile"}],staticClass:"dropdown-toggle",class:{"is-invalid":t.errors.profile},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"profile",e.target.multiple?a:a[0])}}},[0!=t.coordinatorAccess?a("option",{attrs:{value:"5"}},[t._v(t._s(t.Administrator))]):t._e(),a("option",{attrs:{value:"6"}},[t._v(t._s(t.Evaluator))])]),t.errors.profile?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.RoleRequired))])]):t._e()])]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddUser")}}},[t._v(t._s(t.Retour))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.createUser()}}},[t._v(t._s(t.Continuer))])]),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()])],1)},Wt=[],Zt=a("4328"),te={name:"modalAddUser",props:{group:Object,coordinatorAccess:Number,userManage:Number},data:function(){return{errors:{firstname:!1,lastname:!1,login:!1,email:!1},form:{login:"",firstname:"",lastname:"",campaigns:"",oprofiles:"",groups:"",profile:5,jgr:13,email:"",newsletter:0,university_id:0,ldap:0},affected_programs:[],least_one_program:!0,programs:[],selectall:!1,changes:!1,loading:!1,addUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADDUSER"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Firstname:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIRSTNAME"),FirstnameRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIRSTNAME_REQUIRED"),Lastname:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME"),LastnameRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME_REQUIRED"),Email:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL"),EmailRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_REQUIRED"),Role:Joomla.JText._("COM_EMUNDUS_ONBOARD_ROLE"),RoleRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_ROLE_REQUIRED"),Administrator:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATOR"),Evaluator:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATOR"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),SelectAll:Joomla.JText._("COM_EMUNDUS_ONBOARD_SELECT_ALL")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},selectAllPrograms:function(){var t=this;this.selectall?this.least_one_program=!0:this.least_one_program=!1,this.programs.forEach((function(e){t.selectall?t.affected_programs[e.id]=!1:t.affected_programs[e.id]=!0})),this.$forceUpdate()},getProgramsList:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getallprogram",params:{filter:"",sort:"",recherche:"",lim:100,page:1},paramsSerializer:function(t){return Zt.stringify(t)}}).then((function(e){t.programs=e.data.data}))},createUser:function(){var t=this;return this.errors={firstname:!1,lastname:!1,identifier:!1,email:!1},""==this.form.lastname?(this.errors.lastname=!0,0):""==this.form.firstname?(this.errors.firstname=!0,0):""==this.form.email?(this.errors.email=!0,0):(this.form.login=this.form.email,this.loading=!0,void c()({method:"post",url:"index.php?option=com_emundus&controller=users&task=adduser",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zt.stringify(this.form)}).then((function(e){1==e.data.status?t.least_one_program||1!=t.userManage?0==t.userManage?t.affectUserToRole(t.group):(t.loading=!1,t.$emit("UpdateUsers",t.form),t.$modal.hide("modalAddUser")):c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getgroupsbyprograms",params:{programs:t.affected_programs},paramsSerializer:function(t){return Zt.stringify(t)}}).then((function(e){Object.values(e.data.groups).forEach((function(e){console.log(e),t.affectUserToRole(e)}))})):(t.loading=!1,it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),text:e.data.msg,type:"error",showCancelButton:!1,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK")}))})).catch((function(t){console.log(t)})))},affectUserToRole:function(t){var e=this,a=null;a=5==this.form.profile?t.manager:t.evaluator,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=affectusertogroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zt.stringify({group:a,prog_group:t.prog,email:this.form.email})}).then((function(t){e.loading=!1,1==e.userManage?e.$emit("UpdateUsers",e.form):5==e.form.profile?e.$emit("Updatemanager"):e.$emit("Updateevaluator"),e.$modal.hide("modalAddUser")}))}},created:function(){1==this.userManage&&this.getProgramsList()},watch:{affected_programs:function(){this.least_one_program=this.affected_programs.every((function(t){return!1===t}))}}},ee=te,ae=(a("f1cf"),Object(b["a"])(ee,Kt,Wt,!1,null,"9cafee18",null)),oe=ae.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAffect"+t.groupProfile}},[a("modal",{attrs:{name:"modalAffect"+t.groupProfile,height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAffect"+t.groupProfile)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.affectUsers)+" ")])])]),a("div",{staticClass:"modalC-content"},[0===t.users.length?a("p",{staticClass:"mt-1 mb-1"},[t._v(t._s(t.usersEmpty))]):t._e(),0!==t.users.length?a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:t.Search},domProps:{value:t.searchTerm},on:{keyup:t.searchUserByTerm,input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:t.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]):t._e(),t._l(t.users,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.affectedUsers[e.id],expression:"affectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.affectedUsers[e.id])?t._i(t.affectedUsers[e.id],null)>-1:t.affectedUsers[e.id]},on:{change:function(a){var o=t.affectedUsers[e.id],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.affectedUsers,e.id,o.concat([i])):r>-1&&t.$set(t.affectedUsers,e.id,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.affectedUsers,e.id,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.email))])])])}))],2),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAffect"+t.groupProfile)}}},[t._v(t._s(t.Retour))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.affectToGroup(e)}}},[t._v(t._s(t.Continuer))])])])],1)},se=[],ie=a("4328"),re={name:"modalAffect",props:{group:Object,groupProfile:String},data:function(){return{users:[],affectedUsers:[],searchTerm:"",Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),affectUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_AFFECTUSERS"),usersEmpty:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_USERSEMPTY")}},methods:{beforeClose:function(t){},beforeOpen:function(t){this.getUsers()},affectToGroup:function(){var t=this,e=[];this.users.forEach((function(a){t.affectedUsers[a.id]&&e.push(a.id)}));var a=null;a="manager"==this.groupProfile?this.group.manager:this.group.evaluator,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=affectuserstogroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ie.stringify({group:a,prog_group:this.group.prog,users:e})}).then((function(){t.affectedUsers=[],t.$emit("Update"+t.groupProfile),t.$modal.hide("modalAffect"+t.groupProfile)}))},getUsers:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserstoaffect&group="+this.group.prog).then((function(e){t.users=e.data.data}))},searchUserByTerm:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserstoaffectbyterm&group="+this.group.prog+"&term="+this.searchTerm).then((function(e){t.users=e.data.data}))}}},le=re,ce=Object(b["a"])(le,ne,se,!1,null,"05cd240c",null),de=ce.exports,ue=a("4328"),me={name:"addGestionnaires",components:{ModalAffect:de,ModalAddUser:oe},props:{funnelCategorie:String,group:Object,coordinatorAccess:Number},data:function(){return{managers:[],evaluators:[],addUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADDUSER"),affectUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_AFFECTUSERS"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS")}},methods:{getManagersInGroup:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getmanagers&group="+this.group.manager).then((function(e){t.managers=e.data.data}))},getEvaluatorsInGroup:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getevaluators&group="+this.group.evaluator).then((function(e){t.evaluators=e.data.data}))},removeManager:function(t,e){var a=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=removefromgroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ue.stringify({id:t.id,group:this.group.manager,prog_group:this.group.prog})}).then((function(){a.managers.splice(e,1)}))},removeEvaluator:function(t,e){var a=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=removefromgroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ue.stringify({id:t.id,group:this.group.evaluator,prog_group:this.group.prog})}).then((function(){a.evaluators.splice(e,1)}))}},created:function(){this.getManagersInGroup(),this.getEvaluatorsInGroup()}},pe=me,_e=(a("74c0"),Object(b["a"])(pe,Qt,Xt,!1,null,"67cd5cb3",null)),fe=_e.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("ModalAddTrigger",{key:t.candidate_trigger,attrs:{prog:this.prog,trigger:this.triggerSelected,triggerAction:"candidate"},on:{UpdateTriggers:t.getTriggers}}),a("ModalAddTrigger",{key:t.manual_trigger,attrs:{prog:this.prog,trigger:this.triggerSelected,triggerAction:"manual"},on:{UpdateTriggers:t.getTriggers}}),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.CandidateAction))]),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",staticStyle:{width:"max-content"},on:{click:function(e){t.$modal.show("modalAddTriggercandidate"),t.triggerSelected=null}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.addTrigger)+" ")])])]),a("p",[t._v(t._s(t.TheCandidateDescription))]),a("transition-group",{attrs:{name:"slide-down",type:"transition"}},t._l(t.triggers,(function(e,o){return 1==e.candidate?a("div",{key:o,staticClass:"trigger-item"},[a("div",{staticStyle:{"max-width":"80%"}},[a("p",[t._v(t._s(e.subject))]),a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.Target)+" : ")]),t._l(e.users,(function(o,n){return null==e.profile?a("span",[t._v(" "+t._s(o.firstname)+" "+t._s(o.lastname)+" "),n!=Object.keys(e.users).length-1?a("span",[t._v(", ")]):t._e()]):t._e()})),0==e.users.length&&5!=e.profile&&6!=e.profile?a("span",[t._v(t._s(t.TheCandidate))]):t._e(),5==e.profile?a("span",[t._v(t._s(t.Administrators))]):t._e(),6==e.profile?a("span",[t._v(t._s(t.Evaluators))]):t._e()],2),a("p",[t._v(t._s(t.Status)+" "+t._s(e.status))])]),a("div",{staticStyle:{display:"grid"}},[a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button",title:t.removeTrig},on:{click:function(a){return t.removeTrigger(e.trigger_id)}}},[a("em",{staticClass:"fas fa-times"})]),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return t.editTrigger(e)}}},[a("em",{staticClass:"fas fa-pen"})])])]):t._e()})),0),a("div",{staticClass:"choices-buttons"},[a("h2",{staticStyle:{"margin-bottom":"0"}},[t._v(t._s(t.ManagerAction))]),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",staticStyle:{width:"max-content"},on:{click:function(e){t.$modal.show("modalAddTriggermanual"),t.triggerSelected=null}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.addTrigger)+" ")])])]),a("p",[t._v(t._s(t.ManualDescription))]),a("transition-group",{attrs:{name:"slide-down",type:"transition"}},t._l(t.triggers,(function(e,o){return 1==e.manual?a("div",{key:o,staticClass:"trigger-item"},[a("div",{staticStyle:{"max-width":"80%"}},[a("p",[t._v(t._s(e.subject))]),a("p",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.Target)+" : ")]),t._l(e.users,(function(o,n){return null==e.profile&&e.users.length>0?a("span",[t._v(" "+t._s(o.firstname)+" "+t._s(o.lastname)+" "),n!=Object.keys(e.users).length-1?a("span",[t._v(", ")]):t._e()]):t._e()})),0==e.users.length&&5!=e.profile&&6!=e.profile?a("span",[t._v(t._s(t.TheCandidate))]):t._e(),5==e.profile?a("span",[t._v(t._s(t.Administrators))]):t._e(),6==e.profile?a("span",[t._v(t._s(t.Evaluators))]):t._e()],2),a("p",[t._v(t._s(t.Status)+" "+t._s(e.status))])]),a("div",{staticStyle:{display:"grid"}},[a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button"},on:{click:function(a){return t.removeTrigger(e.trigger_id)}}},[a("em",{staticClass:"fas fa-times"})]),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return t.editTrigger(e)}}},[a("em",{staticClass:"fas fa-pen"})])])]):t._e()})),0)],1)},he=[],be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAddTrigger"+t.triggerAction}},[a("modal",{attrs:{name:"modalAddTrigger"+t.triggerAction,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("ModalEmailPreview",{attrs:{model:this.form.model,models:this.models}}),a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddTrigger"+t.triggerAction)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.addTrigger)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Model)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.model,expression:"form.model"}],staticClass:"dropdown-toggle",class:{"is-invalid":t.errors.model},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"model",e.target.multiple?a:a[0])}}},t._l(t.models,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(t._s(e.subject))])})),0),-1!=t.form.model?a("button",{staticClass:"btnPreview mb-0",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.show("modalEmailPreview_"+t.form.model)}}},[a("em",{staticClass:"fas fa-eye"})]):t._e()]),t.errors.model?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.ModelRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Status)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],staticClass:"dropdown-toggle",class:{"is-invalid":t.errors.status},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"status",e.target.multiple?a:a[0])}}},t._l(t.status,(function(e,o){return a("option",{key:o,domProps:{value:e.step}},[t._v(t._s(e.value))])})),0),t.errors.status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.StatusRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Target)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.target,expression:"form.target"}],staticClass:"dropdown-toggle",class:{"is-invalid":t.errors.target},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"target",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5"}},[t._v(t._s(t.Administrators))]),a("option",{attrs:{value:"6"}},[t._v(t._s(t.Evaluators))]),a("option",{attrs:{value:"1000"}},[t._v(t._s(t.Candidates))]),a("option",{attrs:{value:"0"}},[t._v(t._s(t.DefinedUsers))])]),t.errors.target?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.TargetRequired))])]):t._e()]),0==t.form.target?a("div",{staticClass:"form-group",staticStyle:{"align-items":"baseline"}},[a("label",[t._v(t._s(t.ChooseUsers)+"* :")]),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:t.Search},domProps:{value:t.searchTerm},on:{keyup:t.searchUserByTerm,input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:t.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),a("div",{staticClass:"select-all"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectall,expression:"selectall"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectall)?t._i(t.selectall,null)>-1:t.selectall},on:{click:t.selectAllUsers,change:function(e){var a=t.selectall,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.selectall=a.concat([s])):i>-1&&(t.selectall=a.slice(0,i).concat(a.slice(i+1)))}else t.selectall=n}}}),a("label",{staticClass:"mb-0 ml-10px"},[t._v(" "+t._s(t.SelectAll)+" ")])]),a("div",{staticClass:"users-block",class:{"is-invalid":t.errors.selectedUsers}},t._l(t.users,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUsers[e.id],expression:"selectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectedUsers[e.id])?t._i(t.selectedUsers[e.id],null)>-1:t.selectedUsers[e.id]},on:{change:function(a){var o=t.selectedUsers[e.id],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.selectedUsers,e.id,o.concat([i])):r>-1&&t.$set(t.selectedUsers,e.id,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.selectedUsers,e.id,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.email))])])])})),0),t.errors.selectedUsers?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.UsersRequired))])]):t._e()]):t._e()]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddTrigger"+t.triggerAction)}}},[t._v(t._s(t.Retour))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.createTrigger()}}},[t._v(t._s(t.Continuer))])])],1)],1)},ve=[],Ce=a("4328"),Oe={name:"modalAddTrigger",components:{ModalEmailPreview:I},props:{prog:Number,trigger:Number,triggerAction:String},data:function(){return{errors:{model:!1,status:!1,action_status:!1,target:!1,selectedUsers:!1},form:{model:-1,status:null,action_status:null,target:null,program:this.prog},users:[],selectedUsers:[],models:[],status:[],searchTerm:"",changes:!1,selectall:!1,addTrigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_ADDTRIGGER"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Model:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERMODEL"),ModelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERMODEL_REQUIRED"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),StatusRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),Target:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),TargetRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET_REQUIRED"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),Candidates:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CANDIDATES"),DefinedUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_DEFINED_USERS"),ChooseUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_CHOOSE_USERS"),UsersRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_USERS_REQUIRED"),Search:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH_USERS"),ChangedActionStatus:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHANGED_ACTION_STATUS"),TheCandidate:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL"),SelectAll:Joomla.JText._("COM_EMUNDUS_ONBOARD_SELECT_ALL")}},methods:{beforeClose:function(t){this.trigger=null,this.form={model:-1,status:null,action_status:null,target:null,program:this.prog}},beforeOpen:function(t){var e=this;this.searchTerm="",this.getUsers(),this.getEmailModels(),this.getStatus(),setTimeout((function(){null!=e.trigger&&e.getTrigger()}),200),"candidate"===this.triggerAction?this.form.action_status="to_current_user":this.form.action_status="to_applicant"},createTrigger:function(){var t=this;return this.errors={model:!1,status:!1,action_status:!1,target:!1,selectedUsers:!1},-1===this.form.model?(this.errors.model=!0,0):null==this.form.status?(this.errors.status=!0,0):null==this.form.action_status?(this.errors.action_status=!0,0):null==this.form.target?(this.errors.target=!0,0):0==this.form.target&&0===this.selectedUsers.length?(this.errors.selectedUsers=!0,0):void(null!=this.trigger?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=updatetrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ce.stringify({tid:this.trigger,trigger:this.form,users:this.selectedUsers})}).then((function(e){t.selectedUsers=[],t.$emit("UpdateTriggers"),t.$modal.hide("modalAddTrigger"+t.triggerAction)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=createtrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ce.stringify({trigger:this.form,users:this.selectedUsers})}).then((function(e){t.selectedUsers=[],t.$emit("UpdateTriggers"),t.$modal.hide("modalAddTrigger"+t.triggerAction)})))},getUsers:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserswithoutapplicants").then((function(e){t.users=e.data.data}))},searchUserByTerm:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=searchuserbytermwithoutapplicants&term="+this.searchTerm).then((function(e){t.users=e.data.data}))},getEmailModels:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getallemail").then((function(e){t.models=e.data.data}))},getStatus:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getstatus").then((function(e){t.status=e.data.data}))},getTrigger:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=gettriggerbyid&tid="+this.trigger).then((function(e){t.form.model=e.data.data.model,t.form.status=e.data.data.status,null==e.data.data.target?(t.form.target=0,e.data.data.users.forEach((function(e){t.selectedUsers[e.user_id]=!0}))):5!=e.data.data.target&&6!=e.data.data.target?t.form.target=1e3:t.form.target=e.data.data.target}))},selectAllUsers:function(){var t=this;this.users.forEach((function(e){t.selectall?t.selectedUsers[e.id]=!1:t.selectedUsers[e.id]=!0})),this.$forceUpdate()}}},De=Oe,Ee=(a("e015"),Object(b["a"])(De,be,ve,!1,null,"618c3eb4",null)),xe=Ee.exports,ye=a("4328"),Ue={name:"addEmail",components:{ModalAddTrigger:xe},props:{funnelCategorie:String,prog:Number},data:function(){return{triggers:[],triggerSelected:null,manual_trigger:0,candidate_trigger:0,addTrigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_ADDTRIGGER"),removeTrig:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_REMOVETRIGGER"),affectTriggers:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_AFFECTTRIGGERS"),ChooseEmailTrigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EMAIL_TRIGGER"),Target:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),TheCandidate:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL"),TheCandidateDescription:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE_DESCRIPTION"),ManualDescription:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL_DESCRIPTION"),CandidateAction:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANDIDATE_ACTION"),ManagerAction:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANAGER_ACTION")}},methods:{editTrigger:function(t){var e=this;this.triggerSelected=t.trigger_id,this.manual_trigger+=1,this.candidate_trigger+=1,setTimeout((function(){1==t.candidate?e.$modal.show("modalAddTriggercandidate"):e.$modal.show("modalAddTriggermanual")}),500)},removeTrigger:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=removetrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ye.stringify({tid:t})}).then((function(t){e.getTriggers()}))},getTriggers:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=gettriggersbyprogram&pid="+this.prog).then((function(e){t.triggers=e.data.data}))}},created:function(){this.getTriggers()}},Ne=Ue,Te=(a("44f3"),Object(b["a"])(Ne,ge,he,!1,null,"a3b539e4",null)),Ae=Te.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("p",{staticClass:"heading"},[t._v(t._s(t.chooseCampaign)+" :")]),a("div",{staticClass:"heading-block mb-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.cid,expression:"cid"}],staticClass:"dropdown-toggle",staticStyle:{width:"90%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cid=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}}),t._l(t.campaigns,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])}))],2),null!=t.cid?a("a",{staticClass:"modifier-la-campagne",attrs:{href:"index.php?option=com_emundus_onboard&view=campaign&layout=add&cid="+t.cid}},[t._m(0)]):t._e()]),null==t.cid?a("div",{staticClass:"required mt-1",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[t._v(t._s(t.chooseCampaignWarning))])]):t._e(),null!=t.cid&&null==t.profile?a("div",{staticClass:"required mt-1",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[t._v(t._s(t.NoFormAffectedToThisCampaign))])]):t._e(),null!=t.cid&&null!==t.profile?a("div",[a("div",[a("add-formulaire",{key:t.formReload,attrs:{profileId:t.profile,visibility:t.cid}})],1)]):t._e()])},Se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"w-inline-block edit-icon"},[a("em",{staticClass:"fas fa-edit"})])}],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation formulairedepresentation"},[a("p",{staticClass:"heading"},[t._v(t._s(t.ChooseForm))]),a("div",{staticClass:"heading-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.profileId,expression:"profileId"}],staticClass:"dropdown-toggle",attrs:{id:"select_profile"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.profileId=e.target.multiple?a:a[0]},t.updateProfileCampaign]}},t._l(t.profiles,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(" "+t._s(e.form_label)+" ")])})),0),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",on:{click:t.addNewForm}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.AddForm)+" ")])])]),this.formList?a("FormCarrousel",{key:t.formListReload,attrs:{formList:this.formList,documentsList:this.documentsList,visibility:this.visibility},on:{getEmitIndex:t.getEmitIndex,formbuilder:t.formbuilder}}):t._e()],1)},Re=[],Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"menu-block"},[a("div",{staticClass:"col-md-8 form-viewer-builder",staticStyle:{padding:"30px"}},[t.formLinkArray[t.indexHighlight]?a("FormViewer",{attrs:{link:t.formLinkArray[t.indexHighlight],visibility:this.visibility},on:{editPage:t.EditPage}}):t._e()],1),a("ul",{staticClass:"col-md-3 sticky-form-pages"},[a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{margin:"0",padding:"0 10px"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png",alt:t.Form}}),t._v(t._s(t.Form))]),t._l(t.formNameArray,(function(e,o){return a("li",{key:o,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem",class:t.indexHighlight==o?"MenuFormItem_current":"",domProps:{innerHTML:t._s(t.splitProfileIdfromLabel(e.value))},on:{click:function(e){return t.ChangeIndex(o)}}},[t._v(t._s(e.value))])])}))],2),a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{margin:"0",padding:"0 10px"}},[a("em",{staticClass:"far fa-folder-open mr-1",attrs:{alt:t.Documents}}),t._v(t._s(t.Documents))]),t._l(t.documentsList,(function(e,o){return a("li",{key:o,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem"},[t._v(t._s(e.label))])])}))],2)])])])},ke=[],Be=(a("b54a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FormViewer container-fluid",attrs:{id:"FormViewer"}},[t.object_json.show_page_heading?a("div",{class:t.object_json.show_page_heading.class,domProps:{innerHTML:t._s(t.object_json.show_page_heading.page_heading)}}):t._e(),a("div",{staticClass:"d-flex justify-content-between"},[t.object_json.show_title?a("h2",{staticClass:"page_header",domProps:{innerHTML:t._s(t.splitProfileIdfromLabel(t.object_json.show_title.value))}}):t._e(),a("a",{staticClass:"cta-block pointer",on:{click:t.formbuilder}},[a("em",{staticClass:"fas fa-pen"})])]),t.object_json.intro_value?a("p",{staticClass:"introP",staticStyle:{"margin-top":"2em"},domProps:{innerHTML:t._s(t.object_json.intro_value)}}):t._e(),a("form",{staticClass:"form-page",attrs:{method:"post","object_json.attribs":""}},[t.object_json.plugintop?a("div",{domProps:{innerHTML:t._s(t.object_json.plugintop)}}):t._e(),t._l(t.object_json.Groups,(function(e){return a("div",{key:e.index,class:{unpublished:e.visibility&&null!=t.visibility},staticStyle:{padding:"5px"}},[a("fieldset",{class:e.group_class,style:e.group_css,attrs:{id:"group"+e.group_id}},[e.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[t._v(" "+t._s(e.group_showLegend)+" "),null!=t.visibility?a("button",{staticClass:"eye-button",attrs:{type:"button"},on:{click:function(a){return t.updateVisibility(e.group_id)}}},[a("em",{class:e.visibility?"eye-slash-icon":"eye-icon"})]):t._e()]):t._e(),e.group_intro?a("div",{staticClass:"groupintro",domProps:{innerHTML:t._s(e.group_intro)}}):t._e(),a("div",{staticClass:"elements-block"},t._l(e.elements,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.hidden,expression:"element.hidden === false"}],key:e.index,staticClass:"builder-item-element"},[e.label_value?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=e.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:t._s(e.label_value)}}):t._e(),e.params.date_table_format?a("div",[a("date-picker",{attrs:{config:t.options},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1):0==e.labelsAbove?a("div",{staticClass:"controls"},[e.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:t._s(e.error)}}):t._e(),e.element?a("div",{class:e.errorClass,domProps:{innerHTML:t._s(e.element)}}):t._e(),e.tipSide?a("span",{domProps:{innerHTML:t._s(e.tipSide)}}):t._e()]):a("span",[e.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:t._s(e.error)}}):t._e(),e.element?a("div",{class:e.errorClass,domProps:{innerHTML:t._s(e.element)}}):t._e(),e.tipSide?a("span",{domProps:{innerHTML:t._s(e.tipSide)}}):t._e()]),e.tipBelow?a("span",{domProps:{innerHTML:t._s(e.tipBelow)}}):t._e()])})),0),e.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:t._s(t.group_outro)}}):t._e()])])})),t.object_json.pluginbottom?a("div",{domProps:{innerHTML:t._s(t.object_json.pluginbottom)}}):t._e()],2),t.submitted?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()])}),Ie=[],Le=a("133f"),Pe=a.n(Le),je=a("4328"),Fe={name:"FormViewer",props:{link:String,visibility:Number},components:{datePicker:Pe.a},data:function(){return{object_json:"",date:new Date,submitted:!1,options:{format:"DD/MM/YYYY",useCurrent:!1}}},methods:{splitProfileIdfromLabel:function(t){return t.split(/-(.+)/)[1]},formbuilder:function(){this.$emit("editPage")},getDataObject:Mt.a.debounce((function(){var t=this;this.submitted=!0;var e=this.link.link.replace("fabrik","emundus_onboard");c.a.get(e+"&format=vue_jsonclean").then((function(e){t.object_json=e.data,null!=t.visibility&&c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=checkconstraintgroup",params:{cid:t.visibility},paramsSerializer:function(t){return je.stringify(t)}}).then((function(e){Object.keys(t.object_json.Groups).forEach((function(a){null!=e.data.data?c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=checkvisibility",params:{group:t.object_json.Groups[a]["group_id"],cid:t.visibility},paramsSerializer:function(t){return je.stringify(t)}}).then((function(e){parseInt(e.data.data)>0?t.object_json.Groups[a].visibility=!0:t.object_json.Groups[a].visibility=!1})):t.object_json.Groups[a].visibility=!0})),t.$forceUpdate()})),t.submitted=!1})).catch((function(t){console.log(t)}))}),150),updateVisibility:function(t){var e=this;this.object_json.Groups["group_"+t]["visibility"]=!this.object_json.Groups["group_"+t]["visibility"],c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=updatevisibility",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:je.stringify({visibility:this.object_json.Groups["group_"+t]["visibility"],gid:t,cid:this.visibility})}).then((function(t){e.$forceUpdate()}))}},created:function(){this.getDataObject()},watch:{link:function(){this.getDataObject()}}},$e=Fe,Ge=(a("d706"),Object(b["a"])($e,Be,Ie,!1,null,"6a6bf82b",null)),He=Ge.exports,ze=(a("2051"),a("4328"),{name:"FormCarrousel",props:{formList:Object,documentsList:Object,visibility:Number},components:{FormViewer:He},data:function(){return{indexHighlight:"0",formNameArray:[],documentsList:[],formLinkArray:[],formArray:[],FormPage:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_PAGE"),Form:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM"),Documents:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCUMENTS")}},methods:{splitProfileIdfromLabel:function(t){return t.split(/-(.+)/)[1]},ChangeIndex:function(t){this.indexHighlight=t},EditPage:function(){this.$emit("formbuilder",this.indexHighlight)},getDataObject:function(){var t=this;this.formList.forEach((function(e){var a=e.link.replace("fabrik","emundus_onboard");c.a.get(a+"&format=vue_jsonclean").then((function(a){t.formNameArray.push({value:a.data.show_title.value,rgt:e.rgt}),t.formLinkArray.push({link:e.link,rgt:e.rgt})})).then((function(e){t.formNameArray.sort((function(t,e){return t.rgt-e.rgt})),t.formLinkArray.sort((function(t,e){return t.rgt-e.rgt}))})).catch((function(t){console.log(t)}))}))}},created:function(){this.getDataObject()}}),qe=ze,Ve=(a("dbe3"),Object(b["a"])(qe,Je,ke,!1,null,"013cb140",null)),Ye=Ve.exports,Qe=a("4328"),Xe={name:"addFormulaire",props:{profileId:String,campaignId:String,profiles:Array,formulaireEmundus:Number,visibility:Number},components:{FormCarrousel:Ye},data:function(){return{ChooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),AddForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_FORM"),EmitIndex:"0",formList:"",documentsList:[],formListReload:0,form:{label:"Nouveau formulaire",description:"",published:1},formdescription:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORMDESCRIPTION")}},methods:{getEmitIndex:function(t){this.EmitIndex=t},getForms:function(t){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getFormsByProfileId",params:{profile_id:t},paramsSerializer:function(t){return Qe.stringify(t)}}).then((function(t){e.formList=t.data.data,e.formListReload+=1})).catch((function(t){console.log(t)}))},getDocuments:function(t){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getDocuments",params:{pid:t},paramsSerializer:function(t){return Qe.stringify(t)}}).then((function(t){e.documentsList=t.data.data}))},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return Qe.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},addNewForm:function(){var t=this;this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=createform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Qe.stringify({body:this.form})}).then((function(e){t.loading=!1,t.profileId=e.data.data,t.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+t.profileId+"&index=0&cid="+t.campaignId)})).catch((function(t){console.log(t)}))},updateProfileCampaign:function(){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updateprofile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Qe.stringify({profile:this.profileId,campaign:this.campaignId})}).then((function(e){t.getForms(t.profileId),t.getDocuments(t.profileId),t.$emit("profileId",t.profileId)}))},formbuilder:function(t){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getfilesbyform&pid="+this.profileId).then((function(a){0!=a.data.data?e.$modal.show("modalWarningFormBuilder"):e.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+e.profileId+"&index="+t+"&cid="+e.campaignId)}))}},created:function(){this.getForms(this.profileId),this.getDocuments(this.profileId)}},Ke=Xe,We=(a("0ea7"),Object(b["a"])(Ke,we,Re,!1,null,"5dd61a1c",null)),Ze=We.exports,ta=(a("4328"),{name:"addEvalVisi",components:{AddFormulaire:Ze},props:{funnelCategorie:Object,prog:Number},data:function(){return{formReload:0,cid:null,profile:null,profiles:[],campaigns:[],EnableVisibility:Joomla.JText._("COM_EMUNDUS_ONBOARD_VISIBILITY_ENABLE"),ChooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),chooseCampaignWarning:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_CAMPAIGN_WARNING"),chooseCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_CAMPAIGN"),NoFormAffectedToThisCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_NO_AFFECTED_FORM")}},methods:{getFormByCampaign:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignbyid&id="+this.cid).then((function(e){t.profile=e.data.data.campaign.profile_id,null!=t.profile&&(t.formReload+=1)}))},getCampaignsByProgram:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignsbyprogram&pid="+this.prog).then((function(e){t.campaigns=e.data.data}))}},watch:{cid:function(t){t&&this.getFormByCampaign()}},created:function(){this.getCampaignsByProgram()}}),ea=ta,aa=(a("423ed"),Object(b["a"])(ea,Me,Se,!1,null,null,null)),oa=aa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.funnelCategorie[0]))]),a("p",{staticClass:"paragraphe-sous-titre"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. ")]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),a("div",{staticClass:"icon-title equipe"})])},sa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ajouter-une-ligne"},[a("a",{staticClass:"waiting-for-everyone w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Groupe d'évaluateur 1")]),a("a",{staticClass:"bin w-inline-block",attrs:{href:"#"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("John Doe")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")]),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Benjamin Rivaland")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Tom Bach")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick-pending w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Claude François")]),a("div",{staticClass:"statut-invitation"},[t._v("en attente de confirmation")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ajouter-une-ligne"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Groupe d'évaluateur 2")]),a("a",{staticClass:"bin w-inline-block",attrs:{href:"#"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Will Smith")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Peter Pan")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eval-detail"},[a("a",{staticClass:"tick w-inline-block",attrs:{href:"#"}}),a("div",[t._v("Vincent Cassel")]),a("a",{staticClass:"minus w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"edit w-inline-block",attrs:{href:"#"}}),a("a",{staticClass:"resend w-inline-block",attrs:{href:"#","data-ix":"hover-date"}}),a("div",{staticClass:"text-block-7"},[t._v("Dernier envoi : 06/08/2019")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("div",{staticClass:"container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{staticClass:"dropdown-toggle w-select",attrs:{id:"Groupe-d-valuateur",name:"Groupe-d-valuateur","data-name":"Groupe d'évaluateur"}},[a("option",{attrs:{value:""}},[t._v("Choisir un groupe d'évaluateur")]),a("option",{attrs:{value:"Groupe d'évaluateur 1"}},[t._v("Groupe d'évaluateur 1")]),a("option",{attrs:{value:"Groupe d'évaluateur 2"}},[t._v("Groupe d'évaluateur 2")]),a("option",{attrs:{value:"Groupe d'évaluateur 3"}},[t._v("Groupe d'évaluateur 3")])]),a("a",{staticClass:"plus w-inline-block",attrs:{href:"#"}},[a("div",{staticClass:"text-block"},[t._v("+")])])])])])}],ia={name:"addEvalEval",props:{funnelCategorie:Object},data:function(){return{}},methods:{},created:function(){}},ra=ia,la=Object(b["a"])(ra,na,sa,!1,null,null,null),ca=la.exports,da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ModalAddEvaluation",{attrs:{prog:this.prog,grid:this.grid},on:{updateGrid:t.getEvaluationGridByProgram}}),a("div",{staticClass:"container-evaluation"},[null==t.grid?a("div",{staticClass:"text-center"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{float:"none"},attrs:{type:"button"},on:{click:function(e){return t.$modal.show("modalAddEvaluation")}}},[t._v(t._s(t.addGrid))])]):t._e(),null!=t.grid?a("div",{staticClass:"text-center"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{float:"none"},attrs:{type:"button"},on:{click:t.evaluationBuilder}},[t._v("Modifier la grille")])]):t._e(),null!=t.grid?a("FormViewerEvaluation",{key:t.viewer,attrs:{link:t.link,prog:t.prog}}):t._e()],1)],1)},ua=[],ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FormViewer container-fluid",attrs:{id:"FormViewerEvaluation"}},[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"}}),a("notifications",{attrs:{group:"foo-velocity",position:"top right","animation-type":"velocity",speed:500}}),t.object_json.show_page_heading?a("div",{class:t.object_json.show_page_heading.class,domProps:{innerHTML:t._s(t.object_json.show_page_heading.page_heading)}}):t._e(),a("form",{attrs:{method:"post","object_json.attribs":""},on:{submit:function(t){t.preventDefault()}}},[t.object_json.plugintop?a("div",{domProps:{innerHTML:t._s(t.object_json.plugintop)}}):t._e(),t._l(t.object_json.Groups,(function(e,o){return a("div",{key:e.index},[a("fieldset",{class:e.group_class,style:e.group_css,attrs:{id:"group_"+e.group_id}},[a("div",{staticClass:"d-flex"},[e.group_showLegend?a("legend",{staticClass:"legend ViewerLegend"},[t._v(t._s(e.group_showLegend))]):t._e()]),e.group_intro?a("div",{staticClass:"groupintro",domProps:{innerHTML:t._s(e.group_intro)}}):t._e(),a("div",{staticClass:"elements-block"},[a("transition-group",{attrs:{name:"slide-down",type:"transition"}},t._l(e.elts,(function(e,o){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.hidden,expression:"element.hidden === false"}],key:e.id,staticClass:"builder-item-element",class:{unpublished:!e.publish}},[a("div",{staticClass:"d-flex builder-item-element__properties"},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex",staticStyle:{"align-items":"baseline"}},[e.label_value?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=e.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:t._s(e.label_value)}}):t._e()]),e.params.date_table_format?a("div",[a("date-picker",{attrs:{config:t.options},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1):0==e.labelsAbove?a("div",{staticClass:"controls"},[e.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:t._s(e.error)}}):t._e(),e.element?a("div",{class:e.errorClass,domProps:{innerHTML:t._s(e.element)}}):t._e(),e.tipSide?a("span",{domProps:{innerHTML:t._s(e.tipSide)}}):t._e()]):a("span",{staticClass:"d-flex w-100"},[e.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:t._s(e.error)}}):t._e(),e.element?a("div",{staticClass:"w-100",class:e.errorClass,domProps:{innerHTML:t._s(e.element)}}):t._e(),e.tipSide?a("span",{domProps:{innerHTML:t._s(e.tipSide)}}):t._e()]),e.tipBelow?a("span",{domProps:{innerHTML:t._s(e.tipBelow)}}):t._e()])])])})),0)],1),e.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:t._s(t.group_outro)}}):t._e()])])})),t.object_json.pluginbottom?a("div",{domProps:{innerHTML:t._s(t.object_json.pluginbottom)}}):t._e()],2),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},pa=[],_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalEditElement"}},[a("modal",{attrs:{name:"modalEditElement"+t.ID,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalEditElement"+t.ID)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.ElementOptions)+" ")])])]),null!=t.element?a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"mb-1"},[a("a",{staticClass:"d-flex tool-icon mb-1",on:{click:function(e){return t.publishUnpublishElement()}}},[a("em",{class:[t.element.publish?"fa-eye-slash":"fa-eye","far"],staticStyle:{width:"45px"},attrs:{id:"publish_icon_"+t.element.id}}),t.element.publish?a("span",{staticClass:"ml-10px"},[t._v(t._s(t.Unpublish))]):t._e(),t.element.publish?t._e():a("span",{staticClass:"ml-10px"},[t._v(t._s(t.Publish))])]),"display"!=t.plugin?a("a",{staticClass:"d-flex tool-icon"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.FRequire,expression:"element.FRequire"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.element.FRequire)?t._i(t.element.FRequire,null)>-1:t.element.FRequire},on:{click:function(e){return t.updateRequireElement()},change:function(e){var a=t.element.FRequire,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&t.$set(t.element,"FRequire",a.concat([s])):i>-1&&t.$set(t.element,"FRequire",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.element,"FRequire",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px"},[t._v(t._s(t.Required))])]):t._e()]),a("div",{staticClass:"form-group mb-2"},[a("label",[t._v(t._s(t.fieldType)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.plugin,expression:"plugin"}],staticClass:"dropdown-toggle",attrs:{id:"select_type",disabled:0!=t.files&&"birthday"==t.element.plugin||0!=t.files&&6==t.element.params.password},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.plugin=e.target.multiple?a:a[0]}}},t._l(t.plugins,(function(e,o){return a("option",{key:o,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])})),0)]),a("div",{staticClass:"col-md-12 separator-top top-responsive"},["field"==t.plugin?a("fieldF",{attrs:{files:t.files,element:t.element}}):t._e(),"birthday"==t.plugin?a("birthdayF",{attrs:{element:t.element}}):t._e(),"checkbox"==t.plugin?a("checkboxF",{attrs:{element:t.element,databases:t.databases},on:{subOptions:t.subOptions}}):t._e(),"dropdown"==t.plugin?a("dropdownF",{attrs:{element:t.element,databases:t.databases},on:{subOptions:t.subOptions}}):t._e(),"radiobutton"==t.plugin?a("radiobtnF",{attrs:{element:t.element},on:{subOptions:t.subOptions}}):t._e(),"textarea"==t.plugin?a("textareaF",{attrs:{element:t.element}}):t._e(),"display"==t.plugin?a("displayF",{attrs:{element:t.element}}):t._e(),"emundus_fileupload"==t.plugin?a("fileF",{attrs:{element:t.element,prid:t.profileId}}):t._e()],1)]):t._e(),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalEditElement"+t.ID)}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.UpdateParams(e)}}},[t._v(t._s(t.Continuer))])]),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()])],1)},fa=[],ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"fieldF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.fieldtype)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.element.params.password,expression:"element.params.password"}],staticClass:"dropdown-toggle",attrs:{id:"selectIdTest",disabled:0!=t.files&&6==t.element.params.password},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.element.params,"password",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v(t._s(t.textfield))]),a("option",{attrs:{value:"2"}},[t._v(t._s(t.phonefield))]),a("option",{attrs:{value:"3"}},[t._v(t._s(t.emailfield))]),0==t.files||0!=t.files&&6==t.element.params.password?a("option",{attrs:{value:"6"}},[t._v(t._s(t.numberfield))]):t._e()])]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.placeholdertext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.placeholder,expression:"element.params.placeholder"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.placeholder},on:{input:function(e){e.target.composing||t.$set(t.element.params,"placeholder",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.rollover},on:{input:function(e){e.target.composing||t.$set(t.element.params,"rollover",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.maxlength)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.maxlength,expression:"element.params.maxlength"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"1"},domProps:{value:t.element.params.maxlength},on:{input:function(e){e.target.composing||t.$set(t.element.params,"maxlength",e.target.value)}}})]),0==t.element.params.password?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.inputmasktitle))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.text_input_mask,expression:"element.params.text_input_mask"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"format",placeholder:[[t.inputmaskplaceholder]]},domProps:{value:t.element.params.text_input_mask},on:{input:function(e){e.target.composing||t.$set(t.element.params,"text_input_mask",e.target.value)}}}),a("label",{staticStyle:{"font-size":"small"}},[t._v(t._s(t.tipData))])]):t._e()])])},ha=[],ba={name:"fieldF",props:{element:Object,files:Number},data:function(){return{msg:"",path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),placeholdertext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER"),sizetext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_SIZE"),maxlength:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH"),fieldtype:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FIELDTYPE"),textfield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FIELDTEXT"),phonefield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FIELDPHONE"),emailfield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EMAIL"),numberfield:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_NUMBER"),placeholderHelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP"),text_input_mask:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK"),inputmasktitle:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_TITLE"),inputmaskplaceholder:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_PLACEHOLDER"),tipData:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_HINT")}},methods:{},created:function(){this.msg='<p style="color: white">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',"undefined"==typeof this.element.params.password&&(this.element.params.password=0),"undefined"==typeof this.element.params.maxlength&&(this.element.params.maxlength=255),"undefined"==typeof this.element.params.text_input_mask&&(this.element.params.text_input_mask=""),"undefined"==typeof this.element.params.placeholder&&(this.element.params.placeholder="")}},va=ba,Ca=(a("9319"),Object(b["a"])(va,ga,ha,!1,null,"7abe26fd",null)),Oa=Ca.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"birthdayF"}},[a("div",{staticClass:"rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Format))]),a("div",{staticClass:"flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.datepicker,expression:"datepicker"}],attrs:{type:"radio",id:"radio_default",value:"1"},domProps:{checked:t._q(t.datepicker,"1")},on:{change:function(e){t.datepicker="1"}}}),a("span",{staticClass:"ml-10px"},[t._v(t._s(t.birthdaySelect))])]),a("div",{staticClass:"flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.datepicker,expression:"datepicker"}],attrs:{type:"radio",id:"radio_years",value:"2"},domProps:{checked:t._q(t.datepicker,"2")},on:{change:function(e){t.datepicker="2"}}}),a("span",{staticClass:"ml-10px"},[t._v(t._s(t.yearSelect))])]),a("div",{staticClass:"flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.datepicker,expression:"datepicker"}],attrs:{type:"radio",id:"radio_dayMonth",value:"3"},domProps:{checked:t._q(t.datepicker,"3")},on:{change:function(e){t.datepicker="3"}}}),a("span",{staticClass:"ml-10px"},[t._v(t._s(t.dateSelect))])])]),1==t.datepicker||2==t.datepicker?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.yearrange))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.birthday_forward,expression:"element.params.birthday_forward"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"format"},domProps:{value:t.element.params.birthday_forward},on:{input:function(e){e.target.composing||t.$set(t.element.params,"birthday_forward",e.target.value)}}}),a("label",{staticStyle:{"font-size":"small"}},[t._v(t._s(t.yeararrangetip))])]):t._e()])])},Ea=[],xa={name:"birthdayF",components:{},props:{element:Object},data:function(){return{datepicker:null,birthdaySelect:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMAT_BIRTHDAY"),yearSelect:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMAT_YEAR"),dateSelect:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_CALENDAR"),Format:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMATTING"),birthday_forward:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_FUTURE_YEARS"),yearrange:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_YEAR_RANGE"),yeararrangetip:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_TIP_YEARS_FUTURE")}},created:function(){"birthday"==this.element.plugin?this.datepicker=1:"date"==this.element.plugin?this.datepicker=3:this.datepicker=2},watch:{datepicker:function(t){this.element.plugin=3==t?"date":2==t?"years":"birthday"}}},ya=xa,Ua=(a("177b"),Object(b["a"])(ya,Da,Ea,!1,null,"0d93f4bc",null)),Na=Ua.exports,Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"checkboxF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.rollover},on:{input:function(e){e.target.composing||t.$set(t.element.params,"rollover",e.target.value)}}})]),a("div",{staticClass:"d-flex mb-1"},[a("label",{staticClass:"require col-md-3"},[t._v(t._s(t.suboptions)+" :")])]),a("div",{staticClass:"col-md-10"},[1!=t.databasejoin?a("draggable",{attrs:{handle:".handle"},on:{end:function(e){return t.needtoemit()}},model:{value:t.arraySubValues,callback:function(e){t.arraySubValues=e},expression:"arraySubValues"}},t._l(t.arraySubValues,(function(e,o){return a("div",{key:o,staticClass:"d-flex mb-1"},[a("span",{staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.arraySubValues[o],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{height:"35px"},attrs:{type:"text",id:"suboption_"+o},domProps:{value:t.arraySubValues[o]},on:{change:function(e){return t.needtoemit()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},input:function(e){e.target.composing||t.$set(t.arraySubValues,o,e.target.value)}}}),a("button",{staticClass:"remove-option",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.leave(o)}}},[t._v("-")])])})),0):t._e(),1!=t.databasejoin?a("button",{staticClass:"bouton-sauvergarder-et-continuer-3 button-add-option",staticStyle:{"margin-bottom":"2em"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.add(e)}}},[t._v(t._s(t.AddOption))]):t._e(),1==t.databasejoin?a("select",{directives:[{name:"model",rawName:"v-model",value:t.databasejoin_data,expression:"databasejoin_data"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.databasejoin_data=e.target.multiple?a:a[0]}}},t._l(t.databases,(function(e,o){return a("option",{domProps:{value:o}},[t._v(t._s(e.label))])})),0):t._e()],1)])])},Aa=[],Ma=a("b76a"),Sa=a.n(Ma),wa=a("4328"),Ra={name:"checkboxF",components:{draggable:Sa.a},props:{element:Object,databases:Array},data:function(){return{arraySubValues:[],databasejoin:"0",databasejoin_data:0,helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS"),DataTables:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN")}},methods:{add:Mt.a.debounce((function(){var t=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,t,""),this.needtoemit();var e="suboption_"+t.toString();setTimeout((function(){document.getElementById(e).focus()}),100)}),150),leave:function(t){this.$delete(this.arraySubValues,t),this.needtoemit()},initialised:function(){var t=this;"databasejoin"===this.element.plugin?(this.databasejoin=1,this.databases.forEach((function(e,a){e.database_name==t.element.params.join_db_name&&(t.databasejoin_data=a)}))):"undefined"!==typeof this.element.params.sub_options?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:wa.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then((function(e){Object.values(e.data).forEach((function(e){t.arraySubValues.push(e)})),t.needtoemit()})).catch((function(t){console.log(t)})):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},needtoemit:Mt.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)})),checkOnboarding:function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=checkfirstdatabasejoin"}).then((function(t){t.data.status&&it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN_TEXT"),type:"info",showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK")}).then((function(t){t.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=removeparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:wa.stringify({param:"first_databasejoin"})})}))}))}},created:function(){this.initialised()},watch:{databasejoin:function(t){t?(this.checkOnboarding(),this.element.params.join_db_name=this.databases[this.databasejoin_data].database_name,this.element.params.database_join_display_type="checkbox",this.element.params.join_key_column=this.databases[this.databasejoin_data].join_column_id,"1"==this.databases[this.databasejoin_data].translation?(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val+"_fr",this.element.params.join_val_column_concat="{thistable}."+this.databases[this.databasejoin_data].join_column_val+"_{shortlang}"):(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val,this.element.params.join_val_column_concat="")):(this.element.plugin="checkbox",delete this.element.params.join_db_name,delete this.element.params.database_join_display_type,delete this.element.params.join_key_column,delete this.element.params.join_val_column,delete this.element.params.join_val_column_concat,"undefined"===typeof this.element.params.sub_options&&(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},databasejoin_data:function(t){this.element.params.join_db_name=this.databases[t].database_name,this.element.params.join_key_column=this.databases[t].join_column_id,this.element.params.database_join_display_type="checkbox","1"==this.databases[t].translation?(this.element.params.join_val_column=this.databases[t].join_column_val+"_fr",this.element.params.join_val_column_concat="{thistable}."+this.databases[t].join_column_val+"_{shortlang}"):(this.element.params.join_val_column=this.databases[t].join_column_val,this.element.params.join_val_column_concat="")}}},Ja=Ra,ka=(a("7a8c"),Object(b["a"])(Ja,Ta,Aa,!1,null,"699f3142",null)),Ba=ka.exports,Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dropdownF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.rollover},on:{input:function(e){e.target.composing||t.$set(t.element.params,"rollover",e.target.value)}}})]),a("div",{staticClass:"d-flex mb-1"},[a("label",{staticClass:"require col-md-3"},[t._v(t._s(t.suboptions)+" :")])]),a("div",{staticClass:"col-md-12 form-group flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.no_default_value,expression:"no_default_value"}],staticClass:"check",attrs:{type:"checkbox","true-value":"true","false-value":"false",id:"no_default_value"},domProps:{checked:Array.isArray(t.no_default_value)?t._i(t.no_default_value,null)>-1:t._q(t.no_default_value,"true")},on:{change:function(e){var a=t.no_default_value,o=e.target,n=o.checked?"true":"false";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.no_default_value=a.concat([s])):i>-1&&(t.no_default_value=a.slice(0,i).concat(a.slice(i+1)))}else t.no_default_value=n}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"no_default_value"}},[t._v(t._s(t.No_Default_Value))])]),a("div",{staticClass:"col-md-10 form-group flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.databasejoin,expression:"databasejoin"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"databasejoin_check",name:"'databasejoin_check'"},domProps:{checked:Array.isArray(t.databasejoin)?t._i(t.databasejoin,null)>-1:t._q(t.databasejoin,"1")},on:{change:function(e){var a=t.databasejoin,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.databasejoin=a.concat([s])):i>-1&&(t.databasejoin=a.slice(0,i).concat(a.slice(i+1)))}else t.databasejoin=n}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("label",{staticClass:"ml-10px mb-0",attrs:{for:"databasejoin_check"}},[t._v(t._s(t.DataTables))])]),a("div",{staticClass:"col-md-10"},[1!=t.databasejoin?a("draggable",{attrs:{handle:".handle"},on:{end:function(e){return t.needtoemit()}},model:{value:t.arraySubValues,callback:function(e){t.arraySubValues=e},expression:"arraySubValues"}},t._l(t.arraySubValues,(function(e,o){return t.display_first_option!=o?a("div",{key:o,staticClass:"d-flex mb-1"},[a("span",{staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.arraySubValues[o],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{height:"35px"},attrs:{type:"text",id:"suboption_"+o},domProps:{value:t.arraySubValues[o]},on:{change:function(e){return t.needtoemit()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},input:function(e){e.target.composing||t.$set(t.arraySubValues,o,e.target.value)}}}),a("button",{staticClass:"remove-option",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.leave(o)}}},[t._v("-")])]):t._e()})),0):t._e(),1!=t.databasejoin?a("button",{staticClass:"bouton-sauvergarder-et-continuer-3 button-add-option",staticStyle:{"margin-bottom":"2em"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.add(e)}}},[t._v(t._s(t.AddOption))]):t._e(),1==t.databasejoin?a("select",{directives:[{name:"model",rawName:"v-model",value:t.databasejoin_data,expression:"databasejoin_data"}],staticClass:"dropdown-toggle",staticStyle:{margin:"20px 0 30px 0"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.databasejoin_data=e.target.multiple?a:a[0]}}},t._l(t.databases,(function(e,o){return a("option",{domProps:{value:o}},[t._v(t._s(e.label))])})),0):t._e()],1)])])},La=[],Pa=a("4328"),ja={name:"dropdownF",components:{draggable:Sa.a},props:{element:Object,databases:Array},data:function(){return{arraySubValues:[],databasejoin:"0",no_default_value:!1,display_first_option:null,databasejoin_data:0,helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS"),DataTables:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),No_Default_Value:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_NO_DEFAULT_VALUE")}},methods:{add:Mt.a.debounce((function(){var t=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,t,""),this.needtoemit();var e="suboption_"+t.toString();setTimeout((function(){document.getElementById(e).focus()}),100)}),150),leave:function(t){this.$delete(this.arraySubValues,t),this.needtoemit()},initialised:function(){var t=this;"databasejoin"===this.element.plugin?(this.databasejoin=1,this.databases.forEach((function(e,a){e.database_name==t.element.params.join_db_name&&(t.databasejoin_data=a)}))):(this.element.params.default_value=!1,this.no_default_value=!1,"undefined"!==typeof this.element.params.sub_options?("undefined"!==typeof this.element.params.sub_options.sub_initial_selection&&(this.element.params.sub_options.sub_values.forEach((function(e,a){e==t.element.params.sub_options.sub_initial_selection[0]&&(t.display_first_option=a)})),null!=this.display_first_option&&(this.element.params.default_value=!0,this.no_default_value=!0)),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Pa.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then((function(e){Object.values(e.data).forEach((function(e){t.arraySubValues.push(e)})),t.needtoemit()})).catch((function(t){console.log(t)}))):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},needtoemit:Mt.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)})),checkOnboarding:function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=checkfirstdatabasejoin"}).then((function(t){t.data.status&&it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN_TEXT"),type:"info",showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK")}).then((function(t){t.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=removeparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Pa.stringify({param:"first_databasejoin"})})}))}))}},created:function(){this.initialised()},watch:{databasejoin:function(t){1==t?(this.checkOnboarding(),this.element.plugin="databasejoin",this.element.params.join_db_name=this.databases[this.databasejoin_data].database_name,this.element.params.database_join_display_type="dropdown",this.element.params.join_key_column=this.databases[this.databasejoin_data].join_column_id,"1"==this.databases[this.databasejoin_data].translation?(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val+"_fr",this.element.params.join_val_column_concat="{thistable}."+this.databases[this.databasejoin_data].join_column_val+"_{shortlang}"):(this.element.params.join_val_column=this.databases[this.databasejoin_data].join_column_val,this.element.params.join_val_column_concat="")):(this.element.plugin="dropdown",delete this.element.params.join_db_name,delete this.element.params.database_join_display_type,delete this.element.params.join_key_column,delete this.element.params.join_val_column,delete this.element.params.join_val_column_concat,"undefined"===typeof this.element.params.sub_options&&(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels))},databasejoin_data:function(t){this.element.params.join_db_name=this.databases[t].database_name,this.element.params.join_key_column=this.databases[t].join_column_id,this.element.params.database_join_display_type="dropdown","1"==this.databases[t].translation?(this.element.params.join_val_column=this.databases[t].join_column_val+"_fr",this.element.params.join_val_column_concat="{thistable}."+this.databases[t].join_column_val+"_{shortlang}"):(this.element.params.join_val_column=this.databases[t].join_column_val,this.element.params.join_val_column_concat="")},no_default_value:function(t){this.element.params.default_value=t}}},Fa=ja,$a=(a("2eab"),Object(b["a"])(Fa,Ia,La,!1,null,"189d0aa2",null)),Ga=$a.exports,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"radiobtnF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.rollover},on:{input:function(e){e.target.composing||t.$set(t.element.params,"rollover",e.target.value)}}})]),a("div",{staticClass:"d-flex mb-1"},[a("label",{staticClass:"require col-md-3"},[t._v(t._s(t.suboptions)+" :")])]),a("div",{staticClass:"col-md-10"},[a("draggable",{staticStyle:{"padding-bottom":"2em"},attrs:{handle:".handle"},on:{end:function(e){return t.needtoemit()}},model:{value:t.arraySubValues,callback:function(e){t.arraySubValues=e},expression:"arraySubValues"}},t._l(t.arraySubValues,(function(e,o){return a("div",{key:o,staticClass:"d-flex mb-1"},[a("span",{staticClass:"icon-handle"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.arraySubValues[o],expression:"arraySubValues[i]"}],staticClass:"form__input field-general w-input mb-0",staticStyle:{height:"35px"},attrs:{type:"text",id:"suboption_"+o},domProps:{value:t.arraySubValues[o]},on:{change:function(e){return t.needtoemit()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},input:function(e){e.target.composing||t.$set(t.arraySubValues,o,e.target.value)}}}),a("button",{staticClass:"remove-option",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.leave(o)}}},[t._v("-")])])})),0),a("button",{staticClass:"bouton-sauvergarder-et-continuer-3 button-add-option",staticStyle:{"margin-bottom":"2em"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.add(e)}}},[t._v(t._s(t.AddOption))])],1)])])},za=[],qa=a("4328"),Va={name:"radiobtnF",components:{draggable:Sa.a},props:{element:Object},data:function(){return{arraySubValues:[],helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),suboptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS"),AddOption:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS")}},methods:{add:Mt.a.debounce((function(){var t=Object.keys(this.arraySubValues).length;this.$set(this.arraySubValues,t,""),this.needtoemit();var e="suboption_"+t.toString();setTimeout((function(){document.getElementById(e).focus()}),100)}),150),leave:function(t){this.$delete(this.arraySubValues,t),this.needtoemit()},initialised:function(){var t=this;"undefined"!==typeof this.element.params.sub_options?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXTA",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:qa.stringify({toJTEXT:this.element.params.sub_options.sub_labels})}).then((function(e){Object.values(e.data).forEach((function(e){t.arraySubValues.push(e)})),t.needtoemit()})).catch((function(t){console.log(t)})):(this.element.params.sub_options={sub_values:[],sub_labels:[]},this.arraySubValues=this.element.params.sub_options.sub_labels)},needtoemit:Mt.a.debounce((function(){this.$emit("subOptions",this.arraySubValues)}))},created:function(){this.initialised()}},Ya=Va,Qa=(a("5c32"),Object(b["a"])(Ya,Ha,za,!1,null,"19b5ef68",null)),Xa=Qa.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"textareaF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wysiwyg,expression:"wysiwyg"}],staticClass:"form__input field-general w-input",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.wysiwyg)?t._i(t.wysiwyg,"1")>-1:t.wysiwyg},on:{change:function(e){var a=t.wysiwyg,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s="1",i=t._i(a,s);o.checked?i<0&&(t.wysiwyg=a.concat([s])):i>-1&&(t.wysiwyg=a.slice(0,i).concat(a.slice(i+1)))}else t.wysiwyg=n}}}),a("label",{staticClass:"ml-10px mb-0"},[t._v(t._s(t.UseAdvancedEditor))])]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.heightext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.height,expression:"element.params.height"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"3"},domProps:{value:t.element.params.height},on:{input:function(e){e.target.composing||t.$set(t.element.params,"height",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.placeholdertext)+" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.msg,placement:"top-center",offset:5,delay:{show:500,hide:300}},expression:"{\n        content: msg,\n        placement: 'top-center',\n        offset: 5,\n        delay: {\n          show: 500,\n          hide: 300,\n          },\n        }"}]},[a("em",{staticClass:"fas fa-question-circle"})]),t._v(" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.textarea_placeholder,expression:"element.params.textarea_placeholder"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.textarea_placeholder},on:{input:function(e){e.target.composing||t.$set(t.element.params,"textarea_placeholder",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.helptext)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params.rollover,expression:"element.params.rollover"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.element.params.rollover},on:{input:function(e){e.target.composing||t.$set(t.element.params,"rollover",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.maxlength)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.element.params["textarea-maxlength"],expression:"element.params['textarea-maxlength']"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"1"},domProps:{value:t.element.params["textarea-maxlength"]},on:{input:function(e){e.target.composing||t.$set(t.element.params,"textarea-maxlength",e.target.value)}}})]),a("div",{staticClass:"form-group dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.showmax,expression:"showmax"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0 !important"},attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.showmax)?t._i(t.showmax,"1")>-1:t.showmax},on:{change:function(e){var a=t.showmax,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s="1",i=t._i(a,s);o.checked?i<0&&(t.showmax=a.concat([s])):i>-1&&(t.showmax=a.slice(0,i).concat(a.slice(i+1)))}else t.showmax=n}}}),a("label",{staticClass:"ml-10px mb-0"},[t._v(t._s(t.DisplayMaxLength))])])])])},Wa=[],Za={name:"textareaF",props:{element:Object},data:function(){return{msg:"",path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",arraySubValues:[],wysiwyg:!1,showmax:!1,widthtext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_WIDTH"),heightext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HEIGHT"),helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),placeholdertext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER"),sizetext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_SIZE"),maxlength:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH"),DisplayMaxLength:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_MAXLENGTH"),UseAdvancedEditor:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_USE_ADVANCED_EDITOR"),placeholderHelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP")}},methods:{},created:function(){this.msg='<p style="color: black">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',"undefined"==typeof this.element.params.height&&(this.element.params.height=6),"undefined"==typeof this.element.params["textarea-maxlength"]&&(this.element.params["textarea-maxlength"]=255),"undefined"==typeof this.element.params.use_wysiwyg?this.element.params.use_wysiwyg=0:"1"==this.element.params.use_wysiwyg&&(this.wysiwyg=!0),"undefined"==typeof this.element.params["textarea-showmax"]?this.element.params["textarea-showmax"]=0:"1"==this.element.params["textarea-showmax"]&&(this.showmax=!0)},watch:{wysiwyg:function(t){this.element.params.use_wysiwyg=t?"1":"0"},showmax:function(t){this.element.params["textarea-showmax"]=t?"1":"0"}}},to=Za,eo=(a("82f3"),Object(b["a"])(to,Ka,Wa,!1,null,"6c4e659c",null)),ao=eo.exports,oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"displayF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Text)+" :")]),a("editor",{attrs:{height:"30em",text:t.element.default,lang:"fr",enable_variables:!1,id:"element_"+t.element.id},model:{value:t.element.default,callback:function(e){t.$set(t.element,"default",e)},expression:"element.default"}})],1)])])},no=[],so={name:"displayF",props:{element:Object,files:Number},components:{Editor:Jt},data:function(){return{Text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_TEXT"),dynamicComponent:!1}},methods:{},created:function(){}},io=so,ro=(a("ffd0"),Object(b["a"])(io,oo,no,!1,null,"17440783",null)),lo=ro.exports,co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"fileF"}},[a("div",{staticClass:"row rowmodal"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Max size (Mb) :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.size,expression:"size"}],staticClass:"form__input field-general w-input",attrs:{type:"number",min:"1",max:"10"},domProps:{value:t.size},on:{keyup:function(e){return t.convertToByte()},input:function(e){e.target.composing||(t.size=e.target.value)}}}),t.errors.maxSize?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v("Saisir une valeur comprise entre 1 et 10 Mb")])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{class:{"is-invalid":t.errors.selectedTypes},attrs:{for:"max_size"}},[t._v(t._s(t.FileType)+"* :")]),a("div",{staticClass:"users-block",class:{"is-invalid":t.errors.selectedUsers}},t._l(t.types,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.selectedTypes[e.value],expression:"form.selectedTypes[type.value]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.selectedTypes[e.value])?t._i(t.form.selectedTypes[e.value],null)>-1:t.form.selectedTypes[e.value]},on:{change:function(a){var o=t.form.selectedTypes[e.value],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.form.selectedTypes,e.value,o.concat([i])):r>-1&&t.$set(t.form.selectedTypes,e.value,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.form.selectedTypes,e.value,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.title)+" ("+t._s(e.value)+")")])])])})),0)])])])},uo=[],mo=a("4328"),po={name:"fileF",props:{value:File,element:Object,prid:String},data:function(){return{msg:"",size:this.element.params.size/1048576,types:[{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PDF_DOCUMENTS"),value:"pdf"},{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PICTURES_DOCUMENTS"),value:"jpg;png;gif"},{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_OFFICE_DOCUMENTS"),value:"doc;docx;odt"},{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EXCEL_DOCUMENTS"),value:"xls;xlsx;odf"}],labels_name:{text_fr:"",text_en:"",did:""},form:{name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1}},errors:{name:!1,nbmax:!1,selectedTypes:!1,maxSize:!1},selectedTypes:[],path:window.location.protocol+"//"+window.location.host+"/media/com_emundus_onboard/",heightext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HEIGHT"),helptext:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT"),MaxRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAXPERUSER_REQUIRED"),TypeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED_REQUIRED"),placeholderHelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP"),MaxPerUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAXPERUSER"),FileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED")}},methods:{handleFileChange:function(t){this.$emit("input",t.target.files[0])},convertToByte:function(){this.size>10||this.size<1?this.errors.maxSize=!0:(this.element.params.size=1048576*this.size,this.errors.maxSize=!1)},retrieveAssociateElementDoc:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=retriveElementFormAssociatedDoc",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mo.stringify({gid:2,docid:t})}).then((function(t){e.form.description[e.actualLanguage]=t.data.description,t.data.allowed_types.includes("pdf")?e.form.selectedTypes.pdf=!0:e.form.selectedTypes.pdf=!1,t.data.allowed_types.includes("jpg")||t.data.allowed_types.includes("png")||t.data.allowed_types.includes("gif")?e.form.selectedTypes["jpg;png;gif"]=!0:e.form.selectedTypes["jpg;png;gif"]=!1,t.data.allowed_types.includes("xls")||t.data.allowed_types.includes("xlsx")||t.data.allowed_types.includes("odf")?e.form.selectedTypes["xls;xlsx;odf"]=!0:e.form.selectedTypes["xls;xlsx;odf"]=!1,e.form.nbmax=t.data.nbmax}))},retrieveDocumentNameFalangs:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=getDocumentFalang",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mo.stringify({gid:2,docid:t})}).then((function(a){e.labels_name.text_fr=a.data.data.fr.value,e.labels_name.text_en=a.data.data.en.value,e.labels_name.did=t}))},updateDocumentFalengs:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updateDocumentFalang",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mo.stringify(t)}).then((function(t){}))},updateAssociateDocElement:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updatedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mo.stringify(t)}).then((function(t){e.$emit("UpdateDocuments")}))}},created:function(){this.msg='<p style="color: black">'+this.placeholderHelp+'</p><img src="'+this.path+'placeholder.gif" />',this.retrieveAssociateElementDoc(this.element.params.attachmentId),this.retrieveDocumentNameFalangs(this.element.params.attachmentId)},beforeDestroy:function(){var t=this,e=[];Object.keys(this.form.selectedTypes).forEach((function(a){1==t.form.selectedTypes[a]&&e.push(a)}));var a={document:this.form,types:e,cid:this.cid,pid:this.prid,did:this.element.params.attachmentId};this.updateAssociateDocElement(a),this.updateDocumentFalengs(this.labels_name)}},_o=po,fo=(a("ca99"),Object(b["a"])(_o,co,uo,!1,null,"c470e512",null)),go=fo.exports,ho=a("4328"),bo={name:"modalEditElement",props:{ID:Number,gid:Number,files:Number,manyLanguages:Number,actualLanguage:String,profileId:Number},components:{fieldF:Oa,birthdayF:Na,checkboxF:Ba,dropdownF:Ga,radiobtnF:Xa,textareaF:ao,displayF:lo,fileF:go},data:function(){return{label:{fr:"",en:""},done:!1,changes:!1,loading:!1,sublabel:"",plugin:"",element:null,translate:{label:!1},plugins:{field:{value:"field",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},birthday:{value:"birthday",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},checkbox:{value:"checkbox",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},dropdown:{value:"dropdown",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},radiobutton:{value:"radiobutton",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},textarea:{value:"textarea",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")},display:{value:"display",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DISPLAY")},fileupload:{value:"emundus_fileupload",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FILE")}},databases:[],Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Require:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_REQUIRED"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE"),dataSaved:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),fieldType:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_TYPE"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),ElementOptions:Joomla.JText._("COM_EMUNDUS_ONBOARD_ELEMENT_OPTIONS"),Unpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),Required:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),update:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),updateFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED")}},methods:{subOptions:function(t){this.sublabel=t},UpdateParams:function(){var t=this;this.changes=!0,"undefined"!==typeof this.element.params.sub_options&&(this.element.params.sub_options.sub_values=this.sublabel),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updateparams",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ho.stringify({element:this.element})}).then((function(e){setTimeout((function(){t.$emit("reloadElement")}),200),t.$modal.hide("modalEditElement"+t.ID)})).catch((function(t){console.log(t)}))},axiostrad:function(t){return c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ho.stringify({toJTEXT:t})})},getElement:function(){var t=this;this.loading=!0,c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:this.ID,gid:this.gid},paramsSerializer:function(t){return ho.stringify(t)}}).then((function(e){t.element=e.data,"databasejoin"==t.element.plugin?t.plugin=t.element.params.database_join_display_type:"date"==t.element.plugin||"years"==t.element.plugin?t.plugin="birthday":t.plugin=t.element.plugin,t.axiostrad(t.element.label_tag).then((function(e){t.label.fr=e.data.fr,t.label.en=e.data.en})),0!=t.files&&"birthday"!=t.element.plugin&&delete t.plugins.birthday,t.loading=!1}))},getDatabases:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getdatabasesjoin"}).then((function(e){t.databases=e.data.data}))},beforeClose:function(t){!0===this.changes&&(this.changes=!1,this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations)),this.$emit("modalClosed")},beforeOpen:function(t){this.initialisation()},initialisation:function(){this.getElement(),this.getDatabases()},publishUnpublishElement:function(){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=publishunpublishelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ho.stringify({element:this.element.id})}).then((function(e){t.element.publish=!t.element.publish,t.$emit("publishUnpublishEvent"),t.$emit("show","foo-velocity","success",t.updateSuccess,t.update)})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},updateRequireElement:function(){var t=this;setTimeout((function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=changerequire",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ho.stringify({element:t.element})}).then((function(){t.$emit("updateRequireEvent")})).catch((function(e){t.$emit("show","foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))}),300)}},computed:{getlabel:function(){return this.tempEl.label_raw}},watch:{element:function(){this.tempEl=JSON.parse(JSON.stringify(this.element))},plugin:function(t){switch(t){case"dropdown":"databasejoin"!==this.element.plugin&&(this.element.plugin=t);break;case"birthday":"date"!==this.element.plugin&&"years"!==this.element.plugin&&(this.element.plugin=t);break;default:this.element.plugin=t}}}},vo=bo,Co=(a("460b"),Object(b["a"])(vo,_a,fa,!1,null,"288b289c",null)),Oo=Co.exports,Do=(a("4328"),{name:"FormViewerEvaluation",props:{link:String,prog:Number},components:{datePicker:Pe.a,modalEditElement:Oo},data:function(){return{object_json:"",date:new Date,groups:[],loading:!1,options:{format:"DD/MM/YYYY",useCurrent:!1}}},methods:{getDataObject:Mt.a.debounce((function(){var t=this;this.loading=!0;var e=this.link.link.replace("fabrik","emundus_onboard");c.a.get(e+"&format=vue_jsonclean").then((function(e){t.object_json=e.data,t.convertGroupElementsToArray(),t.loading=!1})).catch((function(e){t.loading=!1,console.log(e)}))}),150),convertGroupElementsToArray:function(){var t=this;Object.keys(this.object_json.Groups).forEach((function(e){t.groups.push(t.object_json.Groups[e]),t.object_json.Groups[e].elts=[],Object.keys(t.object_json.Groups[e].elements).forEach((function(a){t.object_json.Groups[e].elts.push(t.object_json.Groups[e].elements[a])}))}))}},created:function(){this.getDataObject()},computed:{dragOptions:function(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}},watch:{}}),Eo=Do,xo=(a("870a"),Object(b["a"])(Eo,ma,pa,!1,null,"581e2ffa",null)),yo=xo.exports,Uo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAddEvaluation"}},[a("modal",{attrs:{name:"modalAddEvaluation",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddEvaluation")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.addGrid)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.ChooseExistingGridModel)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model_id,expression:"model_id"}],staticClass:"dropdown-toggle",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.model_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}}),t._l(t.models,(function(e,o){return a("option",{domProps:{value:e.form_id}},[t._v(t._s(e.label))])}))],2)]),a("div",{staticClass:"form-group",class:{"mb-0":t.translate.label}},[a("label",[t._v(t._s(t.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label.fr,expression:"label.fr"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40",id:"menu_label"},domProps:{value:t.label.fr},on:{input:function(e){e.target.composing||t.$set(t.label,"fr",e.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.label},attrs:{type:"button"},on:{click:function(e){t.translate.label=!t.translate.label}}})])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[t.translate.label?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[t._v(" "+t._s(t.TranslateEnglish)+" ")]),a("i",{staticClass:"fas fa-sort-down"})]):t._e()]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[t.translate.label?a("div",{staticClass:"form-group mb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label.en,expression:"label.en"}],staticClass:"form__input field-general w-input",attrs:{type:"text",maxlength:"40"},domProps:{value:t.label.en},on:{input:function(e){e.target.composing||t.$set(t.label,"en",e.target.value)}}})]):t._e()]),t.errors&&-1==t.model_id?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.LabelRequired))])]):t._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":t.translate.intro}},[a("label",[t._v(t._s(t.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.intro.fr,expression:"intro.fr"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"300"},domProps:{value:t.intro.fr},on:{input:function(e){e.target.composing||t.$set(t.intro,"fr",e.target.value)}}}),a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.intro},attrs:{type:"button"},on:{click:function(e){t.translate.intro=!t.translate.intro}}})])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[t.translate.intro?a("div",{staticClass:"inlineflex"},[a("label",{staticClass:"translate-label"},[t._v(" "+t._s(t.TranslateEnglish)+" ")]),a("em",{staticClass:"fas fa-sort-down"})]):t._e()]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[t.translate.intro?a("div",{staticClass:"form-group mb-1"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.intro.en,expression:"intro.en"}],staticClass:"form__input field-general w-input",attrs:{rows:"3",maxlength:"300"},domProps:{value:t.intro.en},on:{input:function(e){e.target.composing||t.$set(t.intro,"en",e.target.value)}}})]):t._e()]),-1==t.model_id?a("div",{staticClass:"col-md-12 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.template)?t._i(t.template,null)>-1:t.template},on:{change:function(e){var a=t.template,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.template=a.concat([s])):i>-1&&(t.template=a.slice(0,i).concat(a.slice(i+1)))}else t.template=n}}}),a("label",{staticClass:"ml-10px"},[t._v(t._s(t.SaveAsTemplate)+" :")])]):t._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddEvaluation")}}},[t._v(t._s(t.Retour))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.createGrid()}}},[t._v(t._s(t.Continuer))])]),t.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()])],1)},No=[],To=a("4328"),Ao={name:"modalAddEvaluation",components:{},props:{prog:Number,grid:Number},data:function(){return{translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},model_id:-1,template:0,models:[],errors:!1,changes:!1,submitted:!1,addGrid:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGRID"),ChooseExistingGridModel:Joomla.JText._("COM_EMUNDUS_ONBOARD_GRIDMODEL"),Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),SaveAsTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{beforeClose:function(t){},beforeOpen:function(t){this.getExistingGrids()},getExistingGrids:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getgridsmodel"}).then((function(e){t.models=e.data.data}))},createGrid:function(){var t=this;this.changes=!0,""!=this.label.fr||-1!=this.model_id?(this.translate.label||(this.label.en=this.label.fr),this.translate.intro||(this.intro.en=this.intro.fr),this.submitted=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=creategrid",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:To.stringify({label:this.label,intro:this.intro,modelid:this.model_id,template:this.template,pid:this.prog})}).then((function(e){t.submitted=!1,t.$emit("updateGrid"),t.$modal.hide("modalAddEvaluation")})).catch((function(t){console.log(t)}))):this.errors=!0}},watch:{model_id:function(t){var e=this;-1!=t?this.models.forEach((function(t){t.form_id==e.model_id&&(e.label.fr=t.label,e.intro.fr=t.intro)})):(this.label.fr="",this.intro.fr="")}}},Mo=Ao,So=Object(b["a"])(Mo,Uo,No,!1,null,"e1ab57ee",null),wo=So.exports,Ro=a("4328"),Jo={name:"addEvaluationGrid",components:{ModalAddEvaluation:wo,Datetime:Yt["Datetime"],FormViewerEvaluation:yo},props:{funnelCategorie:Object,prog:Number},data:function(){return{link:{link:""},visibility:null,viewer:0,grid:null,addGrid:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGRID")}},methods:{getEvaluationGridByProgram:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getevaluationgrid&pid="+this.prog).then((function(e){t.grid=e.data.data,null!=t.grid&&(t.link.link="index.php?option=com_fabrik&view=form&formid="+e.data.data,t.viewer++)}))},evaluationBuilder:function(){this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid=&index=0&cid="+this.prog+"&evaluation="+this.grid)},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return Ro.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}},created:function(){this.getEvaluationGridByProgram()}},ko=Jo,Bo=Object(b["a"])(ko,da,ua,!1,null,null,null),Io=Bo.exports,Lo=a("4328"),Po={name:"addProgramAdvancedSettings",components:{Tasks:ht,Datetime:Yt["Datetime"],addGestionnaires:fe,addEmail:Ae,addEvalVisi:oa,addEvalEval:ca,addEvaluationGrid:Io,ModalAddUser:oe},props:{prog:Number,actualLanguage:String,coordinatorAccess:Number},data:function(){return{menuHighlight:null,dynamicComponent:!1,categories:[],cats:[],prog_group:{prog:null,evaluator:null,manager:null},langue:0,funnelDescription:[[Joomla.JText._("COM_EMUNDUS_ONBOARD_USERSDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EVALUATIONGRIDDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILSDESCRIPTION")],[Joomla.JText._("COM_EMUNDUS_ONBOARD_USERSDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EVALUATIONGRIDDESCRIPTION"),Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILSDESCRIPTION")]],progCategories:[["Utilisateurs","Grille d'évaluation","Emails"],["Users","Evaluation grid","Emails"]],program:{label:"",code:"",programmes:"",notes:"",synthesis:'<ul><li><strong>[APPLICANT_NAME]</strong></li><li><a href="mailto:[EMAIL]">[EMAIL]</a></li></ul>',tmpl_trombinoscope:'<table cellpadding="2" style="width: 100%;"><tbody><tr style="border-collapse: collapse;"><td align="center" valign="top" style="text-align: center;"><p style="text-align: center;"><img src="[PHOTO]" alt="Photo" height="100" /> </p><p style="text-align: center;"><b>[NAME]</b><br /></p></td></tr></tbody></table>',tmpl_badge:'<table width="100%"><tbody><tr><td style="vertical-align: top; width: 100px;" align="left" valign="middle" width="30%"><img src="[LOGO]" alt="Logo" height="50" /></td><td style="vertical-align: top;" align="left" valign="top" width="70%"><b>[NAME]</b></td></tr></tbody></table>\n',published:1,apply_online:1},From:Joomla.JText._("COM_EMUNDUS_ONBOARD_FROM"),To:Joomla.JText._("COM_EMUNDUS_ONBOARD_TO"),Since:Joomla.JText._("COM_EMUNDUS_ONBOARD_SINCE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),Code:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CODE"),Category:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CATEGORY"),FORM:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER")}},methods:{moment:function(t){return x()(t)},next:function(){this.menuHighlight<3?this.menuHighlight++:window.location.href="/configuration-programs"},previous:function(){this.menuHighlight>0?this.menuHighlight--:window.location.href="/configuration-programs"},getCampaignsByProgram:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignsbyprogram&pid="+this.prog).then((function(e){t.campaigns=e.data.data}))},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return Lo.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}},computed:{console:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return console}))},created:function(){var t=this;"en"==this.actualLanguage&&(this.langue=1),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogramcategories").then((function(e){t.categories=e.data.data;for(var a=0;a<t.categories.length;a++)t.cats.push(t.categories[a]);""!==t.prog?c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogrambyid&id=".concat(t.prog)).then((function(e){t.program.code=e.data.data.code,t.program.label=e.data.data.label,t.program.notes=e.data.data.notes,t.program.programmes=e.data.data.programmes,t.program.tmpl_badge=e.data.data.tmpl_badge,t.program.published=e.data.data.published,t.program.apply_online=e.data.data.apply_online,null!=e.data.data.synthesis&&(t.program.synthesis=e.data.data.synthesis.replace(/>\s+</g,"><")),null!=e.data.data.tmpl_trombinoscope&&(t.program.tmpl_trombinoscope=e.data.data.tmpl_trombinoscope.replace(/>\s+</g,"><")),t.dynamicComponent=!0,t.prog_group.prog=e.data.data.group,t.prog_group.evaluator=e.data.data.evaluator_group,t.prog_group.manager=e.data.data.manager_group,t.menuHighlight=0})).catch((function(t){console.log(t)})):t.dynamicComponent=!0})).catch((function(t){console.log(t)})),this.getCampaignsByProgram()}},jo=Po,Fo=(a("4bf9"),Object(b["a"])(jo,qt,Vt,!1,null,"27fbc144",null)),$o=Fo.exports,Go=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-principale"},[a("notifications",{attrs:{group:"foo-velocity",position:"bottom left","animation-type":"velocity",speed:500,classes:"vue-notification-custom"}}),a("div",{staticClass:"w-container general-information"},[""==t.campaign?a("div",{staticClass:"section-sub-menu sub-form"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/megaphone.svg",alt:"megaphone"}}),a("h1",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.translations.AddCampaign))])])])]):t._e(),a("form",{attrs:{id:"campaign-form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required mb-1"},[t._v(t._s(t.translations.RequiredFieldsIndicate))]),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[t._v(t._s(t.translations.CampName)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.form.label[t.actualLanguage],expression:"form.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.label,"mb-0":t.translate.label},attrs:{id:"campLabel",type:"text",required:""},domProps:{value:t.form.label[t.actualLanguage]},on:{keyup:t.enableTranslationTip,input:function(e){e.target.composing||t.$set(t.form.label,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.label},attrs:{type:"button"},on:{click:t.enableLabelTranslation}}):t._e()]),t.translate.label?a("translation",{attrs:{label:t.form.label,actualLanguage:t.actualLanguage}}):t._e()],1),t.errors.label?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.translations.LabelRequired))])]):t._e(),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"w-col col-md-5"},[a("div",{staticClass:"w-form"},[a("label",{attrs:{for:"startDate"}},[t._v(t._s(t.translations.StartDate)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("datetime",{attrs:{id:"startDate",placeholder:t.translations.StartDate,type:"datetime","input-id":"start_date",phrases:{ok:t.translations.OK,cancel:t.translations.Cancel}},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1)]),a("div",{staticClass:"w-col col-md-5"},[a("div",{staticClass:"w-form"},[a("label",{attrs:{for:"endDate"}},[t._v(t._s(t.translations.EndDate)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("datetime",{attrs:{id:"endDate",placeholder:t.translations.EndDate+" *",type:"datetime","input-id":"end_date","min-datetime":t.minDate,phrases:{ok:t.translations.OK,cancel:t.translations.Cancel}},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)])]),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"year"}},[t._v(t._s(t.translations.PickYear)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("autocomplete",{attrs:{id:"year",items:this.session,year:t.form.year,name:"2020 - 2021"},on:{searched:t.onSearchYear}})],1),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.published,expression:"form.published"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(t.form.published)?t._i(t.form.published,null)>-1:t._q(t.form.published,"1")},on:{change:function(e){var a=t.form.published,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&t.$set(t.form,"published",a.concat([s])):i>-1&&t.$set(t.form,"published",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.form,"published",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",attrs:{for:"published"}},[t._v(t._s(t.translations.Publish))])]),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_limited,expression:"form.is_limited"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"limit",name:"limit"},domProps:{checked:Array.isArray(t.form.is_limited)?t._i(t.form.is_limited,null)>-1:t._q(t.form.is_limited,"1")},on:{change:function(e){var a=t.form.is_limited,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&t.$set(t.form,"is_limited",a.concat([s])):i>-1&&t.$set(t.form,"is_limited",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.form,"is_limited",n)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",attrs:{for:"limit"}},[t._v(t._s(t.translations.FilesLimit))])]),a("transition",{attrs:{name:"'slide-down'"}},[1==t.form.is_limited?a("div",[a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[t._v(t._s(t.translations.FilesNumberLimit)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.limit,expression:"form.limit"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.limit_files_number},attrs:{type:"number"},domProps:{value:t.form.limit},on:{input:function(e){e.target.composing||t.$set(t.form,"limit",e.target.value)}}})]),t.errors.limit_files_number?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.translations.FilesLimitRequired))])]):t._e(),a("div",{staticClass:"form-group campaign-label"},[a("label",{attrs:{for:"campLabel"}},[t._v(t._s(t.translations.StatusLimit)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("div",{staticClass:"users-block",class:{"is-invalid":t.errors.limit_status}},t._l(t.status,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.limit_status[e.step],expression:"form.limit_status[statu.step]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.limit_status[e.step])?t._i(t.form.limit_status[e.step],null)>-1:t.form.limit_status[e.step]},on:{change:function(a){var o=t.form.limit_status[e.step],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.form.limit_status,e.step,o.concat([i])):r>-1&&t.$set(t.form.limit_status,e.step,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.form.limit_status,e.step,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.value))])])])})),0),t.errors.limit_status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.translations.StatusLimitRequired))])]):t._e()])]):t._e()])],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.translations.Information))])]),a("div",{staticClass:"form-group campaign-label"},[a("label",{staticStyle:{top:"5em"},attrs:{for:"campResume"}},[t._v(t._s(t.translations.Resume)+" "),a("span",{staticStyle:{color:"#E5283B"}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.short_description,expression:"form.short_description"}],staticClass:"form__input field-general w-input",attrs:{type:"textarea",rows:"2",id:"campResume",maxlength:"500",placeholder:" "},domProps:{value:t.form.short_description},on:{keyup:function(e){return t.checkMaxlength("campResume")},focusout:function(e){return t.removeBorderFocus("campResume")},input:function(e){e.target.composing||t.$set(t.form,"short_description",e.target.value)}}})]),t.errors.short_description?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.translations.ResumeRequired))])]):t._e()]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.translations.Program))])]),a("div",{staticClass:"form-group container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.training,expression:"form.training"}],staticClass:"dropdown-toggle w-select",staticStyle:{"margin-bottom":"0"},attrs:{id:"select_prog",disabled:this.programs.length<=0},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"training",e.target.multiple?a:a[0])},t.setCategory]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.translations.ChooseProg))]),t._l(this.programs,(function(e,o){return a("option",{key:o,attrs:{"data-category":e.programmes},domProps:{value:e.code}},[t._v(" "+t._s(e.label)+" ")])}))],2),0!=t.coordinatorAccess?a("button",{staticClass:"buttonAddDoc",attrs:{title:t.translations.AddProgram,type:"button",id:"add-program"},on:{click:t.displayProgram}},[a("em",{staticClass:"fas fa-plus"})]):t._e()]),a("div",{staticClass:"form-group controls"},[t.form.training?a("editor",{key:t.editorKey,attrs:{height:"30em",text:t.programForm.notes,enable_variables:!1,placeholder:t.translations.ProgramResume,id:"program_campaign_"},model:{value:t.programForm.notes,callback:function(e){t.$set(t.programForm,"notes",e)},expression:"programForm.notes"}}):t._e()],1),a("transition",{attrs:{name:"slide-fade"}},[t.isHiddenProgram?a("div",{staticClass:"program-addCampaign"},[a("div",{staticClass:"w-form"},[a("div",{staticClass:"form-group prog-label"},[a("label",{staticStyle:{top:"5.7em"},attrs:{for:"prog_label"}},[t._v(t._s(t.translations.ProgName)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.programForm.label,expression:"programForm.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.progLabel},attrs:{type:"text",id:"prog_label",placeholder:" "},domProps:{value:t.programForm.label},on:{keyup:t.updateCode,input:function(e){e.target.composing||t.$set(t.programForm,"label",e.target.value)}}})]),t.errors.progLabel?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.translations.ProgLabelRequired))])]):t._e(),a("div",{staticClass:"form-group controls"},[a("editor",{key:t.editorKey,attrs:{height:"30em",text:t.programForm.notes,enable_variables:!1,placeholder:t.translations.ProgramResume,id:"new_program_campaign_"},model:{value:t.programForm.notes,callback:function(e){t.$set(t.programForm,"notes",e)},expression:"programForm.notes"}})],1)])]):t._e()])],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container btns-sauvegarder-et-continuer"},[a("div",{staticClass:"container-evaluation d-flex justify-content-between"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button",onclick:"history.go(-1)"}},[t._v(" "+t._s(t.translations.Retour)+" ")]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green",attrs:{type:"button"},on:{click:function(e){t.quit=1,t.submit()}}},[t._v(" "+t._s(t.translations.Continuer)+" ")])])])])])])]),t.submitted?a("div",{staticClass:"loading-form"},[a("RingLoader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},Ho=[],zo=a("7618"),qo=(a("7514"),a("1315")),Vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"translation"},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{staticClass:"inlineflex",staticStyle:{margin:"25px"}},[a("label",{staticClass:"translate-label"},[t._v(t._s(t.TranslateIn))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentLangTranslation,expression:"currentLangTranslation"}],staticClass:"dropdown-toggle ml-10px",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentLangTranslation=e.target.multiple?a:a[0]}}},t._l(t.languages,(function(e){return a("option",{domProps:{value:e.sef}},[t._v(t._s(e.title_native))])})),0)])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label[t.currentLangTranslation],expression:"label[currentLangTranslation]"}],staticClass:"form__input field-general w-input",attrs:{type:"text",id:"label_"+t.currentLangTranslation},domProps:{value:t.label[t.currentLangTranslation]},on:{input:function(e){e.target.composing||t.$set(t.label,t.currentLangTranslation,e.target.value)}}})])],1)},Yo=[],Qo={name:"translation",props:{label:Object,actualLanguage:String},data:function(){return{currentLangTranslation:"en",languages:[],TranslateIn:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_IN")}},created:function(){this.getLanguages()},methods:{getLanguages:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=getactivelanguages"}).then((function(e){t.languages=e.data.data,t.languages.forEach((function(e,a){e.sef==t.actualLanguage&&t.languages.splice(a,1)})),t.currentLangTranslation=t.languages[0].sef}))}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)}},Xo=Qo,Ko=Object(b["a"])(Xo,Vo,Yo,!1,null,"200ce60d",null),Wo=Ko.exports,Zo=a("4328"),tn={name:"addCampaign",components:{Tasks:ht,Datetime:Yt["Datetime"],Editor:Jt,Autocomplete:jt,Translation:Wo},directives:{focus:{inserted:function(t){t.focus()}}},quit:1,props:{campaign:Number,actualLanguage:String,coordinatorAccess:Number,manyLanguages:Number},data:function(){return{isHiddenProgram:!1,olderDate:"",minDate:"",programs:[],years:[],status:[],session:[],old_training:"",old_program_form:"",editorKey:0,form:{label:{fr:"",en:""},start_date:"",end_date:"",short_description:"",description:"",training:"",year:"",published:1,is_limited:0,profile_id:9,limit:50,limit_status:[]},translate:{label:!1},enableTip:!1,programForm:{code:"",label:"",notes:"",programmes:"",published:1,apply_online:1},year:{label:"",code:"",schoolyear:"",published:1,profile_id:"",programmes:""},errors:{label:!1,progCode:!1,progLabel:!1,short_description:!1,limit_files_number:!1,limit_status:!1},translations:{Parameter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PARAMETER"),CampName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CAMPNAME"),StartDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_STARTDATE"),EndDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_ENDDATE"),Information:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_INFORMATION"),Resume:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_RESUME"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),AddProgram:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDPROGRAM"),ChooseProg:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_CHOOSEPROG"),PickYear:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PICKYEAR"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),DepotDeDossier:Joomla.JText._("COM_EMUNDUS_ONBOARD_DEPOTDEDOSSIER"),ProgName:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGNAME"),ProgCode:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGCODE"),ChooseCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),NameCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_NAMECATEGORY"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),ProgramResume:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_RESUME"),ProgLabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_LABEL"),ResumeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMP_REQUIRED_RESUME"),OK:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),Cancel:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),FilesLimit:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILES_LIMIT"),FilesNumberLimit:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILES_LIMIT_NUMBER"),StatusLimit:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILES_LIMIT_STATUS"),StatusLimitRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),FilesLimitRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILES_LIMIT_REQUIRED"),AddCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN")},submitted:!1}},created:function(){var t=this;qo["Settings"].defaultLocale=this.actualLanguage;var e=new Date;this.form.start_date=qo["DateTime"].local(e.getFullYear(),e.getMonth()+1,e.getDate(),0,0,0).toISO(),""!==this.campaign&&c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignbyid&id=".concat(this.campaign)).then((function(e){t.form=e.data.data.campaign,t.$emit("getInformations",t.form),t.programForm=e.data.data.program,t.form.label={fr:"",en:""},null==e.data.data.label.fr?t.form.label.fr=e.data.data.campaign.label:t.form.label.fr=e.data.data.label.fr.value,null==e.data.data.label.en?t.form.label.en=e.data.data.campaign.label:t.form.label.en=e.data.data.label.en.value,t.form.start_date=qo["DateTime"].fromSQL(t.form.start_date),t.form.end_date=qo["DateTime"].fromSQL(t.form.end_date),"0000-00-00T00:00:00.000Z"==t.form.end_date?t.form.end_date="":t.olderDate=t.form.end_date,"undefined"!=typeof e.data.data.campaign.status?Object.values(e.data.data.campaign.status).forEach((function(e){t.form.limit_status[parseInt(e.limit_status)]=!0})):t.form.limit_status=[]})).catch((function(t){console.log(t)})),c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getallprogram").then((function(e){t.programs=e.data.data,0!==Object.keys(t.programs).length&&t.programs.sort((function(t,e){return t.id-e.id}))})).catch((function(t){console.log(t)})),c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getyears").then((function(e){t.years=e.data.data;for(var a=0;a<t.years.length;a++)t.session.push(t.years[a].schoolyear)})).catch((function(t){console.log(t)})),this.getStatus()},methods:{setCategory:function(t){var e=this;this.year.programmes=t.target.options[t.target.options.selectedIndex].dataset.category,this.programForm=this.programs.find((function(t){return t.code==e.form.training})),this.editorKey++},updateCode:function(){var t=this;""!==this.programForm.label?(this.programForm.code=this.programForm.label.toUpperCase().replace(/[^a-zA-Z0-9]/g,"_").substring(0,10)+"_00",0!==Object.keys(this.programs).length&&this.programs.forEach((function(e,a){if(t.programForm.code==e.code){var o=parseInt(e.code.split("_")[1])+1;t.programForm.code=o>10?t.programForm.label.toUpperCase()+"_"+o:t.programForm.label.toUpperCase()+"_0"+o}}))):this.programForm.code=""},enableLabelTranslation:function(){this.translate.label=!this.translate.label,this.translate.label&&setTimeout((function(){document.getElementById("label_en").focus()}),100)},getStatus:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getstatus").then((function(e){t.status=e.data.data}))},createCampaignWithExistingProgram:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=createcampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({body:t})}).then((function(t){e.campaign=t.data.data,e.quitFunnelOrContinue(e.quit)})).catch((function(t){console.log(t)}))},createCampainWithNoExistingProgram:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=createprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({body:t})}).then((function(){e.form.training=t.code,"object"==Object(zo["a"])(e.form.start_date)&&(e.form.start_date=qo["DateTime"].fromISO(e.form.start_date).toISO()),"object"==Object(zo["a"])(e.form.end_date)&&(e.form.end_date=qo["DateTime"].fromISO(e.form.end_date).toISO()),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=createcampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({body:e.form})}).then((function(t){e.campaign=t.data.data,e.quitFunnelOrContinue(e.quit)})).catch((function(t){console.log(t)}))}))},submit:function(){var t=this;if(this.errors={label:!1,progCode:!1,progLabel:!1,short_description:!1,limit_files_number:!1,limit_status:!1},""==this.form.label.fr&&""==this.form.label.en)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.label=!0,0;if(""==this.form.end_date)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("end_date").focus(),0;if(""==this.form.year)return window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("year").focus(),0;if(1==this.form.is_limited){var e=this.form.limit_status.every((function(t){return!1===t}));if(""==this.form.limit)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.limit_files_number=!0,0;if(0==this.form.limit_status.length||e)return window.scrollTo({top:0,behavior:"smooth"}),this.errors.limit_status=!0,0}if(""==this.form.training){if(!this.isHiddenProgram)return document.getElementById("select_prog").focus(),0;if(""==this.programForm.label)return this.errors.progLabel=!0,document.getElementById("prog_label").focus(),0;if(""==this.programForm.code)return this.errors.progCode=!0,document.getElementById("prog_code").focus(),0}this.year.label=this.form.label,this.year.code=this.form.training,this.year.schoolyear=this.form.year,this.year.published=this.form.published,this.year.profile_id=this.form.profile_id,""==this.form.label.en&&(this.form.label.en=this.form.label.fr),this.submitted=!0;var a=!1;if(""!==this.campaign){var o="createprogram",n={body:this.programForm};""!=this.form.training&&(o="updateprogram",n={body:this.programForm,id:this.form.progid}),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task="+o,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify(n)}).then((function(e){t.form.training=t.programForm.code,t.form.start_date=qo["DateTime"].fromISO(t.form.start_date).toISO(),t.form.end_date=qo["DateTime"].fromISO(t.form.end_date).toISO(),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updatecampaign",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({body:t.form,cid:t.campaign})}).then((function(e){t.$emit("nextSection")})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}else""!==this.form.training?(this.programForm=this.programs.find((function(e){return e.code==t.form.training})),this.form.training=this.programForm.code,"object"==Object(zo["a"])(this.form.start_date)&&(this.form.start_date=qo["DateTime"].fromISO(this.form.start_date).toISO()),"object"==Object(zo["a"])(this.form.end_date)&&(this.form.end_date=qo["DateTime"].fromISO(this.form.end_date).toISO()),this.createCampaignWithExistingProgram(this.form)):this.createCampainWithNoExistingProgram(this.programForm);this.years.forEach((function(e){e.schoolyear==t.year.schoolyear&&(a=!0)})),a&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=createyear",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Zo.stringify({body:this.year})}).then((function(t){})).catch((function(t){console.log(t)}))},quitFunnelOrContinue:function(t){0==t?this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign"):1==t&&(document.cookie="campaign_"+this.campaign+"_menu = 2; expires=Session; path=/",this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+this.campaign+"&index=0"))},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return Zo.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},onSearchYear:function(t){this.form.year=t},onSearchCategory:function(t){this.programForm.programmes=t},changeEndDate:function(){""==this.form.end_date?this.form.end_date=this.olderDate:(this.olderDate=this.form.end_date,this.form.end_date="")},displayProgram:function(){this.isHiddenProgram?(document.getElementById("add-program").style="transform: rotate(0)",this.form.training=this.old_training,this.programForm=this.old_program_form,document.getElementById("select_prog").removeAttribute("disabled")):(this.old_training=this.form.training,this.old_program_form=this.programForm,this.form.training="",this.programForm={code:"",label:"",notes:"",programmes:"",published:1,apply_online:1},document.getElementById("add-program").style="transform: rotate(135deg)",document.getElementById("select_prog").setAttribute("disabled","disabled")),this.isHiddenProgram=!this.isHiddenProgram},enableTranslationTip:function(){this.enableTip||(this.enableTip=!0,this.tip())},checkMaxlength:function(t){var e=document.getElementById(t).getAttribute("maxlength");e==this.form.short_description.length?document.getElementById(t).style.borderColor="red":document.getElementById(t).style.borderColor="#3898ec"},removeBorderFocus:function(t){document.getElementById(t).style.borderColor="#cccccc"},tip:function(){this.show("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATETIP")+'<em class="translate-icon"></em>',Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP"))},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:t,title:"".concat(a),text:e,duration:1e5})},clean:function(t){this.$notify({group:t,clean:!0})}},watch:{"form.start_date":function(t,e){this.minDate=qo["DateTime"].fromISO(t).plus({days:1}),""==this.form.end_date&&(this.form.end_date=qo["DateTime"].fromISO(t).plus({days:1}))}}},en=tn,an=(a("ee66"),Object(b["a"])(en,Go,Ho,!1,null,"e5938852",null)),on=an.exports,nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-principale"},[a("notifications",{attrs:{group:"foo-velocity",position:"bottom left","animation-type":"velocity",speed:500,classes:"vue-notification-custom"}}),a("div",{staticClass:"w-container"},[""==t.email?a("div",{staticClass:"section-sub-menu sub-form"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/email.png",alt:"email"}}),a("h1",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.AddEmail))])])])]):t._e(),a("form",{attrs:{id:"program-form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required mb-1"},[t._v(t._s(t.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.Informations))])]),a("div",{staticClass:"w-form"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.emailName)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.subject,expression:"form.subject"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.subject},attrs:{type:"text"},domProps:{value:t.form.subject},on:{input:function(e){e.target.composing||t.$set(t.form,"subject",e.target.value)}}})]),t.errors.subject?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.SubjectRequired))])]):t._e(),a("div",{staticClass:"form-group controls forms-emails-editor"},[a("label",[t._v(t._s(t.emailBody)+" "),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),t.dynamicComponent?a("editor",{class:{"is-invalid":t.errors.message},attrs:{height:"30em",text:t.form.message,lang:t.actualLanguage,enable_variables:!0,id:"email",placeholder:t.EmailResume},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}}):t._e()],1),t.errors.message?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.BodyRequired))])]):t._e()])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.Advanced))])]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.receiverName))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.emailAddress))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.emailfrom,expression:"form.emailfrom"}],staticClass:"form__input field-general w-input",attrs:{type:"text"},domProps:{value:t.form.emailfrom},on:{input:function(e){e.target.composing||t.$set(t.form,"emailfrom",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.emailCategory))]),a("autocomplete",{attrs:{items:this.categories,year:this.form.category},on:{searched:t.onSearchCategory}})],1)]),a("div",{staticClass:"divider"}),""==t.email?a("div",{staticClass:"sous-container last-container"},[a("div",{staticClass:"heading-form"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.Trigger))])]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Program))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.trigger.program,expression:"trigger.program"}],staticClass:"dropdown-toggle w-select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.trigger,"program",e.target.multiple?a:a[0])},t.addTrigger]}},[a("option",{domProps:{value:null}}),t._l(t.programs,(function(e,o){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.label))])}))],2)]),t.triggered?a("div",[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Actions)),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.trigger.action_status,expression:"trigger.action_status"}],staticClass:"dropdown-toggle w-select",class:{"is-invalid":t.errors.trigger.action_status},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.trigger,"action_status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"to_current_user"}},[t._v(t._s(t.TheCandidate))]),a("option",{attrs:{value:"to_applicant"}},[t._v(t._s(t.Manual))])]),t.errors.trigger.action_status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.StatusRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Status)),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.trigger.status,expression:"trigger.status"}],staticClass:"dropdown-toggle w-select",class:{"is-invalid":t.errors.trigger.status},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.trigger,"status",e.target.multiple?a:a[0])}}},t._l(t.status,(function(e,o){return a("option",{key:o,domProps:{value:e.step}},[t._v(t._s(e.value))])})),0),t.errors.trigger.status?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.StatusRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Target)),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.trigger.target,expression:"trigger.target"}],staticClass:"dropdown-toggle w-select",class:{"is-invalid":t.errors.trigger.target},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.trigger,"target",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5"}},[t._v(t._s(t.Administrators))]),a("option",{attrs:{value:"6"}},[t._v(t._s(t.Evaluators))]),a("option",{attrs:{value:"1000"}},[t._v(t._s(t.Candidates))]),a("option",{attrs:{value:"0"}},[t._v(t._s(t.DefinedUsers))])]),t.errors.trigger.target?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.TargetRequired))])]):t._e()]),0==t.trigger.target?a("div",{staticClass:"form-group",staticStyle:{"align-items":"baseline"}},[a("label",[t._v(t._s(t.ChooseUsers)),a("span",{staticStyle:{color:"#E5283B"}},[t._v("*")]),t._v(" :")]),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:t.Search},domProps:{value:t.searchTerm},on:{keyup:t.searchUserByTerm,input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:t.searchUserByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),a("div",{staticClass:"select-all"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectall,expression:"selectall"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectall)?t._i(t.selectall,null)>-1:t.selectall},on:{click:t.selectAllUsers,change:function(e){var a=t.selectall,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.selectall=a.concat([s])):i>-1&&(t.selectall=a.slice(0,i).concat(a.slice(i+1)))}else t.selectall=n}}}),a("label",[t._v(" "+t._s(t.SelectAll)+" ")])]),a("div",{staticClass:"users-block",class:{"is-invalid":t.errors.trigger.selectedUsers}},t._l(t.users,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUsers[e.id],expression:"selectedUsers[user.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectedUsers[e.id])?t._i(t.selectedUsers[e.id],null)>-1:t.selectedUsers[e.id]},on:{change:function(a){var o=t.selectedUsers[e.id],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.selectedUsers,e.id,o.concat([i])):r>-1&&t.$set(t.selectedUsers,e.id,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.selectedUsers,e.id,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.name))]),a("p",[t._v(t._s(e.email))])])])})),0),t.errors.trigger.selectedUsers?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.UsersRequired))])]):t._e()]):t._e()]):t._e()]):t._e(),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation d-flex justify-content-between"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button",onclick:"history.go(-1)"}},[t._v(" "+t._s(t.retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green",attrs:{type:"submit"}},[t._v(" "+t._s(t.continuer)+" ")])])])])])])],1)},sn=[],rn=a("4328"),ln={name:"addEmail",components:{Tasks:ht,Editor:Jt,Autocomplete:jt},props:{email:Number,actualLanguage:String},data:function(){return{langue:0,dynamicComponent:!1,AddEmail:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_EMAIL"),Advanced:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADVANCED_CUSTOMING"),Informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_INFORMATION"),Trigger:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL_TRIGGER"),emailType:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_CHOOSETYPE"),emailCategory:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSECATEGORY"),retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),emailName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_NAME"),emailBody:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_BODY"),receiverName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_RECEIVER"),emailAddress:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_ADDRESS"),EmailResume:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDEMAIL_RESUME"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),EmailType:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAILTYPE"),SubjectRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_SUBJECT_REQUIRED"),BodyRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_BODY_REQUIRED"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),Model:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERMODEL"),ModelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERMODEL_REQUIRED"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS"),StatusRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERSTATUS_REQUIRED"),Target:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET"),TargetRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGERTARGET_REQUIRED"),Administrators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATORS"),Evaluators:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATORS"),Candidates:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_CANDIDATES"),DefinedUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_DEFINED_USERS"),ChooseUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_CHOOSE_USERS"),UsersRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_USERS_REQUIRED"),Search:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH_USERS"),TheCandidate:Joomla.JText._("COM_EMUNDUS_ONBOARD_THE_CANDIDATE"),Manual:Joomla.JText._("COM_EMUNDUS_ONBOARD_MANUAL"),Actions:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRIGGER_ACTIONS"),categories:[],programs:[],status:[],users:[],selectedUsers:[],enableTip:!1,searchTerm:"",selectall:!1,form:{lbl:"",subject:"",name:"",emailfrom:"",message:"",type:2,category:"",published:1},trigger:{model:null,status:null,action_status:null,target:null,program:null},triggered:!1,errors:{subject:!1,message:!1,trigger:{model:!1,status:!1,target:!1,selectedUsers:!1,action_status:!1}},submitted:!1}},methods:{getProgramsList:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getallprogram",params:{filter:"",sort:"",recherche:"",lim:100,page:1},paramsSerializer:function(t){return rn.stringify(t)}}).then((function(e){t.programs=e.data.data}))},getStatus:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getstatus").then((function(e){t.status=e.data.data}))},getUsers:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getuserswithoutapplicants").then((function(e){t.users=e.data.data}))},searchUserByTerm:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=searchuserbytermwithoutapplicants&term="+this.searchTerm).then((function(e){t.users=e.data.data}))},addTrigger:function(){null!=this.trigger.program?this.triggered=!0:this.triggered=!1},selectAllUsers:function(){var t=this;this.users.forEach((function(e){t.selectall?t.selectedUsers[e.id]=!1:t.selectedUsers[e.id]=!0})),this.$forceUpdate()},submit:function(){var t=this;if(this.errors={subject:!1,message:!1,trigger:{model:!1,status:!1,target:!1,selectedUsers:!1}},""==this.form.subject)return this.errors.subject=!0,0;if(""==this.form.message)return this.errors.message=!0,0;if(null!=this.trigger.program){if(null==this.trigger.action_status)return this.errors.trigger.action_status=!0,0;if(null==this.trigger.status)return this.errors.trigger.status=!0,0;if(null==this.trigger.target)return this.errors.trigger.target=!0,0;if(0==this.trigger.target&&0===this.selectedUsers.length)return this.errors.trigger.selectedUsers=!0,0}this.submitted=!0,""!==this.email?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=updateemail",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:rn.stringify({body:this.form,code:this.email})}).then((function(e){t.redirectJRoute("index.php?option=com_emundus_onboard&view=email")})).catch((function(t){console.log(t)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=createemail",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:rn.stringify({body:this.form})}).then((function(e){t.trigger.model=e.data.data,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=email&task=createtrigger",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:rn.stringify({trigger:t.trigger,users:t.selectedUsers})}).then((function(e){t.redirectJRoute("index.php?option=com_emundus_onboard&view=email")}))})).catch((function(t){console.log(t)}))},onSearchCategory:function(t){this.form.category=t},enableVariablesTip:function(){this.enableTip||(this.enableTip=!0,this.tip())},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return rn.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},tip:function(){this.show("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_VARIABLESTIP")+' <strong style="font-size: 16px">/</strong>',Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP"))},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:t,title:"".concat(a),text:e,duration:1e4})},clean:function(t){this.$notify({group:t,clean:!0})}},created:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailcategories").then((function(e){t.categories=e.data.data,""!==t.email?c.a.get("index.php?option=com_emundus_onboard&controller=email&task=getemailbyid&id=".concat(t.email)).then((function(e){t.form.lbl=e.data.data.lbl,t.form.subject=e.data.data.subject,t.form.name=e.data.data.name,t.form.emailfrom=e.data.data.emailfrom,t.form.message=e.data.data.message,t.form.type=e.data.data.type,t.form.category=e.data.data.category,t.form.published=e.data.data.published,t.dynamicComponent=!0})).catch((function(t){console.log(t)})):t.dynamicComponent=!0})).catch((function(t){console.log(t)})),setTimeout((function(){t.enableVariablesTip()}),2e3),this.getProgramsList(),this.getStatus(),this.getUsers()},mounted:function(){"en"==this.actualLanguage&&(this.langue=1)}},cn=ln,dn=Object(b["a"])(cn,nn,sn,!1,null,"5c35c5f3",null),un=dn.exports,mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-principale"},[a("div",{staticClass:"w-container"},[a("form",{attrs:{id:"campaign-form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"sous-container"},[a("p",{staticClass:"required"},[t._v(t._s(t.RequiredFieldsIndicate))]),a("div",{staticClass:"heading-form"},[a("div",{staticClass:"icon-title"}),a("h2",{staticClass:"heading"},[t._v(t._s(t.CreateForm))])]),a("p",{staticClass:"paragraphe-sous-titre"}),a("div",{staticClass:"form-group form-label"},[a("label",{attrs:{for:"formLabel"}},[t._v(t._s(t.FormName)+" *")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.form.label.$model,expression:"$v.form.label.$model",modifiers:{lazy:!0}},{name:"focus",rawName:"v-focus"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors||t.formTouched},attrs:{id:"formLabel",type:"text",placeholder:" ",maxlength:"100"},domProps:{value:t.$v.form.label.$model},on:{change:function(e){return t.$set(t.$v.form.label,"$model",e.target.value)}}})]),t.errors||t.formTouched?a("p",{staticClass:"error"},[t.$v.form.label.required?t._e():a("span",{staticClass:"error"},[t._v(t._s(t.LabelRequired))])]):t._e(),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Description))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"form__input field-general w-input",attrs:{type:"textarea",rows:"4",maxlength:"400"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"section-sauvegarder-et-continuer"},[a("div",{staticClass:"w-container"},[a("div",{staticClass:"container-evaluation d-flex justify-content-between"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button",onclick:"history.go(-1)"}},[t._v(" "+t._s(t.Retour)+" ")]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-quitter",attrs:{type:"button"},on:{click:function(e){t.quit=0,t.submit()}}},[t._v(" "+t._s(t.Quitter)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){t.quit=1,t.submit()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])])])])]),t.submitted?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()])},pn=[],_n=a("4328"),fn={name:"addForm",props:{profileId:Number,campaignId:Number},components:{Tasks:ht},directives:{focus:{inserted:function(t){t.focus()}}},data:function(){return{form:{label:"",description:"",published:1},CreateForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_FORM"),FormName:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDFORM_FORMNAME"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Quitter:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_QUITTER"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILTER_PUBLISH"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),RequiredFieldsIndicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FIELDS_INDICATE"),submitted:!1,errors:"",formTouched:"",quit:1}},validations:{form:{label:{required:xt["required"]}}},created:function(){var t=this;""!==this.profileId&&c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getformbyid&id=".concat(this.profileId)).then((function(e){t.form.label=e.data.data.label,t.form.description=e.data.data.description})).catch((function(t){console.log(t)}))},methods:{submit:function(){var t=this;this.formTouched=!this.$v.form.$anyDirty,this.errors=this.$v.form.$anyError,!1===this.errors&&(""===this.form.label?this.formTouched=!0:(this.submitted=!0,""!==this.profileId?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=updateform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_n.stringify({body:this.form,pid:this.profileId})}).then((function(e){t.quitFunnelOrContinue(t.quit)})).catch((function(t){console.log(t)})):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=createform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_n.stringify({body:this.form})}).then((function(e){t.profileId=e.data.data,t.quitFunnelOrContinue(t.quit)})).catch((function(t){console.log(t)}))))},quitFunnelOrContinue:function(t){var e=this;if(""!=this.campaignId){var a=[];a.push(this.campaignId),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=affectcampaignstoform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:_n.stringify({prid:this.profileId,campaigns:a})}).then((function(){0==t?e.redirectJRoute("index.php?option=com_emundus_onboard&view=form"):1==t&&e.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+e.profileId+"&index=0&cid="+e.campaignId)}))}else 0==t?this.redirectJRoute("index.php?option=com_emundus_onboard&view=form"):1==t&&this.redirectJRoute("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.profileId+"&index=0&cid=")},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return _n.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}}},gn=fn,hn=Object(b["a"])(gn,mn,pn,!1,null,"df21bcc0",null),bn=hn.exports,vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ModalWarningFormBuilder",{attrs:{pid:t.profileId,cid:t.campaignId}}),a("div",{staticClass:"w-row"},[a("div",{staticClass:"col-md-12 col-sm-10 p-1",staticStyle:{"padding-left":"2em !important"}},[a("div",{staticClass:"section-sub-menu"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/megaphone.svg",alt:"megaphone"}}),-1!=t.menuHighlight?a("h2",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.formCategories[t.langue][t.menuHighlight]))]):t._e(),-1!=t.menuHighlightProg?a("h2",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.formPrograms[t.langue][t.menuHighlightProg]))]):t._e()]),-1!=t.menuHighlight?a("p",{staticClass:"tchooz-section-description",staticStyle:{"margin-top":"20px"},domProps:{innerHTML:t._s(t.formCategoriesDesc[t.langue][t.menuHighlight])}}):t._e(),-1!=t.menuHighlightProg?a("p",{staticClass:"tchooz-section-description",staticStyle:{"margin-top":"20px"},domProps:{innerHTML:t._s(t.formProgramsDesc[t.langue][t.menuHighlightProg])}}):t._e(),a("hr"),a("div",{staticClass:"d-flex"},[a("p",[a("b",{staticStyle:{color:"#16afe1","font-weight":"700 !important"}},[t._v(" "+t._s(t.form.label))]),t._v(" "+t._s(t.From)+" "+t._s(t.form.start_date)+" "+t._s(t.To)+" "+t._s(t.form.end_date)+" ")])]),null==t.profileId&&0==t.loading?a("div",{staticClass:"d-flex required",staticStyle:{display:"flex"}},[a("em",{staticClass:"fas fa-exclamation-circle icon-warning-margin"}),a("p",[t._v(t._s(t.chooseProfileWarning))])]):t._e()])]),a("div",{staticClass:"d-flex"},[a("ul",{staticClass:"nav nav-tabs topnav"},[t._l(t.formCategories[t.langue],(function(e,o){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.closeSubmenu,expression:"closeSubmenu"}],key:o},[a("a",{staticClass:"menu-item",class:[t.menuHighlight==o?"w--current":"",null==t.profileId?"grey-link":""],on:{click:function(e){null!=t.profileId&&t.changeToCampMenu(o)}}},[t._v(" "+t._s(e)+" ")])])})),t._l(t.formPrograms[t.langue],(function(e,o){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.closeSubmenu,expression:"closeSubmenu"}],key:o},[a("a",{staticClass:"menu-item",class:[t.menuHighlightProg==o?"w--current":"",null==t.profileId?"grey-link":""],on:{click:function(e){null!=t.profileId&&t.changeToProgMenu(o)}}},[t._v(" "+t._s(e)+" ")])])}))],2)]),a("br"),-1!=t.menuHighlightProg?a("div",{staticClass:"warning-message-program mb-1"},[a("p",{staticStyle:{color:"#e5283b"}},[a("em",{staticClass:"fas fa-exclamation-triangle mr-1 red"}),t._v(t._s(t.ProgramWarning))]),t.campaignsByProgram.length>0?a("ul",t._l(t.campaignsByProgram,(function(e,o){return a("li",[t._v(t._s(e.label))])})),0):t._e()]):t._e(),a("transition",{attrs:{name:"slide-right"}},[0==t.menuHighlight?a("add-campaign",{attrs:{campaign:t.campaignId,coordinatorAccess:!0,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{nextSection:function(e){t.menuHighlight++},getInformations:t.initInformations}}):t._e(),2==t.menuHighlight?a("addFormulaire",{key:t.formReload,attrs:{profileId:t.profileId,campaignId:t.campaignId,profiles:t.profiles,visibility:null},on:{profileId:t.setProfileId}}):t._e(),1==t.menuHighlight?a("add-documents-dropfiles",{attrs:{funnelCategorie:t.formCategories[t.langue][t.menuHighlight],profileId:t.profileId,campaignId:t.campaignId,menuHighlight:t.menuHighlight,langue:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e(),3==t.menuHighlight?a("add-documents-form",{attrs:{funnelCategorie:t.formCategories[t.langue][t.menuHighlight],profileId:t.profileId,campaignId:t.campaignId,menuHighlight:t.menuHighlight,langue:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e(),0==t.menuHighlightProg&&0!=t.program.id?a("add-gestionnaires",{attrs:{funnelCategorie:t.formPrograms[t.langue][t.menuHighlight],group:t.prog_group,coordinatorAccess:!0}}):t._e(),1==t.menuHighlightProg&&0!=t.program.id?a("add-evaluation-grid",{attrs:{funnelCategorie:t.formPrograms[t.langue][t.menuHighlight],prog:t.program.id}}):t._e(),2==t.menuHighlightProg&&0!=t.program.id?a("add-email",{attrs:{funnelCategorie:t.formPrograms[t.langue][t.menuHighlight],prog:t.program.id}}):t._e()],1)],1)]),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},Cn=[],On=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("ModalAddDocuments",{attrs:{cid:this.campaignId,pid:this.profileId,doc:this.currentDoc,langue:t.langue,manyLanguages:t.manyLanguages},on:{UpdateDocuments:t.updateList}}),a("a",{staticClass:"bouton-ajouter bouton-ajouter-green pointer",staticStyle:{width:"max-content"},on:{click:function(e){return t.$modal.show("modalAddDocuments")}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.createDocument)+" ")])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{staticClass:"w-form d-flex",staticStyle:{"align-items":"unset"}},[a("ul",{staticClass:"ml-0 w-50",staticStyle:{"padding-left":"0"}},[a("h2",{staticClass:"blue-text-instruction",domProps:{innerHTML:t._s(t.documentNoAssigned)}}),a("draggable",t._b({staticClass:"list-group ml-0",attrs:{tag:"ul",handle:".handle",group:"documents"},on:{end:function(e){return t.addingToDocs(e)}},model:{value:t.undocuments,callback:function(e){t.undocuments=e},expression:"undocuments"}},"draggable",t.dragOptionsUndoc,!1),[a("transition-group",{attrs:{type:"transition",value:t.drag?null:"flip-list"}},t._l(t.undocuments,(function(e,o){return a("li",{key:o,staticClass:"list-doc-item undocuments-item",class:1==e.need?"documentObligatoire":0==e.need?"documentFacultatif":"",attrs:{id:"undoc_"+o}},[a("div",{staticClass:"justify-content-between d-flex"},[a("div",{staticClass:"d-flex"},[a("em",{staticClass:"fas fa-grip-vertical handle",staticStyle:{color:"#cecece"}}),a("span",{staticClass:"d-flex ml-10px"},[t._v(" "+t._s(e.value)+" "),a("span",{staticClass:"document-allowed_types"},[t._v("("+t._s(e.allowed_types)+")")])])]),a("div",{staticClass:"text-no-assigned",attrs:{id:"spanDoc"+e.id}},[a("button",{staticClass:"buttonAddDoc",attrs:{type:"button",title:t.addDoc},on:{click:function(e){return t.addUndoc(o)}}},[a("em",{staticClass:"fas fa-plus"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.can_be_deleted,expression:"undocument.can_be_deleted"}],staticClass:"ml-10px buttonDeleteDoc",attrs:{type:"button",title:t.deleteDoc},on:{click:function(a){return t.deleteDocument(e.id,o)}}},[a("em",{staticClass:"fas fa-trash-alt",staticStyle:{color:"white"}})])])]),a("div",{staticClass:"d-flex doc-desc"},[a("p",{domProps:{innerHTML:t._s(e.description)}}),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return t.openUpdateDoc(e)}}},[a("em",{staticClass:"fas fa-pen"})])])])})),0)],1)],1),a("hr",{staticClass:"vertical-divider"}),a("ul",{staticClass:"ml-0 w-50",staticStyle:{"padding-left":"0"}},[a("h2",{staticClass:"blue-text-instruction",domProps:{innerHTML:t._s(t.documentAssigned)}}),a("draggable",t._b({staticClass:"list-group ml-0",attrs:{tag:"ul",handle:".handle",group:"documents"},on:{end:function(e){return t.removeToDocs(e)}},model:{value:t.documents,callback:function(e){t.documents=e},expression:"documents"}},"draggable",t.dragOptions,!1),[a("transition-group",{staticStyle:{display:"block","min-height":"200px"},attrs:{type:"transition",value:t.drag?null:"flip-list"}},t._l(t.documents,(function(e,o){return a("li",{key:o,staticClass:"list-doc-item",attrs:{id:"itemDoc"+e.id}},[a("div",{staticClass:"justify-content-between d-flex"},[a("div",{staticClass:"d-flex"},[a("em",{staticClass:"fas fa-grip-vertical handle",staticStyle:{color:"#cecece"}}),a("span",{staticClass:"d-flex ml-10px"},[a("span",[t._v(t._s(e.value))]),a("span",{staticClass:"document-allowed_types"},[t._v("("+t._s(e.allowed_types)+")")])])]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex",staticStyle:{"margin-right":"30px"}},[a("div",{staticClass:"toggle changeStateDoc",staticStyle:{float:"right",margin:"0 12px"},attrs:{id:"spanDoc"+e.id},on:{click:function(a){return t.updateMandatory(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.need,expression:"document.need"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"published",name:"published"},domProps:{checked:Array.isArray(e.need)?t._i(e.need,null)>-1:t._q(e.need,"1")},on:{change:function(a){var o=e.need,n=a.target,s=n.checked?"1":"0";if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(e,"need",o.concat([i])):r>-1&&t.$set(e,"need",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(e,"need",s)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("div",{class:1==e.need?"text-required":""},[t._v(" "+t._s(t.Mandatory)+" ")])]),a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button",title:t.removeDoc},on:{click:function(e){return t.deleteDocFromForm(o)}}},[a("em",{staticClass:"fas fa-times"})])])]),a("div",{staticClass:"d-flex doc-desc"},[a("p",[t._v(t._s(e.description))]),a("a",{staticClass:"cta-block pointer",on:{click:function(a){return t.openUpdateDoc(e)}}},[a("em",{staticClass:"fas fa-pen"})])])])})),0)],1)],1)])]),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},Dn=[],En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAddDocuments"}},[a("modal",{attrs:{name:"modalAddDocuments",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddDocuments")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[null==t.doc?a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.createDocument)+" ")]):t._e(),null!=t.doc?a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.editDocument)+" ")]):t._e()])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"mb-1"},[a("a",{staticClass:"d-flex tool-icon"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.req,expression:"req"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.req)?t._i(t.req,null)>-1:t.req},on:{click:function(e){return t.updateRequireMandatory()},change:function(e){var a=t.req,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.req=a.concat([s])):i>-1&&(t.req=a.slice(0,i).concat(a.slice(i+1)))}else t.req=n}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px"},[t._v(t._s(t.Required))])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v(t._s(t.DocTemplate)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.doc,expression:"doc"}],staticClass:"dropdown-toggle",attrs:{disabled:Object.keys(t.models).length<=0},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.doc=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:null}}),t._l(t.models,(function(e,o){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name[t.langue]))])}))],2)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v(t._s(t.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name[t.langue],expression:"form.name[langue]"}],staticClass:"form__input field-general w-input mb-0",class:{"is-invalid":t.errors.name},attrs:{type:"text",maxlength:"100",id:"name"},domProps:{value:t.form.name[t.langue]},on:{input:function(e){e.target.composing||t.$set(t.form.name,t.langue,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.name},attrs:{type:"button"},on:{click:function(e){t.translate.name=!t.translate.name}}}):t._e()]),t.translate.name?a("translation",{attrs:{label:t.form.name,actualLanguage:t.langue}}):t._e(),t.errors.name?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.NameRequired))])]):t._e()],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"description"}},[t._v(t._s(t.Description)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description[t.langue],expression:"form.description[langue]"}],staticClass:"form__input field-general w-input mb-0",attrs:{type:"text",id:"description"},domProps:{value:t.form.description[t.langue]},on:{input:function(e){e.target.composing||t.$set(t.form.description,t.langue,e.target.value)}}}),t._v(" "),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.description},attrs:{type:"button"},on:{click:function(e){t.translate.description=!t.translate.description}}}):t._e()]),t.translate.description?a("translation",{attrs:{label:t.form.description,actualLanguage:t.langue}}):t._e()],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nbmax"}},[t._v(t._s(t.MaxPerUser)+"* :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nbmax,expression:"form.nbmax"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.nbmax},attrs:{type:"number",min:"1",id:"nbmax"},domProps:{value:t.form.nbmax},on:{input:function(e){e.target.composing||t.$set(t.form,"nbmax",e.target.value)}}}),t.errors.nbmax?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.MaxRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{class:{"is-invalid":t.errors.selectedTypes},attrs:{for:"nbmax"}},[t._v(t._s(t.FileType)+"* :")]),a("div",{staticClass:"users-block",class:{"is-invalid":t.errors.selectedUsers}},t._l(t.types,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.selectedTypes[e.value],expression:"form.selectedTypes[type.value]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.selectedTypes[e.value])?t._i(t.form.selectedTypes[e.value],null)>-1:t.form.selectedTypes[e.value]},on:{change:function(a){var o=t.form.selectedTypes[e.value],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.form.selectedTypes,e.value,o.concat([i])):r>-1&&t.$set(t.form.selectedTypes,e.value,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.form.selectedTypes,e.value,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.title)+" ("+t._s(e.value)+")")])])])})),0),t.errors.selectedTypes?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.TypeRequired))])]):t._e()])]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddDocuments")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.createNewDocument()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])],1)},xn=[],yn=a("4328"),Un={name:"modalAddDocuments",props:{cid:Number,pid:Number,currentDoc:Number,manyLanguages:Number,langue:String},components:{Translation:Wo},data:function(){return{doc:null,form:{name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1},mandatory:0},translate:{name:!1,description:!1},req:!1,errors:{name:!1,nbmax:!1,selectedTypes:!1},types:[{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PDF_DOCUMENTS"),value:"pdf"},{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_PICTURES_DOCUMENTS"),value:"jpg;png;gif"},{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_OFFICE_DOCUMENTS"),value:"doc;docx;odt"},{title:Joomla.JText._("COM_EMUNDUS_ONBOARD_EXCEL_DOCUMENTS"),value:"xls;xlsx;odf"}],selectedTypes:[],models:[],createDocument:Joomla.JText._("COM_EMUNDUS_ONBOARD_CREATE_DOCUMENT"),editDocument:Joomla.JText._("COM_EMUNDUS_ONBOARD_EDIT_DOCUMENT"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),DocTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_TEMPLATE_DOC"),Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),MaxPerUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAXPERUSER"),FileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED"),NameRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROG_REQUIRED_LABEL"),MaxRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAXPERUSER_REQUIRED"),TypeRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED_REQUIRED"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Required:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED")}},methods:{beforeClose:function(t){this.form={name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1}},this.doc=null,this.$emit("modalClosed")},beforeOpen:function(t){this.getModelsDocs()},createNewDocument:function(){var t=this;if(this.errors={name:!1,nbmax:!1,selectedTypes:!1},""===this.form.name[this.langue])return this.errors.name=!0,0;if(""===this.form.nbmax||0===this.form.nbmax)return this.errors.nbmax=!0,0;if(Object.values(this.form.selectedTypes).every((function(t,e){return!1===t})))return this.errors.selectedTypes=!0,0;!1===this.translate.name&&(0==this.manyLanguages&&"en"==this.langue?this.form.name.fr=this.form.name.en:this.form.name.en=this.form.name.fr),!1===this.translate.description&&(0==this.manyLanguages&&"en"==this.langue?this.form.description.fr=this.form.description.en:this.form.description.en=this.form.description.fr);var e=[];Object.keys(this.form.selectedTypes).forEach((function(a){1==t.form.selectedTypes[a]&&e.push(a)}));var a={document:this.form,types:e,cid:this.cid,pid:this.pid},o="index.php?option=com_emundus_onboard&controller=campaign&task=createdocument";null!=this.doc&&(o="index.php?option=com_emundus_onboard&controller=campaign&task=updatedocument",a.did=this.doc),c()({method:"post",url:o,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:yn.stringify(a)}).then((function(e){t.req=!1,t.$emit("UpdateDocuments"),t.$modal.hide("modalAddDocuments")}))},getModelsDocs:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getundocuments"}).then((function(e){t.models=e.data.data,null!=t.currentDoc&&(t.doc=t.currentDoc)}))},updateRequireMandatory:function(){console.log(this.req),1==this.req?this.form.mandatory=0:this.form.mandatory=1}},watch:{doc:function(t){if(null!=t){var e=this.models.find((function(e){return e.id==t}));this.form.name=e.name,this.form.description=e.description,this.form.mandatory=e.mandatory,1==e.mandatory?this.req=!0:this.req=!1,e.allowed_types.includes("pdf")?this.form.selectedTypes.pdf=!0:this.form.selectedTypes.pdf=!1,e.allowed_types.includes("jpg")||e.allowed_types.includes("png")||e.allowed_types.includes("gif")?this.form.selectedTypes["jpg;png;gif"]=!0:this.form.selectedTypes["jpg;png;gif"]=!1,e.allowed_types.includes("xls")||e.allowed_types.includes("xlsx")||e.allowed_types.includes("odf")?this.form.selectedTypes["xls;xlsx;odf"]=!0:this.form.selectedTypes["xls;xlsx;odf"]=!1,this.form.nbmax=e.nbmax}else this.form={name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1}}}}},Nn=Un,Tn=(a("73b2"),Object(b["a"])(Nn,En,xn,!1,null,"2c6cf7ba",null)),An=Tn.exports,Mn=a("4328"),Sn={name:"addDocuments",display:"Handle",components:{ModalAddDocuments:An,draggable:Sa.a},props:{funnelCategorie:String,obligatoireDoc:Number,profileId:Number,campaignId:Number,langue:String,formulaireEmundus:Number,menuHighlight:Number,manyLanguages:Number},data:function(){return{drag:!1,loading:!1,obligatoireDoc:0,currentDoc:null,documents:[],undocuments:[],attachments:[],attachmentsId:[],unattachments:[],unid:[],Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Mandatory:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),createDocument:Joomla.JText._("COM_EMUNDUS_ONBOARD_CREATE_DOCUMENT"),deleteDoc:Joomla.JText._("COM_EMUNDUS_ONBOARD_DELETE_DOCUMENT"),removeDoc:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_DOCUMENT"),addDoc:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_DOCUMENT"),documentAssigned:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCUMENT_ASSIGNED_TO_FORM"),documentNoAssigned:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCUMENT_NO_ASSIGNED_TO_FORM")}},methods:{updateList:function(){this.documents=[],this.undocuments=[],this.attachments=[],this.attachmentsId=[],this.unattachments=[],this.unid=[],this.getDocuments()},getDocuments:function(){var t=this;this.loading=!0,c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getalldocuments&prid="+this.profileId+"&cid="+this.campaignId).then((function(e){for(var a=0;a<e.data.data.length;a++)t.unid.push(e.data.data[a].id),t.documents.push(e.data.data[a])})).then((function(){c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getundocuments").then((function(e){for(var a=0,o=0;o<e.data.data.length;o++)a=e.data.data[o].id,t.unid.includes(a)||t.unattachments.push(e.data.data[o]);t.undocuments=t.unattachments.map((function(t){var e={id:t.id,value:t.value,value_fr:t.value_fr,value_en:t.value_en,description_fr:t.description_fr,description_en:t.description_en,nbmax:t.nbmax,ordering:t.ordering,can_be_deleted:t.can_be_deleted,allowed_types:t.allowed_types,need:-1};return e})),t.currentDoc=null,t.loading=!1})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},updateMandatory:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=updatemandatory",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Mn.stringify({did:t.id,prid:this.profileId,cid:this.campaignId})}).then((function(){})).catch((function(t){console.log(t)}))},addDocument:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=adddocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Mn.stringify({did:t.id,prid:this.profileId,cid:this.campaignId})}).then((function(){})).catch((function(t){console.log(t)}))},removeDocument:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=removedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Mn.stringify({did:t,prid:this.profileId,cid:this.campaignId})}).then((function(){})).catch((function(t){console.log(t)}))},deleteDocument:function(t,e){var a=this;it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEDOCUMENTTYPE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEDOCUMENTTYPE_MESSAGE"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&c()({method:"POST",url:"index.php?option=com_emundus_onboard&controller=form&task=deletedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Mn.stringify({did:t})}).then((function(){a.undocuments.splice(e,1)}))}))},deleteDocFromForm:function(t){var e=this.undocuments.push(this.documents[t])-1;this.documents.splice(t,1),this.removeDocument(this.undocuments[e].id)},addingToDocs:function(t){this.addDocument(this.documents[t.newIndex])},removeToDocs:function(t){var e=t.newIndex;this.deleteDoc(e,this.undocuments[e])},addUndoc:function(t){var e=this.documents.push(this.undocuments[t])-1;this.undocuments.splice(t,1),this.addDocument(this.documents[e])},openUpdateDoc:function(t){var e=this;this.currentDoc=t,setTimeout((function(){e.$modal.show("modalAddDocuments")}),100)}},computed:{console:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return console})),dragOptions:function(){return{group:{name:"documents",put:!1},animation:200,sort:!0,disabled:!1,ghostClass:"ghost"}},dragOptionsUndoc:function(){return{group:{name:"documents",put:!1},animation:200,sort:!1,disabled:!1,ghostClass:"ghost"}},previousMenu:function(){this.$parent.previous()}},mounted:function(){},created:function(){this.getDocuments()}},wn=Sn,Rn=(a("a7fe"),Object(b["a"])(wn,On,Dn,!1,null,"025820a3",null)),Jn=Rn.exports,kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container-evaluation"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.funnelCategorie[0]))]),a("p",{staticClass:"paragraphe-sous-titre"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. ")]),a("div",{staticClass:"w-row"},[a("div",{staticClass:"w-col w-col-6"},[a("div",{staticClass:"w-form"},[a("form",{staticClass:"form-2",attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("datetime",{attrs:{placeholder:t.StartDate,type:"datetime",id:"start_date",language:t.fr},model:{value:t.form.start_date,callback:function(e){t.$set(t.form,"start_date",e)},expression:"form.start_date"}})],1)])]),a("div",{staticClass:"w-col w-col-6"},[a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("datetime",{attrs:{placeholder:t.EndDate,type:"datetime",id:"end_date",language:t.fr},model:{value:t.form.end_date,callback:function(e){t.$set(t.form,"end_date",e)},expression:"form.end_date"}})],1)])])]),a("div",{staticClass:"icon-title evaluation"})]),a("div",{staticClass:"divider"}),a("div",{staticClass:"container-evaluation"},[a("h2",{staticClass:"heading"},[t._v(t._s(t.funnelCategorie[1]))]),a("p",{staticClass:"paragraphe-sous-titre"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse varius enim in eros elementum tristique. ")]),a("div",{staticClass:"w-form"},[a("form",{attrs:{id:"email-form",name:"email-form","data-name":"Email Form"}},[a("div",{staticClass:"container-flexbox-choisir-ou-plus w-clearfix"},[a("select",{staticClass:"dropdown-toggle",attrs:{id:"Grille-d-valuation",name:"Grille-d-valuation","data-name":"Grille D Valuation"}},[a("option",{attrs:{value:""}},[t._v(t._s(t.ChooseEvalutationGrid))]),a("option",{attrs:{value:"Grille d'évaluation 1"}},[t._v("Grille d'évaluation 1")]),a("option",{attrs:{value:"Grille d'évaluation 2"}},[t._v("Grille d'évaluation 2")]),a("option",{attrs:{value:"Grille d'évaluation 3"}},[t._v("Grille d'évaluation 3")])]),a("button",{staticClass:"plus w-inline-block"},[t._v("+")])])])]),a("div",{staticClass:"icon-title evaluation"})])])},Bn=[],In={name:"addEvaluation",components:{Datetime:Yt["Datetime"]},props:{funnelCategorie:Object,form:Object},data:function(){return{ChooseEvalutationGrid:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EVALUATION_GRID"),StartDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_STARTDATE"),EndDate:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_ENDDATE")}},methods:{},created:function(){}},Ln=In,Pn=Object(b["a"])(Ln,kn,Bn,!1,null,null,null),jn=Pn.exports,Fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalWarningFormBuilder"}},[a("modal",{attrs:{name:"modalWarningFormBuilder",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalWarningFormBuilder")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.Warning)+" ")]),a("p",[t._v(" "+t._s(t.FormAffectedToFiles)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalWarningFormBuilder")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer mr-1",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.formbuilder()}}},[t._v(" "+t._s(t.Update)+" ")])])])])],1)},$n=[],Gn=(a("4328"),{name:"modalWarningFormBuilder",props:{pid:Number,cid:Number},data:function(){return{Warning:Joomla.JText._("COM_EMUNDUS_ONBOARD_WARNING"),FormAffectedToFiles:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_AFFECTEDFILES"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Duplicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_DUPLICATE"),Update:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},formbuilder:function(){window.location.replace("index.php?option=com_emundus_onboard&view=form&layout=formbuilder&prid="+this.pid+"&index=0&cid="+this.cid)}}}),Hn=Gn,zn=(a("bdaf"),Object(b["a"])(Hn,Fn,$n,!1,null,"352f1fe5",null)),qn=zn.exports,Vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{staticClass:"w-form"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:t.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":t.afterAdded,"vdropzone-removed-file":t.afterRemoved,"vdropzone-success":t.onComplete,"vdropzone-error":t.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-upload"}),t._v(" "+t._s(t.DropHere)+" ")])]),a("hr"),a("ul",{staticClass:"w-100",staticStyle:{"padding-left":"0",margin:"0"}},[a("draggable",t._b({staticClass:"list-group",staticStyle:{margin:"0"},attrs:{tag:"ul",handle:".handle"},on:{end:t.updateDocumentsOrder},model:{value:t.documents,callback:function(e){t.documents=e},expression:"documents"}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{type:"transition",value:t.drag?null:"flip-list"}},t._l(t.documents,(function(e,o){return a("li",{key:o,staticClass:"list-group-item",attrs:{id:"itemDoc"+e.id}},[a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"d-flex w-100"},[a("em",{staticClass:"fas fa-grip-vertical handle",staticStyle:{color:"#cecece"}}),a("span",{staticClass:"draggable"},[t._v(" "+t._s(e.title)+" "),a("span",{staticClass:"document-allowed_types"},[t._v("("+t._s(e.ext)+")")])])]),a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button"},on:{click:function(a){return t.deleteDoc(o,e.id)}}},[a("em",{staticClass:"fas fa-times"})])]),a("a",{staticClass:"cta-block pointer",staticStyle:{"font-size":"27px",float:"right",position:"relative",bottom:"-20px"},on:{click:function(a){return t.editName(e)}}},[a("em",{staticClass:"fas fa-pen"})])])})),0)],1)],1)],1)])],1)},Yn=[],Qn=a("92c3"),Xn=a.n(Qn),Kn=a("4328"),Wn=function(){return'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n'},Zn={name:"addDocumentsDropfiles",components:{vueDropzone:Xn.a,draggable:Sa.a},props:{funnelCategorie:String,profileId:Number,campaignId:Number,langue:String,menuHighlight:Number,manyLanguages:Number},data:function(){return{dropzoneOptions:{url:"index.php?option=com_emundus_onboard&controller=settings&task=uploaddropfiledoc&cid="+this.campaignId,maxFilesize:10,maxFiles:1,autoProcessQueue:!0,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,acceptedFiles:"image/*,application/pdf,.doc,.csv,.xls,.xlsx,.docx,.odf",previewTemplate:Wn(),dictCancelUpload:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},documents:[],Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:Joomla.JText._("COM_EMUNDUS_ONBOARD_DROP_FILE_HERE"),Error:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),DocumentName:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCUMENT_NAME")}},methods:{getDocumentsDropfiles:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=campaign&task=getdocumentsdropfiles",params:{cid:this.campaignId},paramsSerializer:function(t){return Kn.stringify(t)}}).then((function(e){t.documents=e.data.documents}))},updateDocumentsOrder:function(){this.documents.forEach((function(t,e){t.ordering=e})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updateorderdropfiledocuments",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Kn.stringify({documents:this.documents})})},editName:function(t){it.a.fire({title:"",html:'<div class="form-group campaign-label"><label for="campLabel">'+this.DocumentName+'</label><input type="text" id="label_'+t.id+'" value="'+t.title+'"/></div>',confirmButtonColor:"#de6339",showCloseButton:!0,allowOutsideClick:!1,customClass:{popup:"swal-popup-custom"}}).then((function(e){if(e){var a=document.getElementById("label_"+t.id).value;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=editdocumentdropfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Kn.stringify({did:t.id,name:a})}).then((function(){t.title=a}))}}))},deleteDoc:function(t,e){this.documents.splice(t,1),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=deletedocumentdropfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Kn.stringify({did:e})})},afterAdded:function(){document.getElementById("dropzone-message").style.display="none"},afterRemoved:function(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(t){this.documents.push(JSON.parse(t.xhr.response)),this.$refs.dropzone.removeFile(t)},catchError:function(t,e,a){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),text:e,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(t)}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},created:function(){this.getDocumentsDropfiles()}},ts=Zn,es=(a("f003"),Object(b["a"])(ts,Vn,Yn,!1,null,"3c5afc5e",null)),as=es.exports,os=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("transition",{attrs:{name:"slide-down",type:"transition"}},[a("div",{staticClass:"w-form"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:t.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":t.afterAdded,"vdropzone-removed-file":t.afterRemoved,"vdropzone-success":t.onComplete,"vdropzone-error":t.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-upload"}),t._v(" "+t._s(t.DropHere)+" ")])]),a("hr"),a("ul",{staticClass:"w-100",staticStyle:{"padding-left":"0",margin:"0"}},t._l(t.documents,(function(e,o){return a("li",{key:o,staticClass:"list-group-item"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"draggable"},[t._v(" "+t._s(e.name)+" ")]),a("button",{staticClass:"buttonDeleteDoc",attrs:{type:"button"},on:{click:function(a){return t.deleteDoc(o,e.id)}}},[a("em",{staticClass:"fas fa-times"})])]),a("a",{staticClass:"cta-block pointer",staticStyle:{"font-size":"27px",float:"right",position:"relative",bottom:"-20px"},on:{click:function(a){return t.editName(e)}}},[a("em",{staticClass:"fas fa-pen"})])])})),0)],1)])],1)},ns=[],ss=a("4328"),is=function(){return'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n'},rs={name:"addDocumentsForm",components:{vueDropzone:Xn.a},props:{funnelCategorie:String,profileId:Number,campaignId:Number,langue:String,menuHighlight:Number,manyLanguages:Number},data:function(){return{dropzoneOptions:{url:"index.php?option=com_emundus_onboard&controller=settings&task=uploadformdoc&pid="+this.profileId,maxFilesize:10,maxFiles:1,autoProcessQueue:!0,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,acceptedFiles:"image/*,application/pdf,.doc,.csv,.xls,.xlsx,.docx,.odf",previewTemplate:is(),dictCancelUpload:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},documents:[],Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:Joomla.JText._("COM_EMUNDUS_ONBOARD_DROP_FILE_HERE"),Error:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),DocumentName:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCUMENT_NAME")}},methods:{getDocumentsDropfiles:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=campaign&task=getdocumentsform",params:{pid:this.profileId},paramsSerializer:function(t){return ss.stringify(t)}}).then((function(e){t.documents=e.data.documents}))},editName:function(t){var e=this;it.a.fire({title:"",html:'<div class="form-group campaign-label"><label for="campLabel">'+this.DocumentName+'</label><input type="text" id="label_'+t.id+'" value="'+t.name+'"/></div>',confirmButtonColor:"#de6339",showCloseButton:!0,allowOutsideClick:!1,customClass:{popup:"swal-popup-custom"}}).then((function(a){if(a){var o=document.getElementById("label_"+t.id).value;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=editdocumentform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ss.stringify({pid:e.profileId,did:t.id,name:o})}).then((function(){t.name=o}))}}))},deleteDoc:function(t,e){this.documents.splice(t,1),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=deletedocumentform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ss.stringify({pid:this.profileId,did:e})})},afterAdded:function(){document.getElementById("dropzone-message").style.display="none"},afterRemoved:function(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(t){this.documents.push(JSON.parse(t.xhr.response)),this.$refs.dropzone.removeFile(t)},catchError:function(t,e,a){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),text:e,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(t)}},created:function(){this.getDocumentsDropfiles()}},ls=rs,cs=(a("90fa"),Object(b["a"])(ls,os,ns,!1,null,"35dae86b",null)),ds=cs.exports,us=a("4328"),ms={name:"addFormNextCampaign",components:{AddEvaluationGrid:Io,AddDocumentsForm:ds,Tasks:ht,AddDocumentsDropfiles:as,addCampaign:on,ModalWarningFormBuilder:qn,Datetime:Yt["Datetime"],addFormulaire:Ze,addDocuments:Jn,addGestionnaires:fe,addEmail:Ae,addEvaluation:jn,addEvalVisi:oa,addEvalEval:ca},props:{campaignId:Number,actualLanguage:String,index:Number,manyLanguages:Number},data:function(){return{prid:"",EmitIndex:"0",menuHighlight:0,menuHighlightProg:-1,formReload:0,selectedform:"default",formList:"",prog:0,loading:!1,closeSubmenu:!0,profileId:null,profiles:[],campaignsByProgram:[],currentElement:"",currentSpan:"",langue:0,formCategoriesDesc:[["Vous pouvez modifier vos dates limites de campagne, vos descriptifs et définir une limite de dossiers","Proposez à vos visiteurs des documents d'informations avant même qu'il se connecte. Ces documents seront disponibles dans la section <em>Plus d'informations</em> de votre campagne","Choississez le formulaire de votre campagne. Nous vous proposons des modèles que vous pouvez modifier à tout moment.","Proposez des documents des documents à vos candidats qui remplissent le formulaire. Cela peut être des modèles que les candidats doivent compléter puis déposer ou simplement des documents complémentaires à certains informations demandées","Ajoutez des types de documents que le candidat doit déposer à la suite du formulaire. Glissez simplement les documents entre les 2 colonnes ou ajouter un nouveau type de document"],["You can change your campaign deadlines, your descriptions and set a file limit","Offer your visitors information documents before they even log in. These documents will be available in the <em>More information</em> section of your campaign","Choose the form for your campaign. We offer templates that you can modify at any time.","Offer documents to your applicants when they fill in the form. These can be templates that applicants need to complete and then submit, or simply documents to supplement some of the information requested","Add document types that the applicant should file after the form. Simply drag and drop documents between the 2 columns or add a new document type"]],formCategories:[["Informations générales","Documents préalables","Formulaire","Documents d'informations"],["Global informations","Preliminary documents","Form","Informations documents"]],formPrograms:[["Utilisateurs","Grille d'évaluation","Emails"],["Users","Evaluation grid","Emails"]],formProgramsDesc:[["Ajoutez des utilisateurs, affectez-les à des rôles qui va leur donner des droits sur les dossiers.","Définissez une phase d'évaluation en créant une grille avec différents critères.","Configurer des envois d'emails automatique aux changements de statuts de vos différents candidats."],["Users","Evaluation grid","Emails"]],form:{},program:{id:0,label:"",code:"",programmes:"",notes:"",synthesis:'<ul><li><strong>[APPLICANT_NAME]</strong></li><li><a href="mailto:[EMAIL]">[EMAIL]</a></li></ul>',tmpl_trombinoscope:'<table cellpadding="2" style="width: 100%;"><tbody><tr style="border-collapse: collapse;"><td align="center" valign="top" style="text-align: center;"><p style="text-align: center;"><img src="[PHOTO]" alt="Photo" height="100" /> </p><p style="text-align: center;"><b>[NAME]</b><br /></p></td></tr></tbody></table>',tmpl_badge:'<table width="100%"><tbody><tr><td style="vertical-align: top; width: 100px;" align="left" valign="middle" width="30%"><img src="[LOGO]" alt="Logo" height="50" /></td><td style="vertical-align: top;" align="left" valign="top" width="70%"><b>[NAME]</b></td></tr></tbody></table>\n',published:1,apply_online:1},prog_group:{prog:null,evaluator:null,manager:null},From:Joomla.JText._("COM_EMUNDUS_ONBOARD_FROM"),To:Joomla.JText._("COM_EMUNDUS_ONBOARD_TO"),Since:Joomla.JText._("COM_EMUNDUS_ONBOARD_SINCE"),Modify:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),CAMPAIGN:Joomla.JText._("COM_EMUNDUS_ONBOARD_CAMPAIGN"),FORM:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM"),ChooseEvaluatorGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_EVALUATOR_GROUP"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),chooseForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_FORM"),chooseProfileWarning:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_PROFILE_WARNING"),ProgramWarning:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_WARNING")}},methods:{initInformations:function(t){var e=this;this.form.label=t.label,this.form.profile_id=t.profile_id,this.form.program_id=t.progid,this.form.start_date=t.start_date,this.form.end_date=t.end_date,this.form.start_date=x()(this.form.start_date).format("DD/MM/YYYY"),"0000-00-00 00:00:00"==this.form.end_date?this.form.end_date=null:this.form.end_date=x()(this.form.end_date).format("DD/MM/YYYY"),c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getallformpublished").then((function(t){e.profiles=t.data.data,null==e.form.profile_id?(0!=e.profiles.length?e.profileId=e.profiles[0].id:e.profileId=null,null!=e.profileId&&(e.formReload+=1)):(e.formReload+=1,e.profileId=e.form.profile_id),e.loading=!1})),setTimeout((function(){"undefined"==typeof e.menuHighlight&&(e.menuHighlight=0)}),500)},changeToProgMenu:function(t){var e=this;c.a.get("index.php?option=com_emundus_onboard&controller=program&task=getprogrambyid&id=".concat(this.form.program_id)).then((function(t){e.program.id=t.data.data.id,e.program.code=t.data.data.code,e.program.label=t.data.data.label,e.program.notes=t.data.data.notes,e.program.programmes=t.data.data.programmes,e.program.tmpl_badge=t.data.data.tmpl_badge,e.program.published=t.data.data.published,e.program.apply_online=t.data.data.apply_online,null!=t.data.data.synthesis&&(e.program.synthesis=t.data.data.synthesis.replace(/>\s+</g,"><")),null!=t.data.data.tmpl_trombinoscope&&(e.program.tmpl_trombinoscope=t.data.data.tmpl_trombinoscope.replace(/>\s+</g,"><")),e.prog_group.prog=t.data.data.group,e.prog_group.evaluator=t.data.data.evaluator_group,e.prog_group.manager=t.data.data.manager_group,c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getcampaignsbyprogram",params:{pid:e.program.id},paramsSerializer:function(t){return us.stringify(t)}}).then((function(t){e.campaignsByProgram=t.data.campaigns}))})).catch((function(t){console.log(t)})),this.menuHighlightProg=t,this.menuHighlight=-1},changeToCampMenu:function(t){this.menuHighlight=t,this.menuHighlightProg=-1},setProfileId:function(t){this.profileId=t},moment:function(t){return x()(t)},next:function(){this.menuHighlight<1?this.menuHighlight++:this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign")},previous:function(){this.menuHighlight>0?this.menuHighlight--:this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign")},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return us.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},getCookie:function(t){for(var e=t+"=",a=decodeURIComponent(document.cookie),o=a.split(";"),n=0;n<o.length;n++){var s=o[n];while(" "==s.charAt(0))s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return""}},computed:{console:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return console}))},created:function(){this.loading=!0,"en"==this.actualLanguage&&(this.langue=1)}},ps=ms,_s=(a("284e"),Object(b["a"])(ps,vn,Cn,!1,null,"08523924",null)),fs=_s.exports,gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-row"},[a("div",{staticClass:"tchooz-sidebar-menu"},[a("transition",{attrs:{name:"slide-right"}},[a("div",{staticClass:"col-md-12 tchooz-sidebar-menus"},[a("div",{staticClass:"container-menu-funnel"},t._l(t.settingsCategories[t.langue],(function(e,o){return a("div",{key:o},[a("a",{staticClass:"menu-item",class:t.menuHighlight==o?"w--current":"",on:{click:function(e){t.menuHighlight=o}}},[t._v(t._s(e))])])})),0)])])],1),a("div",{staticClass:"col-md-10 col-md-offset-1 p-1",staticStyle:{"padding-left":"2em !important"}},[a("div",{staticClass:"d-flex justify-content-between",staticStyle:{"margin-bottom":"10px"}},[0!=t.menuHighlight&&7!=t.menuHighlight&&8!=t.menuHighlight?a("div",{staticClass:"d-flex",staticStyle:{width:"100%","justify-content":"end","margin-bottom":"-90px"}},[a("transition",{attrs:{name:"slide-right"}},[t.saving?a("div",{staticClass:"loading-form-save"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()]),a("transition",{attrs:{name:"slide-right"}},[t.endSaving?a("div",{staticClass:"loading-form-save d-flex"},[a("i",{staticClass:"fas fa-check"}),a("span",{staticClass:"mr-1"},[t._v(t._s(t.Saved))])]):t._e()]),0!=t.menuHighlight&&7!=t.menuHighlight?a("button",{staticClass:"bouton-sauvergarder-et-continuer",style:4==t.menuHighlight||5==t.menuHighlight?"right: 10%":"",attrs:{type:"button"},on:{click:function(e){return t.saveCurrentPage()}}},[t._v(t._s(t.Save))]):t._e()],1):t._e()]),a("transition",{attrs:{name:"slide-right"}},[0==t.menuHighlight&&0!=t.coordinatorAccess?a("editStyle",{ref:"styling",on:{LaunchLoading:t.updateLoading,StopLoading:t.updateLoading}}):t._e(),1==t.menuHighlight&&0!=t.coordinatorAccess?a("editHomepage",{ref:"homepage",attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e(),2==t.menuHighlight&&0!=t.coordinatorAccess?a("editCGV",{ref:"cgv",attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e(),3==t.menuHighlight&&0!=t.coordinatorAccess?a("editFooter",{ref:"footer",attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e(),4==t.menuHighlight&&0!=t.coordinatorAccess?a("editStatus",{ref:"status",attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{LaunchLoading:t.updateLoading,StopLoading:t.updateLoading}}):t._e(),5==t.menuHighlight?a("editTags",{ref:"tags",on:{LaunchLoading:t.updateLoading,StopLoading:t.updateLoading}}):t._e(),6==t.menuHighlight?a("edit-applicants",{ref:"applicants",on:{LaunchLoading:t.updateLoading,StopLoading:t.updateLoading}}):t._e(),7==t.menuHighlight&&0!=t.coordinatorAccess?a("editDatas",{ref:"datas",attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e(),8==t.menuHighlight?a("help-settings",{ref:"help",attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages}}):t._e()],1)],1)])},hs=[],bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("a",{staticClass:"bouton-ajouter-green bouton-ajouter pointer mb-1",staticStyle:{width:"max-content"},on:{click:t.pushStatus}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.addStatus)+" ")])]),t._l(t.status,(function(e,o){return a("div",{staticClass:"status-item",attrs:{id:"step_"+e.step}},[a("div",{staticClass:"status-field"},[a("div",{staticStyle:{width:"100%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label[t.actualLanguage],expression:"statu.label[actualLanguage]"}],attrs:{type:"text"},domProps:{value:e.label[t.actualLanguage]},on:{input:function(a){a.target.composing||t.$set(e.label,t.actualLanguage,a.target.value)}}}),e.translate?a("translation",{attrs:{label:e.label,actualLanguage:t.actualLanguage}}):t._e()],1),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":e.translate},attrs:{type:"button"},on:{click:function(a){e.translate=!e.translate,t.$forceUpdate()}}}):t._e(),a("input",{class:"label-"+e.class,attrs:{type:"hidden"}})]),a("v-swatches",{attrs:{swatches:t.swatches,shapes:"circles","row-length":"8","show-border":"","popover-x":"left","popover-y":"top"},model:{value:e.class,callback:function(a){t.$set(e,"class",a)},expression:"statu.class"}}),1==e.edit&&0!=e.step&&1!=e.step?a("button",{staticClass:"remove-tag",attrs:{type:"button",title:t.Delete},on:{click:function(a){return t.removeStatus(e,o)}}},[a("i",{staticClass:"fas fa-times"})]):t._e()],1)}))],2)},vs=[],Cs=a("7f75"),Os=a.n(Cs),Ds=(a("b3a4"),a("4328")),Es={name:"editStatus",components:{VSwatches:Os.a,Translation:Wo},props:{actualLanguage:String,manyLanguages:Number},data:function(){return{status:[],show:!1,swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"],TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),addStatus:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_STATUS"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_DELETE_STATUS")}},methods:{getStatus:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getstatus").then((function(e){t.status=e.data.data,setTimeout((function(){t.status.forEach((function(e){""==e.label.fr&&(e.label.fr=e.value,e.label.en=e.value),t.getHexColors(e)}))}),100)}))},pushStatus:function(){var t=this;this.$emit("LaunchLoading"),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=createstatus",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.status.push(e.data),setTimeout((function(){t.getHexColors(e.data)}),100),t.$emit("StopLoading")}))},removeStatus:function(t,e){var a=this;this.$emit("LaunchLoading"),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=deletestatus",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ds.stringify({id:t.id,step:t.step})}).then((function(){a.status.splice(e,1),a.$emit("StopLoading")}))},getHexColors:function(t){t.translate=!1;var e=document.querySelector(".label-"+t.class),a=getComputedStyle(e),o=a.backgroundColor.split("(")[1].split(")")[0].split(",");t.class=this.rgbToHex(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]))},rgbToHex:function(t,e,a){return"#"+((1<<24)+(t<<16)+(e<<8)+a).toString(16).slice(1).toUpperCase()}},created:function(){this.getStatus()}},xs=Es,ys=(a("3c35"),Object(b["a"])(xs,bs,vs,!1,null,"68f2f37a",null)),Us=ys.exports,Ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("a",{staticClass:"bouton-ajouter-green bouton-ajouter pointer mb-1",staticStyle:{width:"max-content"},on:{click:t.pushTag}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.addTag)+" ")])]),t._l(t.tags,(function(e,o){return a("div",{staticClass:"status-item tags-item",attrs:{id:"tag_"+e.id}},[a("div",{staticClass:"status-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"tag.label"}],attrs:{type:"text"},domProps:{value:e.label},on:{input:function(a){a.target.composing||t.$set(e,"label",a.target.value)}}}),a("input",{class:e.class,attrs:{type:"hidden"}})]),a("v-swatches",{attrs:{swatches:t.swatches,shapes:"circles","row-length":"8","show-border":"","popover-x":"left","popover-y":"top"},model:{value:e.class,callback:function(a){t.$set(e,"class",a)},expression:"tag.class"}}),a("button",{staticClass:"remove-tag",attrs:{type:"button"},on:{click:function(a){return t.removeTag(e,o)}}},[a("i",{staticClass:"fas fa-times"})])],1)}))],2)},Ts=[],As=a("4328"),Ms={name:"editTags",components:{VSwatches:Os.a},props:{},data:function(){return{tags:[],show:!1,swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"],addTag:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_ADDTAG")}},methods:{getTags:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=gettags").then((function(e){t.tags=e.data.data,setTimeout((function(){t.tags.forEach((function(e){t.getHexColors(e)}))}),100)}))},getHexColors:function(t){var e=document.querySelector("."+t.class),a=getComputedStyle(e),o=a.backgroundColor.split("(")[1].split(")")[0].split(",");t.class=this.rgbToHex(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]))},rgbToHex:function(t,e,a){return"#"+((1<<24)+(t<<16)+(e<<8)+a).toString(16).slice(1).toUpperCase()},pushTag:function(){var t=this;this.$emit("LaunchLoading"),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=createtag",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.tags.push(e.data),setTimeout((function(){t.getHexColors(e.data)}),100),t.$emit("StopLoading")}))},removeTag:function(t,e){var a=this;this.$emit("LaunchLoading"),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=deletetag",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:As.stringify({id:t.id})}).then((function(){a.tags.splice(e,1),a.$emit("StopLoading")}))}},created:function(){this.getTags()}},Ss=Ms,ws=(a("aaca"),Object(b["a"])(Ss,Ns,Ts,!1,null,"ac2171a0",null)),Rs=ws.exports,Js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("ModalUpdateImage",{on:{UpdateImage:t.updateView}}),a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.enableBackground,expression:"enableBackground"}],staticClass:"check",attrs:{type:"checkbox","true-value":"1","false-value":"0",id:"home_background",name:"home_background"},domProps:{checked:Array.isArray(t.enableBackground)?t._i(t.enableBackground,null)>-1:t._q(t.enableBackground,"1")},on:{change:[function(e){var a=t.enableBackground,o=e.target,n=o.checked?"1":"0";if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.enableBackground=a.concat([s])):i>-1&&(t.enableBackground=a.slice(0,i).concat(a.slice(i+1)))}else t.enableBackground=n},t.updateBackgroundVisibility]}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",attrs:{for:"home_background"}},[t._v(t._s(t.DisplayBackground))])]),1==t.enableBackground?a("div",{staticClass:"section-sub-menu col-lg-7 col-sm-12",staticStyle:{overflow:"hidden"}},[a("h2",{staticStyle:{margin:"0"}},[t._v(t._s(t.Background))]),a("div",{staticClass:"d-flex"}),a("img",{staticClass:"logo-settings",attrs:{src:t.backgroundLink,alt:t.InsertHeaderImage}}),a("a",{staticClass:"settings-edit-icon cta-block pointer",on:{click:function(e){return t.$modal.show("modalUpdateImage")}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]):t._e(),1==t.enableBackground?a("div",{staticClass:"form-group campaign-label col-lg-7 col-sm-12 mt-2"},[a("label",{attrs:{for:"home_title"}},[t._v(t._s(t.HomeTitle))]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.label[t.actualLanguage],expression:"form.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"mb-0":t.translate.label},attrs:{id:"home_title",name:"home_title",type:"text",maxlength:"100",required:""},domProps:{value:t.form.label[t.actualLanguage]},on:{input:function(e){e.target.composing||t.$set(t.form.label,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.label},attrs:{type:"button"},on:{click:t.enableLabelTranslation}}):t._e()]),t.translate.label?a("translation",{attrs:{label:t.form.label,actualLanguage:t.actualLanguage}}):t._e()],1):t._e(),a("div",{staticClass:"col-md-12 mt-2"},[a("label",{staticClass:"mb-1"},[t._v(t._s(t.HomeContent))]),"0"!==t.manyLanguages?a("ul",{staticClass:"menus-home-row"},t._l(t.languages,(function(e,o){return a("li",{key:o,staticClass:"MenuFormHome"},[a("a",{staticClass:"MenuFormItemHome",class:t.indexHighlight==o?"MenuFormItemHome_current":"",on:{click:function(e){return t.changeTranslation(o)}}},[t._v(" "+t._s(e)+" ")])])})),0):t._e(),0==t.indexHighlight&&null!=this.form.content.fr?a("div",{staticClass:"form-group controls"},[a("editor",{key:t.dynamicComponent,attrs:{height:"30em",text:t.form.content.fr,lang:t.actualLanguage,enable_variables:!1,id:"editor_fr"},model:{value:t.form.content.fr,callback:function(e){t.$set(t.form.content,"fr",e)},expression:"form.content.fr"}})],1):t._e(),1==t.indexHighlight&&null!=this.form.content.en?a("div",{staticClass:"form-group controls"},[a("editor",{key:t.dynamicComponent,attrs:{height:"30em",text:t.form.content.en,lang:t.actualLanguage,enable_variables:!1,id:"editor_en"},model:{value:t.form.content.en,callback:function(e){t.$set(t.form.content,"en",e)},expression:"form.content.en"}})],1):t._e()])],1)},ks=[],Bs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalUpdateImage"}},[a("modal",{attrs:{name:"modalUpdateImage",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateImage")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.updateBackground)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:t.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":t.afterAdded,"vdropzone-thumbnail":t.thumbnail,"vdropzone-removed-file":t.afterRemoved,"vdropzone-complete":t.onComplete,"vdropzone-error":t.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-image"}),t._v(" "+t._s(t.DropHere)+" ")])])],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateImage")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.uploadNewBackground()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])],1)},Is=[],Ls=(a("4328"),function(){return'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n'}),Ps={name:"modalUpdateLogo",props:{},components:{vueDropzone:Xn.a},data:function(){return{dropzoneOptions:{url:"index.php?option=com_emundus_onboard&controller=settings&task=updatehomebackground",maxFilesize:10,maxFiles:1,autoProcessQueue:!1,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,resizeMimeType:"image/png",acceptedFiles:"image/*",previewTemplate:Ls(),dictCancelUpload:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},updateBackground:Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATE_BACKGROUND"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:Joomla.JText._("COM_EMUNDUS_ONBOARD_DROP_HERE"),Error:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},afterAdded:function(){document.getElementById("dropzone-message").style.display="none"},afterRemoved:function(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(t){"success"==t.status&&(this.$emit("UpdateImage",t.dataURL),this.$modal.hide("modalUpdateImage"))},catchError:function(t,e,a){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),text:e,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(t)},thumbnail:function(t,e){var a,o,n,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),n=t.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),a=0,o=n.length;a<o;a++)s=n[a],s.alt=t.name,s.style.backgroundImage='url("'+e+'")';return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadNewBackground:function(){this.$refs.dropzone.processQueue()}}},js=Ps,Fs=(a("4912"),Object(b["a"])(js,Bs,Is,!1,null,"200a5c24",null)),$s=Fs.exports,Gs=a("4328"),Hs={name:"editHomepage",components:{Editor:Jt,ModalUpdateImage:$s,Translation:Wo},props:{actualLanguage:String,manyLanguages:Number},data:function(){return{backgroundLink:"/images/custom/home_background.png",enableBackground:0,dynamicComponent:0,indexHighlight:0,form:{titleColor:"#fff",label:{fr:"",en:""},content:{fr:null,en:null}},languages:["Français","Anglais"],translate:{label:!1},TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),DisplayBackground:Joomla.JText._("COM_EMUNDUS_ONBOARD_DISPLAY_BACKGROUND"),Background:Joomla.JText._("COM_EMUNDUS_ONBOARD_BACKGROUND"),HomeTitle:Joomla.JText._("COM_EMUNDUS_ONBOARD_HOME_TITLE"),HomeContent:Joomla.JText._("COM_EMUNDUS_ONBOARD_HOME_CONTENT"),InsertHeaderImage:Joomla.JText._("COM_EMUNDUS_ONBOARD_INSERT_HEADER_IMAGE")}},methods:{updateView:function(t){this.backgroundLink=t,this.$forceUpdate()},getArticle:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=gethomepagearticle").then((function(e){t.form.content.fr=e.data.data.introtext,t.form.content.en=e.data.data.introtext_en,"fr"==t.actualLanguage?t.indexHighlight=0:t.indexHighlight=1}))},changeTranslation:function(t){this.indexHighlight=t,this.dynamicComponent++},getBackground:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getbackgroundoption").then((function(e){t.enableBackground=e.data.data;var a=e.data.content,o=new DOMParser,n=o.parseFromString(a,"text/html");"undefined"!=typeof n.getElementsByClassName("welcome-message")[0]&&(t.form.label.fr=n.getElementsByClassName("welcome-message")[0].textContent)}))},updateBackgroundVisibility:function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatebackgroundmodule",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Gs.stringify({published:this.enableBackground})})},enableLabelTranslation:function(){this.translate.label=!this.translate.label,this.translate.label&&setTimeout((function(){document.getElementById("label_en").focus()}),100)}},created:function(){this.getArticle(),this.getBackground()}},zs=Hs,qs=(a("02ef"),Object(b["a"])(zs,Js,ks,!1,null,"f66de4c4",null)),Vs=qs.exports,Ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),a("ModalUpdateLogo",{on:{UpdateLogo:t.updateView}}),a("ModalUpdateIcon",{on:{UpdateIcon:t.updateIcon}}),a("ModalUpdateColors",{on:{UpdateColors:t.updateColors}}),a("div",{staticClass:"section-sub-menu col-lg-5 mr-2 col-sm-12"},[a("h2",{staticStyle:{margin:"0"}},[t._v("Logo")]),a("div",{staticClass:"d-flex"}),a("img",{staticClass:"logo-settings",attrs:{src:t.imageLink,alt:t.InsertLogo}}),a("a",{staticClass:"settings-edit-icon cta-block pointer",on:{click:function(e){return t.$modal.show("modalUpdateLogo")}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{staticClass:"section-sub-menu col-lg-5 col-sm-12"},[a("h2",{staticStyle:{margin:"0"}},[t._v(t._s(t.Icon))]),a("div",{staticClass:"d-flex"}),a("img",{staticClass:"logo-settings",attrs:{src:t.iconLink,alt:t.InsertIcon}}),a("a",{staticClass:"settings-edit-icon cta-block pointer",staticStyle:{top:"20px"},on:{click:t.removeIcon}},[a("em",{staticClass:"fas fa-times",attrs:{"data-toggle":"tooltip","data-placement":"top"}})]),a("a",{staticClass:"settings-edit-icon cta-block pointer",on:{click:function(e){return t.$modal.show("modalUpdateIcon")}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{staticClass:"section-sub-menu col-lg-5 col-sm-12 mt-2"},[a("h2",{staticStyle:{margin:"0"}},[t._v(t._s(t.Colors))]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"color-preset",style:"background-color:"+t.primary+";border-right: 30px solid"+t.secondary}),a("a",{staticClass:"settings-edit-icon cta-block pointer",on:{click:function(e){return t.$modal.show("modalUpdateColors")}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])])],1)},Qs=[],Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalUpdateLogo"}},[a("modal",{attrs:{name:"modalUpdateLogo",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateLogo")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.updateLogo)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:t.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":t.afterAdded,"vdropzone-thumbnail":t.thumbnail,"vdropzone-removed-file":t.afterRemoved,"vdropzone-complete":t.onComplete,"vdropzone-error":t.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-image"}),t._v(" "+t._s(t.DropHere)+" ")])])],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateLogo")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.uploadNewLogo()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])],1)},Ks=[],Ws=(a("4328"),function(){return'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n'}),Zs={name:"modalUpdateLogo",props:{},components:{vueDropzone:Xn.a},data:function(){return{dropzoneOptions:{url:"index.php?option=com_emundus_onboard&controller=settings&task=updatelogo",maxFilesize:10,maxFiles:1,autoProcessQueue:!1,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,resizeMimeType:"image/png",acceptedFiles:"image/*",previewTemplate:Ws(),dictCancelUpload:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},updateLogo:Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATE_LOGO"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:Joomla.JText._("COM_EMUNDUS_ONBOARD_DROP_HERE"),Error:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},afterAdded:function(){document.getElementById("dropzone-message").style.display="none"},afterRemoved:function(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(t){"success"==t.status&&(this.$emit("UpdateLogo",t.dataURL),this.$modal.hide("modalUpdateLogo"))},catchError:function(t,e,a){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),text:e,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(t)},thumbnail:function(t,e){var a,o,n,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),n=t.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),a=0,o=n.length;a<o;a++)s=n[a],s.alt=t.name,s.style.backgroundImage='url("'+e+'")';return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadNewLogo:function(){this.$refs.dropzone.processQueue()}}},ti=Zs,ei=(a("4ff4"),Object(b["a"])(ti,Xs,Ks,!1,null,"0f331ae1",null)),ai=ei.exports,oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalUpdateIcon"}},[a("modal",{attrs:{name:"modalUpdateIcon",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateIcon")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.updateIcon)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"customdropzone","include-styling":!1,options:t.dropzoneOptions,useCustomSlot:!0},on:{"vdropzone-file-added":t.afterAdded,"vdropzone-thumbnail":t.thumbnail,"vdropzone-removed-file":t.afterRemoved,"vdropzone-complete":t.onComplete,"vdropzone-error":t.catchError}},[a("div",{staticClass:"dropzone-custom-content",attrs:{id:"dropzone-message"}},[a("em",{staticClass:"fas fa-file-image"}),t._v(" "+t._s(t.DropHere)+" ")])])],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateIcon")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.uploadNewLogo()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])],1)},ni=[],si=(a("4328"),function(){return'\n<div class="dz-preview dz-file-preview">\n  <div class="dz-image">\n    <div data-dz-thumbnail-bg></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n</div>\n'}),ii={name:"modalUpdateIcon",props:{},components:{vueDropzone:Xn.a},data:function(){return{dropzoneOptions:{url:"index.php?option=com_emundus_onboard&controller=settings&task=updateicon",maxFilesize:10,maxFiles:1,autoProcessQueue:!1,addRemoveLinks:!0,thumbnailWidth:null,thumbnailHeight:null,resizeMimeType:"image/png",acceptedFiles:"image/*",previewTemplate:si(),dictCancelUpload:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD"),dictCancelUploadConfirmation:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL_UPLOAD_CONFIRMATION"),dictRemoveFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_FILE"),dictInvalidFileType:Joomla.JText._("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE"),dictFileTooBig:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE_TOO_BIG"),dictMaxFilesExceeded:Joomla.JText._("COM_EMUNDUS_ONBOARD_MAX_FILES_EXCEEDED")},updateIcon:Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATE_ICON"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),DropHere:Joomla.JText._("COM_EMUNDUS_ONBOARD_DROP_HERE"),Error:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},afterAdded:function(){document.getElementById("dropzone-message").style.display="none"},afterRemoved:function(){0===this.$refs.dropzone.getAcceptedFiles().length&&(document.getElementById("dropzone-message").style.display="block")},onComplete:function(t){"success"==t.status&&(this.$emit("UpdateIcon",t.dataURL),this.$modal.hide("modalUpdateIcon"))},catchError:function(t,e,a){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR"),text:e,type:"error",showCancelButton:!1,showConfirmButton:!1,timer:3e3}),this.$refs.dropzone.removeFile(t)},thumbnail:function(t,e){var a,o,n,s;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),n=t.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),a=0,o=n.length;a<o;a++)s=n[a],s.alt=t.name,s.style.backgroundImage='url("'+e+'")';return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadNewLogo:function(){this.$refs.dropzone.processQueue()}}},ri=ii,li=(a("946e"),Object(b["a"])(ri,oi,ni,!1,null,"508cafe1",null)),ci=li.exports,di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalUpdateColors"}},[a("modal",{attrs:{name:"modalUpdateColors",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalUpdateColors")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.updateColors)+" ")])])]),a("div",{staticClass:"modalC-content"},t._l(t.presets,(function(e){return a("div",{staticClass:"preset-presentation",style:"background-color:"+e.primary+";border-right: 100px solid"+e.secondary,on:{click:function(a){return t.changeColors(e)}}})})),0)])],1)},ui=[],mi=a("4328"),pi={name:"modalUpdateColors",props:{},components:{},data:function(){return{presets:[{primary:"#1b1f3c",secondary:"#de6339"},{primary:"#DA3832",secondary:"#204382"},{primary:"#727378",secondary:"#A0BD51"},{primary:"#727378",secondary:"#000000"},{primary:"#000000",secondary:"#5AA6DC"},{primary:"#A0BD51",secondary:"#204382"}],updateColors:Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATE_COLORS"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Error:Joomla.JText._("COM_EMUNDUS_ONBOARD_ERROR")}},methods:{changeColors:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatecolor",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:mi.stringify({preset:t})}).then((function(a){e.$emit("UpdateColors",t),e.$modal.hide("modalUpdateColors")}))}}},_i=pi,fi=(a("e55b"),Object(b["a"])(_i,di,ui,!1,null,"03ca3722",null)),gi=fi.exports,hi=(a("4328"),{name:"editStyle",components:{ModalUpdateColors:gi,ModalUpdateIcon:ci,ModalUpdateLogo:ai,VSwatches:Os.a},props:{actualLanguage:String},data:function(){return{imageLink:"/images/custom/logo.png",iconLink:"/images/custom/favicon.png",primary:"",secondary:"",swatches:["#DCC6E0","#947CB0","#663399","#6BB9F0","#19B5FE","#013243","#7BEFB2","#3FC380","#1E824C","#FFFD7E","#FFFD54","#F7CA18","#FABE58","#E87E04","#D35400","#EC644B","#CF000F","#E5283B","#E08283","#D2527F","#DB0A5B","#999999"],changes:!1,PrimaryColor:Joomla.JText._("COM_EMUNDUS_ONBOARD_PRIMARY_COLOR"),SecondaryColor:Joomla.JText._("COM_EMUNDUS_ONBOARD_SECONDARY_COLOR"),Colors:Joomla.JText._("COM_EMUNDUS_ONBOARD_COLORS"),Icon:Joomla.JText._("COM_EMUNDUS_ONBOARD_ICON"),InsertLogo:Joomla.JText._("COM_EMUNDUS_ONBOARD_INSERT_LOGO"),InsertIcon:Joomla.JText._("COM_EMUNDUS_ONBOARD_INSERT_ICON")}},methods:{updateView:function(t){this.imageLink=t,this.$forceUpdate()},updateIcon:function(t){this.iconLink=t,this.$forceUpdate()},updateColors:function(t){this.primary=t.primary,this.secondary=t.secondary},removeIcon:function(){var t=this;it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_ICON"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_REMOVE_ICON_TEXT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#12db42",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(e){e.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=removeicon",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){t.iconLink="",t.$forceUpdate()}))}))},tip:function(){this.show("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),Joomla.JText._("COM_EMUNDUS_ONBOARD_COLOR_SUCCESS"))},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:t,title:"".concat(a),text:e,duration:3e3})},clean:function(t){this.$notify({group:t,clean:!0})}},created:function(){var t=this;this.changes=!1,c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=getappcolors"}).then((function(e){t.primary=e.data.primary,t.secondary=e.data.secondary,setTimeout((function(){t.changes=!0}),1e3)}))}}),bi=hi,vi=(a("e45c"),Object(b["a"])(bi,Ys,Qs,!1,null,"7ef8d8d0",null)),Ci=vi.exports,Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),a("ModalAddDatas",{attrs:{actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{updateDatabases:t.getDatabases}}),a("ModalImportDatas",{on:{updateDatabases:t.getDatabases}}),a("div",{staticClass:"d-flex"},[a("a",{staticClass:"bouton-ajouter-green bouton-ajouter pointer mr-1",staticStyle:{width:"max-content"},on:{click:function(e){return t.$modal.show("modalAddDatas")}}},[a("div",{staticClass:"add-button-div"},[a("em",{staticClass:"fas fa-plus mr-1"}),t._v(" "+t._s(t.CreateDatas)+" ")])]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return t.$modal.show("modalImportDatas")}}},[t._v(" "+t._s(t.ImportDatas)+" ")])]),a("div",{staticClass:"mt-1"},t._l(t.databases,(function(e,o){return a("div",{staticClass:"db-table"},[a("div",{staticClass:"db-item",class:[o==t.indexOpen?"down-arrow":"right-arrow"],on:{click:function(a){return t.getDatas(e.database_name,o)}}},[a("h3",[t._v(t._s(e.label))]),a("p",[t._v(t._s(e.description))])]),a("transition",{attrs:{name:"slide-down",type:"transition"}},[o==t.indexOpen?a("div",{staticClass:"mt-1"},[a("table",{staticClass:"db-description"},[a("tr",{staticClass:"db-columns"},t._l(t.datas.columns,(function(e,o){return a("th",{attrs:{id:"column_"+e}},[t._v(t._s(e))])})),0),t._l(t.datas.datas,(function(e,o){return a("tr",{staticClass:"db-values"},t._l(e,(function(e){return a("th",[t._v(t._s(e))])})),0)}))],2)]):t._e()])],1)})),0),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):t._e()],1)},Di=[],Ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAddDatas"}},[a("modal",{attrs:{name:"modalAddDatas",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddDatas")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.CreateDatasTable)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Name)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.label,expression:"form.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.label},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:t.form.label},on:{input:function(e){e.target.composing||t.$set(t.form,"label",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Description)+" :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.desc,expression:"form.desc"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{maxlength:"150"},domProps:{value:t.form.desc},on:{input:function(e){e.target.composing||t.$set(t.form,"desc",e.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[t._v(t._s(t.Values)+" :")]),a("button",{staticClass:"add-option",on:{click:function(e){return e.preventDefault(),t.add(e)}}},[t._v("+")])]),a("div",{staticClass:"col-md-12"},t._l(t.form.db_values,(function(e,o){return a("div",{key:o,staticClass:"dpflex"},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.db_values[o][t.actualLanguage],expression:"form.db_values[i][actualLanguage]"}],staticClass:"form__input field-general w-input db-values",attrs:{type:"text",id:"values_fr_"+o},domProps:{value:t.form.db_values[o][t.actualLanguage]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},input:function(e){e.target.composing||t.$set(t.form.db_values[o],t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.form.db_values[o].translate},attrs:{type:"button",title:t.Translate},on:{click:function(e){t.form.db_values[o].translate=!t.form.db_values[o].translate}}}):t._e()]),t.form.db_values[o].translate?a("translation",{attrs:{label:t.form.db_values[o],actualLanguage:t.actualLanguage}}):t._e(),a("button",{staticClass:"remove-option",on:{click:function(e){return e.preventDefault(),t.leave(o)}}},[t._v("-")])],1)})),0)]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAddDatas")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.saveDatas()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])],1)},xi=[],yi=a("4328"),Ui={name:"modalAddDatas",props:{actualLanguage:String,manyLanguages:Number},components:{Translation:Wo},data:function(){return{form:{label:"",desc:"",db_values:[]},errors:{label:!1},Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME"),Translate:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Values:Joomla.JText._("COM_EMUNDUS_ONBOARD_VALUES"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),CreateDatasTable:Joomla.JText._("COM_EMUNDUS_ONBOARD_CREATE_DATAS"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},add:Mt.a.debounce((function(){var t=Object.keys(this.form.db_values).length;this.$set(this.form.db_values,t,{fr:"",en:"",translate:!1});var e="values_fr_"+t.toString();setTimeout((function(){document.getElementById(e).focus()}),100)}),150),leave:function(t){this.$delete(this.form.db_values,t)},saveDatas:function(){var t=this;if(this.errors={label:!1},""==this.form.label)return this.errors.label=!0,!1;this.form.db_values.forEach((function(t){t.translate||(t.en=t.fr)})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=savedatas",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:yi.stringify({form:this.form})}).then((function(){t.$emit("updateDatabases"),t.$modal.hide("modalAddDatas")}))}}},Ni=Ui,Ti=(a("a592"),Object(b["a"])(Ni,Ei,xi,!1,null,"4ca3ebf0",null)),Ai=Ti.exports,Mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalImportDatas"}},[a("modal",{attrs:{name:"modalImportDatas",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalImportDatas")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.ImportDatasTable)+" ")])])]),a("div",{staticClass:"modalC-content"},[t.importCSV?t._e():a("div",[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Name)+" :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.label,expression:"form.label"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors.label},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:t.form.label},on:{input:function(e){e.target.composing||t.$set(t.form,"label",e.target.value)}}}),t.errors.label?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.NameRequired))])]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.Description)+" :")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.desc,expression:"form.desc"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{maxlength:"150"},domProps:{value:t.form.desc},on:{input:function(e){e.target.composing||t.$set(t.form,"desc",e.target.value)}}})]),a("div",{staticClass:"col-md-8 flex"},[a("label",{staticClass:"require col-md-3"},[t._v(t._s(t.Columns)+" :")]),a("button",{staticClass:"add-option",on:{click:function(e){return e.preventDefault(),t.add(e)}}},[t._v("+")])]),a("div",{staticClass:"col-md-12"},[t._l(t.form.db_columns,(function(e,o){return a("div",{key:o,staticClass:"dpflex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.db_columns[o],expression:"form.db_columns[i]"}],staticClass:"form__input field-general w-input db-values",attrs:{type:"text",id:"columns_"+o},domProps:{value:t.form.db_columns[o]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)},input:function(e){e.target.composing||t.$set(t.form.db_columns,o,e.target.value)}}}),a("button",{staticClass:"remove-option",on:{click:function(e){return e.preventDefault(),t.leave(o)}}},[t._v("-")])])})),t.errors.db_columns?a("p",{staticClass:"error"},[a("span",{staticClass:"error"},[t._v(t._s(t.LeastOneColumnRequired))])]):t._e()],2)]),t.importCSV?a("vue-csv-import",{key:t.csv_comp,ref:"csvimport",attrs:{"map-fields":t.form.db_columns,tableSelectClass:"dropdown-toggle",tableClass:"custom-table-csv"},scopedSlots:t._u([{key:"hasHeaders",fn:function(e){var o=e.headers,n=e.toggle;return[a("label",{staticStyle:{display:"none"}},[a("input",{attrs:{type:"checkbox",id:"hasHeaders"},domProps:{value:o},on:{change:n}}),t._v(" Headers? ")])]}},{key:"next",fn:function(e){var o=e.load;return[a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{float:"left"},on:{click:function(t){return t.preventDefault(),o(t)}}},[t._v(t._s(t.Load))])]}},{key:"submit",fn:function(e){var o=e.submit;return[a("button",{on:{click:function(t){return t.preventDefault(),o(t)}}},[t._v("send!")])]}}],null,!1,4183550045),model:{value:t.csv,callback:function(e){t.csv=e},expression:"csv"}},[a("template",{slot:"error"},[t._v(" "+t._s(t.FileTypeInvalid)+" ")]),a("template",{slot:"thead"},[a("p",{staticStyle:{"margin-top":"2em",width:"max-content"}},[t._v(t._s(t.CSVAssociate))]),a("tr",[a("th",[t._v(t._s(t.MyColumns))]),a("th",[t._v(t._s(t.CSVColumns))])])])],2):t._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.saveDatas()}}},[t._v(" "+t._s(t.Continuer)+" ")])])])],1)},Si=[],wi=a("7d8b"),Ri=a("4328"),Ji={name:"modalImportDatas",props:{},components:{VueCsvImport:wi["VueCsvImport"]},data:function(){return{form:{label:"",desc:"",db_columns:[]},errors:{label:!1,db_columns:!1},csv:null,csv_comp:0,importCSV:!1,Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME"),NameRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME_REQUIRED"),Translate:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Columns:Joomla.JText._("COM_EMUNDUS_ONBOARD_COLUMNS"),Description:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION"),ImportDatasTable:Joomla.JText._("COM_EMUNDUS_ONBOARD_IMPORT_DATAS"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_NEXT"),Load:Joomla.JText._("COM_EMUNDUS_ONBOARD_LOAD_FILE"),MyColumns:Joomla.JText._("COM_EMUNDUS_ONBOARD_MY_COLUMNS"),CSVColumns:Joomla.JText._("COM_EMUNDUS_ONBOARD_CSV_COLUMNS"),CSVAssociate:Joomla.JText._("COM_EMUNDUS_ONBOARD_CSV_ASSOCIATION"),LeastOneColumnRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_LEAST_ONE_COLUMN_REQUIRED"),FileTypeInvalid:Joomla.JText._("COM_EMUNDUS_ONBOARD_INVALID_FILE_TYPE")}},methods:{beforeClose:function(t){},beforeOpen:function(t){},goBack:function(){this.importCSV?this.importCSV=!1:this.$modal.hide("modalImportDatas")},add:Mt.a.debounce((function(){var t=Object.keys(this.form.db_columns).length;this.$set(this.form.db_columns,t,"");var e="columns_"+t.toString();setTimeout((function(){document.getElementById(e).focus()}),100)}),150),leave:function(t){this.$delete(this.form.db_columns,t)},saveDatas:function(){var t=this;return this.errors={label:!1,db_columns:!1},""==this.form.label?(this.errors.label=!0,!1):0==this.form.db_columns.length?(this.errors.db_columns=!0,!1):void(this.importCSV?c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=saveimporteddatas",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Ri.stringify({form:this.form,datas:this.csv})}).then((function(){t.$emit("updateDatabases"),t.$modal.hide("modalImportDatas")})):(this.importCSV=!0,this.csv_comp+=1))}}},ki=Ji,Bi=(a("6d71"),Object(b["a"])(ki,Mi,Si,!1,null,"3737c766",null)),Ii=Bi.exports,Li=a("4328"),Pi={name:"editDatas",components:{ModalAddDatas:Ai,ModalImportDatas:Ii},props:{actualLanguage:String,manyLanguages:Number},data:function(){return{databases:[],datas:{columns:[],datas:[]},indexOpen:-1,loading:!1,CreateDatas:Joomla.JText._("COM_EMUNDUS_ONBOARD_CREATE_DATAS"),ImportDatas:Joomla.JText._("COM_EMUNDUS_ONBOARD_IMPORT_DATAS"),UpdateDatas:Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATE_DATAS")}},methods:{getDatabases:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getdatabasesjoin"}).then((function(e){t.databases=e.data.data}))},getDatas:function(t,e){var a=this;e==this.indexOpen?this.indexOpen=-1:(this.loading=!0,this.indexOpen=e,this.datas={columns:[],datas:[]},c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=getdatasfromtable",params:{db:t},paramsSerializer:function(t){return Li.stringify(t)}}).then((function(t){a.loading=!1,a.datas.datas=t.data.data,a.datas.columns=Object.keys(a.datas.datas[0])})))},tip:function(){this.show("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),Joomla.JText._("COM_EMUNDUS_ONBOARD_COLOR_SUCCESS"))},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:t,title:"".concat(a),text:e,duration:3e3})},clean:function(t){this.$notify({group:t,clean:!0})}},created:function(){this.getDatabases()},watch:{}},ji=Pi,Fi=(a("18bf"),Object(b["a"])(ji,Oi,Di,!1,null,null,null)),$i=Fi.exports,Gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("ModalAddUser",{attrs:{group:this.group,coordinatorAccess:1,userManage:1},on:{UpdateUsers:t.getUsers}}),a("button",{staticClass:"create-user-admin__button bouton-sauvergarder-et-continuer-3",on:{click:function(e){return t.$modal.show("modalAddUser")}}},[t._v(t._s(t.addUser))]),a("div",{staticClass:"mt-1",attrs:{id:"blocked_filter"}},[a("div",{staticClass:"d-flex mr-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.block,expression:"block"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.block)?t._i(t.block,null)>-1:t.block},on:{change:function(e){var a=t.block,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.block=a.concat([s])):i>-1&&(t.block=a.slice(0,i).concat(a.slice(i+1)))}else t.block=n}}}),a("p",[t._v(t._s(t.BlockedUsers))])]),a("div",{staticClass:"d-flex mt-1"},[a("div",{staticClass:"d-flex"},[a("p",{staticClass:"mb-0 mr-1",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(t.Program)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchProgram,expression:"searchProgram"}],staticClass:"dropdown-toggle",staticStyle:{"min-width":"80%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchProgram=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"-1"}}),t._l(t.programs,(function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.label))])}))],2)]),a("div",{staticClass:"d-flex",staticStyle:{"margin-left":"5em"}},[a("p",{staticClass:"mb-0 mr-1",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(t.Role)+" : ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchRole,expression:"searchRole"}],staticClass:"dropdown-toggle",staticStyle:{"min-width":"80%"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchRole=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"-1"}}),a("option",{attrs:{value:"5"}},[t._v(t._s(t.Administrator))]),a("option",{attrs:{value:"6"}},[t._v(t._s(t.Evaluator))])])])])]),a("table-component",{key:t.table_users,ref:"table",attrs:{data:t.fetchData,"sort-by":"name","sort-order":"asc","show-caption":"false","filter-placeholder":t.Search+"...","filter-no-results":t.NoResultsFound}},[a("table-column",{attrs:{show:"id",label:"ID","data-type":"numeric",hidden:""}}),a("table-column",{attrs:{show:"name",label:t.Name}}),a("table-column",{attrs:{show:"email",label:t.Email}}),a("table-column",{attrs:{show:"profile",label:t.Role,formatter:t.roleFormatter}}),a("table-column",{attrs:{show:"lastvisitDate",label:t.LastConnected,filterable:!1,"data-type":"date:DD/MM/YYYY"}}),a("table-column",{attrs:{show:"block",label:t.Status,filterable:!1,formatter:t.statusFormatter}}),a("table-column",{attrs:{label:t.Actions,sortable:!1,filterable:!1,"cell-class":"user-list__actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.block?a("a",{attrs:{title:t.LockUser},on:{click:function(a){return t.lockUser(e.id)}}},[a("i",{staticClass:"fas fa-unlock user-unlock__icon"})]):t._e(),1==e.block?a("a",{attrs:{title:t.UnlockUser},on:{click:function(a){return t.unlockUser(e.id)}}},[a("i",{staticClass:"fas fa-lock user-lock__icon"})]):t._e(),a("a",{attrs:{title:t.ResetPassword},on:{click:function(a){return t.resetPassword(e.id,e.name)}}},[a("i",{staticClass:"fas fa-redo"})])]}}])})],1),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},Hi=[],zi=a("4328"),qi={name:"editUsers",components:{ModalAddUser:oe},props:{actualLanguage:String},data:function(){return{options:{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},loading:!1,tableUsers:0,users:[],programs:[],filters:{block:!1,searchProgram:-1,searchRole:-1},pagination:{currentPage:0,totalPages:1},block:!1,searchProgram:-1,searchRole:-1,table_users:0,Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_LASTNAME"),Email:Joomla.JText._("COM_EMUNDUS_ONBOARD_EMAIL"),LastConnected:Joomla.JText._("COM_EMUNDUS_ONBOARD_LAST_CONNECTED"),Status:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOSSIERS_STATUS"),Search:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEARCH"),Activated:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIVATED"),Blocked:Joomla.JText._("COM_EMUNDUS_ONBOARD_BLOCKED"),NoResultsFound:Joomla.JText._("COM_EMUNDUS_ONBOARD_NO_RESULTS_FOUND"),Actions:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS"),addUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADDUSER"),LockUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_LOCK_USER"),UnlockUser:Joomla.JText._("COM_EMUNDUS_ONBOARD_UNLOCK_USER"),ResetPassword:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESET_PASSWORD"),BlockedUsers:Joomla.JText._("COM_EMUNDUS_ONBOARD_BLOCKED_USERS"),Program:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PROGRAM"),Role:Joomla.JText._("COM_EMUNDUS_ONBOARD_ROLE"),Administrator:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_ADMINISTRATOR"),Evaluator:Joomla.JText._("COM_EMUNDUS_ONBOARD_PROGRAM_EVALUATOR")}},methods:{fetchData:function(t){var e=this,a=t.page;return new Promise((function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getusers",params:{filters:e.filters,page:{page:a}},paramsSerializer:function(t){return zi.stringify(t)}}).then((function(e){return t({data:e.data.data.users,pagination:{totalPages:e.data.data.users_count/10,currentPage:a,count:e.data.data.users_count}})}))}))},getUsers:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getusers",params:{filters:this.filters},paramsSerializer:function(t){return zi.stringify(t)}}).then((function(e){t.users=e.data.data.users,t.users.forEach((function(e,a){e.lastvisitDate=new Date(e.lastvisitDate).toLocaleDateString(t.actualLanguage,t.options)})),document.getElementsByClassName("table-component__filter")[0].append(document.getElementById("blocked_filter")),t.$refs.table.refresh()}))},getProgramsList:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=program&task=getallprogram",params:{filter:"",sort:"",recherche:"",lim:100,page:1},paramsSerializer:function(t){return zi.stringify(t)}}).then((function(e){t.programs=e.data.data}))},unlockUser:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=unlockuser",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:zi.stringify({user:t})}).then((function(a){1==a.data.status&&(e.users.find((function(e){return e.id==t})).block=0,e.$refs.table.refresh())}))},lockUser:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=lockuser",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:zi.stringify({user:t})}).then((function(a){1==a.data.status&&(e.users.find((function(e){return e.id==t})).block=1,e.$refs.table.refresh())}))},resetPassword:function(t,e){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESET_PASSWORD"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_RESET_PASSWORD_MESSAGE")+e,type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(e){e.value&&c()({method:"post",url:"index.php?option=com_emundus&controller=users&task=regeneratepassword",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:zi.stringify({user:t})}).then((function(t){console.log(t),it.a.fire({text:t.data.msg,type:"success",showCancelButton:!1,showConfirmButton:!1,confirmButtonColor:"#de6339",timer:2e3})}))}))},showInfos:function(t){console.log(t)},statusFormatter:function(t,e){return 0==t?'<i class="fas fa-check-circle activated col-md-2"></i><span class="ml-10px">'+this.Activated+"</span>":'<i class="fas fa-minus-circle blocked col-md-2"></i><span class="ml-10px">'+this.Blocked+"</span>"},roleFormatter:function(t,e){return 5==t?"<span>"+this.Administrator+"</span>":"<span>"+this.Evaluator+"</span>"}},created:function(){this.getUsers(),this.getProgramsList()},watch:{block:function(t){this.filters.block=t,this.getUsers()},searchProgram:function(t){this.filters.searchProgram=t,this.getUsers()},searchRole:function(t){this.filters.searchRole=t,this.getUsers()}}},Vi=qi,Yi=(a("1a8f"),Object(b["a"])(Vi,Gi,Hi,!1,null,null,null)),Qi=Yi.exports,Xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},["0"!==t.manyLanguages?a("ul",{staticClass:"menus-home-row"},t._l(t.languages,(function(e,o){return a("li",{key:o,staticClass:"MenuFormHome"},[a("a",{staticClass:"MenuFormItemHome",class:t.indexHighlight==o?"MenuFormItemHome_current":"",on:{click:function(e){return t.changeTranslation(o)}}},[t._v(" "+t._s(e)+" ")])])})),0):t._e(),0==t.indexHighlight&&null!=this.form.content.fr?a("div",{staticClass:"form-group controls",staticStyle:{"margin-top":"5em"}},[a("editor",{key:t.dynamicComponent,attrs:{height:"30em",text:t.form.content.fr,lang:t.actualLanguage,enable_variables:!1,id:"editor_fr"},model:{value:t.form.content.fr,callback:function(e){t.$set(t.form.content,"fr",e)},expression:"form.content.fr"}})],1):t._e(),1==t.indexHighlight&&null!=this.form.content.en?a("div",{staticClass:"form-group controls",staticStyle:{"margin-top":"5em"}},[a("editor",{key:t.dynamicComponent,attrs:{height:"30em",text:t.form.content.en,lang:t.actualLanguage,enable_variables:!1,id:"editor_en"},model:{value:t.form.content.en,callback:function(e){t.$set(t.form.content,"en",e)},expression:"form.content.en"}})],1):t._e()])},Ki=[],Wi=(a("4328"),{name:"editCGV",components:{Editor:Jt},props:{actualLanguage:String,manyLanguages:Number},data:function(){return{dynamicComponent:0,indexHighlight:0,form:{content:{fr:null,en:null}},languages:["Français","Anglais"],TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH")}},methods:{getArticle:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getcgvarticle").then((function(e){t.form.content.fr=e.data.data.introtext,t.form.content.en=e.data.data.introtext_en,"fr"==t.actualLanguage?t.indexHighlight=0:t.indexHighlight=1}))},changeTranslation:function(t){this.indexHighlight=t,this.dynamicComponent++}},created:function(){this.getArticle()}}),Zi=Wi,tr=Object(b["a"])(Zi,Xi,Ki,!1,null,"4263db56",null),er=tr.exports,ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("ul",{staticClass:"menus-home-row"},t._l(t.columns,(function(e,o){return a("li",{key:o,staticClass:"MenuFormHome"},[a("a",{staticClass:"MenuFormItemHome",class:t.indexHighlight==o?"MenuFormItemHome_current":"",on:{click:function(e){return t.changeColumn(o)}}},[t._v(" "+t._s(e)+" ")])])})),0),0==t.indexHighlight&&null!=this.form.content.col1?a("div",{staticClass:"form-group controls"},[a("editor",{key:t.dynamicComponent,attrs:{height:"30em",text:t.form.content.col1,lang:t.actualLanguage,enable_variables:!1,id:"editor_fr"},model:{value:t.form.content.col1,callback:function(e){t.$set(t.form.content,"col1",e)},expression:"form.content.col1"}})],1):t._e(),1==t.indexHighlight&&null!=this.form.content.col2?a("div",{staticClass:"form-group controls"},[a("editor",{key:t.dynamicComponent,attrs:{height:"30em",text:t.form.content.col2,lang:t.actualLanguage,enable_variables:!1,id:"editor_en"},model:{value:t.form.content.col2,callback:function(e){t.$set(t.form.content,"col2",e)},expression:"form.content.col2"}})],1):t._e()])},or=[],nr=(a("4328"),{name:"editFooter",components:{Editor:Jt},props:{actualLanguage:String},data:function(){return{dynamicComponent:0,indexHighlight:0,form:{content:{col1:null,col2:null}},columns:[Joomla.JText._("COM_EMUNDUS_ONBOARD_COLUMN")+" 1",Joomla.JText._("COM_EMUNDUS_ONBOARD_COLUMN")+" 2"],TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH")}},methods:{getArticles:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getfooterarticles").then((function(e){t.form.content.col1=e.data.data.column1.content,t.form.content.col2=e.data.data.column2.content}))},changeColumn:function(t){this.indexHighlight=t,this.dynamicComponent++}},created:function(){this.getArticles()}}),sr=nr,ir=Object(b["a"])(sr,ar,or,!1,null,"6392f89c",null),rr=ir.exports,lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation",staticStyle:{width:"auto"}},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{float:"left"},attrs:{type:"button"},on:{click:function(e){return t.rewind()}}},[t._v(t._s(t.REWINDTUTORIAL))])])},cr=[],dr=(a("4328"),{name:"helpSettings",props:{actualLanguage:String,manyLanguages:Number},data:function(){return{REWINDTUTORIAL:Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_REWIND")}},methods:{rewind:function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=rewindtutorial",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){it.a.fire({backdrop:!0,title:Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_REWIND"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_TUTORIAL_REWIND_SUCCESS"),showConfirmButton:!0,timer:5e3})}))}}}),ur=dr,mr=Object(b["a"])(ur,lr,cr,!1,null,"93c1dec0",null),pr=mr.exports,_r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-evaluation"},[a("div",{staticClass:"section-sub-menu sub-form"},[a("div",{staticClass:"container-2 w-container",staticStyle:{"max-width":"unset"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"tchooz-icon-title",attrs:{src:"/images/emundus/menus/megaphone.svg",alt:"megaphone"}}),a("h1",{staticClass:"tchooz-section-titles"},[t._v(t._s(t.Applicants))])]),a("p",{staticClass:"mt-1"},[t._v(t._s(t.Desc))])])]),t._l(t.params,(function(e,o){return a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"param_"+o}},[t._v(t._s(e.label))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"param.value"}],staticClass:"dropdown-toggle w-select",staticStyle:{"margin-bottom":"0"},attrs:{id:"param_"+o},on:{change:[function(a){var o=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"value",a.target.multiple?o:o[0])},function(a){return t.saveEmundusParam(e)}]}},t._l(e.options,(function(e,o){return a("option",{domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)])}))],2)},fr=[],gr=a("4328"),hr={name:"editApplicants",components:{VSwatches:Os.a},props:{},data:function(){return{params:{applicant_can_renew:{label:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_CAN_RENEW"),param:"applicant_can_renew",options:[{label:Joomla.JText._("JNO"),value:0},{label:Joomla.JText._("JYES"),value:1},{label:Joomla.JText._("COM_EMUNDUS_APPLICANT_CAN_RENEW_CAMPAIGN"),value:2},{label:Joomla.JText._("COM_EMUNDUS_APPLICANT_CAN_RENEW_YEAR"),value:3}],value:0},can_edit_until_deadline:{label:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_CAN_EDIT_UNTIL_DEADLINE"),param:"can_edit_until_deadline",options:[{label:Joomla.JText._("JNO"),value:0},{label:Joomla.JText._("JYES"),value:1}],value:0},copy_application_form:{label:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_COPY_APPLICATION_FORM"),param:"copy_application_form",options:[{label:Joomla.JText._("JNO"),value:0},{label:Joomla.JText._("JYES"),value:1}],value:0},can_submit_encrypted:{label:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANT_CAN_SUBMIT_ENCRYPTED"),param:"can_submit_encrypted",options:[{label:Joomla.JText._("JNO"),value:0},{label:Joomla.JText._("JYES"),value:1}],value:0}},config:{},Desc:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANTS_DESC"),Applicants:Joomla.JText._("COM_EMUNDUS_ONBOARD_SETTINGS_APPLICANTS")}},methods:{getEmundusParams:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=settings&task=getemundusparams").then((function(e){t.config=e.data.config,t.params.applicant_can_renew.value=parseInt(t.config.applicant_can_renew),t.params.can_edit_until_deadline.value=parseInt(t.config.can_edit_until_deadline),t.params.copy_application_form.value=parseInt(t.config.copy_application_form),t.params.can_submit_encrypted.value=parseInt(t.config.can_submit_encrypted)}))},saveEmundusParam:function(t){var e=this;this.$emit("LaunchLoading"),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updateemundusparam",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:gr.stringify({param:t.param,value:t.value})}).then((function(){e.$emit("StopLoading")}))}},created:function(){this.getEmundusParams()}},br=hr,vr=(a("2d98"),Object(b["a"])(br,_r,fr,!1,null,"7325ddba",null)),Cr=vr.exports,Or=a("4328"),Dr={name:"globalSettings",components:{EditApplicants:Cr,HelpSettings:pr,Tasks:ht,editStatus:Us,editTags:Rs,editCGV:er,editFooter:rr,editHomepage:Vs,editStyle:Ci,editDatas:$i,editUsers:Qi},props:{actualLanguage:String,coordinatorAccess:Number,manyLanguages:Number},data:function(){return{menuHighlight:0,langue:0,saving:!1,endSaving:!1,settingsCategories:[["Style","Page d'accueil","Conditions générales","Pied de page","Statuts","Etiquettes","Candidats","Référentiels de données","Aide"],["Styling","Home page","General Terms and Conditions","Footer","Status","Tags","Applicants","Data repository","Help"]],Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),Save:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE"),Saved:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVED"),Settings:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADDCAMP_PARAMETER")}},methods:{updateStatus:function(t){var e=this;this.updateLoading(!0),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatestatus",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Or.stringify({status:t})}).then((function(){e.updateLoading(!1)}))},updateTags:function(t){var e=this;this.updateLoading(!0),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatetags",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Or.stringify({tags:t})}).then((function(){e.updateLoading(!1)}))},updateFooter:function(t){var e=this;this.updateLoading(!0),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatefooter",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Or.stringify({content:t})}).then((function(){e.updateLoading(!1)}))},updateHomepage:function(t,e,a){var o=this;this.updateLoading(!0),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatehomepage",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Or.stringify({content:t,label:e,color:a})}).then((function(){o.updateLoading(!1)}))},updateCgv:function(t){var e=this;this.updateLoading(!0),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=settings&task=updatecgv",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Or.stringify({content:t})}).then((function(){e.updateLoading(!1)}))},saveCurrentPage:function(){var t=this;switch(this.menuHighlight){case 1:this.updateHomepage(this.$refs.homepage.$data.form.content,this.$refs.homepage.$data.form.label,this.$refs.homepage.$data.form.titleColor);break;case 2:this.updateCgv(this.$refs.cgv.$data.form.content);break;case 3:this.updateFooter(this.$refs.footer.$data.form.content);break;case 4:this.updateStatus(this.$refs.status.$data.status);break;case 5:this.updateTags(this.$refs.tags.$data.tags);break;case 6:this.updateLoading(!0),setTimeout((function(){t.updateLoading(!1)}),500);break}},updateLoading:function(t){var e=this;this.saving=t,!1===this.saving&&setTimeout((function(){e.endSaving=!0}),500),setTimeout((function(){e.endSaving=!1}),3e3)}},created:function(){"en"==this.actualLanguage&&(this.langue=1)}},Er=Dr,xr=(a("701d"),Object(b["a"])(Er,gs,hs,!1,null,"fdc9b230",null)),yr=xr.exports,Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),-1!=t.indexHighlight?a("div",[a("ModalAffectCampaign",{attrs:{prid:t.prid,testing:t.testing}}),t.formObjectArray[t.indexHighlight]?a("ModalTestingForm",{attrs:{profileId:t.prid,actualLanguage:t.actualLanguage,campaigns:t.campaignsAffected,currentForm:t.formObjectArray[t.indexHighlight].object.id,currentMenu:t.formObjectArray[t.indexHighlight].object.menu_id},on:{testForm:t.testForm,modalClosed:function(e){t.optionsModal=!1}}}):t._e(),a("ModalMenu",{attrs:{profileId:t.prid,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{AddMenu:t.pushMenu,modalClosed:function(e){t.optionsModal=!1}}}),t._l(t.formObjectArray,(function(e,o){return a("ModalSide",{directives:[{name:"show",rawName:"v-show",value:t.formObjectArray[t.indexHighlight],expression:"formObjectArray[indexHighlight]"}],key:o,attrs:{ID:e.rgt,element:e.object,link:t.formObjectArray[t.indexHighlight].link,menus:t.formObjectArray,index:o,files:t.files,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{show:t.show,UpdateUx:t.UpdateUXT,UpdateName:t.UpdateName,UpdateIntro:t.UpdateIntro,UpdateVue:t.updateFormObjectAndComponent,removeMenu:t.removeMenu,modalClosed:function(e){t.optionsModal=!1}}})})),a("ModalAddDocuments",{attrs:{pid:t.prid,currentDoc:t.currentDoc,langue:t.actualLanguage,manyLanguages:t.manyLanguages},on:{modalClosed:function(e){t.optionsModal=!1},UpdateDocuments:t.getDocuments}})],2):t._e(),-1!=t.indexHighlight?a("div",{staticClass:"row"},[a("div",{staticClass:"sidebar-formbuilder",style:t.actions_menu?"width: 15%":""},[a("transition",{attrs:{name:"move-right"}},[a("div",{staticClass:"actions-menu menu-block"},[a("button",{staticClass:"g-menu-item g-standard burger-button"},[a("img",{staticStyle:{width:"30px"},attrs:{src:"/images/emundus/menus/menu.png",alt:"Menu"},on:{click:t.enableActionsMenu}})]),a("div",[a("div",{staticClass:"action-links"},[a("a",{staticClass:"d-flex action-link",staticStyle:{"padding-top":"2em"},attrs:{title:t.addMenu},on:{click:function(e){return t.$modal.show("modalMenu")}}},[a("em",{staticClass:"add-page-icon"}),a("label",{staticClass:"action-label col-md-offset-1 col-sm-offset-1"},[t._v(t._s(t.addMenu))])]),a("a",{staticClass:"d-flex action-link",attrs:{title:t.addGroup},on:{click:function(e){return t.createGroup()}}},[a("em",{staticClass:"add-group-icon"}),a("label",{staticClass:"action-label col-md-offset-1 col-sm-offset-1"},[t._v(t._s(t.addGroup))])]),a("a",{staticClass:"d-flex action-link",class:{"disable-element":t.elementDisabled},attrs:{title:t.addItem},on:{click:t.showElements}},[a("em",{staticClass:"add-element-icon"}),a("label",{staticClass:"action-label col-md-offset-1 col-sm-offset-1",class:[{"disable-element":t.elementDisabled},t.addingElement?"down-arrow":"right-arrow"]},[t._v(t._s(t.addItem))])]),a("transition",{attrs:{name:"slide-right",type:"transition"}},[t.addingElement?a("div",{staticClass:"plugins-list"},[a("a",{staticClass:"d-flex col-md-offset-1 back-button-action pointer",staticStyle:{padding:"0 15px"},attrs:{title:t.Back},on:{click:function(e){t.addingElement=!t.addingElement}}},[a("em",{staticClass:"fas fa-arrow-left mr-1"}),t._v(" "+t._s(t.Back)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),a("draggable",t._b({staticStyle:{"padding-bottom":"2em","margin-top":"10%"},attrs:{handle:".handle","drag-class":"plugin-drag","chosen-class":"plugin-chosen","ghost-class":"plugin-ghost"},on:{start:function(e){t.startDragging(),t.dragging=!0,t.draggingIndex=t.index},end:function(e){return t.addingNewElement(e)}},model:{value:t.plugins,callback:function(e){t.plugins=e},expression:"plugins"}},"draggable",t.dragOptions,!1),t._l(t.plugins,(function(e,o){return a("div",{staticClass:"d-flex plugin-link col-md-offset-1 col-sm-offset-1 handle",attrs:{id:"plugin_"+e.value,title:e.name},on:{dblclick:function(a){return t.addingNewElementByDblClick(e.value)}}},[a("em",{class:e.icon}),a("span",{staticClass:"ml-10px"},[t._v(t._s(e.name))])])})),0)],1):t._e()])],1)])])])],1),a("div",{staticClass:"menu-block",class:t.actions_menu?"col-md-8 col-md-offset-4 col-sm-9 col-sm-offset-3":""},[a("div",{staticClass:"heading-block",class:t.addingElement||t.actions_menu?"col-md-offset-2 col-md-6":"col-md-8"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.updateFormLabel,expression:"!updateFormLabel"}],staticClass:"d-flex"},[a("h2",{staticClass:"form-title",staticStyle:{padding:"0",margin:"0"},on:{click:t.enableUpdatingForm}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png",alt:t.profileLabel}}),t._v(t._s(t.profileLabel)+" ")]),a("a",{staticClass:"cta-block pointer",staticStyle:{"margin-left":"1em"},attrs:{title:t.Edit},on:{click:t.enableUpdatingForm}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.updateFormLabel,expression:"updateFormLabel"}],staticStyle:{width:"max-content","margin-left":"20px"}},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.profileLabel,expression:"profileLabel"}],staticClass:"form__input field-general w-input",staticStyle:{width:"400px"},attrs:{id:"update_label_form_"+t.prid},domProps:{value:t.profileLabel},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateLabelForm()},input:function(e){e.target.composing||(t.profileLabel=e.target.value)}}}),a("div",{staticClass:"d-flex actions-update-label ml-10px"},[a("a",{attrs:{title:t.Validate},on:{click:function(e){return t.updateLabelForm()}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])])])]),0===t.menuHighlight?a("div",{staticClass:"form-builder"},[a("div",{staticClass:"form-viewer-builder",class:[t.addingElement||t.actions_menu?"col-sm-offset-5 col-md-offset-4 col-lg-offset-1 col-sm-7 col-md-6":"col-md-8",t.optionsModal?"col-sm-5 col-md-6":"col-md-8"]},[t.formObjectArray[t.indexHighlight]?a("Builder",{key:t.builderKey,ref:"builder",attrs:{object:t.formObjectArray[t.indexHighlight],UpdateUx:t.UpdateUx,rgt:t.rgt,prid:t.prid,eval:0,files:t.files,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{show:t.show,UpdateFormBuilder:t.updateFormObjectAndComponent,removeGroup:t.removeGroup,modalClosed:function(e){t.optionsModal=!1},modalOpen:function(e){t.optionsModal=!0}}}):t._e()],1)]):t._e(),1===t.menuHighlight?a("div",{staticClass:"form-builder"},[a("div",{staticClass:"form-viewer-builder",class:[t.addingElement||t.actions_menu?"col-sm-offset-5 col-md-offset-4 col-lg-offset-1 col-sm-7 col-md-7":"col-md-8",t.optionsModal?"col-sm-5 col-md-6":"col-md-8"]},[t.submittionPages[t.indexHighlight]?a("Builder",{key:t.builderSubmitKey,ref:"builder_submit",attrs:{object:t.submittionPages[t.indexHighlight],UpdateUx:t.UpdateUx,rgt:t.rgt,prid:t.prid,eval:0,files:t.files,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{show:t.show,UpdateFormBuilder:t.updateFormObjectAndComponent,removeGroup:t.removeGroup,modalClosed:function(e){t.optionsModal=!1},modalOpen:function(e){t.optionsModal=!0}}}):t._e()],1)]):t._e(),t.formObjectArray?a("ul",{staticClass:"col-md-3 sticky-form-pages",class:[t.addingElement||t.actions_menu?"ml-10px col-sm-offset-5 col-sm-7":"",t.optionsModal?"col-sm-5":""],staticStyle:{"margin-top":"0"}},[a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("h3",{staticClass:"mb-0",staticStyle:{padding:"0"}},[t._v(t._s(t.FormPage))]),a("label",{staticClass:"saving-at"},[t._v(t._s(t.Savingat)+" "+t._s(t.lastUpdate)),a("em",{staticClass:"fas fa-sync ml-10px"})])]),a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{"margin-bottom":"0",padding:"0"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png",alt:t.Form}}),t._v(t._s(t.Form))]),a("draggable",{class:"draggables-list",attrs:{handle:".handle"},on:{end:t.SomethingChange},model:{value:t.formList,callback:function(e){t.formList=e},expression:"formList"}},t._l(t.formList,(function(e,o){return a("li",{key:o,staticClass:"MenuForm",on:{mouseover:function(e){return t.enableGrab(o)},mouseleave:function(e){return t.disableGrab()}}},[a("span",{staticClass:"icon-handle",style:t.grab&&t.indexGrab==o?"opacity: 1":"opacity: 0"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("a",{staticClass:"MenuFormItem",class:t.indexHighlight==o&&0===t.menuHighlight?"MenuFormItem_current":"",attrs:{title:e.label},domProps:{innerHTML:t._s(t.slpitProfileIdfromLabel(e.label))},on:{click:function(a){t.changeGroup(o,e.rgt),t.menuHighlight=0}}})])})),0),a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{"margin-left":"30px"},attrs:{title:t.addMenu},on:{click:function(e){t.$modal.show("modalMenu"),t.optionsModal=!0}}},[t._v(t._s(t.addMenu))])],1),a("div",{staticClass:"form-pages"},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{"margin-bottom":"10px",padding:"0"}},[a("em",{staticClass:"far fa-folder-open mr-1",attrs:{alt:t.Documents}}),t._v(t._s(t.Documents))]),a("draggable",{class:"draggables-list",attrs:{handle:".handle"},on:{end:t.reorderingDocuments},model:{value:t.documentsList,callback:function(e){t.documentsList=e},expression:"documentsList"}},t._l(t.documentsList,(function(e,o){return a("li",{key:o,staticClass:"MenuForm",on:{mouseover:function(e){return t.enableGrabDocuments(o)},mouseleave:function(e){return t.disableGrabDocuments()}}},[a("span",{staticClass:"icon-handle",style:t.grabDocs&&t.indexGrabDocuments==o?"opacity: 1":"opacity: 0"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),a("a",{staticClass:"MenuFormItem",attrs:{title:e.label}},[t._v(" "+t._s(e.label)),1==e.mandatory?a("span",{staticStyle:{color:"red"}},[t._v("*")]):t._e()]),a("a",{staticClass:"cta-block pointer",style:t.grabDocs&&t.indexGrabDocuments==o?"opacity: 1":"opacity: 0",on:{click:function(a){return t.removeDocument(o,e.id)}}},[a("i",{staticClass:"fas fa-times",staticStyle:{width:"15px",height:"15px"}})]),a("a",{staticClass:"cta-block pointer",style:t.grabDocs&&t.indexGrabDocuments==o?"opacity: 1":"opacity: 0",attrs:{title:t.Edit},on:{click:function(a){t.currentDoc=e.docid,t.$modal.show("modalAddDocuments"),t.optionsModal=!0}}},[a("em",{staticClass:"fas fa-pen",staticStyle:{width:"15px",height:"14px"},attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])})),0),a("button",{staticClass:"bouton-sauvergarder-et-continuer",staticStyle:{"margin-left":"30px"},attrs:{title:t.AddNewDocument},on:{click:function(e){t.$modal.show("modalAddDocuments"),t.optionsModal=!0}}},[t._v(t._s(t.AddNewDocument))])],1),t.submittionPages?a("div",{staticClass:"form-pages",staticStyle:{"padding-top":"20px"}},[a("h4",{staticClass:"ml-10px form-title",staticStyle:{"margin-bottom":"10px",padding:"0"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/confirmation.png",alt:t.SubmitPage}}),t._v(t._s(t.SubmitPage))]),t._l(t.submittionPages,(function(e,o){return a("li",{key:o,staticClass:"MenuForm"},[a("a",{staticClass:"MenuFormItem",class:t.indexHighlight==o&&1===t.menuHighlight?"MenuFormItem_current":"",staticStyle:{"margin-left":"5px"},attrs:{title:e.object.show_title.value},on:{click:function(e){t.menuHighlight=1,t.indexHighlight=o}}},[t._v(" "+t._s(e.object.show_title.value)+" ")])])}))],2):t._e(),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:t.Validate},on:{click:t.sendForm}},[t._v(t._s(t.Validate))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:t.Validate},on:{click:t.exitForm}},[t._v(t._s(t.ExitFormbuilder))])])]):t._e()])]):t._e(),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},Nr=[],Tr=(a("96cf"),a("3b8d")),Ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid",attrs:{id:"FormBuilder"}},[a("div",{staticClass:"row"},[t.object_json?a("BuilderViewer",{key:t.builderViewKey,ref:"builder_viewer",staticClass:"col-md-12",attrs:{object:t.object,groups:t.GroupList,change:this.change,changedElement:this.changedElement,changedGroup:this.changedGroup,UpdateUx:t.UpdateUx,files:t.files,prid:t.prid,eval:t.eval,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{show:t.show,modalClosed:function(e){return t.$emit("modalClosed")},modalOpen:function(e){return t.$emit("modalOpen")},UpdateUxf:t.UpdateUXF}}):t._e()],1)])},Mr=[],Sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"BuilderViewer",attrs:{id:"BuilderViewer"}},[a("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css"}}),t.object_json.show_page_heading?a("div",{class:t.object_json.show_page_heading.class,domProps:{innerHTML:t._s(t.object_json.show_page_heading.page_heading)}}):t._e(),0!=t.eval||t.updatePage?t._e():a("div",{staticClass:"d-flex header-form-page mb-1"},[t.object_json.show_title?a("h2",{staticClass:"page_header mr-1",domProps:{innerHTML:t._s(this.splitProfileIdFromLabel(t.object_json.show_title.value))},on:{click:function(e){return t.enableUpdatingPage(t.object_json)}}}):t._e(),a("span",{staticClass:"cta-block pointer",staticStyle:{"font-size":"16px"},attrs:{title:t.Edit},on:{click:function(e){t.$emit("modalOpen"),t.$modal.show("modalSide"+t.object.rgt)}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.updatePage&&t.indexPage==t.object_json.id,expression:"updatePage && indexPage == object_json.id"}],staticStyle:{width:"max-content","margin-left":"20px"}},[a("div",{staticClass:"input-can-translate",staticStyle:{"margin-top":"40px"}},[t.object_json.show_title?a("input",{directives:[{name:"model",rawName:"v-model",value:t.object_json.show_title.label[t.actualLanguage],expression:"object_json.show_title.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:t.translate.label_page?"":"mb-1",staticStyle:{width:"400px"},attrs:{id:"update_input_"+t.object_json.id},domProps:{value:t.object_json.show_title.label[t.actualLanguage]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateLabelPage(t.object_json)},input:function(e){e.target.composing||t.$set(t.object_json.show_title.label,t.actualLanguage,e.target.value)}}}):t._e(),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:t.translate.label_page?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(e){return t.enableTranslationPage(t.object_json.id)}}}):t._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==t.manyLanguages?"":"ml-10px",style:t.translate.label_page?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:t.Validate},on:{click:function(e){return t.updateLabelPage(t.object_json)}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),t.translate.label_page?a("translation",{directives:[{name:"if",rawName:"v-if",value:t.translate.label_page,expression:"translate.label_page"}],attrs:{label:t.object_json.show_title.label,actualLanguage:t.actualLanguage}}):t._e()],1),0!=t.eval||t.updateIntroPage?t._e():a("p",{staticClass:"introP",domProps:{innerHTML:t._s(t.object_json.intro_value)},on:{click:function(e){return t.enableUpdatingPageIntro(t.object_json)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.updateIntroPage&&t.indexPage==t.object_json.id,expression:"updateIntroPage && indexPage == object_json.id"}],staticStyle:{width:"max-content","margin-left":"20px"}},[a("div",{staticClass:"input-can-translate",staticStyle:{"margin-top":"10px"}},[t.object_json.intro?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.object_json.intro[t.actualLanguage],expression:"object_json.intro[actualLanguage]"}],staticClass:"form__input field-general w-input",class:t.translate.intro_page?"":"mb-1",staticStyle:{width:"400px"},attrs:{id:"update_intro_"+t.object_json.id},domProps:{value:t.object_json.intro[t.actualLanguage]},on:{input:function(e){e.target.composing||t.$set(t.object_json.intro,t.actualLanguage,e.target.value)}}}):t._e(),t._v(" "),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:t.translate.intro_page?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(e){return t.enableTranslationPageIntro(t.object_json.id)}}}):t._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==t.manyLanguages?"":"ml-10px",style:t.translate.intro_page?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:t.Validate},on:{click:function(e){return t.updateIntroValuePage(t.object_json)}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),t.translate.intro_page?a("translation",{directives:[{name:"if",rawName:"v-if",value:t.translate.intro_page,expression:"translate.intro_page"}],attrs:{label:t.object_json.intro,actualLanguage:t.actualLanguage}}):t._e()],1),a("form",{staticClass:"form-page",style:1==t.eval?"margin-top: 30px":"",attrs:{method:"post","object_json.attribs":"",id:"form_"+t.object_json.id},on:{submit:function(t){t.preventDefault()}}},[t.object_json.plugintop?a("div",{domProps:{innerHTML:t._s(t.object_json.plugintop)}}):t._e(),a("draggable",{attrs:{handle:".handle"},on:{start:t.startGroupDrag,end:t.SomethingChangeInGroup},model:{value:t.groups,callback:function(e){t.groups=e},expression:"groups"}},t._l(t.orderedGroups,(function(e,o){return a("div",{key:e.index,on:{mouseover:function(a){return t.enableGroupHover(e.group_id)},mouseleave:function(e){return t.disableGroupHover()}}},[a("fieldset",{class:[e.group_class],staticStyle:{"background-size":"20px",width:"100%"},style:e.group_css,attrs:{id:"group_"+e.group_id}},[a("div",{staticClass:"d-flex justify-content-between",class:t.updateGroup&&t.indexGroup==e.group_id?"hidden":"",staticStyle:{width:"100%"}},[a("div",{staticClass:"d-flex"},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.hoverGroup&&t.indexGroup==e.group_id,expression:"hoverGroup && indexGroup == group.group_id"}],staticClass:"icon-handle-group"},[a("em",{staticClass:"fas fa-grip-vertical handle"})]),e.group_showLegend?a("legend",{staticClass:"legend ViewerLegend",on:{click:function(a){return t.enableUpdatingGroup(e)}}},[t._v(" "+t._s(e.group_showLegend)+" ")]):t._e(),a("a",{staticClass:"cta-block pointer",staticStyle:{"margin-left":"1em","font-size":"16px"},attrs:{title:t.Edit},on:{click:function(a){return t.enableUpdatingGroup(e)}}},[a("em",{staticClass:"fas fa-pen",attrs:{"data-toggle":"tooltip","data-placement":"top"}})]),a("a",{staticClass:"group-repeat-icon ml-10px pointer",class:e.repeat_group?"active-repeat":"",attrs:{title:t.RepeatedGroup},on:{click:function(a){return t.enableRepatedGroup(e)}}},[a("em",{staticClass:"fas fa-clone",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.updateGroup&&t.indexGroup==e.group_id,expression:"updateGroup && indexGroup == group.group_id"}],staticStyle:{width:"max-content"}},[a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label[t.actualLanguage],expression:"group.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:t.translate.label_group?"":"mb-1",staticStyle:{width:"400px"},attrs:{id:"update_input_"+e.group_id},domProps:{value:e.label[t.actualLanguage]},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.updateLabelGroup(e)},input:function(a){a.target.composing||t.$set(e.label,t.actualLanguage,a.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:t.translate.label_group?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(a){return t.enableTranslationGroup(e.group_id)}}}):t._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==t.manyLanguages?"":"ml-10px",style:t.translate.label_group?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:t.Validate},on:{click:function(a){return t.updateLabelGroup(e)}}},[a("em",{staticClass:"fas fa-check mr-1",attrs:{"data-toggle":"tooltip","data-placement":"top"}})]),0==t.files?a("a",{staticClass:"group-repeat-icon",class:e.repeat_group?"active-repeat":"",attrs:{title:t.RepeatGroup},on:{click:function(a){return t.enableRepatedGroup(e)}}},[a("em",{staticClass:"fas fa-clone",attrs:{"data-toggle":"tooltip","data-placement":"top"}})]):t._e(),0==t.files?a("a",{staticStyle:{"margin-left":"1em",color:"black"},attrs:{title:t.Delete},on:{click:function(a){return t.deleteAGroup(e,o)}}},[a("em",{staticClass:"fas fa-trash-alt",attrs:{"data-toggle":"tooltip","data-placement":"top"}})]):t._e()])]),t.translate.label_group?a("translation",{attrs:{label:e.label,actualLanguage:t.actualLanguage}}):t._e()],1),e.group_intro?a("div",{staticClass:"groupintro"},[t._v(t._s(e.group_intro))]):t._e(),"undefined"!==typeof e.elts?[0==e.elts.length?a("div",{staticClass:"no-elements-tip"},[t._v(t._s(t.NoElementsTips))]):t._e()]:t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.openGroup[e.group_id],expression:"openGroup[group.group_id]"}],staticClass:"elements-block"},[a("draggable",{staticClass:"draggable-span",attrs:{handle:".handle",group:"items"},on:{start:function(e){t.draggable=!0},end:t.SomethingChange},model:{value:e.elts,callback:function(a){t.$set(e,"elts",a)},expression:"group.elts"}},[a("transition-group",{attrs:{name:"slide-down",type:"transition"}},t._l(e.elts,(function(o,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:!1===o.hidden,expression:"element.hidden === false"}],key:o.id,staticClass:"builder-item-element",on:{mouseover:function(e){return t.enableActionBar(o.id)},mouseleave:function(e){return t.disableActionBar()}}},[a("modalEditElement",{key:t.keyElements["element"+o.id],attrs:{ID:o.id,gid:o.group_id,files:t.files,manyLanguages:t.manyLanguages,actualLanguage:t.actualLanguage,id:o.id,profileId:t.prid},on:{reloadElement:function(e){return t.reloadElement(o)},publishUnpublishEvent:function(e){return t.publishUnpublishEvent(o)},updateRequireEvent:function(e){return t.updateRequireEvent(o)},modalClosed:function(e){return t.$emit("modalClosed")},show:t.show}}),a("modalDuplicateElement",{key:t.keyElements["element"+o.id],attrs:{ID:o.id,currentGroup:e.group_id,currentPage:t.object_json.id,id:o.id,prid:t.prid},on:{reloadElement:function(e){return t.reloadElement(o)},modalClosed:function(e){return t.$emit("modalClosed")}}}),a("div",{staticClass:"d-flex builder-item-element__properties handle",class:{"element-updating":t.hoverUpdating&&t.indexHighlight==o.id,unpublished:!o.publish,"draggable-item":t.draggable&&t.indexHighlight==o.id}},[a("div",{staticClass:"w-100"},[a("div",{staticClass:"d-flex",class:t.clickUpdatingLabel&&t.indexHighlight==o.id?"hidden":"",staticStyle:{"align-items":"baseline"}},[o.label_value?a("span",{directives:[{name:"show",rawName:"v-show",value:2!=o.labelsAbove,expression:"element.labelsAbove != 2"}],domProps:{innerHTML:t._s(o.label_value)},on:{click:function(e){return t.enableLabelInput(o.id)}}}):t._e(),a("a",{staticClass:"cta-block pointer",staticStyle:{"font-size":"16px"},style:t.hoverUpdating&&t.indexHighlight==o.id&&!t.clickUpdatingLabel?"opacity: 1":"opacity: 0",attrs:{title:t.Edit},on:{click:function(e){return t.enableLabelInput(o.id)}}},[a("em",{staticClass:"fas fa-pen ml-10px",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.clickUpdatingLabel&&t.indexHighlight==o.id,expression:"clickUpdatingLabel && indexHighlight == element.id"}],staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:o.label[t.actualLanguage],expression:"element.label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:t.translate.label?"":"mb-1",attrs:{id:"label_"+o.id},domProps:{value:o.label[t.actualLanguage]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateLabelElement(o)},input:function(e){e.target.composing||t.$set(o.label,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:t.translate.label?"translate-icon-selected":" translate-builder",attrs:{type:"button"},on:{click:function(e){return t.enableTranslationLabel(o.id)}}}):t._e(),a("div",{staticClass:"d-flex actions-update-label",class:"0"!==t.manyLanguages?"":"ml-10px",style:t.translate.label?"margin-bottom: 6px":"margin-bottom: 12px"},[a("a",{attrs:{title:t.Validate},on:{click:function(e){return t.updateLabelElement(o)}}},[a("em",{staticClass:"fas fa-check",attrs:{"data-toggle":"tooltip","data-placement":"top"}})])])]),t.translate.label&&t.clickUpdatingLabel&&t.indexHighlight==o.id?a("translation",{attrs:{label:o.label,actualLanguage:t.actualLanguage}}):0==o.labelsAbove?a("div",{staticClass:"controls"},[o.error?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:t._s(o.error)}}):t._e(),o.element?a("div",{class:o.errorClass,domProps:{innerHTML:t._s(o.element)}}):t._e(),o.tipSide?a("span",{domProps:{innerHTML:t._s(o.tipSide)}}):t._e()]):a("span",{staticClass:"d-flex w-100"},[o.element?a("div",{staticClass:"fabrikElement",domProps:{innerHTML:t._s(o.error)}}):t._e(),o.element?a("div",{staticClass:"w-100",class:o.errorClass,domProps:{innerHTML:t._s(o.element)}}):t._e(),o.tipSide?a("span",{domProps:{innerHTML:t._s(o.tipSide)}}):t._e()]),o.tipBelow?a("span",{domProps:{innerHTML:t._s(o.tipBelow)}}):t._e()],1),a("div",{staticClass:"actions-item-bar",style:t.hoverUpdating&&t.indexHighlight==o.id?"opacity: 1":"opacity: 0"},["calc"!=o.plugin?a("a",{staticClass:"d-flex mr-2 mb-1",attrs:{title:t.Settings},on:{click:function(e){return t.openParameters(o)}}},[a("em",{staticClass:"fas fa-cog settings-elt"})]):t._e(),0==t.files?a("a",{staticClass:"d-flex mr-2",staticStyle:{color:"red"},attrs:{title:t.Delete},on:{click:function(e){return t.deleteElement(o,n)}}},[a("em",{staticClass:"fas fa-trash-alt delete-icon-elt"})]):t._e(),t.sysaccess?a("a",{staticClass:"d-flex mr-2 mt-1",attrs:{target:"_blank",href:"/administrator/index.php?option=com_fabrik&view=element&layout=edit&id="+o.id}},[a("em",{staticClass:"fas fa-link settings-elt"})]):t._e()]),"display"!=o.plugin?a("a",{staticClass:"d-flex mr-2",style:t.hoverUpdating&&t.indexHighlight==o.id?"opacity: 1":"opacity: 0"},[a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:o.FRequire,expression:"element.FRequire"}],staticClass:"check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.FRequire)?t._i(o.FRequire,null)>-1:o.FRequire},on:{click:function(e){return t.updateRequireElement(o)},change:function(e){var a=o.FRequire,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&t.$set(o,"FRequire",a.concat([i])):r>-1&&t.$set(o,"FRequire",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(o,"FRequire",s)}}}),a("strong",{staticClass:"b switch"}),a("strong",{staticClass:"b track"})]),a("span",{staticClass:"ml-10px",staticStyle:{color:"black"}},[t._v(t._s(t.Required)+" ")])]):t._e()])],1)})),0)],1)],1),e.group_outro?a("div",{staticClass:"groupoutro",domProps:{innerHTML:t._s(t.group_outro)}}):t._e()],2)])})),0),t.object_json.pluginbottom?a("div",{domProps:{innerHTML:t._s(t.object_json.pluginbottom)}}):t._e()],1)])},wr=[],Rr=(a("14b9"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalDuplicateElement"}},[a("modal",{attrs:{name:"modalDuplicateElement"+t.ID,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalDuplicateElement"+t.ID)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.DuplicateElement)+" ")]),a("p",[t._v(t._s(t.Target))])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group mb-2"},[a("label",[t._v(t._s(t.Page)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.page,expression:"page"}],staticClass:"dropdown-toggle",class:{"is-invalid":t.errors.page},attrs:{id:"select_page"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.page=e.target.multiple?a:a[0]}}},t._l(t.pages,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])})),0)]),t.errors.page?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.PageRequired))])]):t._e(),a("transition",{attrs:{name:"slide-down",type:"transition"}},[-1!==t.page&&t.groups.length>1?a("div",{staticClass:"form-group mb-2"},[a("label",[t._v(t._s(t.Group)+"* :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.group,expression:"group"}],staticClass:"dropdown-toggle",class:{"is-invalid":t.errors.group},attrs:{id:"select_group"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.group=e.target.multiple?a:a[0]}}},t._l(t.groups,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(" "+t._s(e.label)+" ")])})),0)]):t._e()]),t.errors.group?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.GroupRequired))])]):t._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalDuplicateElement"+t.ID)}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.duplicate()}}},[t._v(t._s(t.Continuer))])]),t.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()])],1)}),Jr=[],kr=a("4328"),Br={name:"modalDuplicateElement",props:{ID:Number,prid:String,currentGroup:Number,currentPage:Number},data:function(){return{page:-1,group:-1,pages:[],groups:[],errors:{page:!1,group:!1},DuplicateElement:Joomla.JText._("COM_EMUNDUS_ONBOARD_DUPLICATE_ELEMENT"),Page:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDMENU"),Group:Joomla.JText._("COM_EMUNDUS_ONBOARD_GROUP"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE"),PageRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_FORM"),GroupRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_REQUIRED_GROUP"),Target:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_TARGET")}},methods:{beforeClose:function(t){!0===this.changes&&this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations),this.$emit("modalClosed"),this.changes=!1},beforeOpen:function(t){this.page=-1,this.group=-1,this.errors={page:!1,group:!1},this.getFormPages()},duplicate:function(){return this.errors={page:!1,group:!1},-1==this.page?(this.errors.page=!0,0):-1==this.group?(this.errors.group=!0,0):void c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=duplicateelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:kr.stringify({id:this.ID,group:this.group,old_group:this.currentGroup,form_id:this.page})}).then((function(t){window.location.reload()}))},getFormPages:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getFormsByProfileId",params:{profile_id:this.prid},paramsSerializer:function(t){return kr.stringify(t)}}).then((function(e){t.pages=e.data.data,t.page=t.currentPage}))},getGroupsByForm:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getgroupsbyform",params:{form_id:this.page},paramsSerializer:function(t){return kr.stringify(t)}}).then((function(e){t.groups=e.data.data,t.groups.length<=1&&(t.group=t.groups[0].id)}))}},watch:{page:function(){this.getGroupsByForm()}}},Ir=Br,Lr=Object(b["a"])(Ir,Rr,Jr,!1,null,"13f1ebdf",null),Pr=Lr.exports,jr=a("4328"),Fr={name:"BuilderViewer",props:{object:Object,groups:Array,change:Boolean,changedElement:Array,changedGroup:String,UpdateUx:Boolean,files:Number,eval:Number,prid:String,actualLanguage:String,manyLanguages:Number,pid:Number},components:{Editor:Jt,datePicker:Pe.a,draggable:Sa.a,modalEditElement:Oo,modalDuplicateElement:Pr,Translation:Wo},data:function(){return{object_json:"",sysaccess:!1,updatePage:!1,updateIntroPage:!1,indexPage:-1,openGroup:{},hoverGroup:!1,indexGroup:-1,updateGroup:!1,hoverUpdating:!1,indexHighlight:0,clickUpdatingLabel:!1,draggable:!1,fieldChanges:!1,repeat:!1,keyElements:{},date:new Date,options:{format:"DD/MM/YYYY",useCurrent:!1},translate:{label:!1,label_group:!1,label_page:!1,intro_page:!1},elementAssociateDocUpdateForm:{name:{fr:"",en:""},description:{fr:"",en:""},nbmax:1,selectedTypes:{pdf:!1,"jpg;png;gif":!1,"doc;docx;odt":!1,"xls;xlsx;odf":!1}},update:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),orderSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ORDERSUCESS"),orderFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ORDERFAILED"),updateFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED"),sidemenuhelp:Joomla.JText._("COM_EMUNDUS_ONBOARD_SIDEMENUHELP"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),Unpublish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH"),Publish:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_PUBLISH"),Required:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED"),Settings:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS_SETTINGS"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),Edit:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),Cancel:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),Validate:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),RepeatGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_REPEAT_GROUP"),RepeatedGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_REPEATED_GROUP"),Duplicate:Joomla.JText._("COM_EMUNDUS_ONBOARD_DUPLICATE"),NoElementsTips:Joomla.JText._("COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS")}},methods:{splitProfileIdFromLabel:function(t){return t.split(/-(.+)/)[1]},updateElementsOrder:function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(e,a,o){var n,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.map((function(t,e){return{id:t.id,order:e+1}})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updateOrder",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({elements:n,group_id:e})}).then((function(t){s.$emit("show","foo-velocity","success",s.orderSuccess,s.update);var a=s.object.link.replace("fabrik","emundus_onboard");c.a.get(a+"&format=vue_jsonclean").then((function(t){s.groups.forEach((function(e){s.$set(s.object_json.Groups["group_"+e.group_id],"elements",t.data.Groups["group_"+e.group_id].elements)}))})),o.group_id=e})).catch((function(t){}));case 2:case"end":return t.stop()}}),t)})));function e(e,a,o){return t.apply(this,arguments)}return e}(),updateRequireElement:function(t){var e=this;this.clickUpdatingLabel&&this.updateLabelElement(t),setTimeout((function(){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=changerequire",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({element:t})}).then((function(){e.updateRequireEvent(t)})).catch((function(t){e.$emit("show","foo-velocity","error",e.updateFailed,e.updating)}))}),300)},updateRequireEvent:function(t){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.id,gid:t.group_id},paramsSerializer:function(t){return jr.stringify(t)}}).then((function(a){t.label_value=a.data.label_value,e.$emit("show","foo-velocity","success",e.updateSuccess,e.update)}))},publishUnpublishEvent:function(t){t.publish=!t.publish,t.publish?(document.getElementById("publish_icon_"+t.id).classList.remove("fa-eye"),document.getElementById("publish_icon_"+t.id).classList.add("fa-eye-slash")):(document.getElementById("publish_icon_"+t.id).classList.add("fa-eye"),document.getElementById("publish_icon_"+t.id).classList.remove("fa-eye-slash"))},deleteAssociateElementDoc:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=deletedocumentdropfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({did:t})}).then((function(t){})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=removeDocumentFromProfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({did:t})}).then((function(t){})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=removeDocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({did:t,prid:this.prid,cid:this.cid})}).then((function(t){}))},deleteElement:function(t,e){var a=this;this.clickUpdatingLabel&&this.updateLabelElement(t),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEELEMENT"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&("emundus_fileupload"==t.plugin&&a.deleteAssociateElementDoc(t.params.attachmentId),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteElement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({element:t.id})}).then((function(){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ELEMENTDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){a.object_json.Groups["group_"+t.group_id].elts.splice(e,1),delete a.object_json.Groups["group_"+t.group_id].elements["element"+t.id],a.$forceUpdate()}))})).catch((function(t){})))}))},openDuplicate:function(t){this.clickUpdatingLabel&&this.updateLabelElement(t),this.$emit("modalOpen"),this.$modal.show("modalDuplicateElement"+t.id)},openParameters:function(t){this.clickUpdatingLabel&&this.updateLabelElement(t),this.repeat=!1,this.$emit("modalOpen"),this.$modal.show("modalEditElement"+t.id)},retrieveAssociateElementDoc:function(t){var e=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=retriveElementFormAssociatedDoc",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({gid:2,docid:t})}).then((function(t){e.elementAssociateDocUpdateForm.description[e.actualLanguage]=t.data.description,t.data.allowed_types.includes("pdf")?e.elementAssociateDocUpdateForm.selectedTypes.pdf=!0:e.elementAssociateDocUpdateForm.selectedTypes.pdf=!1,t.data.allowed_types.includes("jpg")||t.data.allowed_types.includes("png")||t.data.allowed_types.includes("gif")?e.elementAssociateDocUpdateForm.selectedTypes["jpg;png;gif"]=!0:e.elementAssociateDocUpdateForm.selectedTypes["jpg;png;gif"]=!1,t.data.allowed_types.includes("xls")||t.data.allowed_types.includes("xlsx")||t.data.allowed_types.includes("odf")?e.elementAssociateDocUpdateForm.selectedTypes["xls;xlsx;odf"]=!0:e.elementAssociateDocUpdateForm.selectedTypes["xls;xlsx;odf"]=!1,e.elementAssociateDocUpdateForm.nbmax=t.data.nbmax}))},updateAssociateDocElement:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updatedocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify(t)}).then((function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=updateDocumentFalang",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify(t)}).then((function(t){}))}))},updateLabelElement:function(t){var e=this;"emundus_fileupload"==t.plugin&&this.retrieveAssociateElementDoc(t.params.attachmentId);var a={fr:t.label.fr,en:t.label.en};"Unnamed item"===a.en&&(a.en=a.fr,t.label.en=a.fr),"emundus_fileupload"==t.plugin&&(this.elementAssociateDocUpdateForm.name.en=a.en,this.elementAssociateDocUpdateForm.name.fr=a.fr,this.elementAssociateDocUpdateForm.name.fr=a.fr),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({element:t.id,labelTofind:t.label_tag,NewSubLabel:a})}).then((function(o){if(0==o.data.status)c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updateelementlabelwithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({eid:t.id,label:t.label.fr})}).then((function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.id,gid:t.group_id},paramsSerializer:function(t){return jr.stringify(t)}}).then((function(a){t.label_value=a.data.label_value,e.$emit("show","foo-velocity","success",e.updateSuccess,e.update)}))}));else{if("emundus_fileupload"==t.plugin){var n=[];Object.keys(e.elementAssociateDocUpdateForm.selectedTypes).forEach((function(t){1==e.elementAssociateDocUpdateForm.selectedTypes[t]&&n.push(t)}));var s={document:e.elementAssociateDocUpdateForm,types:n,cid:e.cid,pid:e.prid,did:t.params.attachmentId,text_fr:a.fr,text_en:a.en};e.updateAssociateDocElement(s)}c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.id,gid:t.group_id},paramsSerializer:function(t){return jr.stringify(t)}}).then((function(a){e.$set(t,"element",a.data.element),t.label_value=a.data.label_value,e.$emit("show","foo-velocity","success",e.updateSuccess,e.update),e.translate.label=!1}))}e.clickUpdatingLabel=!1})).catch((function(t){e.$emit("show","foo-velocity","error",e.updateFailed,e.updating)}))},reloadElement:function(t){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.id,gid:t.group_id},paramsSerializer:function(t){return jr.stringify(t)}}).then((function(a){"databasejoin"===a.data.plugin&&!1===e.repeat?(e.repeat=!0,e.reloadElement(t)):(e.$set(t,"element",a.data.element),t=a.data,e.$set(e.keyElements,"element"+t.id,e.keyElements["element"+t.id]+1))})).catch((function(t){e.$emit("show","foo-velocity","error",e.updateFailed,e.updating)}))},updateLabelGroup:function(t){var e=this,a={fr:t.label.fr,en:t.label.en};c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({group:t.group_id,labelTofind:t.group_tag,NewSubLabel:a})}).then((function(a){0==a.data.status&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updategrouplabelwithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({gid:t.group_id,label:t.label.fr})}),e.$emit("show","foo-velocity","success",e.updateSuccess,e.update),t.group_showLegend=t.label[e.actualLanguage],e.translate.label_group=!1,e.updateGroup=!1})).catch((function(t){e.$emit("show","foo-velocity","error",e.updateFailed,e.updating)}))},deleteAGroup:function(t,e){var a=this;it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUPWARNING"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(o){o.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteGroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({gid:t.group_id})}).then((function(){it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_GROUPDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){a.groups.splice(e,1),delete a.object_json.Groups["group_"+t.group_id],a.updateGroup=!1,a.$forceUpdate()}))})).catch((function(t){}))}))},updateGroupsOrder:function(){var t=this,e=this.groups.map((function(t,e){return t.ordering=e+2,{id:t.group_id,order:e+2}}));c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=reordergroups",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({groups:e,fid:this.object_json.id})}).then((function(e){t.$emit("show","foo-velocity","success",t.orderSuccess,t.update)})).catch((function(e){t.$emit("show","foo-velocity","error",t.orderFailed,t.updating)}))},enableRepatedGroup:function(t){var e=this;t.repeat_group?it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_REPEAT_GROUP_DISABLE"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_REPEAT_GROUP_MESSAGE_DISABLE"),type:"info",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&c()({method:"POST",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=disablegrouprepeat",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({gid:t.group_id})}).then((function(a){1==a.data.status&&(t.repeat_group=0,e.$emit("show","foo-velocity","success",e.updateSuccess,e.update),t.group_showLegend=t.label[e.actualLanguage],e.translate.label_group=!1,e.updateGroup=!1)}))})):it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_REPEAT_GROUP"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_REPEAT_GROUP_MESSAGE"),type:"info",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(a){a.value&&c()({method:"POST",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=enablegrouprepeat",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({gid:t.group_id})}).then((function(a){1==a.data.status&&(t.repeat_group=1,e.$emit("show","foo-velocity","success",e.updateSuccess,e.update),t.group_showLegend=t.label[e.actualLanguage],e.translate.label_group=!1,e.updateGroup=!1)}))}))},updateLabelPage:function(t){var e=this,a={fr:this.prid+"-"+t.show_title.label.fr,en:this.prid+"-"+t.show_title.label.en};c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({page:t.id,labelTofind:t.show_title.titleraw,NewSubLabel:a})}).then((function(o){0==o.data.status&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updatepagelabelwithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({pid:t.id,label:e.prid+"_"+t.show_title.label.fr})}),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updatemenulabel",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({pid:t.id,label:a})}).then((function(){e.$emit("show","foo-velocity","success",e.updateSuccess,e.update),t.show_title.value=t.show_title.label[e.actualLanguage],e.updatePage=!1}))})).catch((function(t){e.$emit("show","foo-velocity","error",e.updateFailed,e.updating)}))},updateIntroValuePage:function(t){var e=this,a={fr:t.intro.fr,en:t.intro.en};c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({labelTofind:t.intro_raw,NewSubLabel:a})}).then((function(a){0==a.data.status&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updatepageintrowithouttranslation",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:jr.stringify({pid:t.id,intro:t.intro.fr})}),e.$emit("show","foo-velocity","success",e.updateSuccess,e.update),t.intro_value=t.intro[e.actualLanguage],e.updateIntroPage=!1})).catch((function(t){e.$emit("show","foo-velocity","error",e.updateFailed,e.updating)}))},getDataObject:Mt.a.debounce((function(){this.object_json=this.object.object,this.object_json.show_title.label.fr=this.splitProfileIdFromLabel(this.object_json.show_title.label.fr),this.object_json.show_title.label.en=this.splitProfileIdFromLabel(this.object_json.show_title.label.en),this.getElementsArray()}),500),getApiData:Mt.a.debounce((function(){var t=this;this.$emit("show","foo-velocity","",this.updating,this.update);var e=this.object.link.replace("fabrik","emundus_onboard");c.a.get(e+"&format=vue_jsonclean").then((function(e){t.object_json=e.data,t.$emit("UpdateUxf"),t.$emit("show","foo-velocity","success",t.updateSuccess,t.update)}))}),1e3),getElementsArray:function(){var t=this;Object.keys(this.object_json.Groups).forEach((function(e){t.object_json.Groups[e].elts=[],t.openGroup[t.object_json.Groups[e].group_id]=!0,Object.keys(t.object_json.Groups[e].elements).forEach((function(a){t.object_json.Groups[e].elts.push(t.object_json.Groups[e].elements[a]),t.keyElements[a]=0}))}))},enableActionBar:function(t){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverUpdating=!0,this.indexHighlight=t)},disableActionBar:function(){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverUpdating=!1,this.clickUpdatingLabel=!1,this.indexHighlight=0,this.translate.label=!1)},enableLabelInput:function(t){this.updateGroup||this.updateIntroPage||this.updatePage||(this.clickUpdatingLabel=!0,setTimeout((function(){document.getElementById("label_"+t).focus()}),100))},enableTranslationLabel:function(t){this.translate.label=!this.translate.label,this.translate.label||setTimeout((function(){document.getElementById("label_"+t).focus()}),100)},enableUpdatingPage:function(t){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||(this.updatePage=!0,this.indexPage=t.id,setTimeout((function(){document.getElementById("update_input_"+t.id).focus()}),100))},enableUpdatingPageIntro:function(t){this.clickUpdatingLabel||this.updateGroup||this.updatePage||(this.updateIntroPage=!0,this.indexPage=t.id,setTimeout((function(){document.getElementById("update_intro_"+t.id).focus()}),100))},enableTranslationPage:function(t){this.translate.label_page=!this.translate.label_page,this.translate.label_page||setTimeout((function(){document.getElementById("update_input_"+t).focus()}),100)},enableTranslationPageIntro:function(t){this.translate.intro_page=!this.translate.intro_page,this.translate.intro_page||setTimeout((function(){document.getElementById("update_intro_"+t).focus()}),100)},enableUpdatingGroup:function(t){this.clickUpdatingLabel||this.updateIntroPage||this.updatePage||(this.updateGroup=!0,this.indexGroup=t.group_id,setTimeout((function(){document.getElementById("update_input_"+t.group_id).focus()}),100))},enableTranslationGroup:function(t){this.translate.label_group=!this.translate.label_group,this.translate.label_group||setTimeout((function(){document.getElementById("update_input_"+t).focus()}),100)},enableGroupHover:function(t){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverGroup=!0,this.indexGroup=t)},disableGroupHover:function(){this.clickUpdatingLabel||this.updateGroup||this.updateIntroPage||this.updatePage||(this.hoverGroup=!1,this.updateGroup=!1,this.indexGroup=-1)},handleGroup:function(t){this.updateGroup||(this.openGroup[t]?this.$set(this.openGroup,t,!1):this.$set(this.openGroup,t,!0))},startGroupDrag:function(){this.draggable=!0},SomethingChange:function(t){var e=this,a=t.item.childNodes[0].id;this.groups.forEach((function(t){t.elts.forEach((function(o){o.id==a&&e.updateElementsOrder(t.group_id,t.elts,o)}))})),this.draggable=!1},SomethingChangeInGroup:function(){var t=this;this.draggable=!1,this.updateGroupsOrder(),Object.keys(this.openGroup).forEach((function(e,a){t.openGroup[e]=!0}))},getAccess:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getAccess"}).then((function(e){t.sysaccess=e.data.access}))},show:function(t,e,a,o){this.$emit("show",t,e,a,o)}},created:function(){Mt.a.isEmpty(this.object.object)||(this.getDataObject(),this.getAccess())},watch:{object:function(){this.getDataObject()},UpdateUx:function(){!0===this.UpdateUx&&this.getApiData()}},computed:{orderedGroups:function(){return Mt.a.orderBy(this.groups,"ordering")}}},$r=Fr,Gr=(a("0739"),Object(b["a"])($r,Sr,wr,!1,null,"aeeb046c",null)),Hr=Gr.exports,zr=a("4328"),qr={name:"Builder",props:{object:Object,UpdateUx:Boolean,rgt:Number,files:Number,prid:String,eval:Number,actualLanguage:String,manyLanguages:Number},components:{draggable:Sa.a,BuilderViewer:Hr},data:function(){return{newlabel:[],dblckickLabel:[],testastos:[],ElementList:[],GroupList:[],object_json:Object,GroupsObject:Object,change:!1,changedElement:"",changedGroup:"",update:!1,builderViewKey:0,addGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),editGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EDITGROUP"),deleteGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP"),deleteMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU")}},methods:{UpdateUXT:function(){this.UpdateUx=!0},UpdateUXF:function(){this.UpdateUx=!1},UpdateLabel:function(t,e){t.label_raw=e},UpdateGroupName:function(t,e){this.object_json.Groups[t].group_showLegend=e},UpdateBuilderView:function(){this.$emit("UpdateFormBuilder")},show:function(t,e,a,o){this.$emit("show",t,e,a,o)},Initialised:function(){for(var t in this.GroupsObject){var e=this.object.rgt+"_"+this.GroupsObject[t].group_id;this.ElementList[e]=Object.values(this.GroupsObject[t].elements)}},deleteAMenu:function(t){var e=this;it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENUWARNING"),type:"warning",showCancelButton:!0}).then((function(a){a.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deleteMenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:zr.stringify({mid:t})}).then((function(){e.$modal.hide("modalSide"+e.ID),it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MENUDELETED"),type:"success",showConfirmButton:!1,timer:2e3}).then((function(){e.$emit("UpdateFormBuilder")}))})).catch((function(t){console.log(t)}))}))},updateOrder:function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.builder_viewer.updateElementsOrder(e,a);case 2:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),getDataObject:function(){this.object_json=this.object.object,this.GroupList=Object.values(this.object_json.Groups),this.GroupsObject=this.object_json.Groups,this.Initialised()}},created:function(){Mt.a.isEmpty(this.object.object)||this.getDataObject()},watch:{object:function(){this.getDataObject()},update:function(){!0===this.update&&this.getDataObject()},UpdateUx:function(){!0===this.UpdateUx&&this.UpdateUXT()}}},Vr=qr,Yr=(a("3eac"),Object(b["a"])(Vr,Ar,Mr,!1,null,"73e13148",null)),Qr=Yr.exports,Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalSide"}},[a("modal",{attrs:{name:"modalSide"+t.ID,height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalSide"+t.ID)}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.editMenu)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group",class:{"mb-0":t.translate.label}},[a("label",[t._v(t._s(t.Name)+" :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label[t.actualLanguage],expression:"label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40"},domProps:{value:t.label[t.actualLanguage]},on:{input:function(e){e.target.composing||t.$set(t.label,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.label},attrs:{type:"button"},on:{click:function(e){t.translate.label=!t.translate.label}}}):t._e()]),t.translate.label?a("translation",{attrs:{label:t.label,actualLanguage:t.actualLanguage}}):t._e()],1),t.errors?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.LabelRequired))])]):t._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":t.translate.intro}},[a("label",[t._v(t._s(t.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.intro[t.actualLanguage],expression:"intro[actualLanguage]"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"300"},domProps:{value:t.intro[t.actualLanguage]},on:{input:function(e){e.target.composing||t.$set(t.intro,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.intro},attrs:{type:"button"},on:{click:function(e){t.translate.intro=!t.translate.intro}}}):t._e()]),t.translate.intro?a("translation",{attrs:{label:t.intro,actualLanguage:t.actualLanguage}}):t._e()],1),a("div",{staticClass:"form-group d-flex mb-1",staticStyle:{"align-items":"center"},attrs:{id:"template_checkbox"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.template)?t._i(t.template,null)>-1:t.template},on:{change:function(e){var a=t.template,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.template=a.concat([s])):i>-1&&(t.template=a.slice(0,i).concat(a.slice(i+1)))}else t.template=n}}}),a("label",{staticClass:"ml-10px mb-0"},[t._v(t._s(t.SaveAsTemplate))])]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalSide"+t.ID)}}},[t._v(" "+t._s(t.Retour)+" ")]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer",on:{click:function(e){e.preventDefault(),t.$modal.hide("modalSide"+t.ID),t.UpdateParams()}}},[t._v(" "+t._s(t.Continuer)+" ")])])]),a("div",{staticClass:"form-group d-flex mb-1"},[t.menus.length>1&&0==t.files?a("button",{staticClass:"bouton-sauvergarder-et-continuer w-delete",on:{click:function(e){return e.preventDefault(),t.deleteMenu()}}},[t._v(" "+t._s(t.Delete)+" ")]):t._e()])])])],1)},Kr=[],Wr=a("4328"),Zr={name:"modalSide",components:{Translation:Wo},props:{ID:Number,element:Object,index:Number,menus:Array,files:Number,link:String,manyLanguages:Number,actualLanguage:String},data:function(){return{tempEl:[],translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},template:!1,errors:!1,changes:!1,Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),dataSaved:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),orderingMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_MENUORDERING"),editMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EDITMENU"),Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Delete:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTION_DELETE"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),SaveAsTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{UpdateParams:function(){var t=this.tempEl.show_title.titleraw.split("_")[1];this.changes=!0,this.label.en=t+"_"+this.label.en,this.label.fr=t+"_"+this.label.fr,this.axioschange(this.intro,this.tempEl.intro_raw),this.axioschange(this.label,this.tempEl.show_title.titleraw),this.updatefalang(this.label),this.saveAsTemplate(),this.element=JSON.parse(JSON.stringify(this.tempEl)),this.$emit("UpdateName",this.index,this.label[this.actualLanguage]),this.$emit("UpdateIntro",this.index,this.intro[this.actualLanguage])},beforeClose:function(t){0!=this.changes&&(this.$emit("show","foo-velocity","success",this.dataSaved,this.informations),this.changes=!1),this.$emit("modalClosed")},beforeOpen:function(t){this.initialisation()},axioschange:function(t,e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=formsTrad",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Wr.stringify({labelTofind:e,NewSubLabel:t})}).catch((function(t){console.log(t)}))},updatefalang:function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=updatemenulabel",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Wr.stringify({label:t,pid:this.element.id})}).then((function(t){}))},axiostrad:function(t){return c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Wr.stringify({toJTEXT:t})})},deleteMenu:function(){var t=this;it.a.fire({title:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU"),text:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANT_REVERT"),type:"warning",showCancelButton:!0,confirmButtonColor:"#de6339",confirmButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),cancelButtonText:Joomla.JText._("COM_EMUNDUS_ONBOARD_CANCEL"),reverseButtons:!0}).then((function(e){e.value&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deletemenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Wr.stringify({mid:t.element.id})}).then((function(e){t.$emit("removeMenu",t.element.id),t.$modal.hide("modalSide"+t.ID)}))}))},saveAsTemplate:function(){return c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=savemenuastemplate",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Wr.stringify({menu:this.element,template:this.template})})},checkIfTemplate:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getPagesModel"}).then((function(e){var a={};try{Object.values(e.data).forEach((function(e,o){if(e.form_id==t.element.id)throw t.template=!0,a}))}catch(o){if(o!==a)throw t.template=!1}}))},initialisation:function(){var t=this;this.tempEl=JSON.parse(JSON.stringify(this.element)),this.axiostrad(this.tempEl.intro_raw).then((function(e){t.intro.fr=e.data.fr,t.intro.en=e.data.en})).catch((function(t){console.log(t)})),this.axiostrad(this.tempEl.show_title.titleraw).then((function(e){t.label.fr=e.data.fr.split("_")[1],t.label.en=e.data.en.split("_")[1]})).catch((function(t){console.log(t)})),this.checkIfTemplate()}},watch:{element:function(){this.tempEl=JSON.parse(JSON.stringify(this.element))}},created:function(){}},tl=Zr,el=(a("aa78"),Object(b["a"])(tl,Xr,Kr,!1,null,"473ec28e",null)),al=el.exports,ol=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalMenu"}},[a("modal",{attrs:{name:"modalMenu",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalMenu")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.addMenu)+" ")])])]),a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.ChooseExistingPageModel)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model_id,expression:"model_id"}],staticClass:"dropdown-toggle",attrs:{disabled:Object.keys(t.models).length<=0},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.model_id=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"-1"}}),t._l(t.models,(function(e,o){return a("option",{domProps:{value:e.form_id}},[t._v(t._s(e.label.fr))])}))],2)]),a("div",{staticClass:"form-group",class:{"mb-0":t.translate.label}},[a("label",[t._v(t._s(t.Name)+"* :")]),a("div",{staticClass:"input-can-translate"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label[t.actualLanguage],expression:"label[actualLanguage]"}],staticClass:"form__input field-general w-input",class:{"is-invalid":t.errors},staticStyle:{margin:"0"},attrs:{type:"text",maxlength:"40",id:"menu_label"},domProps:{value:t.label[t.actualLanguage]},on:{input:function(e){e.target.composing||t.$set(t.label,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.label},attrs:{type:"button"},on:{click:function(e){t.translate.label=!t.translate.label}}}):t._e()])]),t.translate.label?a("translation",{attrs:{label:t.label,actualLanguage:t.actualLanguage}}):t._e(),t.errors&&-1==t.model_id?a("p",{staticClass:"error col-md-12 mb-2"},[a("span",{staticClass:"error"},[t._v(t._s(t.LabelRequired))])]):t._e(),a("div",{staticClass:"form-group mt-1",class:{"mb-0":t.translate.intro}},[a("label",[t._v(t._s(t.Intro)+" :")]),a("div",{staticClass:"input-can-translate"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.intro[t.actualLanguage],expression:"intro[actualLanguage]"}],staticClass:"form__input field-general w-input",staticStyle:{margin:"0"},attrs:{rows:"3",maxlength:"2000"},domProps:{value:t.intro[t.actualLanguage]},on:{input:function(e){e.target.composing||t.$set(t.intro,t.actualLanguage,e.target.value)}}}),"0"!==t.manyLanguages?a("button",{staticClass:"translate-icon",class:{"translate-icon-selected":t.translate.intro},attrs:{type:"button"},on:{click:function(e){t.translate.intro=!t.translate.intro}}}):t._e()])]),t.translate.intro?a("translation",{attrs:{label:t.intro,actualLanguage:t.actualLanguage}}):t._e(),-1==t.model_id?a("div",{staticClass:"col-md-12 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.template,expression:"template"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.template)?t._i(t.template,null)>-1:t.template},on:{change:function(e){var a=t.template,o=e.target,n=!!o.checked;if(Array.isArray(a)){var s=null,i=t._i(a,s);o.checked?i<0&&(t.template=a.concat([s])):i>-1&&(t.template=a.slice(0,i).concat(a.slice(i+1)))}else t.template=n}}}),a("label",{staticClass:"ml-10px mb-0"},[t._v(t._s(t.SaveAsTemplate))])]):t._e()],1),a("div",{staticClass:"d-flex justify-content-between mb-1"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer w-retour",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalMenu")}}},[t._v(" "+t._s(t.Retour)+" ")]),a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.createMenu()}}},[t._v(" "+t._s(t.Add)+" ")])]),t.submitted?a("div",{staticClass:"loading-form",staticStyle:{top:"10vh"}},[a("Ring-Loader",{attrs:{color:"#12db42"}})],1):t._e()])],1)},nl=[],sl=a("4328"),il={name:"modalMenu",components:{translation:Wo},props:{profileId:Number,actualLanguage:String,manyLanguages:Number},data:function(){return{translate:{label:!1,intro:!1},label:{fr:"",en:""},intro:{fr:"",en:""},model_id:-1,template:!1,models:[],errors:!1,changes:!1,submitted:!1,Name:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_NAME"),Intro:Joomla.JText._("COM_EMUNDUS_ONBOARD_FIELD_INTRO"),Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Add:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD"),dataSaved:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED"),informations:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS"),addMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),LabelRequired:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME"),ChooseExistingPageModel:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_CHOOSE_EXISTING_MODEL_PAGE"),TranslateEnglish:Joomla.JText._("COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH"),SaveAsTemplate:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE")}},methods:{beforeClose:function(t){!0===this.changes&&this.$emit("show","foo-velocity","warn",this.dataSaved,this.informations),this.label={fr:"",en:""},this.intro={fr:"",en:""},this.$emit("modalClosed"),this.changes=!1},beforeOpen:function(t){this.getExistingPages()},getExistingPages:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getPagesModel"}).then((function(e){t.models=e.data}))},createMenu:function(){var t=this;this.changes=!0,""!=this.label[this.actualLanguage]||-1!=this.model_id?(this.submitted=!0,"fr"==this.actualLanguage&&""==this.label.en?(this.label.fr=this.profileId+"-"+this.label.fr,this.label.en=this.profileId+"-My new page"):"en"==this.actualLanguage&&""==this.label.fr?(this.label.en=this.profileId+"-"+this.label.en,this.label.fr=this.profileId+"-Ma nouvelle page"):(this.label.en=this.profileId+"-"+this.label.en,this.label.fr=this.profileId+"-"+this.label.fr),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createMenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:sl.stringify({label:this.label,intro:this.intro,prid:this.profileId,modelid:this.model_id,template:this.template})}).then((function(e){t.submitted=!1,t.$modal.hide("modalMenu"),t.$emit("AddMenu",e.data)})).catch((function(t){console.log(t)}))):this.errors=!0}},watch:{model_id:function(t){var e=this;-1!=t?Object.values(this.models).forEach((function(t){if(t.form_id==e.model_id){e.label.fr=t.label.fr,e.label.en=t.label.en;var a=document.createElement("div"),o=document.createElement("div");a.innerHTML=t.intro.fr,o.innerHTML=t.intro.en,e.intro.fr=a.innerText,e.intro.en=o.innerText}})):(this.label.fr="",this.intro.fr="")}}},rl=il,ll=Object(b["a"])(rl,ol,nl,!1,null,"0537f5e6",null),cl=ll.exports,dl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalAffectCampaign"}},[a("modal",{attrs:{name:"modalAffectCampaign",height:"auto",transition:"nice-modal-fade","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!1},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"modalC-content"},[a("div",{staticClass:"update-field-header"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalAffectCampaign")}}},[a("em",{staticClass:"fas fa-times-circle"})])]),a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.affectCampaigns)+" ")])]),0===t.campaigns.length?a("p",{staticClass:"mt-1 mb-1"},[t._v(t._s(t.campaignsEmpty))]):t._e(),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"searchTerm",attrs:{type:"text",placeholder:t.Search},domProps:{value:t.searchTerm},on:{keyup:t.searchCampaignByTerm,input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),a("button",{staticClass:"searchButton",attrs:{type:"button"},on:{click:t.searchCampaignByTerm}},[a("em",{staticClass:"fas fa-search"})])])]),t._l(t.campaigns,(function(e,o){return a("div",{key:o,staticClass:"user-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.affectedCampaigns[e.id],expression:"affectedCampaigns[campaign.id]"}],staticClass:"form-check-input bigbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.affectedCampaigns[e.id])?t._i(t.affectedCampaigns[e.id],null)>-1:t.affectedCampaigns[e.id]},on:{change:function(a){var o=t.affectedCampaigns[e.id],n=a.target,s=!!n.checked;if(Array.isArray(o)){var i=null,r=t._i(o,i);n.checked?r<0&&t.$set(t.affectedCampaigns,e.id,o.concat([i])):r>-1&&t.$set(t.affectedCampaigns,e.id,o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.affectedCampaigns,e.id,s)}}}),a("div",{staticClass:"ml-10px"},[a("p",[t._v(t._s(e.label))])])])}))],2),a("div",{staticClass:"col-md-12 mb-1"},[a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",on:{click:function(e){return e.preventDefault(),t.affectToForm(e)}}},[t._v(t._s(t.Continuer))]),t.testing?t._e():a("a",{staticClass:"bouton-sauvergarder-et-continuer-3",staticStyle:{"margin-right":"20px"},on:{click:function(e){return e.preventDefault(),t.goAddCampaign(e)}}},[t._v(t._s(t.addCampaign))])])])],1)},ul=[],ml=a("4328"),pl={name:"modalAffectCampaign",props:{prid:Number,testing:Boolean},data:function(){return{campaigns:[],affectedCampaigns:[],searchTerm:"",Retour:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Continuer:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CONTINUER"),affectCampaigns:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_AFFECTCAMPAIGNS"),campaignsEmpty:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_CAMPAIGNSEMPTY"),addCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN")}},methods:{beforeClose:function(t){},beforeOpen:function(t){this.getCampaigns()},affectToForm:function(){var t=this,e=[];this.affectedCampaigns.length>0?(this.campaigns.forEach((function(a){t.affectedCampaigns[a.id]&&e.push(a.id)})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=affectcampaignstoform",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:ml.stringify({prid:this.prid,campaigns:e})}).then((function(){t.testing?e.length>0&&(t.$emit("testForm"),t.$modal.hide("modalAffectCampaign")):t.redirectJRoute("index.php?option=com_emundus_onboard&view=form")}))):this.testing?this.$modal.hide("modalAffectCampaign"):this.redirectJRoute("index.php?option=com_emundus_onboard&view=form")},goAddCampaign:function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:"index.php?option=com_emundus_onboard&view=campaign&layout=add&cid="},paramsSerializer:function(t){return ml.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},getCampaigns:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignstoaffect").then((function(e){t.campaigns=e.data.data}))},searchCampaignByTerm:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=campaign&task=getcampaignstoaffectbyterm&term="+this.searchTerm).then((function(e){t.campaigns=e.data.data}))},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return ml.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))}}},_l=pl,fl=(a("7cb2"),Object(b["a"])(_l,dl,ul,!1,null,"52c60b53",null)),gl=fl.exports,hl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"modalTestingForm"}},[a("modal",{attrs:{name:"modalTestingForm",height:"auto",transition:"little-move-left","min-width":200,"min-height":200,delay:100,adaptive:!0,clickToClose:!0},on:{closed:t.beforeClose,"before-open":t.beforeOpen}},[a("div",{staticClass:"fixed-header-modal"},[a("div",{staticClass:"topright"},[a("button",{staticClass:"btnCloseModal",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$modal.hide("modalTestingForm")}}},[a("em",{staticClass:"fas fa-times"})])]),a("div",{staticClass:"update-field-header"},[a("h2",{staticClass:"update-title-header"},[t._v(" "+t._s(t.testingForm)+" ")])])]),a("div",{staticClass:"modalC-content"},[t.campaigns.length>1?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.ChooseCampaign)+" :")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.cid,expression:"cid"}],staticClass:"dropdown-toggle",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cid=e.target.multiple?a:a[0]}}},t._l(t.campaigns,(function(e,o){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.label))])})),0)]):t._e(),t.filesExist?a("div",{staticClass:"form-group"},[a("p",[t._v(t._s(t.FileExistsBeforeTesting))])]):t._e()]),a("div",{staticClass:"d-flex justify-content-between mb-1"},[t.filesExist?a("button",{staticClass:"bouton-sauvergarder-et-continuer",attrs:{type:"button"},on:{click:t.goExistingFile}},[t._v(t._s(t.ContinueFile))]):t._e(),a("button",{staticClass:"bouton-sauvergarder-et-continuer ml-10px",attrs:{type:"button"},on:{click:t.createNewFile}},[t._v(t._s(t.CreateFile))])])])],1)},bl=[],vl=a("4328"),Cl={name:"modalTestingForm",components:{},props:{profileId:Number,actualLanguage:String,campaigns:Object,currentForm:Number,currentMenu:Number},data:function(){return{cid:-1,filesExist:!1,ContinueFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_CONTINUE_FILE"),CreateFile:Joomla.JText._("COM_EMUNDUS_ONBOARD_CREATE_FILE"),ChooseCampaign:Joomla.JText._("COM_EMUNDUS_ONBOARD_CHOOSE_CAMPAIGN"),FileExistsBeforeTesting:Joomla.JText._("COM_EMUNDUS_ONBOARD_FILE_EXIST_BEFORE_TESTING"),testingForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_TESTING_FORM")}},methods:{beforeClose:function(t){this.$emit("modalClosed")},beforeOpen:function(t){var e=this;setTimeout((function(){e.cid=e.campaigns[0].id}),100)},goExistingFile:function(){window.open("/index.php?option=com_fabrik&view=form&formid="+this.currentForm+"&Itemid="+this.currentMenu+"&usekey=fnum&rowid="+this.filesExist+"&r=1#em-panel"),this.$modal.hide("modalTestingForm")},createNewFile:function(){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=deletetestingfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:vl.stringify({file:this.filesExist})}).then((function(e){1==e.data.status&&c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createtestingfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:vl.stringify({cid:t.cid})}).then((function(e){window.open("/index.php?option=com_emundus&task=openfile&fnum="+e.data.fnum+"&redirect=1==&Itemid=1079#em-panel"),t.$modal.hide("modalTestingForm")}))}))}},watch:{cid:function(t){var e=this;this.campaigns.forEach((function(a){a.id==t&&(a.files.length>0?e.filesExist=a.files[0].fnum:e.filesExist=!1)}))}}},Ol=Cl,Dl=Object(b["a"])(Ol,hl,bl,!1,null,"7638995e",null),El=Dl.exports,xl=a("4328"),yl={name:"FormBuilder",props:{prid:String,index:Number,cid:Number,actualLanguage:String,manyLanguages:Number},components:{ModalAddDocuments:An,Tasks:ht,ModalTestingForm:El,List:Ot,ModalAffectCampaign:gl,Builder:Qr,ModalSide:al,ModalMenu:cl,draggable:Sa.a},data:function(){return{actions_menu:!1,optionsModal:!1,UpdateUx:!1,menuHighlight:0,indexHighlight:-1,indexGrab:"0",indexGrabDocuments:"0",updateFormLabel:!1,animation:{enter:{opacity:[1,0],translateX:[0,-300],scale:[1,.2]},leave:{opacity:0,height:0}},loading:!1,first_loading:!1,lastUpdate:(new Date).getHours()+":"+((new Date).getMinutes()<10?"0":"")+(new Date).getMinutes(),formObjectArray:[],submittionPages:[],formList:"",profileLabel:"",id:0,grab:0,grabDocs:0,rgt:0,builderKey:0,builderSubmitKey:0,files:0,currentDoc:null,documentsList:[],campaignsAffected:{},testing:!1,link:"",dragging:!1,draggingIndex:-1,elementDisabled:!1,addingElement:!1,plugins:{field:{id:0,value:"field",icon:"fas fa-font",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},textarea:{id:5,value:"textarea",icon:"far fa-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")},checkbox:{id:2,value:"checkbox",icon:"far fa-check-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},radiobutton:{id:4,value:"radiobutton",icon:"fas fa-list-ul",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},dropdown:{id:3,value:"dropdown",icon:"fas fa-th-list",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},birthday:{id:1,value:"birthday",icon:"far fa-calendar-alt",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},display:{id:6,value:"display",icon:"fas fa-paragraph",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DISPLAY")}},docForm:{name:{fr:"Document sans nom",en:"Unamed document"},description:{fr:"Document sans description",en:"Document without description"},nbmax:1,selectedTypes:{pdf:!0}},addMenu:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU"),addGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),Actions:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS"),sendFormButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEND_FORM"),Edit:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),FormPage:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_PAGE"),SubmitPage:Joomla.JText._("COM_EMUNDUS_ONBOARD_SUBMIT_PAGE"),testingForm:Joomla.JText._("COM_EMUNDUS_ONBOARD_TESTING_FORM"),Form:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM"),Documents:Joomla.JText._("COM_EMUNDUS_ONBOARD_DOCUMENTS"),AddNewDocument:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_NEW_DOCUMENT"),Back:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Savingat:Joomla.JText._("COM_EMUNDUS_ONBOARD_SAVING_AT"),Validate:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),update:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),updating:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATING"),updateSuccess:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS"),updateFailed:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED"),ExitFormbuilder:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EXIT_FORMBUILDER")}},methods:{slpitProfileIdfromLabel:function(t){return t.split(/-(.+)/)[1]},createElement:function(t,e,a){var o=this,n=this.formObjectArray;if(1===this.menuHighlight&&(n=this.submittionPages),!Mt.a.isEmpty(n[this.indexHighlight].object.Groups))if(this.loading=!0,"emundus_fileupload"==e){var s=[];Object.keys(this.docForm.selectedTypes).forEach((function(t){1==o.docForm.selectedTypes[t]&&s.push(t)}));var i={document:this.docForm,types:s,cid:this.cid,pid:this.prid};this.createElementEMundusFileUpload(i,t,e,a)}else c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimpleelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({gid:t,plugin:e})}).then((function(e){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.data.scalar,gid:t},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){o.menuHighlightCustumisation(e,t,a),o.loading=!1}))}))},createElementEMundusFileUpload:function(t,e,a,o){var n=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=campaign&task=createdocument",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify(t)}).then((function(t){n.$emit("UpdateDocuments"),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimpleelement",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({gid:e,plugin:a,attachementId:t.data.data})}).then((function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t.data.scalar,gid:e},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(t){n.menuHighlightCustumisation(t,e,o),n.getDocuments(),n.loading=!1}))}))}))},menuHighlightCustumisation:function(t,e,a){0===this.menuHighlight?(this.$set(this.formObjectArray[this.indexHighlight].object.Groups["group_"+e],"elements[element"+t.data.id+"]",t.data),this.formObjectArray[this.indexHighlight].object.Groups["group_"+e].elts.splice(a,0,t.data),this.$refs.builder.updateOrder(e,this.formObjectArray[this.indexHighlight].object.Groups["group_"+e].elts),this.$refs.builder.$refs.builder_viewer.keyElements["element"+t.data.id]=0,this.$refs.builder.$refs.builder_viewer.enableActionBar(t.data.id),this.$refs.builder.$refs.builder_viewer.enableLabelInput(t.data.id)):(this.$set(this.submittionPages[this.indexHighlight].object.Groups["group_"+e],"elements[element"+t.data.id+"]",t.data),this.submittionPages[this.indexHighlight].object.Groups["group_"+e].elts.splice(a,0,t.data),this.$refs.builder_submit.updateOrder(e,this.submittionPages[this.indexHighlight].object.Groups["group_"+e].elts),this.$refs.builder_submit.$refs.builder_viewer.keyElements["element"+t.data.id]=0,this.$refs.builder_submit.$refs.builder_viewer.enableActionBar(t.data.id),this.$refs.builder_submit.$refs.builder_viewer.enableLabelInput(t.data.id))},addingNewElement:function(t){this.dragging=!1,this.draggingIndex=-1,"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#e4e4e9",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #c3c3ce",document.getElementsByClassName("no-elements-tip")[0].innerHTML=Joomla.JText._("COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS"));var e=t.clone.id.split("_")[1],a=t.to.parentElement.parentElement.parentElement.id.split("_")[1];"undefined"!=typeof a&&this.createElement(a,e,t.newIndex)},addingNewElementByDblClick:Mt.a.debounce((function(t){var e=Object.keys(this.formObjectArray[this.indexHighlight].object.Groups)[Object.keys(this.formObjectArray[this.indexHighlight].object.Groups).length-1].split("_")[1],a=this.formObjectArray[this.indexHighlight].object.Groups["group_"+e].elts.length;"undefined"!=typeof e&&this.createElement(e,t,a)}),250,{maxWait:1e3}),createGroup:function(){var t=this;this.loading=!0;var e=this.formObjectArray[this.indexHighlight].object.id;1===this.menuHighlight&&(e=this.submittionPages[this.indexHighlight].object.id),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimplegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({fid:e})}).then((function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXT",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({toJTEXT:e.data.group_tag})}).then((function(a){e.data.group_showLegend=a.data,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getalltranslations",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({toJTEXT:e.data.group_tag})}).then((function(a){e.data.label.fr=a.data.fr,e.data.label.en=a.data.en,t.loading=!1,t.pushGroup(e.data)}))}))}))},UpdateName:function(t,e){this.formObjectArray[t].object.show_title.value=e},UpdateIntro:function(t,e){this.formObjectArray[t].object.intro_value=e},UpdateUXT:function(){this.UpdateUx=!0},updateLabelForm:function(){var t=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=updateformlabel",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({label:this.profileLabel,prid:this.prid})}).then((function(e){t.show("foo-velocity","success",t.updateSuccess,t.update),t.updateFormLabel=!1})).catch((function(e){t.show("foo-velocity","error",t.updateFailed,t.updating),console.log(e)}))},pushGroup:function(t){var e=this;0===this.menuHighlight?(this.formObjectArray.forEach((function(a,o){a.object.id==t.formid&&(e.formObjectArray[o]["object"]["Groups"]["group_"+t.group_id]={elements:{},elts:[],group_id:t.group_id,group_showLegend:t.group_showLegend,label:{fr:t.label.fr,en:t.label.en},group_tag:t.group_tag,ordering:t.ordering})})),this.$refs.builder.getDataObject(),this.$refs.builder.$refs.builder_viewer.openGroup[t.group_id]=!0):(this.submittionPages.forEach((function(a,o){a.object.id==t.formid&&(e.submittionPages[o]["object"]["Groups"]["group_"+t.group_id]={elements:{},elts:[],group_id:t.group_id,group_showLegend:t.group_showLegend,label:{fr:t.label.fr,en:t.label.en},group_tag:t.group_tag,ordering:t.ordering})})),this.$refs.builder_submit.getDataObject(),this.$refs.builder_submit.$refs.builder_viewer.openGroup[t.group_id]=!0),this.elementDisabled=!1,setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),200)},pushMenu:function(t){var e=this;this.formList.push(t),c.a.get("index.php?option=com_emundus_onboard&view=form&formid="+t.id+"&format=vue_jsonclean").then((function(a){e.formObjectArray.push({object:a.data,rgt:t.rgt,link:t.link}),e.indexHighlight=e.formObjectArray.length-1}))},removeMenu:function(t){var e=this;this.formObjectArray.forEach((function(a,o){a.object.id==t&&e.formObjectArray.splice(o,1)})),this.builderKey+=1,this.indexHighlight-=1},removeGroup:function(t,e){var a=this;this.formObjectArray.forEach((function(o,n){o.object.id==e&&delete a.formObjectArray[n]["object"]["Groups"]["group_"+t]})),this.builderKey+=1},updateFormObjectAndComponent:function(){this.formObjectArray=[],this.getDataObjectSingle(this.indexHighlight),this.builderKey+=1},getElement:function(t,e){var a=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t,gid:e},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(t){a.formObjectArray[a.indexHighlight].object.Groups["group_"+e].elements["element"+t.data.id]=t.data,a.formObjectArray[a.indexHighlight].object.Groups["group_"+e].elts.push(t.data),a.builderKey+=1}))},tip:function(){this.showTip("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP")+"<br/>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP1")+"<br/>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP2"),Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP"))},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Information";this.$notify({group:t,title:"".concat(o),text:a,type:e}),this.lastUpdate=(new Date).getHours()+":"+((new Date).getMinutes()<10?"0":"")+(new Date).getMinutes(),document.getElementsByClassName("fa-sync")[0].style.transform="rotate(360deg)",setTimeout((function(){document.getElementsByClassName("fa-sync")[0].style.transform="unset"}),1500)},showTip:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:t,title:"".concat(a),text:e,duration:2e4})},clean:function(t){this.$notify({group:t,clean:!0})},enableUpdatingForm:function(){var t=this;this.updateFormLabel=!0,setTimeout((function(){document.getElementById("update_label_form_"+t.prid).focus()}),100)},getDataObject:function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.asyncForEach(this.formList,function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=a.link.replace("fabrik","emundus_onboard"),t.next=3,c.a.get(o+"&format=vue_jsonclean").then((function(t){e.formObjectArray.push({object:t.data,rgt:a.rgt,link:a.link})})).then((function(t){e.formObjectArray.sort((function(t,e){return t.rgt-e.rgt}))})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:this.loading=!1,this.indexHighlight=0,this.elementDisabled=Mt.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups),this.rgt=this.formObjectArray[this.indexHighlight].rgt;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDataObjectSingle:function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(e){var a,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this.formList[e].link.replace("fabrik","emundus_onboard"),t.next=3,c.a.get(a+"&format=vue_jsonclean").then((function(t){o.formObjectArray[e].object=t.data,console.log(t.data)})).then((function(t){o.formObjectArray.sort((function(t,e){return t.rgt-e.rgt}))})).catch((function(t){console.log(t)}));case 3:this.loading=!1,this.elementDisabled=Mt.a.isEmpty(this.formObjectArray[e].object.Groups),this.rgt=this.formObjectArray[e].rgt,this.indexHighlight=e;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),asyncForEach:function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(e,a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<e.length)){t.next=7;break}return t.next=4,a(e[o],o,e);case 4:o++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}(),getCookie:function(t){for(var e=t+"=",a=decodeURIComponent(document.cookie),o=a.split(";"),n=0;n<o.length;n++){var s=o[n];while(" "==s.charAt(0))s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return""},getFilesByForm:function(){var t=this;c.a.get("index.php?option=com_emundus_onboard&controller=form&task=getfilesbyform&pid="+this.prid).then((function(e){t.files=e.data.data,0!=t.files&&t.tip()}))},getSubmittionPage:function(){var t=this;c()({method:"GET",url:"index.php?option=com_emundus_onboard&controller=form&task=getsubmittionpage",params:{prid:this.prid},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){var a=e.data.link.replace("fabrik","emundus_onboard");c.a.get(a+"&format=vue_jsonclean").then((function(a){t.submittionPages.push({object:a.data,rgt:e.data.rgt,link:e.data.link})}))}))},getForms:function(){var t=this;this.loading=!0,c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getFormsByProfileId",params:{profile_id:this.prid},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){t.formList=e.data.data,setTimeout((function(){t.formList.forEach((function(e){t.formObjectArray.push({object:{},rgt:e.rgt,link:e.link})})),t.getDataObjectSingle(0),t.getProfileLabel(t.prid)}),100)})).catch((function(t){console.log(t)}))},getDocuments:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getDocuments",params:{pid:this.prid},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){t.documentsList=e.data.data}))},removeDocument:function(t,e){var a=this;c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=removeDocumentFromProfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({did:e})}).then((function(){a.documentsList.splice(t,1)}))},getProfileLabel:function(t){var e=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getProfileLabelByProfileId",params:{profile_id:t},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(t){e.profileLabel=t.data.data.label})).catch((function(t){console.log(t)}))},exitForm:function(){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:"index.php?option=com_emundus_onboard&view=form"},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},sendForm:function(){var t=this;0!=this.cid?c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:"index.php?option=com_emundus_onboard&view=form&layout=addnextcampaign&cid="+this.cid+"&index=4"},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data})):c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getassociatedcampaign",params:{pid:this.prid},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){e.data.data.length>0?history.go(-1):t.$modal.show("modalAffectCampaign")})).catch((function(t){console.log(t)}))},testForm:function(){var t=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=gettestingparams",params:{prid:this.prid},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){t.campaignsAffected=e.data.campaign_files,Object.keys(t.campaignsAffected).length>1?t.$modal.show("modalTestingForm"):Object.keys(t.campaignsAffected).length>0?t.campaignsAffected[0].files.length>0?t.$modal.show("modalTestingForm"):c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createtestingfile",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({cid:t.campaignsAffected[0].id})}).then((function(t){window.open("/index.php?option=com_emundus&task=openfile&fnum="+t.data.fnum+"&redirect=1==&Itemid=1079#em-panel")})):(t.testing=!0,c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=form&task=getassociatedcampaign",params:{pid:t.prid},paramsSerializer:function(t){return xl.stringify(t)}}).then((function(e){t.$modal.show("modalAffectCampaign")})))}))},changeGroup:function(t,e){var a=this;this.loading=!0,Mt.a.isEmpty(this.formObjectArray[t].object)?this.getDataObjectSingle(t).then((function(){a.loading=!1})):(this.elementDisabled=Mt.a.isEmpty(this.formObjectArray[t].object.Groups),this.rgt=this.formObjectArray[t].rgt,this.indexHighlight=t,this.loading=!1),1===this.menuHighlight?(this.$refs.builder_submit.$refs.builder_viewer.clickUpdatingLabel=!1,this.$refs.builder_submit.$refs.builder_viewer.translate.label=!1):(this.$refs.builder.$refs.builder_viewer.clickUpdatingLabel=!1,this.$refs.builder.$refs.builder_viewer.translate.label=!1),document.cookie="page_"+this.prid+"="+t+"; expires=Session; path=/"},SomethingChange:function(t){var e=this;this.dragging=!0;this.formList.forEach((function(t,a){t.rgt=e.formObjectArray[a].rgt})),this.reorderItems()},showElements:function(){this.elementDisabled?this.addingElement=!1:this.addingElement=!this.addingElement},reorderingDocuments:function(){this.documentsList.forEach((function(t,e){t.ordering=e})),c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=form&task=reorderDocuments",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({documents:this.documentsList})})},reorderItems:function(){this.formList.forEach((function(t){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=reordermenu",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:xl.stringify({rgt:t.rgt,link:t.link})}).catch((function(t){console.log(t)}))}))},enableGrab:function(t){1!==this.formList.length&&(this.indexGrab=t,this.grab=!0)},disableGrab:function(){this.indexGrab=0,this.grab=!1},enableGrabDocuments:function(t){this.indexGrabDocuments=t,this.grabDocs=!0},disableGrabDocuments:function(){this.indexGrabDocuments=0,this.grabDocs=!1},startDragging:function(){"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#fff",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #16afe1",document.getElementsByClassName("no-elements-tip")[0].innerHTML="")},enableActionsMenu:function(){var t=document.getElementsByClassName("action-label");this.actions_menu=!this.actions_menu,this.addingElement=!1,this.actions_menu?setTimeout((function(){t.forEach((function(t){t.style.display="block"}))}),300):t.forEach((function(t){t.style.display="none"}))}},created:function(){jQuery("#g-navigation .g-main-nav .tchooz-vertical-toplevel > li").css("transform","translateX(-100px)"),jQuery(".tchooz-vertical-toplevel hr").css("transform","translateX(-100px)"),this.getForms(),this.getDocuments(),this.getSubmittionPage(),this.getFilesByForm()},computed:{dragOptions:function(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}}},Ul=yl,Nl=(a("1ad3"),Object(b["a"])(Ul,Ur,Nr,!1,null,"2abfa630",null)),Tl=Nl.exports,Al=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("notifications",{attrs:{group:"foo-velocity","animation-type":"velocity",speed:500,position:"bottom left",classes:"vue-notification-custom"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"sidebar-formbuilder"},[a("transition",{attrs:{name:"move-right"}},[a("div",{staticClass:"actions-menu menu-block"},[a("div",[a("div",{staticClass:"action-links"},[a("a",{staticClass:"d-flex action-link",staticStyle:{"padding-top":"2em"},on:{click:function(e){return t.$modal.show("modalMenu")}}},[a("em",{staticClass:"add-page-icon col-md-offset-1 col-sm-offset-1"}),a("label",{directives:[{name:"show",rawName:"v-show",value:t.actions_menu,expression:"actions_menu"}],staticClass:"action-label col-md-offset-2 col-sm-offset-1"},[t._v(t._s(t.addMenu))])]),a("a",{staticClass:"d-flex action-link",on:{click:function(e){return t.createGroup()}}},[a("em",{staticClass:"add-group-icon col-md-offset-1 col-sm-offset-1"}),a("label",{directives:[{name:"show",rawName:"v-show",value:t.actions_menu,expression:"actions_menu"}],staticClass:"action-label col-md-offset-2 col-sm-offset-1"},[t._v(t._s(t.addGroup))])]),a("a",{staticClass:"d-flex action-link",class:{"disable-element":t.elementDisabled},on:{click:t.showElements}},[a("em",{staticClass:"add-element-icon col-md-offset-1 col-sm-offset-1"}),a("label",{directives:[{name:"show",rawName:"v-show",value:t.actions_menu,expression:"actions_menu"}],staticClass:"action-label col-md-offset-2 col-sm-offset-1",class:[{"disable-element":t.elementDisabled},t.addingElement?"down-arrow":"right-arrow"]},[t._v(t._s(t.addItem))])]),a("transition",{attrs:{name:"slide-right",type:"transition"}},[t.addingElement?a("div",{staticClass:"plugins-list"},[a("a",{staticClass:"d-flex col-md-offset-1 back-button-action pointer",staticStyle:{padding:"0 15px"},on:{click:function(e){t.addingElement=!t.addingElement}}},[a("em",{staticClass:"fas fa-arrow-left mr-1"}),t._v(" "+t._s(t.Back)+" ")]),a("hr",{staticStyle:{width:"80%",margin:"10px auto"}}),a("draggable",t._b({staticStyle:{"padding-bottom":"2em","margin-top":"10%"},attrs:{handle:".handle","drag-class":"plugin-drag","chosen-class":"plugin-chosen","ghost-class":"plugin-ghost"},on:{start:function(e){t.startDragging(),t.dragging=!0,t.draggingIndex=t.index},end:function(e){return t.addingNewElement(e)}},model:{value:t.plugins,callback:function(e){t.plugins=e},expression:"plugins"}},"draggable",t.dragOptions,!1),t._l(t.plugins,(function(e,o){return a("div",{staticClass:"d-flex plugin-link col-md-offset-1 col-sm-offset-1 handle",attrs:{id:"plugin_"+e.value,title:e.name},on:{dblclick:function(a){return t.addingNewElementByDblClick(e.value)}}},[a("em",{class:e.icon}),a("span",{staticClass:"ml-10px"},[t._v(t._s(e.name))])])})),0)],1):t._e()])],1)])])])],1),a("div",{staticClass:"menu-block",class:t.actions_menu?"col-md-8 col-md-offset-4 col-sm-9 col-sm-offset-3":""},[a("div",{staticClass:"heading-block",class:t.addingElement?"col-md-offset-2 col-lg-offset-1 col-md-10":"col-md-12"},[t._m(0),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"bouton-sauvergarder-et-continuer bouton-sauvergarder-et-continuer-green mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:t.Validate},on:{click:t.sendForm}},[t._v(t._s(t.Validate))]),a("button",{staticClass:"bouton-sauvergarder-et-continuer mt-1",staticStyle:{"margin-left":"10px"},attrs:{title:t.Validate},on:{click:t.sendForm}},[t._v(t._s(t.ExitFormbuilder))])])]),a("div",{staticClass:"form-viewer-builder",class:[t.addingElement?"col-sm-offset-5 col-md-offset-2 col-lg-offset-1 col-sm-9 col-md-10":"col-md-12",t.optionsModal?"col-sm-7 col-md-9":"col-md-12"]},[t.formObjectArray[t.indexHighlight]?a("Builder",{key:t.builderKey,ref:"builder",attrs:{object:t.formObjectArray[t.indexHighlight],UpdateUx:t.UpdateUx,rgt:t.rgt,prid:t.prid,eval:1,files:t.files,actualLanguage:t.actualLanguage,manyLanguages:t.manyLanguages},on:{show:t.show,UpdateFormBuilder:t.updateFormObjectAndComponent,removeGroup:t.removeGroup,modalClosed:function(e){t.optionsModal=!1},modalOpen:function(e){t.optionsModal=!0}}}):t._e()],1)])]),t.loading?a("div",{staticClass:"loading-form"},[a("Ring-Loader",{attrs:{color:"#12DB42"}})],1):t._e()],1)},Ml=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"form-title",staticStyle:{padding:"0",margin:"0"}},[a("img",{staticClass:"mr-1",attrs:{src:"/images/emundus/menus/form.png"}}),t._v("Evaluation")])}],Sl=a("4328"),wl={name:"EvaluationBuilder",props:{prid:String,index:Number,cid:Number,eval:Number,actualLanguage:String,manyLanguages:Number},components:{Tasks:ht,List:Ot,ModalAffectCampaign:gl,Builder:Qr,ModalSide:al,ModalMenu:cl,draggable:Sa.a},data:function(){return{actions_menu:!1,optionsModal:!1,UpdateUx:!1,indexHighlight:0,animation:{enter:{opacity:[1,0],translateX:[0,-300],scale:[1,.2]},leave:{opacity:0,height:0}},loading:!1,first_loading:!1,formObjectArray:[],rgt:0,builderKey:0,files:0,link:"",dragging:!1,draggingIndex:-1,elementDisabled:!1,addingElement:!1,plugins:{field:{id:0,value:"field",icon:"fas fa-font",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_FIELD")},textarea:{id:5,value:"textarea",icon:"far fa-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA")},checkbox:{id:2,value:"checkbox",icon:"far fa-check-square",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX")},radiobutton:{id:4,value:"radiobutton",icon:"fas fa-list-ul",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON")},dropdown:{id:3,value:"dropdown",icon:"fas fa-th-list",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN")},birthday:{id:1,value:"birthday",icon:"far fa-calendar-alt",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY")},display:{id:6,value:"display",icon:"fas fa-paragraph",name:Joomla.JText._("COM_EMUNDUS_ONBOARD_TYPE_DISPLAY")}},addGroup:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP"),addItem:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM"),Actions:Joomla.JText._("COM_EMUNDUS_ONBOARD_ACTIONS"),sendFormButton:Joomla.JText._("COM_EMUNDUS_ONBOARD_SEND_FORM"),Edit:Joomla.JText._("COM_EMUNDUS_ONBOARD_MODIFY"),FormPage:Joomla.JText._("COM_EMUNDUS_ONBOARD_FORM_PAGE"),SubmitPage:Joomla.JText._("COM_EMUNDUS_ONBOARD_SUBMIT_PAGE"),groupCreated:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_CREATEDGROUPSUCCES"),update:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_UPDATE"),Back:Joomla.JText._("COM_EMUNDUS_ONBOARD_ADD_RETOUR"),Validate:Joomla.JText._("COM_EMUNDUS_ONBOARD_OK"),ExitFormbuilder:Joomla.JText._("COM_EMUNDUS_ONBOARD_BUILDER_EXIT_FORMBUILDER")}},methods:{createElement:function(t,e,a){var o=this;Mt.a.isEmpty(this.formObjectArray[this.indexHighlight].object.Groups)||(this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createcriteria",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Sl.stringify({gid:t,plugin:e})}).then((function(e){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:e.data.scalar,gid:t},paramsSerializer:function(t){return Sl.stringify(t)}}).then((function(e){o.$set(o.formObjectArray[o.indexHighlight].object.Groups["group_"+t],"elements[element"+e.data.id+"]",e.data),o.formObjectArray[o.indexHighlight].object.Groups["group_"+t].elts.splice(a,0,e.data),o.$refs.builder.updateOrder(t,o.formObjectArray[o.indexHighlight].object.Groups["group_"+t].elts),o.$refs.builder.$refs.builder_viewer.keyElements["element"+e.data.id]=0,o.$refs.builder.$refs.builder_viewer.enableActionBar(e.data.id),o.$refs.builder.$refs.builder_viewer.enableLabelInput(e.data.id),o.loading=!1}))})))},addingNewElement:function(t){this.dragging=!1,this.draggingIndex=-1,"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#e4e4e9",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #c3c3ce",document.getElementsByClassName("no-elements-tip")[0].innerHTML=Joomla.JText._("COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS"));var e=t.clone.id.split("_")[1],a=t.to.parentElement.parentElement.parentElement.id.split("_")[1];"undefined"!=typeof a&&this.createElement(a,e,t.newIndex)},addingNewElementByDblClick:Mt.a.debounce((function(t){var e=Object.keys(this.formObjectArray[this.indexHighlight].object.Groups)[Object.keys(this.formObjectArray[this.indexHighlight].object.Groups).length-1].split("_")[1],a=this.formObjectArray[this.indexHighlight].object.Groups["group_"+e].elts.length;"undefined"!=typeof e&&this.createElement(e,t,a)}),250,{maxWait:1e3}),createGroup:function(){var t=this;this.loading=!0,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=createsimplegroup",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Sl.stringify({fid:this.formObjectArray[this.indexHighlight].object.id})}).then((function(e){c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getJTEXT",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Sl.stringify({toJTEXT:e.data.group_tag})}).then((function(a){e.data.group_showLegend=a.data,c()({method:"post",url:"index.php?option=com_emundus_onboard&controller=program&task=affectgrouptoprogram",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:Sl.stringify({group:e.data.group_id,pid:t.cid})}).then((function(e){t.show("foo-velocity","success",t.groupCreated,t.update)})),t.loading=!1,t.pushGroup(e.data)}))}))},UpdateName:function(t,e){this.formObjectArray[t].object.show_title.value=e},UpdateUXT:function(){this.UpdateUx=!0},pushGroup:function(t){this.formObjectArray[this.indexHighlight]["object"]["Groups"]["group_"+t.group_id]={elements:{},elts:[],group_id:t.group_id,group_showLegend:t.group_showLegend,label:{fr:t.label.fr,en:t.label.en},group_tag:t.group_tag,ordering:t.ordering},this.elementDisabled=!1,this.$refs.builder.getDataObject(),this.$refs.builder.$refs.builder_viewer.openGroup[t.group_id]=!0,setTimeout((function(){window.scrollTo(0,document.body.scrollHeight)}),200)},removeGroup:function(t,e){var a=this;this.formObjectArray.forEach((function(o,n){o.object.id==e&&delete a.formObjectArray[n]["object"]["Groups"]["group_"+t]})),this.builderKey+=1},updateFormObjectAndComponent:function(){this.formObjectArray=[],this.getDataObject(),this.builderKey+=1},getElement:function(t,e){var a=this;c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=formbuilder&task=getElement",params:{element:t,gid:e},paramsSerializer:function(t){return Sl.stringify(t)}}).then((function(t){a.formObjectArray[a.indexHighlight].object.Groups["group_"+e].elements["element"+t.data.id]=t.data,a.formObjectArray[a.indexHighlight].object.Groups["group_"+e].elts.push(t.data),a.builderKey+=1}))},tip:function(){this.showTip("foo-velocity",Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP")+"<br/>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP1")+"<br/>"+Joomla.JText._("COM_EMUNDUS_ONBOARD_UPDATEFORMTIP2"),Joomla.JText._("COM_EMUNDUS_ONBOARD_TIP"))},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Information";this.$notify({group:t,title:"".concat(o),text:a,type:e})},showTip:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Information";this.$notify({group:t,title:"".concat(a),text:e,duration:2e4})},clean:function(t){this.$notify({group:t,clean:!0})},getDataObject:function(){var t=Object(Tr["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.link.replace("fabrik","emundus_onboard"),t.next=3,c.a.get(e+"&format=vue_jsonclean").then((function(t){a.formObjectArray.push({object:t.data,link:a.link}),a.loading=!1,a.indexHighlight=0,a.elementDisabled=Mt.a.isEmpty(a.formObjectArray[a.indexHighlight].object.Groups)}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),sendForm:function(){this.redirectJRoute("index.php?option=com_emundus_onboard&view=campaign&layout=addnextcampaign&cid="+this.cid+"&index=0")},redirectJRoute:function(t){c()({method:"get",url:"index.php?option=com_emundus_onboard&controller=settings&task=redirectjroute",params:{link:t},paramsSerializer:function(t){return Sl.stringify(t)}}).then((function(t){window.location.href=window.location.pathname+t.data.data}))},showElements:function(){this.elementDisabled?this.addingElement=!1:this.addingElement=!this.addingElement},startDragging:function(){"undefined"!=typeof document.getElementsByClassName("no-elements-tip")[0]&&(document.getElementsByClassName("no-elements-tip")[0].style.background="#fff",document.getElementsByClassName("no-elements-tip")[0].style.border="2px dashed #16afe1",document.getElementsByClassName("no-elements-tip")[0].innerHTML="")}},created:function(){this.link="index.php?option=com_fabrik&view=form&formid="+this.eval,jQuery("#g-navigation .g-main-nav .tchooz-vertical-toplevel > li").css("transform","translateX(-100px)"),jQuery(".tchooz-vertical-toplevel hr").css("transform","translateX(-100px)"),this.getDataObject()},computed:{dragOptions:function(){return{group:{name:"items",pull:"clone",put:!1},sort:!1,disabled:!1,ghostClass:"ghost"}}}},Rl=wl,Jl=(a("80ca"),Object(b["a"])(Rl,Al,Ml,!1,null,"4368fac6",null)),kl=Jl.exports,Bl=a("1881"),Il=a.n(Bl),Ll=a("e37d"),Pl=a("d277"),jl=(a("1e3f"),a("2e26")),Fl=a("ee98"),$l=a.n(Fl),Gl=a("589d"),Hl=a.n(Gl);o["default"].directive("tooltip",Ll["c"]),o["default"].directive("close-popover",Ll["a"]),o["default"].component("v-popover",Ll["b"]),o["default"].component("table-component",jl["TableComponent"]),o["default"].component("table-column",jl["TableColumn"]),o["default"].use($l.a,{velocity:Hl.a}),o["default"].use(s.a),o["default"].use(Il.a),o["default"].use(Pl),o["default"].use(Ll["c"]),o["default"].config.productionTip=!1,o["default"].config.devtools=!0,document.getElementById("em-list-vue")&&new o["default"]({el:"list",render:function(t){return t(Ot,{props:{type:this.$el.attributes.type.value,coordinatorAccess:this.$el.attributes.coordinatorAccess.value}})}}),document.getElementById("em-addProgram-vue")&&new o["default"]({el:"#em-addProgram-vue",render:function(t){return t(zt,{props:{prog:this.$el.attributes.prog.value,actualLanguage:this.$el.attributes.actualLanguage.value}})}}),document.getElementById("em-addProgramAdvancedSettings-vue")&&new o["default"]({el:"#em-addProgramAdvancedSettings-vue",render:function(t){return t($o,{props:{prog:this.$el.attributes.prog.value,actualLanguage:this.$el.attributes.actualLanguage.value,coordinatorAccess:this.$el.attributes.coordinatorAccess.value}})}}),document.getElementById("em-addCampaign-vue")&&new o["default"]({el:"#em-addCampaign-vue",render:function(t){return t(on,{props:{campaign:this.$el.attributes.campaign.value,actualLanguage:this.$el.attributes.actualLanguage.value,coordinatorAccess:this.$el.attributes.coordinatorAccess.value,manyLanguages:this.$el.attributes.manyLanguages.value}})}}),document.getElementById("em-addEmail-vue")&&new o["default"]({el:"#em-addEmail-vue",render:function(t){return t(un,{props:{email:this.$el.attributes.email.value,actualLanguage:this.$el.attributes.actualLanguage.value}})}}),document.getElementById("em-addForm-vue")&&new o["default"]({el:"#em-addForm-vue",render:function(t){return t(bn,{props:{profileId:this.$el.attributes.profileId.value,campaignId:this.$el.attributes.campaignId.value}})}}),document.getElementById("em-addFormNextCampaign-vue")&&new o["default"]({el:"#em-addFormNextCampaign-vue",render:function(t){return t(fs,{props:{campaignId:this.$el.attributes.campaignId.value,actualLanguage:this.$el.attributes.actualLanguage.value,index:this.$el.attributes.index.value,manyLanguages:this.$el.attributes.manyLanguages.value}})}}),document.getElementById("em-formBuilder-vue")&&new o["default"]({el:"#em-formBuilder-vue",render:function(t){return t(Tl,{props:{prid:this.$el.attributes.prid.value,index:this.$el.attributes.index.value,cid:this.$el.attributes.cid.value,eval:this.$el.attributes.eval.value,actualLanguage:this.$el.attributes.actualLanguage.value,manyLanguages:this.$el.attributes.manyLanguages.value}})}}),document.getElementById("em-evaluationBuilder-vue")&&new o["default"]({el:"#em-evaluationBuilder-vue",render:function(t){return t(kl,{props:{prid:this.$el.attributes.prid.value,index:this.$el.attributes.index.value,cid:this.$el.attributes.cid.value,eval:this.$el.attributes.eval.value,actualLanguage:this.$el.attributes.actualLanguage.value,manyLanguages:this.$el.attributes.manyLanguages.value}})}}),document.getElementById("em-globalSettings-vue")&&new o["default"]({el:"#em-globalSettings-vue",render:function(t){return t(yr,{props:{actualLanguage:this.$el.attributes.actualLanguage.value,coordinatorAccess:this.$el.attributes.coordinatorAccess.value,manyLanguages:this.$el.attributes.manyLanguages.value}})}})},"57d2":function(t,e,a){},"591a":function(t,e,a){},"5b5e":function(t,e,a){},"5c32":function(t,e,a){"use strict";a("255d")},"5cee":function(t,e,a){"use strict";a("57d2")},"5fa4":function(t,e,a){"use strict";a("e7a2")},"63c1":function(t,e,a){},6408:function(t,e,a){"use strict";a("f9ec")},"65ea":function(t,e,a){},6763:function(t,e,a){},"6d71":function(t,e,a){"use strict";a("c5ce")},"701d":function(t,e,a){"use strict";a("aafc")},"73b2":function(t,e,a){"use strict";a("0fcc")},"74c0":function(t,e,a){"use strict";a("c576")},"77fe":function(t,e,a){},"7a8c":function(t,e,a){"use strict";a("ba40")},"7ab4":function(t,e,a){},"7cb2":function(t,e,a){"use strict";a("7ea4")},"7e2b":function(t,e,a){},"7ea4":function(t,e,a){},"7f5c":function(t,e,a){},"80ca":function(t,e,a){"use strict";a("892d")},"81b3":function(t,e,a){},"81e9b":function(t,e,a){"use strict";a("b497")},8226:function(t,e,a){},"82f3":function(t,e,a){"use strict";a("2218")},"832c":function(t,e,a){},"836b":function(t,e,a){},"870a":function(t,e,a){"use strict";a("19d6")},"892d":function(t,e,a){},"8c12":function(t,e,a){},"8d2f":function(t,e,a){},"90c1":function(t,e,a){"use strict";a("6763")},"90fa":function(t,e,a){"use strict";a("ceaa")},9313:function(t,e,a){},9319:function(t,e,a){"use strict";a("3212")},"946e":function(t,e,a){"use strict";a("65ea")},"962f":function(t,e,a){},"9bb1":function(t,e,a){},"9e86":function(t,e,a){},a03b:function(t,e,a){},a592:function(t,e,a){"use strict";a("a03b")},a7fe:function(t,e,a){"use strict";a("9313")},a903:function(t,e,a){"use strict";a("8c12")},aa78:function(t,e,a){"use strict";a("abe9")},aaca:function(t,e,a){"use strict";a("f5ca")},aafc:function(t,e,a){},abe9:function(t,e,a){},b497:function(t,e,a){},ba40:function(t,e,a){},bb8f:function(t,e,a){"use strict";a("1ab8")},bdaf:function(t,e,a){"use strict";a("836b")},c576:function(t,e,a){},c5ce:function(t,e,a){},c96b:function(t,e,a){},ca99:function(t,e,a){"use strict";a("4906")},cd98:function(t,e,a){},ceaa:function(t,e,a){},d3d9:function(t,e,a){},d706:function(t,e,a){"use strict";a("962f")},d739:function(t,e,a){},d859:function(t,e,a){},da71:function(t,e,a){},db18:function(t,e,a){},dbe3:function(t,e,a){"use strict";a("d3d9")},df81:function(t,e,a){"use strict";a("36e3")},e015:function(t,e,a){"use strict";a("db18")},e0f8:function(t,e,a){},e382:function(t,e,a){},e45c:function(t,e,a){"use strict";a("cd98")},e55b:function(t,e,a){"use strict";a("e0f8")},e7a2:function(t,e,a){},ee66:function(t,e,a){"use strict";a("8226")},f003:function(t,e,a){"use strict";a("1f48")},f1cf:function(t,e,a){"use strict";a("d859")},f5ca:function(t,e,a){},f717:function(t,e,a){},f9ec:function(t,e,a){},fd3f:function(t,e,a){},fd40:function(t,e,a){},ffd0:function(t,e,a){"use strict";a("63c1")}});
//# sourceMappingURL=app.js.map
