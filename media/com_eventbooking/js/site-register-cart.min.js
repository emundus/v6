!function(e,r){r(e).ready(function(){r("#adminForm").validationEngine("attach",{onValidationComplete:function(e,t){if(1!=t)return!1;var n;if(e.on("submit",function(e){e.preventDefault()}),e.find("#btn-submit").prop("disabled",!0),void 0===(n=r("input:radio[name^=payment_method]").length?r("input:radio[name^=payment_method]:checked").val():r("input[name^=payment_method]").val()))return!0;if(0==n.indexOf("os_stripe")){if("undefined"!=typeof stripePublicKey&&r("#tr_card_number").is(":visible"))return Stripe.card.createToken({number:r("#x_card_num").val(),cvc:r("#x_card_code").val(),exp_month:r("select[name^=exp_month]").val(),exp_year:r("select[name^=exp_year]").val(),name:r("#card_holder_name").val()},stripeResponseHandler),!1;if("undefined"!=typeof stripe&&r("#stripe-card-form").is(":visible"))return stripe.createToken(a).then(function(e){e.error?(alert(e.error.message),r("#btn-submit").prop("disabled",!1)):stripeTokenHandler(e.token)}),!1}return"os_squareup"!==n||!r("#tr_card_number").is(":visible")||(sqPaymentForm.requestCardNonce(),!1)}}),buildStateFields("state","country",Joomla.getOptions("selectedState"));for(var e=Joomla.getOptions("numberMembers"),t=1;t<=e;t++)buildStateFields("state_"+t,"country_"+t,"");if("undefined"!=typeof stripe&&0<r("#stripe-card-element").length){var a=elements.create("card",{style:{base:{fontSize:"16px",color:"#32325d"}}});a.mount("#stripe-card-element")}r("#email").val()&&r("#email").validationEngine("validate");var n=Joomla.getOptions("euVatNumberField");if(n){var i=r("#"+n);i.after('<span class="invalid" id="vatnumber_validate_msg" style="display: none;">'+Joomla.JText._("EB_INVALID_VATNUMBER")+"</span></div>"),r("#country").change(function(){calculateCartRegistrationFee()}),i.change(function(){calculateCartRegistrationFee()}),Joomla.getOptions("showVatNumberField")?r("#field_"+n).show():r("#field_"+n).hide()}Joomla.getOptions("hidePaymentInformation")&&r(".payment_information").css("display","none")}),updateCart=function(){location.href=Joomla.getOptions("cartUrl")}}(document,Eb.jQuery);