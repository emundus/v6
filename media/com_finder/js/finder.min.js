((e,t,r,s)=>{if(!t)throw new Error("core.js was not properly initialised");const o=({target:e})=>{e.value.length>1&&(e.awesomplete.list=[],t.request({url:`${t.getOptions("finder-search").url}&q=${e.value}`,promise:!0}).then((r=>{let s;try{s=JSON.parse(r.responseText)}catch(e){return void t.renderMessages(t.ajaxErrorsMessages(r,"parsererror"))}"[object Array]"===Object.prototype.toString.call(s.suggestions)&&(e.awesomplete.list=s.suggestions)})).catch((e=>{t.renderMessages(t.ajaxErrorsMessages(e))})))},a=e=>{e.stopPropagation();const t=e.target.querySelector(".js-finder-advanced");if(t){[].slice.call(t.querySelectorAll("select")).forEach((e=>{e.value||e.setAttribute("disabled","disabled")}))}},l=e=>{const t=e.target.closest("form");t&&t.submit()},n=()=>{[].slice.call(s.querySelectorAll(".js-finder-search-query")).forEach((r=>{if(t.getOptions("finder-search")){r.awesomplete=new e(r),r.addEventListener("input",o);r.closest("form").querySelector(".js-finder-advanced")||r.addEventListener("awesomplete-selectcomplete",l)}}));[].slice.call(s.querySelectorAll(".js-finder-searchform")).forEach((e=>{e.addEventListener("submit",a)})),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n)})(window.Awesomplete,window.Joomla,window,document);