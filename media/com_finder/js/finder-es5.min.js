!function(){"use strict";!function(e,t,r,s){if(!t)throw new Error("core.js was not properly initialised");var n=function(e){var r=e.target;r.value.length>1&&(r.awesomplete.list=[],t.request({url:t.getOptions("finder-search").url+"&q="+r.value,promise:!0}).then((function(e){var s;try{s=JSON.parse(e.responseText)}catch(r){return void t.renderMessages(t.ajaxErrorsMessages(e,"parsererror"))}"[object Array]"===Object.prototype.toString.call(s.suggestions)&&(r.awesomplete.list=s.suggestions)})).catch((function(e){t.renderMessages(t.ajaxErrorsMessages(e))})))},o=function(e){e.stopPropagation();var t=e.target.querySelector(".js-finder-advanced");t&&[].slice.call(t.querySelectorAll("select")).forEach((function(e){e.value||e.setAttribute("disabled","disabled")}))},a=function(e){var t=e.target.closest("form");t&&t.submit()};s.addEventListener("DOMContentLoaded",(function r(){[].slice.call(s.querySelectorAll(".js-finder-search-query")).forEach((function(r){t.getOptions("finder-search")&&(r.awesomplete=new e(r),r.addEventListener("input",n),r.closest("form").querySelector(".js-finder-advanced")||r.addEventListener("awesomplete-selectcomplete",a))})),[].slice.call(s.querySelectorAll(".js-finder-searchform")).forEach((function(e){e.addEventListener("submit",o)})),s.removeEventListener("DOMContentLoaded",r)}))}(window.Awesomplete,window.Joomla,window,document)}();