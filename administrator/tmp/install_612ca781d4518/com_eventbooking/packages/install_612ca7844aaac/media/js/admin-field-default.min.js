!function(a,t){function e(){if("email"!==t('input[name="name"]').val()){var e=[],n="",a=Joomla.getOptions("validateRules"),i=parseInt(t("#datatype_validation").val());"1"===t("input[name='required']:checked").val()&&e.push("required"),a[i].length&&e.push(a[i]),0<e.length&&(n="validate["+e.join(",")+"]"),t('input[name="validation_rules"]').val(n)}else t('input[name="validation_rules"]').val("validate[required,custom[email],ajax[ajaxEmailCall]]")}Joomla.submitbutton=function(e){var n=a.adminForm;if("cancel"!==e)return""===n.name.value?(alert(Joomla.JText._("EB_ENTER_FIELD_NAME")),void n.name.focus()):""===n.title.value?(alert(Joomla.JText._("EB_ENTER_FIELD_TITLE")),void n.title.focus()):void Joomla.submitform(e);Joomla.submitform(e)},showHideEventsSelection=function(e){0==e.value?t("#events_selection_container").hide():t("#events_selection_container").show()},t(a).ready(function(){t("#name").change(function(){var e=t(this).val();e=(e=e.replace("eb_","")).replace(/[^a-zA-Z0-9_]*/gi,""),t(this).val(e)}),t("input[name='required']").click(function(){e()}),t("#datatype_validation").change(function(){e()}),t("#depend_on_field_id").change(function(){var e=t("#depend_on_field_id").val(),n=Joomla.getOptions("siteUrl");0<e?t.ajax({type:"POST",url:n+"/index.php?option=com_eventbooking&view=field&format=raw&field_id="+e,dataType:"html",success:function(e,n,a){t("#options_container").html(e),t("#depend_on_options_container").show()},error:function(e,n,a){alert(n)}}):(t("#options_container").html(""),t("#depend_on_options_container").hide())})})}(document,jQuery);