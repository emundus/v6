!function(e,l){l(e).ready(function(){if(Joomla.getOptions("hidePaymentInformation")&&l(".payment_information").css("display","none"),"undefined"!=typeof stripe&&0<l("#stripe-card-element").length){var o=elements.create("card",{style:{base:{fontSize:"16px",color:"#32325d"}}});o.mount("#stripe-card-element")}0<l("#eb-login-form").length&&l("#eb-login-form").validationEngine(),buildStateFields("state","country",Joomla.getOptions("selectedState")),l("#email").val()&&l("#email").validationEngine("validate");var e=Joomla.getOptions("euVatNumberField");if(e){var t=l("#"+e);t.after('<span class="invalid" id="vatnumber_validate_msg" style="display: none;">'+Joomla.JText._("EB_INVALID_VATNUMBER")+"</span></div>"),l("#country").change(function(){calculateIndividualRegistrationFee()}),t.change(function(){calculateIndividualRegistrationFee()}),Joomla.getOptions("showVatNumberField")?l("#field_"+e).show():l("#field_"+e).hide()}l("#adminForm").validationEngine("attach",{onValidationComplete:function(e,t){if(1!=t)return!1;if(e.on("submit",function(e){e.preventDefault()}),Joomla.getOptions("hasTicketTypes")){var n="",a="",i=0;l("select.ticket_type_quantity").each(function(){a=l(this).attr("name"),0<(i=l(this).val())&&(n=n+a+":"+i+",")}),0<n.length&&(n=n.substring(0,n.length-1)),l("#ticket_type_values").val(n)}var r;if(e.find("#btn-submit").prop("disabled",!0),void 0===(r=l('input:radio[name="payment_method"]').length?l('input:radio[name="payment_method"]:checked').val():l('input[name="payment_method"]').val()))return!0;if(0===r.indexOf("os_stripe")){if("undefined"!=typeof stripePublicKey&&l("#tr_card_number").is(":visible"))return Stripe.card.createToken({number:l("#x_card_num").val(),cvc:l("#x_card_code").val(),exp_month:l("select[name^=exp_month]").val(),exp_year:l("select[name^=exp_year]").val(),name:l("#card_holder_name").val()},stripeResponseHandler),!1;if("undefined"!=typeof stripe&&l("#stripe-card-form").is(":visible"))return stripe.createToken(o).then(function(e){e.error?(alert(e.error.message),l("#btn-submit").prop("disabled",!1)):stripeTokenHandler(e.token)}),!1}return"os_squareup"!==r||!l("#tr_card_number").is(":visible")||(sqPaymentForm.requestCardNonce(),!1)}})})}(document,Eb.jQuery);