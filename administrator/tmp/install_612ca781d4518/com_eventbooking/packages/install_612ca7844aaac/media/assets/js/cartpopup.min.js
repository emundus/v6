!function(o){closeCartPopup=function(){o.colorbox.close()},checkOut=function(t){document.location.href=t},updateCart=function(t){if(checkQuantity()){var e=o("input[name='event_id[]']").map(function(){return o(this).val()}).get(),a=o("input[name='quantity[]']").map(function(){return o(this).val()}).get();if("undefined"==typeof EBBaseAjaxUrl)var n="index.php?option=com_eventbooking&task=cart.update_cart&Itemid="+t+"&redirect=0&event_id="+e+"&quantity="+a;else n=EBBaseAjaxUrl+"&task=cart.update_cart&Itemid="+t+"&redirect=0&event_id="+e+"&quantity="+a;o.ajax({type:"POST",url:n,dataType:"html",beforeSend:function(){o("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(t){o("#cboxLoadedContent").html(t),o(".wait").remove()},error:function(t,e,a){alert(a+"\r\n"+t.statusText+"\r\n"+t.responseText)}})}},removeCart=function(t,e){if("undefined"==typeof EBBaseAjaxUrl)var a="index.php?option=com_eventbooking&task=cart.remove_cart&id="+t+"&Itemid="+e+"&redirect=0";else a=EBBaseAjaxUrl+"&task=cart.remove_cart&id="+t+"&Itemid="+e+"&redirect=0";o.ajax({type:"POST",url:a,dataType:"html",beforeSend:function(){o("#add_more_item").before('<span class="wait"><i class="fa fa-2x fa-refresh fa-spin"></i></span>')},success:function(t){o("#cboxLoadedContent").html(t),jQuery.colorbox.resize(),o(".wait").remove()},error:function(t,e,a){alert(a+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},checkQuantity=function(){for(var t,e,a,n=o("input[name='event_id[]']").map(function(){return o(this).val()}),r=o("input[name='quantity[]']").map(function(){return o(this).val()}),i=0;i<n.length;i++)if(t=n[i],e=r[i],-1!=(a=findIndex(t,arrEventIds))&&(availableQuantity=arrQuantities[a],-1!=availableQuantity&&e>availableQuantity))return alert(EB_INVALID_QUANTITY+availableQuantity),o('input[name="quantity[]"]')[i].focus(),!1;return!0},findIndex=function(t,e){for(var a=0;a<e.length;a++)if(e[a]==t)return a;return-1}}(Eb.jQuery);