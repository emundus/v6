<?php


defined("\x5f\112\x45\130\x45\x43") or die;
jimport("\x6a\x6f\x6f\155\x6c\x61\56\x61\160\160\154\x69\x63\141\164\151\x6f\156\56\143\157\x6d\x70\x6f\156\145\156\x74\56\x63\x6f\156\164\162\x6f\154\x6c\145\162\x66\157\162\x6d");
class Miniorange_samlControllerMyaccount extends JControllerForm
{
    function __construct()
    {
        $this->view_list = "\155\x79\x61\x63\143\x6f\x75\156\x74\x73";
        parent::__construct();
    }
    function verifyCustomer()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto jw;
        }
        $this->setRedirect("\x69\156\x64\x65\x78\x2e\160\150\160\77\x6f\x70\x74\x69\x6f\156\x3d\x63\157\155\137\155\151\156\151\x6f\x72\141\156\147\145\137\x73\141\x6d\x6c\46\x74\141\x62\x3d\141\x63\143\x6f\165\156\x74");
        return;
        jw:
        if (Mo_Saml_Local_Util::check_empty_or_null($post["\145\155\x61\x69\154"]) || Mo_Saml_Local_Util::check_empty_or_null($post["\x70\x61\163\x73\167\x6f\x72\144"])) {
            goto Rh;
        }
        $MM = $post["\145\155\141\x69\154"];
        $YU = $post["\160\141\x73\x73\x77\157\x72\x64"];
        goto JP;
        Rh:
        $this->setRedirect("\151\156\x64\145\170\x2e\x70\150\x70\x3f\157\x70\164\151\157\x6e\x3d\143\157\x6d\x5f\155\151\x6e\x69\x6f\162\141\156\x67\x65\x5f\163\141\155\154\46\164\x61\x62\x3d\x61\143\143\x6f\x75\156\164", "\101\154\x6c\40\x74\150\x65\x20\146\151\x65\154\144\x73\x20\141\162\x65\x20\162\x65\161\x75\151\162\145\144\56\x20\120\x6c\145\x61\163\x65\x20\x65\156\164\145\162\40\166\141\154\x69\144\x20\145\x6e\164\162\151\145\x73\56", "\x65\162\x72\157\162");
        JP:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\145\155\141\151\x6c") . "\40\x3d\x20" . $dZ->quote($MM), $dZ->quoteName("\x70\x61\163\x73\x77\x6f\162\x64") . "\x20\75\40" . $dZ->quote(base64_encode($YU)));
        $F4 = array($dZ->quoteName("\x69\x64") . "\40\75\40\x31");
        $qH->update($dZ->quoteName("\43\137\x5f\x6d\x69\156\x69\x6f\x72\x61\x6e\147\145\x5f\163\141\155\154\x5f\x63\x75\163\164\157\x6d\x65\x72\137\144\x65\x74\x61\151\x6c\163"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        $Sy = new Mo_saml_Local_Customer();
        $vO = $Sy->get_customer_key();
        $b1 = json_decode($vO, true);
        if (strcasecmp($b1["\x61\x70\151\113\145\x79"], "\x43\125\x52\x4c\x5f\x45\x52\x52\x4f\122") == 0) {
            goto HD;
        }
        if (json_last_error() == JSON_ERROR_NONE) {
            goto e7;
        }
        $this->setRedirect("\x69\156\x64\145\170\56\160\150\160\77\x6f\160\164\x69\157\156\75\x63\157\x6d\x5f\155\151\x6e\x69\x6f\162\141\x6e\x67\x65\x5f\163\x61\x6d\x6c\46\164\141\142\75\141\x63\x63\157\x75\x6e\164", "\x49\156\x76\x61\154\151\144\40\x75\x73\x65\x72\x6e\141\x6d\x65\x20\x6f\162\40\x70\x61\163\163\x77\x6f\x72\144\x2e\40\x50\154\x65\x61\x73\x65\40\x74\162\x79\40\141\x67\x61\151\x6e\x2e", "\145\162\x72\x6f\x72");
        goto Rm;
        e7:
        $this->save_success_customer_config($b1["\151\144"], $b1["\141\x70\x69\x4b\145\171"], $b1["\x74\157\x6b\x65\156"], $b1["\x70\150\x6f\x6e\x65"], "\131\157\x75\x72\40\141\143\143\157\x75\156\x74\40\150\141\163\40\142\x65\x65\x6e\40\162\145\x74\x72\151\x65\x76\x65\144\40\163\165\x63\143\x65\x73\163\146\x75\154\x6c\x79\56");
        Rm:
        goto RV;
        HD:
        $this->setRedirect("\151\x6e\x64\145\170\x2e\160\150\160\x3f\157\x70\164\x69\x6f\x6e\75\143\157\x6d\x5f\155\x69\x6e\x69\157\x72\x61\x6e\x67\x65\137\163\x61\x6d\x6c\x26\x74\141\142\75\x61\x63\143\x6f\165\x6e\164", $b1["\x74\x6f\x6b\x65\156"], "\145\162\x72\x6f\162");
        RV:
    }
    function save_success_customer_config($ox, $Wk, $nK, $R2, $FA)
    {
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\143\165\163\164\x6f\155\x65\162\137\x6b\145\x79") . "\40\x3d\x20" . $dZ->quote($ox), $dZ->quoteName("\141\160\151\137\x6b\x65\x79") . "\40\75\40" . $dZ->quote($Wk), $dZ->quoteName("\x63\165\163\164\157\155\x65\162\x5f\164\157\x6b\145\156") . "\x20\x3d\40" . $dZ->quote($nK), $dZ->quoteName("\x61\144\x6d\x69\x6e\137\160\x68\x6f\x6e\145") . "\40\x3d\x20" . $dZ->quote($R2), $dZ->quoteName("\x6c\157\147\151\x6e\137\x73\x74\141\164\165\x73") . "\x20\x3d\x20" . $dZ->quote(0), $dZ->quoteName("\156\145\x77\137\162\x65\x67\151\x73\164\x72\141\164\151\x6f\156") . "\x20\75\40" . $dZ->quote(0));
        $F4 = array($dZ->quoteName("\151\x64") . "\40\x3d\x20\x31");
        $qH->update($dZ->quoteName("\43\x5f\137\x6d\x69\156\151\x6f\x72\x61\x6e\x67\145\x5f\163\141\x6d\x6c\137\x63\165\x73\164\x6f\x6d\x65\162\137\x64\145\x74\141\151\x6c\x73"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        $qH = $dZ->getQuery(true);
        $Ya = "\131\x6f\x75\x72\x20\141\x63\143\x6f\x75\156\x74\40\x68\141\x73\40\x62\145\x65\x6e\40\162\x65\x74\162\x69\145\166\x65\x64\40\x73\x75\143\143\x65\163\x73\146\x75\154\154\x79\56";
        $this->setRedirect("\x69\156\x64\145\170\56\160\x68\160\77\x6f\160\x74\x69\157\x6e\75\143\x6f\x6d\137\155\151\156\x69\157\162\x61\x6e\147\x65\137\163\141\155\154\46\x74\141\x62\x3d\x61\x63\143\157\165\156\164", $Ya);
    }
    function generateCustomCertificate()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto pW;
        }
        $this->setRedirect("\151\156\x64\145\x78\x2e\x70\x68\160\77\x6f\160\164\151\x6f\156\75\143\x6f\155\137\155\151\x6e\x69\x6f\162\141\156\x67\x65\x5f\x73\141\x6d\154\x26\164\141\x62\75\143\165\163\164\157\155\137\143\145\162\x74\x69\146\151\x63\141\x74\x65");
        return;
        pW:
        $EK = UtilitiesSAML::getCustomerDetails();
        $vp = $EK["\163\x74\141\164\x75\163"];
        if (!(Mo_Saml_Local_Util::is_customer_registered() && Mo_Saml_Local_Util::check($vp) != "\164\x72\165\145")) {
            goto qI;
        }
        $this->setRedirect("\151\x6e\x64\145\x78\x2e\160\x68\x70\77\157\160\164\151\157\x6e\x3d\x63\x6f\155\x5f\155\151\156\x69\x6f\162\x61\156\147\x65\137\x73\x61\x6d\x6c", "\x59\157\165\x20\150\x61\x76\x65\40\156\x6f\x74\x20\x61\143\x74\151\x76\141\164\x65\144\40\171\x6f\165\162\40\x6c\x69\143\x65\x6e\x73\x65\x20\171\x65\164\56", "\x65\162\162\x6f\162");
        return;
        qI:
        $IJ = UtilitiesSAML::isIDPConfigured();
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($IJ) == 0)) {
            goto vH;
        }
        $this->setRedirect("\x69\156\x64\x65\x78\56\160\x68\x70\77\x6f\160\164\151\157\x6e\x3d\x63\x6f\x6d\137\155\151\x6e\151\x6f\x72\x61\x6e\x67\x65\137\x73\141\x6d\154\46\164\x61\x62\75\x69\144\160", "\x50\154\145\x61\163\145\x20\x63\157\x6e\146\x69\147\x75\x72\x65\x20\x53\x65\162\166\151\x63\x65\x20\x50\x72\157\166\151\144\145\162\40\123\145\x74\165\x70\x20\164\x61\x62\40\x74\x6f\40\x75\x70\154\x6f\141\144\40\164\x68\145\x20\143\145\162\164\x69\146\x69\143\x61\x74\145\x2e", "\x65\x72\x72\157\162");
        return;
        vH:
        if (!(isset($post["\x73\165\142\155\x69\164"]) && $post["\x73\x75\142\155\151\x74"] == "\x47\145\156\145\162\x61\164\145\40\x53\145\x6c\x66\x2d\123\151\147\x6e\145\144\40\x43\x65\x72\164\x73")) {
            goto eX;
        }
        $CI = $post["\x6d\157\137\x73\x61\155\154\137\x63\x6f\165\x6e\164\162\171\x5f\143\x6f\144\x65\137\164\x65\170\164"];
        if (!(strlen($CI) != 2 || ctype_lower($CI))) {
            goto fJ;
        }
        $this->setRedirect("\x69\156\x64\145\x78\56\x70\150\x70\x3f\157\x70\x74\x69\157\x6e\75\143\x6f\x6d\x5f\155\x69\x6e\x69\157\x72\141\156\147\x65\137\163\141\155\x6c\46\x74\x61\142\x3d\143\x75\163\164\x6f\x6d\x5f\x63\x65\x72\x74\x69\x66\151\143\141\164\145", "\120\154\x65\x61\x73\145\40\145\x6e\x74\x65\162\40\x61\40\166\141\154\151\x64\x20\x63\157\165\x6e\164\x79\40\143\157\144\x65\56", "\x65\162\x72\157\162");
        return;
        fJ:
        $dm = isset($post["\147\145\x6e\x65\162\x61\x74\145\137\x63\x75\163\164\x5f\143\145\162\x74\151\x66\151\x63\141\x74\x65\x5f\157\160\164\x69\x6f\x6e"]) ? $post["\x67\x65\156\x65\x72\141\x74\x65\x5f\x63\165\x73\164\137\143\x65\162\x74\x69\146\x69\x63\x61\164\145\137\157\160\164\151\157\156"] : '';
        if (!($dm == "\x6d\151\156\151\157\x72\141\156\147\145\x5f\x73\141\x6d\x6c\x5f\147\x65\156\145\162\x61\164\x65\x5f\143\x75\163\164\157\155\x5f\x63\x65\x72\x74\151\146\151\143\141\x74\145")) {
            goto cn;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\x6d\157\x5f\163\x61\x6d\x6c\x5f\x63\x6f\165\156\x74\162\171\137\143\157\x64\145\137\x74\x65\x78\164") . "\40\75\40" . $dZ->quote(isset($post["\155\157\137\163\x61\x6d\154\137\x63\157\x75\x6e\x74\x72\171\137\x63\157\144\x65\137\x74\145\170\x74"]) ? $post["\x6d\x6f\x5f\163\x61\x6d\x6c\137\143\157\165\156\x74\162\171\137\x63\x6f\x64\145\137\164\145\x78\164"] : null), $dZ->quoteName("\155\157\x5f\163\x61\155\154\137\x63\x65\x72\164\151\x66\x69\143\141\164\145\137\163\164\x61\164\145\x5f\x6e\x61\155\x65") . "\40\x3d\40" . $dZ->quote(isset($post["\155\157\137\x73\x61\x6d\x6c\x5f\x63\145\162\x74\x69\146\151\x63\x61\164\x65\137\163\164\141\x74\145\x5f\x6e\141\x6d\x65"]) ? $post["\155\157\x5f\163\141\x6d\154\x5f\x63\145\x72\x74\151\x66\151\x63\x61\164\x65\x5f\163\x74\x61\x74\x65\137\156\x61\x6d\145"] : null), $dZ->quoteName("\155\x6f\x5f\x73\141\x6d\x6c\x5f\143\145\162\x74\151\x66\151\143\141\x74\x65\137\x63\x6f\x6d\x70\141\156\x79\137\156\141\x6d\x65") . "\x20\75\x20" . $dZ->quote(isset($post["\x6d\x6f\137\163\x61\155\x6c\x5f\143\145\x72\x74\x69\x66\151\143\141\x74\x65\137\143\157\155\x70\141\156\x79\137\x6e\141\155\x65"]) ? $post["\x6d\x6f\137\163\x61\x6d\154\137\x63\145\x72\164\x69\x66\151\x63\x61\x74\x65\137\x63\157\155\160\x61\156\171\137\x6e\141\155\x65"] : null), $dZ->quoteName("\x6d\151\x6e\151\157\x72\x61\x6e\147\145\x5f\x73\x61\155\x6c\x5f\165\156\151\x74\x5f\x6e\x61\155\x65") . "\x20\x3d\40" . $dZ->quote(isset($post["\x6d\151\x6e\151\x6f\162\x61\156\147\x65\137\x73\x61\155\x6c\137\165\x6e\x69\164\x5f\x6e\141\x6d\145"]) ? $post["\x6d\x69\x6e\151\157\162\x61\156\x67\145\x5f\163\141\x6d\154\137\165\x6e\151\x74\x5f\x6e\x61\x6d\145"] : null), $dZ->quoteName("\155\157\x5f\163\141\x6d\x6c\137\143\x65\x72\164\x69\146\151\x63\x61\164\x65\x5f\143\157\155\x6d\x6f\156\137\x6e\141\x6d\145") . "\40\x3d\x20" . $dZ->quote(isset($post["\155\157\137\163\141\x6d\154\x5f\x63\145\162\x74\x69\x66\x69\143\141\164\x65\137\x63\x6f\x6d\x6d\x6f\156\x5f\x6e\x61\155\145"]) ? $post["\155\x6f\137\x73\141\x6d\x6c\137\x63\145\162\x74\151\x66\x69\143\x61\164\145\x5f\143\x6f\155\x6d\157\x6e\137\156\x61\155\x65"] : null), $dZ->quoteName("\155\157\x5f\163\x61\155\x6c\137\x73\145\154\145\x63\164\x5f\144\x69\x67\145\x73\164\137\141\154\x67\x6f") . "\x20\x3d\40" . $dZ->quote(isset($post["\155\157\137\163\x61\155\x6c\137\x73\x65\154\x65\143\164\x5f\144\x69\x67\145\163\164\x5f\141\x6c\147\157"]) ? $post["\x6d\x6f\137\163\x61\155\x6c\137\163\145\x6c\x65\x63\164\x5f\x64\151\147\145\x73\164\137\x61\x6c\x67\157"] : 0), $dZ->quoteName("\155\157\137\x73\141\x6d\154\x5f\163\x65\x6c\x65\143\x74\x5f\160\x72\x69\x76\141\164\x65\137\x6b\x65\171\137\x62\x69\164") . "\x20\75\40" . $dZ->quote(isset($post["\155\x6f\137\x73\141\x6d\154\137\163\145\x6c\145\x63\x74\137\x70\162\x69\166\141\164\x65\x5f\153\x65\x79\x5f\x62\x69\x74"]) ? $post["\155\x6f\137\163\x61\x6d\x6c\137\x73\145\x6c\145\x63\164\137\x70\x72\x69\x76\141\164\x65\x5f\153\x65\x79\x5f\142\x69\164"] : 0), $dZ->quoteName("\155\x6f\137\163\141\155\154\x5f\x73\145\x6c\145\143\164\x5f\x76\x61\x6c\x69\144\137\x64\x61\x79\163") . "\40\x3d\x20" . $dZ->quote(isset($post["\x6d\157\137\x73\141\155\x6c\137\163\x65\154\145\143\x74\137\x76\x61\154\x69\x64\137\144\x61\x79\163"]) ? $post["\x6d\x6f\x5f\x73\141\155\x6c\137\163\x65\154\145\143\164\137\x76\x61\154\x69\x64\x5f\144\x61\x79\163"] : 0));
        $F4 = array($dZ->quoteName("\151\x64") . "\40\75\40\x31");
        $qH->update($dZ->quoteName("\43\137\137\x6d\x69\156\x69\x6f\162\x61\x6e\x67\145\x5f\163\141\x6d\154\x5f\x63\157\156\x66\151\147"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        $YG = UtilitiesSAML::getCustomerDetails();
        $YG = $YG["\x65\x6d\141\151\154"];
        $kH = isset($YG) ? $YG : '';
        $CI = $post["\155\x6f\x5f\x73\x61\155\x6c\137\x63\157\x75\156\x74\162\x79\x5f\143\x6f\144\x65\x5f\164\145\170\x74"];
        $nI = $post["\x6d\157\x5f\163\x61\155\x6c\137\x63\x65\x72\x74\x69\x66\x69\x63\x61\164\145\137\163\164\141\x74\x65\137\156\x61\155\145"];
        $l7 = $post["\x6d\x6f\137\x73\141\155\154\x5f\143\145\x72\x74\x69\146\x69\x63\141\164\x65\137\x63\157\155\160\141\x6e\171\x5f\156\x61\155\145"];
        $DZ = $post["\155\x69\156\x69\x6f\x72\x61\x6e\147\145\137\163\141\x6d\154\x5f\x75\x6e\151\x74\137\x6e\141\155\145"];
        $Fh = $post["\155\157\137\163\141\155\x6c\x5f\143\145\162\x74\x69\x66\151\143\141\x74\x65\x5f\143\157\155\155\157\156\x5f\156\x61\155\145"];
        $Xi = $post["\155\x6f\137\163\x61\155\154\137\163\x65\x6c\145\x63\164\137\144\x69\147\x65\x73\164\137\141\154\x67\x6f"];
        $hB = $post["\x6d\x6f\x5f\x73\x61\x6d\154\137\x73\145\x6c\x65\x63\164\137\x70\162\x69\166\x61\164\x65\137\x6b\x65\171\x5f\142\151\164"];
        $Vb = $post["\155\157\137\163\x61\x6d\x6c\x5f\163\145\154\x65\143\164\x5f\166\x61\154\151\144\x5f\x64\x61\x79\x73"];
        $QN = array("\x63\157\165\x6e\164\x72\x79\116\x61\x6d\x65" => $CI, "\163\164\x61\x74\x65\x4f\162\120\x72\x6f\x76\x69\x6e\143\145\116\141\155\145" => $nI, "\x6f\162\x67\141\156\151\x7a\x61\x74\151\157\156\x4e\x61\x6d\145" => $l7, "\x6f\x72\147\141\156\151\172\141\x74\151\x6f\x6e\141\x6c\x55\x6e\x69\164\116\x61\155\145" => $DZ, "\x63\157\x6d\x6d\157\x6e\x4e\x61\155\x65" => $Fh, "\x65\x6d\141\151\x6c\101\x64\144\162\x65\x73\x73" => $kH);
        UtilitiesSAML::generateCertificate($QN, $Xi, $hB, $Vb);
        $SV = "\131\x6f\165\x72\40\x63\x65\162\164\x69\146\151\x63\141\164\x65\163\40\150\x61\x73\x20\142\x65\x65\x6e\40\147\145\156\x65\162\x61\164\145\x64\40\x73\x75\x63\x63\x65\x73\x73\146\165\154\154\x79\x2e\40\x50\154\145\141\x73\145\x20\165\x70\x64\141\x74\145\40\x79\157\x75\x72\40\111\x64\145\x6e\164\151\x74\x79\x20\x50\162\x6f\x76\x69\144\x65\x72\40\143\157\x6e\x66\x69\147\x75\x72\x61\164\x69\157\x6e\40\167\151\x74\150\x20\x6e\x65\x77\40\143\x65\162\164\x69\146\151\x63\141\x74\145\56";
        $this->setRedirect("\151\x6e\x64\145\x78\x2e\x70\x68\160\x3f\x6f\x70\x74\151\x6f\x6e\x3d\143\157\x6d\x5f\x6d\x69\156\x69\157\x72\141\156\x67\145\x5f\163\x61\155\154\x26\x74\141\142\75\143\165\x73\x74\157\x6d\x5f\143\x65\162\x74\151\146\151\x63\x61\164\145", $SV);
        cn:
        eX:
    }
    function check()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto j8;
        }
        $this->setRedirect("\151\156\x64\x65\x78\56\x70\150\160\77\x6f\160\x74\x69\157\156\75\143\157\155\x5f\155\x69\x6e\151\x6f\x72\141\x6e\x67\x65\137\x73\141\x6d\154\46\164\x61\x62\75\141\x63\x63\157\165\x6e\164");
        return;
        j8:
        $BX = isset($post["\153\x65\x79"]) ? $post["\x6b\x65\x79"] : '';
        if ($BX) {
            goto js;
        }
        $Ya = "\x45\162\162\x6f\162\40\141\x63\x74\x69\166\141\x74\151\156\147\x20\171\x6f\165\162\x20\154\x69\143\x65\x6e\163\145\x2e\40\120\x6c\x65\141\x73\145\40\164\162\x79\40\141\x67\x61\x69\x6e\40\157\162\x20\x63\157\156\164\x61\143\164\x3c\141\40\x68\x72\145\x66\x3d\42\x6d\x61\151\154\164\157\72\x6a\157\x6f\155\154\x61\163\165\160\x70\x6f\x72\164\x40\x78\145\x63\x75\162\x69\x66\171\56\x63\x6f\x6d\x22\x3e\x20\152\157\157\155\x6c\141\x73\165\x70\x70\157\162\x74\x40\x78\145\x63\165\162\x69\x66\x79\x2e\x63\x6f\155\74\x2f\x61\x3e";
        $this->setRedirect("\151\156\144\145\x78\56\x70\150\160\x3f\x6f\x70\x74\x69\x6f\156\x3d\x63\x6f\155\137\x6d\x69\156\151\157\162\x61\x6e\147\x65\x5f\163\x61\155\x6c\x26\164\x61\142\x3d\141\x63\143\157\x75\x6e\x74", $Ya, "\145\162\x72\157\162");
        goto lA;
        js:
        $BX = trim(preg_replace("\x2f\x5c\163\x2b\x2f", '', $BX));
        $Sy = new Mo_saml_Local_Customer();
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $Wk = isset($EK["\141\160\x69\137\153\x65\x79"]) ? $EK["\141\x70\151\x5f\x6b\145\x79"] : '';
        $b1 = isset($EK["\x63\x75\163\164\x6f\155\145\x72\x5f\153\145\x79"]) ? $EK["\x63\165\163\164\x6f\155\145\x72\137\x6b\145\171"] : '';
        $lY = json_decode($Sy->ccl($b1, $Wk), true);
        $H2 = 0;
        $mH = 0;
        $GT = "\152\157\157\155\x6c\x61\137\163\141\155\154\x5f\x73\x73\157\x5f\145\156\164\x65\x72\x70\x72\x69\x73\145\137\160\x6c\x61\x6e";
        $XH = isset($lY["\164\162\151\x61\154"]) ? $lY["\164\162\x69\x61\154"] : '';
        $XH = Mo_saml_Local_Util::encrypt_value($XH);
        $PG = 0;
        if (!(!isset($lY["\x73\164\141\164\165\x73"]) || empty($lY["\163\164\141\164\165\x73"]))) {
            goto Z5;
        }
        $Ya = isset($lY["\155\x65\x73\163\x61\x67\x65"]) && !empty($lY["\x6d\x65\x73\x73\141\x67\x65"]) ? $lY["\155\x65\x73\163\x61\x67\x65"] : "\131\157\165\x72\x20\154\x69\143\145\x6e\x73\x65\x20\x69\163\x20\x6e\157\x74\40\146\157\x75\156\144";
        $this->setRedirect("\151\156\144\145\170\56\160\150\x70\x3f\157\x70\164\x69\157\156\75\x63\157\155\x5f\155\x69\x6e\x69\x6f\x72\141\x6e\147\x65\x5f\163\141\155\154\x26\164\141\142\75\x61\143\x63\157\x75\156\164", $Ya, "\145\x72\162\x6f\162");
        return;
        Z5:
        if (!($lY["\x73\164\x61\164\165\163"] != "\x53\125\x43\103\105\x53\123")) {
            goto ta;
        }
        $Ya = isset($lY["\x6d\145\x73\x73\x61\x67\145"]) ? $lY["\x6d\x65\x73\x73\x61\147\x65"] : "\x49\x6e\166\x61\154\151\x64\40\154\x69\x63\x65\156\x73\145\x21\x20\120\154\145\x61\163\145\x20\165\x73\145\x20\141\40\x76\141\154\151\144\40\154\x69\143\145\x6e\x73\145\40\x6b\145\171\40\x74\157\40\141\x63\164\x69\x76\x61\164\x65\40\x74\150\145\x20\160\x6c\165\147\151\156\56";
        $this->setRedirect("\x69\156\144\x65\x78\x2e\160\x68\160\77\157\160\164\x69\x6f\x6e\x3d\143\x6f\x6d\x5f\x6d\151\x6e\151\x6f\x72\141\x6e\x67\145\137\x73\141\155\x6c\x26\x74\x61\142\x3d\x61\x63\x63\x6f\165\156\164", $Ya, "\145\162\x72\x6f\162");
        return;
        ta:
        if (!($lY["\x73\164\x61\x74\x75\163"] == "\123\125\103\x43\x45\x53\x53")) {
            goto NH;
        }
        $H2 = isset($lY["\x6c\151\x63\145\x6e\163\145\105\x78\160\151\162\171"]) ? $lY["\x6c\x69\x63\145\x6e\163\145\x45\x78\x70\151\162\171"] : 0;
        $mH = isset($lY["\163\165\x70\x70\157\x72\164\105\x78\160\151\162\x79"]) ? $lY["\163\x75\160\x70\157\x72\164\x45\170\x70\x69\162\171"] : 0;
        $GT = isset($lY["\x6c\151\x63\145\x6e\163\x65\120\x6c\141\x6e"]) ? $lY["\154\x69\x63\x65\156\163\x65\120\154\x61\x6e"] : '';
        $PG = isset($lY["\x6e\157\x4f\146\x53\x50"]) ? $lY["\x6e\157\x4f\x66\x53\120"] : 0;
        NH:
        $ST = $Sy->check($BX);
        if (strcasecmp($ST["\x73\164\141\164\165\x73"], "\123\125\x43\103\x45\x53\123") == 0) {
            goto N0;
        }
        if (strcasecmp($ST["\151\163\x45\x78\160\151\x72\145\x64"], "\61") == 0) {
            goto Vh;
        }
        $Ya = $ST["\155\145\163\163\141\147\x65"] . "\120\154\x65\x61\163\x65\x20\164\x72\x79\40\167\151\x74\x68\40\x64\x69\x66\x66\145\x72\145\x6e\x74\x20\153\x65\x79\40\x6f\x72\40\143\x6f\156\164\141\x63\x74\x3c\141\x20\150\162\x65\146\75\x22\155\x61\151\154\164\157\x3a\152\x6f\x6f\x6d\x6c\141\x73\x75\x70\160\x6f\x72\x74\100\170\145\143\165\x72\x69\x66\x79\56\143\157\x6d\42\x3e\40\x6a\157\x6f\x6d\154\141\x73\x75\x70\x70\157\x72\164\100\x78\x65\x63\x75\162\151\x66\171\x2e\x63\157\155\74\57\x61\76\x2e";
        goto ZX;
        Vh:
        $Ya = "\131\157\x75\x72\40\x6c\151\143\145\156\163\145\x20\153\145\x79\40\151\163\x20\145\170\x70\x69\162\x65\144\x2e\x20\x50\154\x65\x61\x73\145\40\x74\162\171\x20\x77\x69\164\x68\40\144\x69\146\146\145\162\145\x6e\x74\x20\153\x65\171\40\x6f\x72\x20\x63\157\x6e\x74\x61\143\164\74\141\40\150\162\x65\x66\75\x22\x6d\141\151\154\x74\x6f\x3a\x6a\157\x6f\155\154\141\163\x75\160\160\157\162\x74\100\x78\x65\x63\165\162\151\146\x79\x2e\x63\x6f\x6d\42\x3e\x20\x6a\157\157\155\x6c\141\163\165\160\160\157\x72\x74\100\x78\145\143\x75\x72\151\146\x79\56\143\x6f\155\x20\x3c\57\141\76";
        ZX:
        $this->setRedirect("\151\156\144\x65\x78\56\x70\x68\x70\77\157\160\x74\151\157\x6e\x3d\x63\x6f\x6d\137\x6d\151\x6e\151\157\162\x61\156\147\x65\x5f\163\x61\155\154\46\x74\x61\x62\75\141\143\143\157\165\156\164", $Ya, "\145\162\x72\157\162");
        goto r4;
        N0:
        $Nv = Mo_saml_Local_Util::encrypt($BX);
        $Wd = JURI::root() . $Nv;
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\x73\164\141\x74\x75\x73") . "\40\75\40" . $dZ->quote(Mo_saml_Local_Util::encrypt("\164\162\165\x65")), $dZ->quoteName("\163\155\x6c\x5f\154\153") . "\40\x3d\40" . $dZ->quote(Mo_saml_Local_Util::encrypt($BX)), $dZ->quoteName("\x69\156\137\x63\155\160") . "\40\75\x20" . $dZ->quote(Mo_saml_Local_Util::encrypt($Wd)), $dZ->quoteName("\x6c\x69\143\x65\x6e\x73\145\x45\170\160\151\x72\171") . "\40\75\40" . $dZ->quote($H2), $dZ->quoteName("\163\x75\x70\x70\x6f\162\x74\x45\x78\x70\151\x72\x79") . "\x20\75\40" . $dZ->quote($mH), $dZ->quoteName("\x6c\151\143\145\156\x73\145\120\154\141\156") . "\x20\x3d\x20" . $dZ->quote($GT), $dZ->quoteName("\164\162\151\163\164\x73") . "\x20\75\40" . $dZ->quote($XH), $dZ->quoteName("\156\x6f\x53\x50") . "\x20\75\x20" . $dZ->quote($PG));
        $F4 = array($dZ->quoteName("\151\x64") . "\40\75\x20\x31");
        $qH->update($dZ->quoteName("\x23\137\137\155\151\156\151\x6f\x72\x61\x6e\x67\x65\137\x73\x61\x6d\154\137\143\x75\163\164\157\x6d\x65\x72\137\144\145\x74\x61\151\x6c\163"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        UtilitiesSAML::createAndUpdateUpgardeUrl();
        $Ya = "\x59\x6f\165\x72\x20\x6c\x69\143\x65\156\x73\x65\40\x68\x61\x73\x20\142\x65\145\x6e\x20\x76\x65\x72\151\146\x69\145\x64\56";
        $this->setRedirect("\x69\156\x64\145\170\x2e\x70\x68\x70\77\x6f\160\164\x69\157\156\x3d\x63\157\x6d\137\155\x69\156\x69\157\x72\141\x6e\x67\145\137\x73\141\x6d\x6c\46\164\141\142\75\x61\x63\143\157\x75\x6e\164", $Ya);
        r4:
        lA:
    }
    function updateLoginFlow()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto Eh;
        }
        $this->setRedirect("\x69\156\144\145\x78\x2e\160\x68\160\x3f\157\160\x74\151\x6f\x6e\75\143\157\155\x5f\x6d\151\x6e\x69\x6f\x72\141\156\x67\145\x5f\163\141\155\x6c\x26\x74\141\142\75\163\x73\x6f\137\163\x65\x74\164\x69\156\x67\163");
        return;
        Eh:
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $vp = isset($EK["\163\164\141\164\x75\x73"]) ? $EK["\163\x74\x61\164\x75\163"] : '';
        if (!(!Mo_Saml_Local_Util::is_customer_registered() && Mo_Saml_Local_Util::check($vp) != "\164\162\x75\145")) {
            goto sX;
        }
        $this->setRedirect("\151\x6e\144\x65\x78\56\160\150\160\x3f\157\x70\x74\x69\157\156\75\x63\157\155\x5f\155\151\x6e\151\x6f\x72\141\156\147\x65\137\163\141\155\154", "\120\x6c\x65\141\163\145\40\162\x65\x67\151\163\x74\145\x72\40\x61\156\144\40\141\143\164\x69\x76\x61\164\x65\40\171\157\165\162\x20\154\151\143\145\x6e\163\145\40\164\157\40\x73\141\166\x65\x20\171\157\165\162\40\143\x6f\x6e\146\151\x67\x75\x72\x61\164\x69\x6f\x6e\163\56", "\145\x72\162\157\162");
        return;
        sX:
        $Ix = isset($post["\145\156\141\142\154\x65\x5f\162\x65\144\x69\x72\x65\143\164"]) ? $post["\x65\x6e\141\x62\154\145\137\x72\145\144\x69\x72\145\x63\x74"] : 0;
        $qx = isset($post["\x75\163\x65\162\137\154\157\147\x69\x6e\137\146\157\x72\x5f\x6f\164\x68\x65\162\x5f\x64\157\x6d\x61\x69\x6e\x73"]) ? $post["\x75\x73\x65\x72\x5f\x6c\x6f\147\151\x6e\x5f\146\x6f\x72\137\157\x74\x68\x65\x72\137\144\x6f\x6d\141\151\x6e\163"] : "\102\114\x4f\x43\113";
        $Jm = isset($post["\155\x6f\137\151\144\x70\137\154\x69\x6e\x6b\137\x70\141\x67\x65"]) ? $post["\155\157\137\x69\x64\x70\137\154\151\x6e\x6b\x5f\x70\x61\147\x65"] : '';
        $t0 = isset($post["\155\157\137\x69\144\160\137\x6c\151\163\164\137\154\x69\x6e\153\137\x70\x61\147\145"]) ? $post["\x6d\157\137\x69\144\x70\137\x6c\151\x73\164\x5f\154\x69\156\153\137\x70\141\147\145"] : '';
        $Pq = isset($post["\151\x67\156\x6f\162\145\137\x73\160\x65\143\x69\141\x6c\137\143\150\x61\x72\141\143\164\145\162\163"]) ? $post["\151\x67\x6e\x6f\162\x65\x5f\x73\160\145\x63\151\x61\154\x5f\143\x68\x61\162\141\x63\164\x65\x72\163"] : 0;
        $S4 = isset($post["\x65\x6e\141\x62\x6c\x65\x5f\155\x61\156\141\x67\x65\x72\137\x6c\x6f\x67\x69\156"]) ? $post["\x65\x6e\x61\142\x6c\145\137\155\141\156\x61\x67\x65\162\137\x6c\157\x67\x69\156"] : 0;
        $oi = isset($post["\x65\156\141\x62\154\145\137\141\144\x6d\x69\156\x5f\x72\145\x64\151\162\145\143\164"]) ? $post["\145\156\x61\x62\154\x65\x5f\141\144\x6d\x69\156\137\162\x65\x64\151\162\145\x63\164"] : 0;
        $Dh = isset($post["\155\x6f\137\x61\144\155\151\156\137\151\144\160\137\x6c\151\x6e\153\137\160\x61\x67\x65"]) ? $post["\x6d\x6f\x5f\141\144\x6d\x69\x6e\137\151\144\x70\x5f\154\151\156\x6b\137\160\141\x67\x65"] : '';
        if (!($Ix && empty($Jm) && filter_var($Jm, FILTER_VALIDATE_URL) === FALSE)) {
            goto No;
        }
        $SV = "\120\x6c\145\141\163\x65\40\x65\x6e\164\145\x72\x20\x76\141\x6c\151\x64\40\162\145\x64\151\162\145\x63\x74\40\125\122\x4c\x2e";
        $this->setRedirect("\x69\x6e\x64\x65\170\x2e\x70\150\160\x3f\157\x70\164\x69\x6f\x6e\x3d\x63\157\x6d\x5f\155\x69\156\x69\x6f\x72\141\156\147\x65\137\x73\141\155\154\x26\164\141\142\75\x73\x73\x6f\x5f\163\145\164\x74\151\x6e\x67\x73", $SV, "\x65\162\x72\157\162");
        return;
        No:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\145\x6e\x61\x62\154\x65\x5f\x72\145\x64\x69\162\145\143\x74") . "\x20\75\40" . $dZ->quote($Ix), $dZ->quoteName("\165\x73\145\x72\137\154\157\x67\151\156\x5f\x66\157\162\137\x6f\x74\x68\x65\x72\x5f\144\157\x6d\x61\151\x6e\163") . "\x20\75\40" . $dZ->quote($qx), $dZ->quoteName("\x69\144\x70\x5f\154\x69\x6e\153\137\160\x61\147\x65") . "\40\x3d\x20" . $dZ->quote($Jm), $dZ->quoteName("\x6d\x6f\x5f\151\x64\160\x5f\154\151\x73\164\x5f\154\151\x6e\x6b\x5f\x70\x61\147\x65") . "\40\x3d\x20" . $dZ->quote($t0), $dZ->quoteName("\145\x6e\141\x62\x6c\x65\x5f\x6d\x61\x6e\x61\147\x65\162\137\x6c\x6f\147\151\x6e") . "\40\x3d\x20" . $dZ->quote($S4), $dZ->quoteName("\x65\156\141\x62\154\145\137\141\x64\x6d\x69\156\x5f\x72\145\144\x69\x72\145\x63\164") . "\40\75\40" . $dZ->quote($oi), $dZ->quoteName("\155\157\137\x61\144\x6d\151\156\137\151\144\x70\137\x6c\x69\163\x74\x5f\154\x69\x6e\x6b\137\160\x61\147\145") . "\40\x3d\40" . $dZ->quote($Dh), $dZ->quoteName("\151\147\156\x6f\162\x65\x5f\x73\160\145\143\x69\141\x6c\x5f\143\x68\x61\162\141\x63\164\145\x72\163") . "\40\x3d\x20" . $dZ->quote($Pq));
        $F4 = array($dZ->quoteName("\x69\144") . "\x20\x3d\x20\x31");
        $qH->update($dZ->quoteName("\x23\137\x5f\x6d\x69\x6e\151\x6f\x72\x61\x6e\147\145\x5f\x73\141\155\x6c\137\x63\x75\x73\164\157\155\145\x72\137\144\x65\164\141\151\154\163"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        $SV = "\x59\157\165\162\x20\143\x6f\x6e\146\x69\x67\165\x72\x61\164\x69\157\156\40\x68\141\x73\40\142\145\x65\x6e\x20\163\141\166\145\144\x20\163\165\143\143\145\x73\163\146\x75\154\154\x79\x2e";
        $this->setRedirect("\151\x6e\x64\145\x78\x2e\x70\x68\x70\x3f\157\x70\x74\151\x6f\x6e\x3d\x63\157\x6d\x5f\155\x69\156\151\157\x72\141\156\x67\x65\x5f\163\x61\x6d\x6c\46\164\141\x62\75\x73\x73\x6f\137\163\145\164\x74\x69\156\147\x73", $SV);
    }
    function fetchLicense()
    {
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $b1 = isset($EK["\x63\x75\x73\x74\157\x6d\x65\162\x5f\x6b\x65\x79"]) ? $EK["\143\165\x73\x74\x6f\155\145\162\137\x6b\145\171"] : '';
        $Wk = isset($EK["\141\160\x69\137\x6b\145\x79"]) ? $EK["\x61\160\151\x5f\x6b\x65\171"] : '';
        $Sy = new Mo_saml_Local_Customer();
        $lY = json_decode($Sy->ccl($b1, $Wk), true);
        $Z4 = $lY["\x6c\x69\143\x65\156\163\x65\105\170\160\x69\162\x79"];
        $w7 = $lY["\163\x75\x70\x70\x6f\x72\164\x45\x78\x70\x69\x72\171"];
        $xf = Mo_saml_Local_Util::encrypt_value($lY["\x74\x72\151\x61\154"]);
        $mo = $lY["\x6e\x6f\x4f\146\123\x50"];
        $yz = UtilitiesSAML::getExpiryDate();
        $ni = strtotime($yz["\x6c\x69\143\145\156\163\x65\x45\170\160\x69\x72\171"]);
        $SS = strtotime($yz["\163\165\160\x70\x6f\x72\164\x45\x78\x70\x69\162\171"]);
        $Uf = $yz["\164\162\x69\x73\164\x73"];
        $PG = $yz["\156\157\123\x50"];
        if (!(strtotime($Z4) > $ni)) {
            goto uc;
        }
        $tw = "\43\x5f\x5f\155\151\156\151\157\162\141\156\147\x65\x5f\x73\x61\155\x6c\x5f\x63\x75\163\x74\x6f\x6d\145\162\x5f\x64\x65\x74\x61\151\x6c\163";
        $ll = array("\x6c\151\x63\145\x6e\163\145\x45\x78\160\151\x72\x79" => $Z4);
        UtilitiesSAML::__genDBUpdate($tw, $ll);
        uc:
        if (!(strtotime($w7) > $SS)) {
            goto JZ;
        }
        $tw = "\x23\x5f\x5f\155\151\x6e\151\x6f\x72\141\x6e\x67\x65\137\x73\141\x6d\x6c\137\143\x75\163\x74\x6f\155\145\x72\137\144\145\x74\141\x69\154\x73";
        $ll = array("\x73\165\x70\x70\157\x72\164\105\x78\160\151\162\171" => $w7);
        UtilitiesSAML::__genDBUpdate($tw, $ll);
        JZ:
        if (!($xf != $Uf)) {
            goto A8;
        }
        $tw = "\43\x5f\x5f\x6d\x69\156\x69\x6f\162\x61\156\x67\145\x5f\163\x61\x6d\x6c\x5f\143\x75\x73\x74\x6f\155\x65\x72\x5f\x64\145\x74\x61\x69\x6c\x73";
        $ll = array("\x74\162\151\x73\164\163" => $xf);
        UtilitiesSAML::__genDBUpdate($tw, $ll);
        A8:
        if (!($mo != $PG)) {
            goto Rv;
        }
        $tw = "\x23\137\137\155\x69\x6e\151\x6f\162\x61\156\x67\145\137\163\141\155\154\x5f\143\165\x73\x74\157\155\x65\x72\137\x64\145\x74\141\x69\154\163";
        $ll = array("\x6e\x6f\x53\x50" => $mo);
        UtilitiesSAML::__genDBUpdate($tw, $ll);
        Rv:
        $Ju = JFactory::getApplication();
        $Ju->enqueueMessage("\123\x75\143\x63\145\163\163\146\165\x6c\x6c\171\40\146\145\x74\143\150\x65\144\40\x74\x68\145\x20\x6c\x69\x63\145\156\x73\x65\56", "\163\x75\x63\x63\x65\163\x73");
        $this->setRedirect("\x69\156\x64\145\x78\x2e\160\x68\160\77\157\x70\x74\151\157\x6e\x3d\143\x6f\x6d\137\155\151\156\151\x6f\x72\x61\156\x67\x65\137\163\141\x6d\154\46\x74\141\x62\x3d\x61\x63\x63\x6f\165\x6e\x74");
    }
    function addlicensedetails($BX)
    {
        $Nv = Mo_saml_Local_Util::encrypt($BX);
        $Wd = JURI::root() . $Nv;
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\163\164\141\164\x75\x73") . "\x20\75\x20" . $dZ->quote(Mo_saml_Local_Util::encrypt("\x74\x72\165\x65")), $dZ->quoteName("\163\x6d\154\137\154\x6b") . "\40\x3d\x20" . $dZ->quote(Mo_saml_Local_Util::encrypt($BX)), $dZ->quoteName("\x69\x6e\x5f\x63\x6d\x70") . "\40\75\x20" . $dZ->quote(Mo_saml_Local_Util::encrypt($Wd)), $dZ->quoteName("\x6c\x69\x63\x65\x6e\x73\145\105\x78\160\151\x72\171") . "\x20\75\x20" . $dZ->quote($H2), $dZ->quoteName("\163\165\x70\160\157\x72\164\105\170\160\x69\x72\x79") . "\40\75\40" . $dZ->quote($mH), $dZ->quoteName("\x6c\151\x63\x65\x6e\x73\145\x50\154\x61\x6e") . "\x20\x3d\x20" . $dZ->quote($GT), $dZ->quoteName("\164\x72\151\x73\164\x73") . "\x20\x3d\x20" . $dZ->quote($XH));
        $F4 = array($dZ->quoteName("\x69\144") . "\40\x3d\x20\x31");
        $qH->update($dZ->quoteName("\43\137\137\x6d\151\x6e\x69\x6f\x72\141\156\x67\x65\137\163\141\155\154\137\143\x75\163\x74\x6f\155\145\x72\137\x64\x65\164\x61\x69\154\x73"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        UtilitiesSAML::createAndUpdateUpgardeUrl();
        $Ya = "\131\157\165\x72\40\x6c\x69\143\x65\x6e\163\145\40\150\x61\163\x20\142\145\x65\x6e\x20\x76\145\162\x69\146\151\x65\x64\x2e";
        $this->setRedirect("\151\156\x64\x65\170\x2e\x70\x68\x70\x3f\157\x70\164\151\157\156\75\x63\157\x6d\x5f\155\x69\x6e\151\157\x72\141\x6e\147\x65\137\163\x61\155\x6c\x26\164\141\142\x3d\141\x63\x63\157\165\x6e\164", $Ya);
    }
    function getGroupMapping()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (isset($post["\163\x61\x6d\x6c\137\151\x64\x70\137\x6c\x69\x73\164"])) {
            goto aA;
        }
        $Ny = "\x69\x6e\x64\x65\x78\56\160\150\160\x3f\x6f\160\x74\151\x6f\156\x3d\143\x6f\x6d\137\155\151\156\151\x6f\162\141\x6e\x67\x65\x5f\163\141\155\154\46\x74\141\x62\x3d\147\x72\x6f\x75\160\137\155\141\x70\160\x69\x6e\147";
        $this->setRedirect($Ny);
        return;
        goto ci;
        aA:
        $Ny = "\151\156\144\145\x78\x2e\x70\x68\x70\77\157\x70\164\x69\157\x6e\x3d\143\x6f\x6d\137\155\x69\156\151\x6f\x72\x61\156\147\x65\x5f\163\x61\155\154\46\164\x61\142\75\x67\162\x6f\165\160\x5f\155\x61\160\x70\151\156\147\46\x63\x75\x72\x72\145\x6e\164\x5f\x69\x64\160\137\151\x64\75" . $post["\163\x61\155\154\137\x69\144\160\x5f\x6c\x69\163\x74"];
        $this->setRedirect($Ny);
        ci:
    }
    function saveCustomCertificate()
    {
        $IJ = UtilitiesSAML::isIDPConfigured();
        if (!(count($IJ) == 0)) {
            goto yV;
        }
        $this->setRedirect("\151\x6e\x64\145\x78\56\x70\150\160\x3f\x6f\x70\164\x69\157\156\75\x63\157\x6d\137\x6d\151\x6e\151\157\x72\x61\156\x67\145\137\x73\x61\155\154\x26\x74\141\x62\75\x69\x64\x70", "\x50\154\145\x61\163\145\40\143\x6f\156\146\151\x67\x75\x72\145\x20\123\145\162\166\151\143\x65\40\120\x72\x6f\x76\x69\x64\145\x72\40\x53\145\164\x75\160\x20\x74\x61\142\40\164\x6f\40\x75\160\x6c\x6f\141\x64\40\x74\x68\x65\x20\x63\145\162\x74\x69\146\x69\143\141\x74\145\56", "\x65\162\x72\157\x72");
        return;
        yV:
        $EK = UtilitiesSAML::getCustomerDetails();
        $post = JFactory::getApplication()->input->post->getArray();
        $vp = $EK["\x73\164\141\164\x75\x73"];
        if (!(Mo_Saml_Local_Util::is_customer_registered() && Mo_Saml_Local_Util::check($vp) != "\164\162\165\145")) {
            goto y2;
        }
        $this->setRedirect("\x69\156\144\x65\170\x2e\x70\x68\x70\x3f\157\160\164\151\157\x6e\75\x63\x6f\155\x5f\155\151\156\x69\x6f\162\141\156\147\145\137\163\141\x6d\154", "\131\x6f\x75\x20\x68\141\x76\x65\40\x6e\157\164\x20\x61\x63\164\151\166\x61\x74\x65\x64\40\x79\157\x75\x72\x20\154\151\x63\x65\x6e\x73\145\x20\171\x65\164\x2e", "\145\162\162\x6f\162");
        return;
        y2:
        if (isset($post["\163\x75\142\x6d\x69\164"]) && $post["\x73\165\x62\x6d\151\x74"] == "\x55\160\x6c\x6f\x61\x64") {
            goto N1;
        }
        if (isset($post["\163\x75\142\x6d\151\164"]) && $post["\x73\x75\x62\x6d\151\164"] == "\x52\145\x6d\157\166\x65") {
            goto st;
        }
        goto Kg;
        N1:
        $dm = isset($post["\x63\x75\163\164\x5f\x63\x65\162\x74\x69\146\151\143\141\x74\145\x5f\157\x70\x74\151\x6f\156"]) ? $post["\143\165\x73\x74\x5f\x63\145\162\164\x69\146\151\143\x61\164\x65\137\157\x70\164\151\x6f\156"] : '';
        if (!($dm == "\x6d\x69\x6e\x69\x6f\162\x61\156\147\x65\137\x73\x61\x6d\x6c\x5f\x73\141\166\x65\x5f\x63\165\x73\x74\157\155\x5f\x63\x65\162\164\x69\146\x69\x63\141\x74\x65")) {
            goto hU;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\160\x75\x62\x6c\151\x63\x5f\x63\x65\162\164\151\146\151\143\x61\x74\x65") . "\40\75\40" . $dZ->quote(isset($post["\160\165\142\154\151\143\x5f\143\x65\162\164\151\146\x69\143\141\x74\x65"]) ? $post["\x70\165\x62\154\x69\x63\137\x63\145\x72\164\151\146\151\x63\141\164\145"] : null), $dZ->quoteName("\160\x72\151\166\x61\x74\145\x5f\x63\x65\162\164\x69\x66\151\x63\141\x74\145") . "\x20\75\x20" . $dZ->quote(isset($post["\160\162\151\166\x61\x74\x65\x5f\x63\145\x72\x74\x69\x66\x69\143\141\x74\x65"]) ? $post["\x70\162\151\166\x61\164\x65\x5f\143\145\x72\x74\151\146\x69\143\x61\164\x65"] : null));
        $qH->update($dZ->quoteName("\x23\137\137\155\x69\x6e\151\157\162\141\x6e\x67\x65\137\163\x61\x6d\x6c\137\x63\157\x6e\x66\151\147"))->set($qv);
        $dZ->setQuery($qH);
        $dZ->execute();
        $IZ = UtilitiesSAML::getCustom_CertificatePath("\103\165\x73\164\157\155\120\165\x62\x6c\x69\x63\x43\145\x72\x74\x69\x66\x69\143\x61\x74\x65\x2e\143\x72\x74");
        $i9 = fopen($IZ, "\167");
        $uR = $post["\160\x75\142\x6c\x69\x63\x5f\143\x65\x72\x74\x69\146\151\x63\141\x74\145"];
        fwrite($i9, $uR);
        $IZ = UtilitiesSAML::getCustom_CertificatePath("\x43\x75\163\164\x6f\155\120\x72\151\166\141\x74\145\103\x65\162\164\151\x66\x69\143\141\164\145\56\x6b\145\x79");
        $i9 = fopen($IZ, "\167");
        $uR = $post["\160\x72\151\166\141\x74\x65\137\143\145\162\x74\151\146\151\x63\141\x74\145"];
        fwrite($i9, $uR);
        $SV = "\x59\x6f\165\162\x20\x63\145\x72\164\151\x66\x69\x63\x61\164\x65\163\x20\150\141\x73\x20\142\x65\x65\156\40\x73\x61\166\145\x64\40\163\x75\x63\x63\x65\x73\x73\x66\165\154\154\x79\56";
        $this->setRedirect("\x69\x6e\x64\145\170\x2e\x70\x68\160\x3f\x6f\x70\164\151\157\x6e\75\x63\157\x6d\137\x6d\x69\x6e\151\x6f\162\141\x6e\x67\x65\137\163\141\x6d\154\x26\x74\x61\142\75\x63\165\163\164\x6f\155\137\143\145\162\x74\151\146\x69\x63\141\164\145", $SV);
        hU:
        goto Kg;
        st:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\160\165\x62\154\151\x63\x5f\143\145\x72\164\151\146\x69\x63\141\x74\145") . "\x20\x3d\x20" . $dZ->quote(''), $dZ->quoteName("\x70\x72\151\166\x61\x74\x65\137\143\x65\162\x74\x69\146\151\143\141\164\145") . "\x20\x3d\40" . $dZ->quote(''));
        $qH->update($dZ->quoteName("\x23\137\137\155\x69\156\x69\x6f\x72\x61\x6e\x67\145\x5f\x73\x61\155\154\137\x63\x6f\x6e\146\x69\147"))->set($qv);
        $dZ->setQuery($qH);
        $dZ->execute();
        $SV = "\131\x6f\x75\162\x20\143\x65\162\164\151\x66\x69\143\141\164\145\163\x20\150\141\x73\40\142\x65\145\156\40\162\145\155\157\166\145\144\40\163\165\x63\143\x65\163\163\x66\165\x6c\154\x79\x2e";
        $this->setRedirect("\x69\156\x64\x65\170\56\160\x68\160\77\157\x70\164\x69\x6f\156\x3d\x63\157\x6d\137\155\x69\x6e\x69\x6f\162\141\x6e\x67\x65\137\x73\x61\155\x6c\46\x74\141\142\75\x63\165\163\164\157\155\137\143\x65\162\164\x69\x66\151\x63\x61\x74\145", $SV);
        Kg:
    }
    function getIdpAttributes()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (isset($post["\163\x61\155\x6c\x5f\151\x64\160\137\154\151\163\x74"])) {
            goto gc;
        }
        $Ny = "\x69\156\x64\x65\170\56\x70\x68\160\x3f\157\x70\x74\151\x6f\156\x3d\143\x6f\x6d\137\x6d\x69\156\151\x6f\162\141\x6e\147\x65\137\x73\141\155\x6c\46\164\141\142\75\141\164\164\162\x69\x62\x75\164\x65\137\155\x61\160\160\x69\x6e\147";
        $this->setRedirect($Ny);
        return;
        goto e8;
        gc:
        $Ny = "\151\x6e\144\x65\x78\x2e\160\150\160\x3f\x6f\x70\164\x69\x6f\x6e\x3d\143\x6f\155\137\x6d\151\x6e\x69\x6f\162\x61\156\147\x65\137\163\x61\155\154\46\x74\141\x62\x3d\x61\x74\x74\x72\151\x62\165\164\x65\137\155\x61\160\160\x69\x6e\x67\x26\151\x64\x70\137\156\141\155\145\x5f\x61\x74\164\162\75" . $post["\163\x61\x6d\x6c\137\151\x64\x70\137\x6c\151\163\x74"];
        $this->setRedirect($Ny);
        e8:
    }
    function saveDomainMapping()
    {
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select("\x43\117\x55\x4e\124\x28\52\x29");
        $qH->from($dZ->quoteName("\43\137\137\155\x69\x6e\x69\157\162\141\x6e\147\x65\137\x73\x61\155\154\x5f\143\157\x6e\x66\x69\147"));
        $dZ->setQuery($qH);
        $bZ = $dZ->loadResult();
        $post = JFactory::getApplication()->input->post->getArray();
        if (isset($bZ) && $bZ > 0) {
            goto Fx;
        }
        $SV = "\120\154\x65\141\163\x65\x20\141\144\144\x20\x49\104\120\x20\x43\157\x6e\x66\151\x67\x75\162\141\x74\x69\x6f\x6e\40\146\151\x72\163\164\x2e";
        $this->setRedirect("\x69\x6e\144\145\x78\56\x70\x68\x70\77\157\160\x74\x69\x6f\156\x3d\x63\157\155\x5f\x6d\x69\x6e\x69\x6f\x72\141\156\x67\x65\x5f\163\141\155\x6c\x26\x74\141\x62\x3d\144\x6f\155\x61\151\x6e\137\155\141\x70\x70\x69\x6e\x67", $SV, "\x65\x72\162\x6f\162");
        goto vq;
        Fx:
        $on = array();
        $on = $post;
        $qm = array();
        foreach ($on as $Tl => $Uf) {
            $Sx = $this->array_has_dupes($on);
            if ($Sx) {
                goto Qh;
            }
            $Wp = str_replace("\x73\141\155\x6c\x5f\144\x6f\x6d\x61\x69\x6e\137\155\x61\160\x70\x69\156\x67\137", '', $Tl);
            $qH = $dZ->getQuery(true);
            $qv = array($dZ->quoteName("\144\157\x6d\141\151\x6e\x5f\155\x61\x70\x70\151\x6e\x67") . "\40\x3d\x20" . $dZ->quote($Uf));
            $F4 = array($dZ->quoteName("\151\144\x70\137\156\x61\x6d\x65") . "\x20\75\40" . $dZ->quote($Wp));
            $qH->update($dZ->quoteName("\43\137\137\x6d\151\156\151\157\162\141\156\x67\x65\137\163\141\x6d\x6c\x5f\x63\x6f\x6e\x66\151\147"))->set($qv)->where($F4);
            $dZ->setQuery($qH);
            $dZ->execute();
            goto Se;
            Qh:
            $SV = "\104\165\160\154\151\x63\x61\164\x65\40\x65\x6e\x74\162\x79\x20\x6e\157\164\x20\x61\154\x6c\x6f\167\x65\144\56";
            $this->setRedirect("\x69\x6e\144\x65\170\x2e\160\150\x70\77\x6f\x70\x74\x69\157\x6e\75\x63\157\155\137\155\x69\156\151\x6f\x72\x61\x6e\x67\145\137\163\141\155\x6c\x26\164\141\x62\75\x64\157\155\141\x69\156\137\x6d\x61\x70\x70\151\156\x67", $SV, "\x65\162\162\157\162");
            return;
            Se:
            ng:
        }
        tM:
        $SV = "\x44\x6f\155\141\151\156\x20\115\141\160\160\151\x6e\x67\40\x68\141\x73\x20\x62\x65\145\156\x20\163\141\166\x65\x64\40\163\x75\x63\x63\145\x73\x73\x66\165\154\x6c\x79\56";
        $this->setRedirect("\x69\x6e\x64\x65\170\56\x70\x68\160\77\157\x70\x74\151\x6f\x6e\x3d\143\x6f\155\x5f\x6d\x69\x6e\x69\157\162\x61\x6e\x67\145\x5f\x73\x61\155\x6c\x26\x74\x61\142\75\x64\x6f\x6d\141\151\156\x5f\x6d\141\x70\x70\151\x6e\x67", $SV);
        vq:
    }
    function array_has_dupes($jj)
    {
        return count($jj) !== count(array_unique($jj));
    }
    function deleteCurrentIdp()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto U4;
        }
        $this->setRedirect("\151\x6e\x64\x65\170\x2e\x70\150\x70\x3f\157\160\x74\x69\x6f\156\75\x63\157\155\x5f\x6d\151\x6e\151\x6f\162\141\156\147\x65\x5f\163\x61\x6d\x6c\46\x74\141\x62\75\151\144\x70");
        return;
        U4:
        if (isset($post["\151\144\x70\137\151\x64"]) && $post["\151\x64\x70\x5f\x69\x64"] > 0) {
            goto R_;
        }
        $this->setRedirect("\x69\x6e\x64\x65\170\x2e\x70\x68\160\77\157\160\x74\x69\157\156\75\143\x6f\x6d\137\155\x69\156\151\x6f\x72\141\x6e\x67\145\137\x73\x61\155\x6c\x26\x74\141\142\x3d\x69\144\x70", "\x49\x44\120\x20\x43\x6f\156\146\x69\x67\x75\162\141\x74\x69\x6f\x6e\x20\143\157\165\x6c\x64\40\x6e\x6f\164\40\142\145\x20\x64\x65\154\x65\164\x65\144\56\40\x50\154\x65\x61\x73\x65\x20\164\162\171\x20\x61\147\141\x69\156\x2e");
        return;
        goto Tu;
        R_:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $F4 = array($dZ->quoteName("\151\x64") . "\x20\75\x20" . $dZ->quote($post["\x69\x64\160\137\x69\x64"]));
        $qH->delete($dZ->quoteName("\x23\137\x5f\x6d\151\x6e\151\157\162\141\156\x67\x65\x5f\x73\x61\155\154\x5f\143\x6f\156\146\151\147"));
        $qH->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        $qH = $dZ->getQuery(true);
        $F4 = array($dZ->quoteName("\x69\144\160\137\x69\x64") . "\x20\x3d\40" . $dZ->quote($post["\x69\144\x70\x5f\151\144"]));
        $qH->delete($dZ->quoteName("\x23\x5f\x5f\155\151\156\151\157\x72\x61\156\x67\x65\x5f\163\141\155\x6c\x5f\x72\x6f\154\145\x5f\x6d\141\160\160\151\x6e\x67"));
        $qH->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        if ($bZ) {
            goto OD;
        }
        $this->setRedirect("\151\156\144\145\170\56\x70\x68\x70\77\x6f\160\164\x69\157\x6e\x3d\143\x6f\155\137\x6d\151\x6e\x69\x6f\x72\x61\x6e\147\x65\x5f\163\x61\x6d\154\46\164\x61\x62\x3d\x69\144\x70", "\116\x6f\40\111\104\x50\40\146\157\165\x6e\144\x2e\40\120\154\x65\141\163\145\40\x74\x72\x79\40\141\x67\141\x69\156\56");
        return;
        goto TI;
        OD:
        $this->setRedirect("\x69\x6e\x64\x65\x78\56\160\x68\160\77\x6f\160\x74\151\x6f\156\75\143\157\155\x5f\155\151\x6e\x69\157\x72\x61\156\x67\145\x5f\163\141\x6d\x6c\46\x74\141\142\x3d\151\144\160", "\111\x44\x50\40\103\157\156\146\x69\x67\165\162\x61\164\151\x6f\156\40\x64\145\154\145\x74\x65\144\40\x73\165\x63\x63\x65\x73\x73\146\165\154\x6c\x79\x2e");
        return;
        TI:
        Tu:
    }
    function cancelIdpConfig()
    {
        $this->setRedirect("\151\x6e\144\x65\x78\56\160\x68\x70\x3f\157\160\x74\151\157\x6e\75\x63\x6f\155\137\x6d\151\x6e\x69\157\162\x61\156\147\x65\x5f\x73\141\x6d\x6c\x26\x74\x61\x62\x3d\x69\144\160");
        return;
    }
    function addNewIDP()
    {
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $vp = $EK["\x73\164\141\x74\x75\163"];
        if (!Mo_Saml_Local_Util::is_customer_registered() || Mo_Saml_Local_Util::check($vp) != "\164\162\x75\145") {
            goto MX;
        }
        $b1 = $EK["\143\165\163\x74\157\155\145\162\x5f\153\x65\x79"];
        $Wk = $EK["\x61\160\151\x5f\153\x65\171"];
        $this->checkCL($b1, $Wk, 1);
        goto Eo;
        MX:
        $this->setRedirect("\151\x6e\x64\x65\x78\56\160\150\x70\77\157\160\164\x69\157\156\75\143\157\x6d\137\x6d\x69\x6e\x69\x6f\162\x61\x6e\147\x65\x5f\x73\141\155\154", "\120\154\145\141\163\x65\x20\162\145\x67\151\x73\164\145\162\40\141\156\x64\x20\x61\143\x74\x69\x76\141\164\x65\40\171\157\165\162\x20\x6c\x69\143\145\x6e\163\x65\40\x74\x6f\40\141\x64\144\x20\111\104\120\56", "\x65\x72\162\157\162");
        return;
        Eo:
    }
    function checkCL($b1, $Wk, $TR)
    {
        $Sy = new Mo_saml_Local_Customer();
        $ST = json_decode($Sy->ccl($b1, $Wk), true);
        if (isset($ST["\x73\164\x61\164\165\x73"]) && $ST["\x73\x74\141\164\165\163"] == "\123\x55\x43\x43\x45\x53\123") {
            goto U5;
        }
        $this->setRedirect("\151\x6e\144\x65\x78\56\160\x68\x70\x3f\x6f\x70\x74\x69\157\156\x3d\x63\x6f\155\137\x6d\151\x6e\x69\x6f\x72\x61\156\x67\x65\x5f\x73\141\155\154", "\x4c\x69\x63\145\x6e\163\x65\40\156\157\164\x20\x66\x6f\165\156\x64\56\40\x50\x6c\145\141\163\x65\x20\143\x6f\156\164\x61\143\x74\x20\x61\x74\x3c\141\40\x68\162\145\146\75\42\x6d\141\x69\x6c\164\157\72\152\157\x6f\x6d\154\x61\x73\x75\x70\160\157\x72\164\100\x78\145\x63\x75\162\x69\x66\171\56\143\x6f\155\x22\x3e\40\x6a\x6f\x6f\155\154\141\163\165\160\160\157\162\x74\100\170\x65\143\165\x72\x69\x66\171\56\x63\x6f\x6d\x3c\x2f\x61\76\40\x74\157\40\165\x70\x67\x72\141\x64\x65\x20\171\x6f\165\162\x20\x6c\151\143\145\156\163\145\x2e", "\145\162\x72\157\162");
        return true;
        goto pM;
        U5:
        if ($ST["\x6e\x6f\117\146\x53\120"] === 0 || empty($ST["\x6e\157\117\x66\123\x50"])) {
            goto Ib;
        }
        $kj = $ST["\156\x6f\117\x66\x53\120"];
        goto cx;
        Ib:
        $kj = 1;
        cx:
        $Tr = Mo_Saml_Local_Util::getSAMLCount();
        if ($Tr < $kj) {
            goto JR;
        }
        $this->setRedirect("\151\156\144\x65\x78\x2e\160\x68\x70\77\x6f\x70\164\151\157\x6e\x3d\143\157\x6d\x5f\155\x69\156\151\x6f\162\141\x6e\x67\x65\137\163\x61\x6d\x6c\46\x74\x61\x62\75\151\x64\160", "\131\157\x75\x20\150\x61\x76\x65\x20\160\x75\x72\x63\150\x61\x73\145\144\40\x74\150\x65\40\x6c\151\143\145\x6e\163\x65\x20\x66\x6f\x72\40" . $kj . "\40\x49\104\120\x73\56\40\120\154\x65\141\x73\145\x20\143\157\156\164\x61\x63\164\x20\141\x74\x3c\141\40\150\162\145\x66\75\42\x6d\141\x69\x6c\164\157\72\x6a\157\157\155\x6c\x61\x73\x75\x70\160\157\162\164\x40\170\x65\x63\x75\162\151\146\171\x2e\x63\157\x6d\x22\x3e\40\152\157\x6f\x6d\154\x61\163\x75\x70\x70\157\x72\164\x40\x78\x65\x63\x75\162\x69\x66\171\56\x63\x6f\155\x3c\x2f\x61\x3e\40\164\157\40\165\160\x67\x72\141\144\145\x20\164\150\x65\40\x6c\x69\143\x65\156\x73\x65\x20\151\x66\x20\171\157\x75\x20\x77\x61\156\164\x20\x74\x6f\x20\x61\144\x64\x20\155\157\162\145\x20\x49\104\120\163\x2e", "\x65\162\162\157\162");
        return true;
        goto Nh;
        JR:
        if ($TR) {
            goto gX;
        }
        return false;
        goto wV;
        gX:
        $this->setRedirect("\151\156\x64\x65\x78\x2e\160\150\x70\77\157\160\164\151\x6f\156\x3d\143\x6f\x6d\x5f\155\x69\156\x69\x6f\162\x61\156\x67\145\137\163\x61\x6d\154\46\x74\x61\142\x3d\x69\x64\160\46\x69\144\75\60", "\120\x6c\145\141\163\x65\40\141\x64\x64\x20\156\145\x77\x20\111\104\120\40\x64\145\x74\141\151\154\163\x2e");
        return true;
        wV:
        Nh:
        pM:
    }
    function insert_new_idp($post)
    {
        $Cu = isset($post["\x73\141\155\x6c\137\170\65\x30\71\x5f\x63\145\x72\x74\151\146\151\143\x61\164\x65"]) ? $post["\163\x61\155\154\137\x78\x35\x30\x39\x5f\x63\145\x72\164\x69\x66\151\143\x61\164\x65"] : '';
        if (!is_array($Cu)) {
            goto gd;
        }
        $Mr = implode("\x3b", $Cu);
        gd:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $Kz = array("\x69\144\x70\137\x6e\x61\155\145", "\x69\x64\x70\x5f\145\156\164\151\164\x79\137\151\x64", "\x73\151\x6e\x67\154\145\x5f\163\x69\147\x6e\157\x6e\x5f\x73\x65\162\166\x69\x63\x65\137\x75\x72\x6c", "\x63\x65\162\164\151\x66\151\143\141\x74\145", "\x62\x69\x6e\x64\151\x6e\147", "\x73\151\x6e\x67\x6c\x65\x5f\154\157\147\157\165\164\137\x75\x72\154", "\144\145\x66\141\x75\x6c\164\x5f\x72\x65\x6c\141\x79\x5f\163\x74\x61\164\145", "\155\157\x5f\x73\141\x6d\x6c\137\163\145\154\x65\x63\x74\x5f\x73\x69\147\156\137\x61\154\x67\157", "\x73\141\x6d\154\137\162\145\x71\x75\145\163\164\x5f\x73\151\x67\x6e", "\156\x61\155\145\x5f\151\144\x5f\x66\157\x72\155\x61\164", "\155\151\x6e\151\x6f\162\141\x6e\x67\x65\137\x73\141\x6d\154\x5f\x69\x64\x70\137\x73\154\157\137\x62\x69\x6e\x64\151\156\x67");
        $oz = array($dZ->quote($post["\x69\x64\x70\137\156\141\x6d\x65"]), $dZ->quote($post["\151\144\160\x5f\145\156\x74\x69\x74\x79\137\151\x64"]), $dZ->quote($post["\x73\151\x6e\x67\154\x65\x5f\163\151\147\x6e\x6f\x6e\x5f\163\145\x72\x76\151\143\x65\137\x75\162\154"]), $dZ->quote(Mo_Saml_Local_Util::sanitize_certificate($Mr)), $dZ->quote($post["\x6d\151\156\x69\x6f\162\141\x6e\x67\145\137\163\141\x6d\x6c\137\x69\x64\x70\137\x73\x73\157\137\142\151\156\144\151\x6e\x67"]), $dZ->quote($post["\x73\151\x6e\x67\154\145\x5f\154\157\147\x6f\x75\x74\x5f\165\162\x6c"]), $dZ->quote($post["\x6d\x6f\137\x73\x61\x6d\154\137\x73\x65\154\x65\x63\164\x5f\x73\151\x67\156\137\x61\x6c\147\157"]), $dZ->quote($post["\x64\x65\x66\141\x75\154\164\137\162\x65\154\x61\x79\137\163\164\x61\x74\x65"]), $dZ->quote($post["\x73\x61\x6d\x6c\x5f\162\x65\x71\165\145\x73\x74\x5f\x73\151\x67\156"]), $dZ->quote($post["\156\141\155\x65\x5f\x69\x64\x5f\146\x6f\162\x6d\141\164"]), $dZ->quote($post["\155\151\x6e\151\x6f\x72\x61\x6e\147\145\137\163\141\155\x6c\x5f\x69\x64\160\x5f\163\154\157\x5f\x62\151\156\144\151\x6e\x67"]));
        $qH->insert($dZ->quoteName("\43\x5f\x5f\x6d\x69\156\x69\x6f\162\x61\156\x67\x65\x5f\x73\x61\x6d\x6c\137\143\x6f\x6e\x66\x69\147"))->columns($dZ->quoteName($Kz))->values(implode("\54", $oz));
        $dZ->setQuery($qH);
        $dZ->execute();
    }
    function update_existing_idp($post)
    {
        $Cu = isset($post["\x73\141\155\x6c\137\x78\x35\60\71\x5f\x63\145\x72\x74\x69\146\x69\x63\x61\164\145"]) ? $post["\x73\141\x6d\x6c\137\170\x35\x30\x39\x5f\x63\145\x72\164\x69\x66\x69\x63\x61\164\x65"] : '';
        if (!is_array($Cu)) {
            goto Hi;
        }
        $Mr = implode("\x3b", $Cu);
        Hi:
        if (!(count($post) == 0)) {
            goto C8;
        }
        $this->setRedirect("\151\156\x64\145\170\x2e\160\150\160\77\157\160\x74\151\x6f\156\x3d\x63\x6f\x6d\x5f\x6d\151\x6e\x69\x6f\162\141\x6e\x67\145\x5f\x73\141\155\154\46\x74\x61\142\x3d\151\144\160");
        return;
        C8:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\151\x64\x70\137\x6e\x61\155\x65") . "\40\x3d\40" . $dZ->quote(isset($post["\151\x64\160\x5f\x6e\x61\155\x65"]) ? $post["\x69\144\160\x5f\x6e\141\x6d\x65"] : ''), $dZ->quoteName("\151\144\x70\x5f\x65\x6e\x74\x69\164\x79\x5f\x69\x64") . "\x20\x3d\x20" . $dZ->quote(isset($post["\151\x64\160\137\x65\156\164\x69\164\x79\137\151\144"]) ? $post["\151\144\160\137\145\156\x74\x69\x74\171\137\x69\x64"] : ''), $dZ->quoteName("\x73\x69\x6e\x67\x6c\145\137\163\151\147\x6e\157\156\137\163\x65\162\166\x69\x63\145\137\165\162\154") . "\40\75\40" . $dZ->quote(isset($post["\x73\151\x6e\147\154\x65\x5f\163\151\x67\x6e\157\156\x5f\163\x65\162\x76\x69\x63\x65\x5f\x75\x72\154"]) ? $post["\x73\151\156\x67\154\145\137\x73\151\147\156\x6f\x6e\x5f\x73\145\162\166\151\x63\x65\x5f\x75\x72\x6c"] : ''), $dZ->quoteName("\143\x65\x72\164\x69\146\151\x63\141\164\x65") . "\x20\x3d\x20" . $dZ->quote($Mr), $dZ->quoteName("\142\x69\156\144\x69\156\x67") . "\x20\75\40" . $dZ->quote(isset($post["\x6d\151\156\x69\157\162\141\156\x67\x65\x5f\x73\141\155\x6c\137\x69\x64\x70\137\163\x73\157\137\142\151\156\x64\151\156\147"]) ? $post["\155\151\x6e\x69\x6f\x72\x61\156\147\145\137\163\141\155\154\x5f\x69\144\x70\x5f\x73\x73\x6f\x5f\142\151\156\144\151\x6e\x67"] : "\110\x54\124\x50\x2d\122\x65\144\x69\162\145\x63\164"), $dZ->quoteName("\163\151\x6e\x67\x6c\x65\137\x6c\157\x67\157\165\x74\137\x75\162\154") . "\40\75\40" . $dZ->quote(isset($post["\163\x69\x6e\147\154\x65\x5f\x6c\157\147\157\x75\164\x5f\x75\162\154"]) ? $post["\x73\151\156\147\x6c\x65\137\x6c\x6f\x67\157\x75\x74\x5f\165\x72\154"] : ''), $dZ->quoteName("\x64\x65\x66\x61\165\154\x74\x5f\x72\145\x6c\141\x79\x5f\163\x74\x61\164\x65") . "\40\75\40" . $dZ->quote(isset($post["\x64\145\146\141\165\x6c\x74\x5f\x72\x65\154\x61\171\137\163\x74\141\164\145"]) ? $post["\144\x65\x66\141\x75\154\164\x5f\x72\145\x6c\141\171\x5f\163\x74\x61\164\145"] : ''), $dZ->quoteName("\x6d\157\x5f\163\141\x6d\x6c\137\x73\x65\154\x65\x63\164\137\x73\151\x67\x6e\x5f\141\x6c\147\157") . "\40\75\40" . $dZ->quote(isset($post["\155\157\x5f\163\141\155\x6c\137\x73\145\x6c\145\143\164\137\x73\x69\147\156\137\x61\x6c\x67\x6f"]) ? $post["\x6d\x6f\x5f\x73\x61\x6d\154\x5f\x73\x65\x6c\145\143\x74\137\x73\x69\x67\x6e\137\141\154\x67\x6f"] : "\x52\123\x41\x5f\x53\110\101\62\x35\66"), $dZ->quoteName("\163\x61\155\x6c\137\162\x65\161\165\x65\x73\x74\x5f\163\x69\x67\x6e") . "\x20\75\x20" . $dZ->quote(isset($post["\x73\x61\x6d\154\x5f\162\x65\161\x75\145\x73\x74\137\x73\x69\x67\156"]) ? $post["\x73\x61\x6d\154\x5f\x72\x65\161\x75\145\163\x74\x5f\163\x69\147\156"] : ''), $dZ->quoteName("\x6e\141\x6d\x65\x5f\151\144\x5f\146\157\x72\155\141\164") . "\40\x3d\x20" . $dZ->quote(isset($post["\x6e\x61\155\x65\x5f\151\144\x5f\146\157\x72\x6d\141\x74"]) ? $post["\156\141\x6d\145\137\x69\144\137\146\x6f\x72\155\x61\x74"] : "\x75\162\156\x3a\x6f\141\x73\151\163\72\156\x61\155\x65\x73\72\164\143\x3a\x53\x41\115\114\72\x31\56\x31\x3a\156\141\155\x65\x69\x64\x2d\x66\157\162\155\x61\x74\x3a\x75\156\x73\160\145\143\x69\146\x69\145\x64"), $dZ->quoteName("\x6d\151\x6e\151\x6f\162\x61\156\147\145\x5f\163\x61\155\x6c\137\x69\x64\160\x5f\163\x6c\x6f\137\142\151\156\144\x69\156\x67") . "\x20\x3d\40" . $dZ->quote(isset($post["\x6d\151\156\151\157\x72\141\x6e\x67\x65\x5f\x73\141\155\154\x5f\151\x64\160\x5f\x73\x6c\x6f\137\142\151\x6e\144\x69\156\x67"]) ? $post["\x6d\151\156\x69\157\162\141\x6e\147\x65\x5f\163\141\155\154\137\x69\144\160\137\x73\x6c\x6f\x5f\x62\x69\156\144\x69\156\x67"] : "\110\124\x54\120\x2d\122\145\144\151\162\x65\x63\x74"));
        $F4 = array($dZ->quoteName("\x69\144") . "\40\x3d\x20" . $dZ->quote($post["\151\x64\x70\137\151\x64"]));
        $qH->update($dZ->quoteName("\43\137\137\x6d\151\x6e\151\157\x72\x61\x6e\147\145\137\163\x61\x6d\154\137\143\157\x6e\146\151\x67"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
    }
    function importexport($Re = false)
    {
        $IJ = UtilitiesSAML::isIDPConfigured();
        if (!(count($IJ) == 0)) {
            goto RH;
        }
        $this->setRedirect("\x69\x6e\144\x65\170\56\x70\x68\x70\77\157\x70\x74\151\x6f\156\75\143\157\x6d\137\x6d\151\x6e\151\157\162\141\x6e\x67\x65\x5f\x73\141\155\x6c\46\164\141\142\x3d\151\x64\160", "\120\x6c\x65\141\163\x65\40\143\x6f\156\x66\151\147\x75\162\145\40\x61\164\x6c\x65\141\163\x74\x20\x53\x65\x72\166\x69\x63\x65\x20\120\162\157\x76\151\144\145\162\x20\x53\145\x74\165\160\40\124\x61\x62\x20\164\x6f\x20\x64\157\167\156\154\157\x61\144\40\164\x68\145\x20\x63\157\x6e\146\x69\x67\x75\x72\141\164\x69\157\156\x2e", "\x65\162\162\x6f\162");
        return;
        RH:
        require_once JPATH_COMPONENT . DIRECTORY_SEPARATOR . "\150\x65\154\x70\x65\x72\x73" . DIRECTORY_SEPARATOR . "\x65\x78\x70\157\x72\x74\x2e\160\150\160";
        define("\x54\141\x62\137\x43\x6c\141\163\x73\137\x4e\141\155\145\x73", serialize(array("\151\144\160\x5f\151\x6e\x66\x6f" => "\x6d\157\137\151\x64\x70\x5f\x69\x6e\146\x6f", "\x72\x6f\x6c\145\137\x6d\x61\160\x70\151\156\x67" => "\155\x6f\137\162\x6f\x6c\x65\x5f\x6d\x61\160\x70\x69\x6e\147", "\141\164\x74\x72\151\142\x75\x74\145\x5f\x6d\x61\x70\160\151\156\147" => "\x6d\x6f\137\x61\x74\x74\x72\x69\142\165\x74\145\137\x6d\141\160\x70\151\156\147", "\x6c\157\x67\151\156\x20\163\x65\x74\x74\151\156\x67\163" => "\x6d\x6f\x5f\x6c\157\x67\x69\156\137\x73\x65\164\164\151\x6e\x67")));
        $zl = unserialize(Tab_Class_Names);
        $L3 = array();
        $n0 = 0;
        nv:
        if (!(count($IJ) > $n0)) {
            goto a7;
        }
        $L3[$n0] = array("\151\144" => $IJ[$n0]->id);
        foreach ($zl as $Tl => $Uf) {
            $L3[$n0][$Tl] = $this->mo_get_configuration_array($Uf, $L3[$n0]["\x69\144"]);
            Vp:
        }
        Ls:
        oQ:
        $n0++;
        goto nv;
        a7:
        if (!$L3) {
            goto hd;
        }
        $f5 = json_encode($L3, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES);
        if (!$Re) {
            goto A4;
        }
        return $f5;
        A4:
        header("\103\x6f\156\x74\x65\156\x74\x2d\104\x69\163\160\x6f\x73\151\164\x69\157\156\x3a\40\141\x74\x74\141\x63\x68\155\145\156\164\73\40\146\x69\x6c\145\x6e\141\x6d\x65\75\155\151\156\151\x6f\162\141\156\147\145\55\x73\141\155\154\x2d\x73\x70\x2d\143\x6f\156\146\x69\x67\56\152\x73\x6f\x6e");
        echo $f5;
        exit;
        hd:
        return;
    }
    function updateOrganizationDetails()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        $fS = isset($post["\157\162\x67\141\x6e\x69\172\x61\164\x69\157\x6e\x5f\x6e\x61\155\145"]) ? $post["\157\162\x67\x61\x6e\x69\172\141\x74\151\x6f\156\x5f\x6e\141\x6d\145"] : '';
        $ut = isset($post["\157\162\x67\x61\x6e\x69\x7a\141\164\151\157\x6e\x5f\x64\x69\163\160\154\141\x79\x5f\x6e\x61\x6d\145"]) ? $post["\x6f\x72\x67\x61\156\151\172\141\164\x69\x6f\156\137\144\x69\x73\x70\x6c\x61\171\137\x6e\141\x6d\x65"] : '';
        $K5 = isset($post["\157\x72\x67\141\x6e\x69\x7a\141\x74\x69\157\x6e\137\x75\162\x6c"]) ? $post["\x6f\x72\x67\x61\x6e\151\172\141\164\151\157\x6e\137\165\162\154"] : '';
        $SI = isset($post["\164\x65\143\x68\137\x70\145\162\137\x6e\x61\x6d\145"]) ? $post["\x74\145\x63\150\137\160\145\162\x5f\156\141\x6d\145"] : '';
        $i8 = isset($post["\x74\145\x63\x68\137\145\x6d\141\x69\154\x5f\x61\144\x64"]) ? $post["\x74\x65\143\150\x5f\145\155\141\x69\154\x5f\141\x64\144"] : '';
        $d8 = isset($post["\x73\165\x70\160\157\162\x74\137\160\145\162\x5f\x6e\x61\155\x65"]) ? $post["\163\x75\x70\160\x6f\x72\164\x5f\160\145\162\x5f\x6e\141\155\x65"] : '';
        $rl = isset($post["\163\165\x70\x70\157\162\164\137\x65\155\141\x69\154\137\x61\144\144"]) ? $post["\x73\x75\x70\160\x6f\x72\164\x5f\145\155\x61\x69\x6c\137\x61\x64\x64"] : '';
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $ln = array($dZ->quoteName("\x6f\x72\147\141\156\151\172\x61\x74\x69\x6f\156\x5f\156\141\155\145") . "\x20\x3d\40" . $dZ->quote($fS), $dZ->quoteName("\x6f\162\147\141\156\151\x7a\141\x74\x69\x6f\156\x5f\144\x69\x73\160\154\141\x79\x5f\156\x61\155\145") . "\40\75\40" . $dZ->quote($ut), $dZ->quoteName("\x6f\x72\147\x61\156\x69\x7a\141\164\x69\157\x6e\x5f\x75\x72\154") . "\40\75\x20" . $dZ->quote($K5), $dZ->quoteName("\164\x65\x63\x68\137\160\145\162\137\x6e\141\x6d\145") . "\40\75\40" . $dZ->quote($SI), $dZ->quoteName("\x74\x65\143\150\x5f\145\x6d\141\x69\x6c\137\141\144\144") . "\x20\x3d\40" . $dZ->quote($i8), $dZ->quoteName("\163\165\160\160\157\x72\x74\x5f\x70\145\162\137\156\x61\155\x65") . "\x20\75\x20" . $dZ->quote($d8), $dZ->quoteName("\163\x75\160\160\x6f\162\x74\137\145\155\x61\x69\x6c\x5f\x61\x64\144") . "\x20\75\x20" . $dZ->quote($rl));
        $F4 = array($dZ->quoteName("\151\x64") . "\x20\x3d\40\61");
        $qH->update($dZ->quoteName("\43\x5f\137\155\151\156\151\157\x72\x61\156\147\x65\x5f\x73\141\155\x6c\137\x63\x75\163\164\x6f\x6d\x65\162\x5f\144\145\x74\141\151\x6c\163"))->set($ln)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        $this->setRedirect("\x69\156\x64\145\170\56\160\x68\x70\77\157\x70\164\x69\x6f\156\75\x63\x6f\x6d\137\x6d\x69\x6e\x69\157\x72\141\x6e\147\145\137\163\141\155\x6c\46\164\141\142\75\144\x65\x73\x63\162\x69\160\x74\151\157\x6e", "\x53\x75\x63\143\145\x73\163\146\165\154\154\x79\x20\x75\160\x64\141\x74\x65\144\40\x6f\162\141\147\141\x6e\x69\172\141\164\x69\157\x6e\40\144\145\x74\x61\x69\154\163");
    }
    function mo_get_configuration_array($DY, $PL)
    {
        if (!($DY == "\x6d\x6f\137\151\x64\160\x5f\151\156\146\157")) {
            goto TF;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select(array("\52"));
        $qH->from($dZ->quoteName("\43\x5f\137\x6d\151\x6e\x69\x6f\162\x61\156\147\145\x5f\x73\141\155\154\137\143\157\156\146\x69\x67"));
        $qH->where($dZ->quoteName("\x69\x64") . "\40\x3d" . $PL);
        $dZ->setQuery($qH);
        $IJ = $dZ->loadAssoc();
        TF:
        if (!($DY == "\x6d\157\x5f\x61\164\164\x72\x69\x62\x75\164\145\x5f\x6d\141\160\160\x69\x6e\x67")) {
            goto oD;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select(array("\52"));
        $qH->from($dZ->quoteName("\x23\137\x5f\155\151\156\x69\x6f\162\x61\x6e\x67\145\x5f\x73\x61\x6d\154\137\x63\157\x6e\x66\x69\147"));
        $qH->where($dZ->quoteName("\x69\144") . "\x20\x3d" . $this->get_idp_id($PL));
        $dZ->setQuery($qH);
        $IJ = $dZ->loadAssoc();
        oD:
        if (!($DY == "\x6d\x6f\x5f\162\157\x6c\145\137\155\x61\x70\x70\151\x6e\147")) {
            goto aX;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select(array("\52"));
        $qH->from($dZ->quoteName("\43\x5f\x5f\155\x69\x6e\151\157\162\141\x6e\147\145\x5f\163\x61\155\154\137\162\x6f\154\x65\137\155\141\x70\x70\151\x6e\x67"));
        $qH->where($dZ->quoteName("\151\144\160\137\x69\x64") . "\x20\75" . $this->get_idp_id($PL));
        $dZ->setQuery($qH);
        $IJ = $dZ->loadAssoc();
        aX:
        if (!($DY == "\x6d\157\137\x6c\x6f\x67\151\156\137\163\x65\x74\164\151\156\147")) {
            goto nc;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select(array("\x2a"));
        $qH->from($dZ->quoteName("\x23\x5f\137\x6d\x69\156\x69\157\162\141\x6e\x67\145\x5f\163\141\x6d\154\x5f\143\165\163\164\x6f\x6d\x65\162\137\x64\145\x74\x61\151\154\163"));
        $qH->where($dZ->quoteName("\x69\144") . "\x20\75\x31");
        $dZ->setQuery($qH);
        $IJ = $dZ->loadAssoc();
        nc:
        $uP = call_user_func($DY . "\72\72\147\x65\x74\x43\157\x6e\x73\164\141\156\x74\163");
        $hS = array();
        foreach ($uP as $Tl => $Uf) {
            if (empty($IJ)) {
                goto L1;
            }
            if (empty($IJ[$Uf])) {
                goto Ow;
            }
            $hS[$Tl] = $IJ[$Uf];
            Ow:
            L1:
            Tr:
        }
        ic:
        return $hS;
    }
    function get_idp_id($ox)
    {
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select(array("\52"));
        $qH->from($dZ->quoteName("\43\137\137\155\x69\156\151\x6f\162\141\x6e\147\145\x5f\x73\141\155\x6c\137\x63\x6f\156\146\x69\x67"));
        $qH->where($dZ->quoteName("\x69\x64") . "\x20\x3d\x20" . $ox);
        $dZ->setQuery($qH);
        $IJ = $dZ->loadAssoc();
        return $IJ["\151\144"];
    }
    function import()
    {
        $zT = @file_get_contents($_FILES["\143\x6f\x6e\x66\151\147\x75\x72\141\x74\151\157\x6e\x5f\x66\x69\154\145"]["\x74\x6d\x70\137\156\x61\x6d\145"]);
        $DD = json_decode($zT, true);
        if (!empty($DD)) {
            goto BF;
        }
        $this->setRedirect("\151\x6e\144\x65\x78\x2e\x70\x68\160\x3f\157\160\164\151\157\156\x3d\143\157\155\137\155\x69\x6e\151\157\x72\x61\156\x67\x65\x5f\x73\141\155\x6c\x26\x74\x61\x62\x3d\x69\144\x70", "\x50\154\x65\141\x73\145\40\x73\x65\154\145\x63\164\x2f\143\x68\157\x6f\x73\145\x20\x74\150\145\x20\x2e\x6a\x73\x6f\x6e\x20\146\x69\154\145\40\x74\x6f\x20\151\155\x70\157\x72\x74\x20\164\x68\x65\40\103\157\x6e\x66\x69\147\x75\x72\141\x74\151\157\156", "\x65\x72\x72\x6f\162");
        return;
        BF:
        $n0 = 0;
        PO:
        if (!($n0 < count($DD))) {
            goto OQ;
        }
        $mk = $this->mo_update_configuration_array($DD[$n0]);
        PN:
        $n0++;
        goto PO;
        OQ:
        if (!empty($mk) || $mk != NULL) {
            goto V1;
        }
        $this->setRedirect("\151\x6e\x64\x65\170\x2e\160\150\160\77\x6f\160\164\151\x6f\156\75\x63\x6f\x6d\137\x6d\x69\156\151\157\x72\141\x6e\x67\x65\x5f\x73\141\155\x6c\x26\x74\141\142\75\151\144\160", "\x53\165\143\145\x73\163\x66\x75\154\154\x79\x20\x55\160\144\141\x74\x65\144\40\164\150\x65\x20\x63\x6f\156\146\151\x67\x75\x72\x61\x74\151\x6f\x6e");
        goto r3;
        V1:
        if (!($mk == false)) {
            goto K_;
        }
        $kj = UtilitiesSAML::nOfSP();
        $this->setRedirect("\151\x6e\x64\x65\170\56\160\150\160\77\x6f\x70\x74\x69\157\156\x3d\143\157\155\137\155\x69\156\151\157\x72\x61\x6e\x67\145\137\163\141\x6d\x6c\46\x74\141\x62\x3d\151\144\x70", "\x59\157\x75\x20\x68\141\166\x65\40\160\x75\162\143\x68\x61\x73\x65\x64\40\x74\x68\x65\x20\154\x69\143\145\156\163\x65\40\x66\x6f\162\40" . $kj . "\x20\111\104\x50\x73\x2e\40\120\x6c\x65\x61\x73\x65\40\x63\157\x6e\x74\x61\x63\x74\40\x61\x74\x3c\141\x20\150\162\145\146\x3d\42\x6d\x61\151\x6c\x74\157\x3a\x6a\157\157\155\x6c\x61\x73\x75\x70\x70\157\162\164\100\170\x65\143\x75\x72\151\146\171\56\143\157\155\x22\76\x20\152\x6f\157\155\154\141\x73\165\160\160\157\x72\164\x40\170\145\143\165\x72\x69\146\171\x2e\x63\157\155\x3c\x2f\x61\x3e\x20\164\x6f\40\165\x70\147\x72\x61\144\x65\x20\164\150\x65\40\154\x69\143\145\156\x73\145\40\151\x66\x20\171\x6f\165\x20\x77\x61\156\164\x20\164\x6f\x20\141\144\144\40\155\157\162\145\x20\111\x44\120\x73\56", "\x65\x72\x72\157\162");
        K_:
        r3:
    }
    function mo_update_configuration_array($L3)
    {
        require_once JPATH_COMPONENT . DIRECTORY_SEPARATOR . "\150\145\154\160\145\162\x73" . DIRECTORY_SEPARATOR . "\x65\170\x70\x6f\162\164\x2e\160\150\x70";
        define("\124\141\142\137\103\154\141\163\163\137\116\141\x6d\x65\x73", serialize(array("\x69\x64\x70\137\x69\156\x66\x6f" => "\155\157\x5f\x69\144\160\137\x69\156\x66\x6f", "\x72\x6f\x6c\145\x5f\155\x61\160\x70\151\156\x67" => "\x6d\157\137\162\x6f\x6c\145\137\155\141\160\x70\x69\156\x67", "\141\x74\x74\162\151\x62\x75\x74\145\x5f\155\141\160\x70\x69\156\x67" => "\155\157\x5f\141\x74\x74\162\151\142\165\164\145\137\155\141\x70\x70\151\x6e\147", "\154\157\x67\151\x6e\40\163\x65\x74\x74\151\156\x67\x73" => "\155\x6f\137\x6c\157\x67\x69\x6e\x5f\163\145\x74\164\151\x6e\x67")));
        $zl = unserialize(Tab_Class_Names);
        $ox = $L3["\151\144"];
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select(array("\x2a"));
        $qH->from($dZ->quoteName("\x23\137\137\155\x69\x6e\151\x6f\162\x61\156\x67\x65\137\163\141\x6d\154\137\x63\x6f\x6e\146\151\147"));
        $dZ->setQuery($qH);
        $IJ = $dZ->loadAssocList();
        $X7 = count($IJ);
        $uj = UtilitiesSAML::nOfSP();
        $Lu = mo_idp_info::getConstants();
        $XJ = false;
        $n0 = 0;
        oj:
        if (!($n0 < count($IJ))) {
            goto aj;
        }
        $XJ = true;
        foreach ($Lu as $Tl => $Uf) {
            if (!($IJ[$n0][$Tl] != $L3["\x69\x64\160\x5f\151\x6e\146\x6f"][$Tl])) {
                goto DA;
            }
            $XJ = false;
            DA:
            oO:
        }
        sR:
        if (!$XJ) {
            goto hM;
        }
        return;
        hM:
        Gm:
        $n0++;
        goto oj;
        aj:
        if (!(count($IJ) >= $uj)) {
            goto Jo;
        }
        return false;
        Jo:
        foreach ($zl as $aH => $DY) {
            $qv = array();
            $oz = array();
            $Kz = array();
            $tn = 0;
            $ox = Mo_saml_Local_Util::get_last_idp_id();
            foreach ($L3[$aH] as $Tl => $Uf) {
                $tn = 1;
                if (!($Tl == "\x69\x64\x70\x5f\151\144" && $Uf != $ox)) {
                    goto ty;
                }
                $Uf = $ox;
                ty:
                $qv[] = $dZ->quoteName($Tl) . "\x20\75\40" . $dZ->quote($Uf);
                $oz[] = $dZ->quote($Uf);
                array_push($Kz, $Tl);
                pc:
            }
            Uh:
            if (!($DY == "\x6d\157\x5f\x69\144\160\137\x69\156\x66\x6f" && $tn == 1)) {
                goto TA;
            }
            $qH = $dZ->getQuery(true);
            $qH->insert($dZ->quoteName("\43\x5f\137\x6d\151\156\x69\157\x72\141\156\x67\145\137\163\x61\x6d\154\137\143\157\156\x66\151\147"))->columns($dZ->quoteName($Kz))->values(implode("\54", $oz));
            $dZ->setQuery($qH);
            $bZ = $dZ->execute();
            TA:
            if (!($DY == "\x6d\157\x5f\141\x74\164\162\x69\x62\165\164\145\137\155\x61\x70\160\x69\156\x67" && $tn == 1)) {
                goto Fh;
            }
            $dZ = JFactory::getDbo();
            $qH = $dZ->getQuery(true);
            $BU = array($dZ->quoteName("\x69\x64") . "\x20\75\40" . $ox);
            $qH->update($dZ->quoteName("\43\x5f\137\x6d\151\x6e\x69\x6f\x72\141\x6e\x67\145\x5f\163\141\x6d\154\x5f\143\157\156\146\151\147"))->set($qv)->where($BU);
            $dZ->setQuery($qH);
            $bZ = $dZ->execute();
            Fh:
            if (!($DY == "\x6d\x6f\137\x72\157\154\x65\137\x6d\141\160\x70\151\156\147" && $tn == 1)) {
                goto BS;
            }
            $dZ = JFactory::getDbo();
            $qH = $dZ->getQuery(true);
            $qH->insert($dZ->quoteName("\x23\137\137\155\x69\156\x69\x6f\x72\x61\156\147\145\x5f\163\x61\155\154\137\x72\x6f\x6c\x65\x5f\155\141\x70\160\151\156\x67"))->columns($dZ->quoteName($Kz))->values(implode("\54", $oz));
            $dZ->setQuery($qH);
            $bZ = $dZ->execute();
            BS:
            if (!($DY == "\155\x6f\137\x6c\157\x67\151\156\x5f\x73\145\164\x74\151\x6e\147" && $tn == 1)) {
                goto TO;
            }
            $dZ = JFactory::getDbo();
            $qH = $dZ->getQuery(true);
            $qH->update($dZ->quoteName("\43\137\x5f\155\x69\156\x69\x6f\162\x61\156\147\x65\x5f\x73\x61\155\x6c\x5f\x63\165\163\164\157\155\x65\x72\137\x64\x65\164\x61\x69\154\163"))->set($qv)->where($dZ->quoteName("\151\x64") . "\x20\x3d\x20\61");
            $dZ->setQuery($qH);
            $bZ = $dZ->execute();
            TO:
            td:
        }
        Ia:
    }
    function handle_upload_metadata()
    {
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $vp = isset($EK["\163\164\141\x74\x75\163"]) ? $EK["\163\x74\x61\164\165\x73"] : '';
        if (!(Mo_Saml_Local_Util::is_customer_registered() && Mo_Saml_Local_Util::check($vp) != "\164\162\x75\145")) {
            goto bl;
        }
        $this->setRedirect("\x69\x6e\x64\145\x78\x2e\160\x68\x70\x3f\x6f\160\x74\x69\x6f\156\75\x63\157\155\137\x6d\151\156\151\157\162\141\156\147\x65\137\x73\141\155\x6c\46\164\141\142\x3d\151\144\160", "\131\157\165\40\x68\141\166\x65\x20\156\157\x74\40\141\x63\x74\151\166\x61\x74\x65\x64\40\x79\157\165\162\x20\154\x69\143\x65\x6e\163\145\x20\x79\145\x74\x2e", "\145\x72\x72\157\x72");
        return;
        bl:
        require_once JPATH_COMPONENT . DIRECTORY_SEPARATOR . "\150\145\154\x70\x65\162\x73" . DIRECTORY_SEPARATOR . "\x4d\x65\164\x61\144\x61\x74\x61\122\x65\141\x64\x65\x72\56\x70\x68\x70";
        $post = JFactory::getApplication()->input->post->getArray();
        $i9 = $_FILES;
        if (!(isset($i9["\155\x65\164\x61\x64\x61\x74\x61\x5f\x66\x69\154\145"]) || isset($post["\155\x65\x74\141\x64\141\x74\x61\137\165\162\x6c"]))) {
            goto Bn;
        }
        if (!empty($i9["\x6d\145\x74\x61\x64\141\164\x61\x5f\146\x69\x6c\x65"]["\164\155\160\x5f\156\141\155\x65"])) {
            goto QP;
        }
        $Ny = filter_var($post["\155\145\x74\x61\x64\x61\x74\141\137\x75\162\x6c"], FILTER_SANITIZE_URL);
        $we = array("\163\163\x6c" => array("\166\x65\162\151\146\171\x5f\160\x65\x65\x72" => false, "\x76\x65\x72\151\x66\x79\x5f\x70\x65\x65\x72\137\156\141\155\x65" => false));
        if (empty($Ny)) {
            goto o6;
        }
        $i9 = file_get_contents($Ny, false, stream_context_create($we));
        goto H6;
        o6:
        $this->setRedirect("\151\x6e\144\x65\170\56\160\150\x70\x3f\157\x70\164\x69\157\156\x3d\143\x6f\x6d\x5f\x6d\151\x6e\151\157\162\x61\156\147\145\x5f\163\141\155\154\x26\164\141\x62\x3d\x69\144\x70", "\x4e\157\40\115\x65\164\141\144\141\164\x61\40\x46\151\154\x65\x2f\x55\x52\x4c\x20\120\x72\157\x76\x69\x64\x65\144\x2e", "\145\162\x72\157\162");
        return;
        H6:
        goto LE;
        QP:
        $i9 = @file_get_contents($i9["\x6d\x65\164\141\x64\141\x74\141\137\146\x69\154\145"]["\x74\x6d\160\x5f\x6e\141\x6d\x65"]);
        LE:
        $this->upload_metadata($i9);
        Bn:
    }
    function upload_metadata($i9)
    {
        $b7 = 0;
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto wM;
        }
        $this->setRedirect("\x69\x6e\144\145\170\x2e\160\x68\160\77\157\160\x74\x69\157\x6e\x3d\143\157\x6d\x5f\155\x69\x6e\x69\157\162\x61\156\147\x65\137\163\141\x6d\x6c\46\x74\x61\142\75\x69\x64\160");
        return;
        wM:
        $bR = new DOMDocument();
        $bR->loadXML($i9);
        restore_error_handler();
        $yg = $bR->firstChild;
        if (!empty($yg)) {
            goto oJ;
        }
        $this->setRedirect("\x69\156\x64\145\x78\56\160\x68\x70\x3f\x6f\x70\164\x69\157\x6e\75\143\157\155\x5f\155\x69\x6e\x69\x6f\x72\x61\156\147\x65\137\163\141\155\x6c\46\164\x61\x62\x3d\x69\x64\160", "\x50\154\145\141\163\x65\40\160\162\x6f\x76\x69\144\145\x20\166\x61\154\151\x64\40\x6d\145\x74\141\x64\x61\x74\141\x2e", "\145\x72\162\x6f\162");
        return;
        goto EF;
        oJ:
        $iU = new IDPMetadataReader($bR);
        $AL = $iU->getIdentityProviders();
        if (!empty($AL)) {
            goto yS;
        }
        $this->setRedirect("\151\156\144\145\x78\x2e\160\150\160\x3f\157\x70\164\151\x6f\x6e\75\x63\157\x6d\137\155\151\156\x69\157\162\x61\x6e\x67\145\137\x73\x61\155\154\46\164\141\142\75\151\x64\x70", "\120\154\x65\x61\x73\145\40\x70\162\157\166\151\x64\x65\40\166\141\x6c\x69\x64\40\155\145\x74\141\x64\141\x74\x61\56", "\145\x72\x72\x6f\162");
        return;
        yS:
        foreach ($AL as $Tl => $Xa) {
            $Wp = isset($post["\x69\x64\x70\137\x6e\141\155\x65"]) ? $post["\x69\144\x70\x5f\156\141\155\145"] : '';
            $OB = $Xa->getLoginURL("\x48\x54\124\x50\55\x52\145\144\x69\162\x65\143\164");
            $pE = $Xa->getEntityID();
            $Mr = $Xa->getSigningCertificate();
            $Mr = implode("\73", $Mr);
            $oK = $Xa->getLogoutUrl("\x48\124\124\x50\55\x52\x65\x64\x69\x72\x65\143\164");
            $Jx = '';
            $Ds = "\122\123\x41\x5f\123\110\x41\62\x35\66";
            $NX = '';
            $hG = "\x75\162\x6e\72\157\141\x73\x69\163\72\x6e\141\x6d\145\x73\72\x74\143\72\x53\x41\x4d\114\72\61\x2e\61\x3a\x6e\x61\155\x65\x69\144\x2d\146\157\162\155\x61\164\x3a\x75\x6e\163\160\145\x63\151\146\151\x65\144";
            $jx = "\110\124\124\x50\x2d\122\145\x64\151\x72\x65\143\x74";
            $dZ = JFactory::getDbo();
            $qH = $dZ->getQuery(true);
            $oz = array($dZ->quote($Wp), $dZ->quote(!empty($pE) ? $pE : ''), $dZ->quote(!empty($OB) ? $OB : ''), $dZ->quote("\110\124\x54\x50\x2d\122\145\x64\151\162\x65\143\x74"), $dZ->quote(!empty($Mr) ? $Mr : ''), $dZ->quote(!empty($oK) ? $oK : ''), $dZ->quote($Jx), $dZ->quote($Ds), $dZ->quote(isset($post["\x73\171\156\143\137\155\145\x74\x61\144\141\164\141"]) ? $post["\x73\x79\156\143\x5f\155\145\x74\141\x64\x61\164\141"] : "\x6f\146\x66"), $dZ->quote(isset($post["\155\x65\164\141\x64\141\164\141\x5f\165\x72\x6c"]) ? $post["\x6d\x65\x74\x61\x64\x61\164\141\x5f\165\x72\154"] : ''), $dZ->quote(isset($post["\163\171\x6e\143\137\151\156\164\x65\x72\166\x61\154"]) ? $post["\163\171\156\x63\x5f\151\x6e\x74\x65\x72\x76\x61\x6c"] : ''), $dZ->quote($b7), $dZ->quote($NX), $dZ->quote($hG), $dZ->quote($jx));
            $dZ->setQuery("\123\x45\x4c\x45\103\x54\x20\x2a\x20\x46\122\x4f\x4d\40\43\x5f\x5f\x6d\x69\x6e\151\x6f\x72\x61\x6e\147\x65\x5f\163\x61\155\x6c\x5f\x63\157\x6e\x66\151\x67");
            $Hc = $dZ->loadObjectList();
            $pA = array();
            foreach ($Hc as $Jb => $tA) {
                $pA[] = $tA->idp_entity_id;
                ZB:
            }
            eh:
            $qv = array($dZ->quoteName("\x69\144\x70\x5f\x6e\141\x6d\x65") . "\x3d" . $dZ->quote($Wp), $dZ->quoteName("\x69\x64\x70\x5f\145\x6e\164\x69\x74\x79\137\151\144") . "\x20\75\40" . $dZ->quote(!empty($pE) ? $pE : ''), $dZ->quoteName("\163\151\x6e\147\x6c\x65\x5f\163\151\x67\156\157\156\x5f\x73\145\162\166\x69\x63\145\137\165\x72\x6c") . "\40\x3d\40" . $dZ->quote(!empty($OB) ? $OB : ''), $dZ->quoteName("\142\x69\156\x64\151\156\147") . "\40\x3d\40" . $dZ->quote("\x48\124\x54\120\x2d\x52\145\x64\151\162\x65\143\164"), $dZ->quoteName("\143\145\162\x74\x69\146\151\143\141\x74\145") . "\x20\75\40" . $dZ->quote(!empty($Mr) ? $Mr : ''), $dZ->quoteName("\x73\151\x6e\147\x6c\145\x5f\x6c\157\147\157\165\164\137\165\x72\x6c") . "\75" . $dZ->quote(!empty($oK) ? $oK : ''), $dZ->quoteName("\144\x65\x66\141\165\x6c\164\x5f\x72\x65\x6c\141\x79\x5f\x73\164\x61\164\145") . "\75" . $dZ->quote(''), $dZ->quoteName("\155\157\137\163\141\x6d\154\137\163\145\x6c\x65\x63\164\137\x73\x69\x67\x6e\x5f\141\154\147\x6f") . "\75" . $dZ->quote($Ds), $dZ->quoteName("\141\165\x74\x6f\x5f\163\x79\x6e\x63\137\x65\x6e\141\142\154\145") . "\40\x3d\x20" . $dZ->quote(isset($post["\163\x79\156\143\x5f\x6d\145\x74\x61\x64\x61\x74\141"]) ? $post["\x73\171\x6e\x63\x5f\x6d\x65\164\141\x64\141\x74\x61"] : "\x6f\x66\x66"), $dZ->quoteName("\155\145\x74\x61\x64\x61\x74\141\137\x75\162\154") . "\40\75\x20" . $dZ->quote(isset($post["\x6d\145\164\x61\144\x61\x74\x61\137\165\162\154"]) ? $post["\155\145\x74\x61\144\x61\164\x61\137\x75\162\154"] : ''), $dZ->quoteName("\155\x64\141\x74\x61\x5f\x73\x79\x6e\x63\x5f\151\x6e\x74\145\162\166\x61\x6c") . "\40\75\x20" . $dZ->quote(isset($post["\163\171\156\143\x5f\151\156\164\145\x72\x76\141\154"]) ? $post["\163\x79\x6e\143\x5f\151\156\x74\x65\162\x76\141\154"] : ''), $dZ->quoteName("\155\145\164\x61\x64\141\x74\x61\x5f\143\x68\145\143\153\x5f\x74\151\155\x65\x73\164\x61\155\160") . "\40\75\x20" . $dZ->quote($b7), $dZ->quoteName("\163\141\x6d\154\x5f\162\145\161\165\145\x73\164\x5f\163\151\147\156") . "\x20\75\40" . $dZ->quote($NX), $dZ->quoteName("\x6e\141\155\145\137\x69\144\137\x66\x6f\162\155\141\164") . "\40\x3d\x20" . $dZ->quote($hG), $dZ->quoteName("\x6d\151\x6e\x69\157\162\x61\x6e\147\x65\137\x73\141\155\x6c\137\151\144\x70\x5f\x73\x6c\157\137\142\151\x6e\144\x69\156\x67") . "\40\75\40" . $dZ->quote($jx));
            $ox = $post["\x69\144\x70\137\x69\x64"];
            $F4 = array($dZ->quoteName("\151\144") . "\x20\75" . $ox);
            if ($ox == 0) {
                goto qK;
            }
            $qH->update($dZ->quoteName("\x23\x5f\137\155\151\156\x69\x6f\x72\141\156\147\x65\x5f\x73\x61\155\154\x5f\x63\x6f\x6e\x66\151\x67"))->set($qv)->where($F4);
            goto pJ;
            qK:
            $Kz = array("\x69\x64\x70\x5f\156\x61\x6d\145", "\x69\x64\x70\x5f\145\156\164\151\164\x79\x5f\151\144", "\x73\x69\156\x67\154\145\137\x73\x69\147\156\157\x6e\137\163\x65\x72\166\x69\143\x65\137\165\162\x6c", "\x62\x69\156\x64\x69\x6e\147", "\143\x65\x72\x74\x69\x66\151\x63\141\x74\x65", "\163\x69\x6e\147\x6c\x65\137\x6c\157\x67\157\165\x74\x5f\x75\x72\x6c", "\144\145\146\141\x75\154\x74\x5f\x72\x65\x6c\141\x79\x5f\163\164\141\x74\x65", "\x6d\157\137\x73\x61\155\x6c\x5f\x73\x65\x6c\x65\143\x74\137\x73\x69\x67\156\x5f\x61\154\x67\157", "\141\165\x74\x6f\137\163\x79\x6e\143\x5f\145\x6e\141\142\154\145", "\x6d\x65\164\x61\x64\141\x74\x61\137\165\162\154", "\155\144\141\164\x61\x5f\163\x79\x6e\x63\137\x69\x6e\164\x65\162\166\141\154", "\155\145\164\x61\x64\x61\164\141\137\143\150\x65\143\x6b\x5f\x74\151\x6d\x65\x73\164\141\155\x70", "\x73\141\155\x6c\137\x72\145\x71\x75\x65\163\x74\137\x73\x69\147\x6e", "\156\141\x6d\x65\x5f\151\x64\x5f\146\157\x72\155\x61\164", "\155\151\156\x69\x6f\162\x61\x6e\147\145\x5f\163\141\x6d\154\x5f\151\144\x70\137\x73\154\157\137\x62\x69\156\144\151\156\x67");
            $qH->insert($dZ->quoteName("\43\137\137\x6d\x69\156\151\157\162\x61\x6e\x67\145\137\163\141\155\x6c\137\143\157\156\x66\151\x67"))->columns($dZ->quoteName($Kz))->values(implode("\x2c", $oz));
            pJ:
            $dZ->setQuery($qH);
            $dZ->execute();
            goto C9;
            AE:
        }
        C9:
        $this->setRedirect("\x69\x6e\144\145\x78\56\x70\x68\x70\x3f\157\x70\164\x69\x6f\x6e\75\x63\157\155\137\x6d\x69\x6e\151\x6f\x72\x61\x6e\x67\x65\x5f\163\141\x6d\154\46\x74\x61\x62\75\151\144\160", "\111\x64\145\x6e\x74\x69\164\171\x20\x50\162\157\x76\151\x64\x65\162\x20\x64\145\164\x61\x69\154\163\x20\x73\x61\166\145\144\40\x73\165\143\x63\145\x73\163\146\165\x6c\154\x79\56");
        return;
        EF:
    }
    function saveConfig()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto Jh;
        }
        $this->setRedirect("\x69\x6e\x64\145\170\56\160\x68\x70\77\157\x70\164\151\x6f\x6e\x3d\x63\157\155\137\155\x69\x6e\x69\x6f\x72\x61\156\147\145\137\163\141\155\x6c\46\164\141\x62\75\x69\x64\160");
        return;
        Jh:
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $vp = $EK["\x73\164\x61\164\165\x73"];
        if (!(Mo_Saml_Local_Util::is_customer_registered() && Mo_Saml_Local_Util::check($vp) != "\x74\162\x75\145")) {
            goto Cz;
        }
        $this->setRedirect("\151\156\144\145\170\x2e\160\x68\160\x3f\x6f\x70\x74\151\157\x6e\75\143\157\x6d\x5f\x6d\x69\x6e\151\x6f\162\141\x6e\x67\x65\x5f\x73\x61\155\x6c\x26\x74\x61\142\x3d\151\x64\x70", "\x59\157\165\x20\x68\x61\166\x65\x20\156\157\164\40\x61\x63\164\151\x76\141\164\145\144\40\171\x6f\165\162\x20\x6c\x69\143\145\x6e\163\145\40\x79\x65\164\56", "\145\x72\162\x6f\162");
        return;
        Cz:
        $u0 = isset($post["\x6f\x70\x74\x69\x6f\156\61"]) ? $post["\157\160\164\x69\157\x6e\61"] : null;
        if ($u0 == "\x6d\157\137\163\x61\x6d\x6c\x5f\163\141\166\x65\137\143\157\x6e\x66\x69\x67") {
            goto gR;
        }
        if ($u0 == "\155\157\137\163\x61\155\154\137\x73\x61\166\145\x5f\141\164\164\x72\x69\x62\165\x74\x65") {
            goto s1;
        }
        if (!($u0 == "\x6d\157\137\163\141\155\154\137\x73\141\166\x65\x5f\x63\x75\163\164\157\155\137\163\160\x5f\143\x6f\156\x66\151\x67")) {
            goto MW;
        }
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\x73\x70\x5f\x62\141\x73\145\137\165\162\154") . "\40\75\40" . $dZ->quote(isset($post["\163\160\137\x62\x61\x73\145\137\x75\162\154"]) ? $post["\x73\160\x5f\142\141\163\145\x5f\x75\x72\x6c"] : ''), $dZ->quoteName("\x73\x70\x5f\145\x6e\x74\x69\164\x79\x5f\151\144") . "\x20\75\x20" . $dZ->quote(isset($post["\x73\x70\x5f\x65\x6e\x74\x69\164\171\137\x69\144"]) ? $post["\163\x70\x5f\x65\x6e\164\151\164\171\x5f\151\x64"] : ''));
        $F4 = array($dZ->quoteName("\151\x64") . "\40\75\40\61");
        $qH->update($dZ->quoteName("\x23\x5f\x5f\x6d\151\156\x69\157\162\x61\156\x67\x65\x5f\163\141\155\154\x5f\143\165\x73\x74\157\155\145\x72\137\x64\x65\x74\141\x69\154\163"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        $SV = "\131\x6f\x75\162\x20\143\x6f\x6e\146\x69\x67\165\162\x61\164\x69\x6f\x6e\x20\x68\x61\x73\40\142\145\x65\156\40\x73\141\x76\145\x64\x20\163\165\143\143\145\x73\x73\146\x75\154\154\171\56";
        $this->setRedirect("\x69\x6e\x64\x65\170\x2e\x70\150\160\77\x6f\x70\164\x69\157\156\x3d\x63\157\x6d\x5f\x6d\x69\156\151\x6f\162\141\x6e\x67\x65\137\163\141\155\154\46\x74\141\x62\x3d\x64\145\x73\x63\x72\x69\x70\x74\x69\x6f\156", $SV);
        MW:
        goto b2;
        s1:
        if (isset($post["\x73\x61\x6d\154\137\151\144\160\x5f\156\141\155\x65"]) && !empty($post["\x73\141\x6d\x6c\137\151\x64\160\137\x6e\141\155\145"])) {
            goto pP;
        }
        $SV = "\x50\154\145\x61\163\145\40\x73\x65\x6c\x65\143\x74\40\x74\x68\145\x20\x49\104\120\40\146\162\157\x6d\x20\164\150\x65\x20\x64\x72\x6f\160\144\157\x77\156\40\141\156\x64\x20\143\154\x69\x63\x6b\40\157\156\x20\x73\x65\x6c\145\143\164\40\142\x75\x74\164\x6f\156\40\x74\157\x20\163\x61\x76\x65\40\164\150\x65\40\x63\x6f\156\146\x69\147\165\x72\x61\x74\151\x6f\156\56";
        $Ny = "\x69\x6e\x64\x65\x78\x2e\160\150\x70\77\157\x70\164\151\157\156\x3d\143\x6f\155\x5f\155\151\156\151\x6f\162\141\x6e\x67\145\137\x73\x61\x6d\x6c\46\164\141\142\x3d\141\x74\x74\162\151\x62\x75\164\145\137\x6d\x61\160\x70\x69\156\147";
        $this->setRedirect($Ny, $SV, "\x65\x72\162\157\162");
        goto V_;
        pP:
        $dt = array_key_exists("\165\x73\145\162\137\x70\x72\x6f\146\x69\x6c\x65\137\x61\x74\164\x72\137\156\x61\155\145", $post) ? $post["\165\163\x65\162\x5f\160\162\157\146\151\x6c\x65\x5f\x61\x74\164\162\137\x6e\x61\155\145"] : array();
        $a4 = array_key_exists("\x75\163\x65\162\x5f\x70\162\x6f\146\151\154\x65\137\x61\x74\x74\x72\137\x76\x61\x6c\x75\x65", $post) ? $post["\165\x73\145\x72\137\x70\162\x6f\146\x69\x6c\145\137\x61\164\x74\x72\137\x76\x61\154\165\x65"] : array();
        $oH = array();
        foreach ($dt as $Tl => $Uf) {
            $fQ = trim($Uf);
            $fQ = preg_replace("\x2f\134\x73\53\x2f", '', $fQ);
            if (empty($fQ)) {
                goto Sv;
            }
            $EG = $a4[$Tl];
            $ns = trim($EG);
            if (empty($ns)) {
                goto ZM;
            }
            $Dx = array();
            $Dx["\141\164\x74\x72\x5f\x6e\141\x6d\x65"] = $fQ;
            $Dx["\x61\x74\164\162\x5f\x76\141\x6c\165\145"] = $ns;
            array_push($oH, $Dx);
            ZM:
            Sv:
            by:
        }
        Wk:
        $oH = json_encode($oH);
        $ty = array_key_exists("\x75\163\145\x72\137\x66\x69\145\154\144\137\141\x74\164\x72\137\156\141\x6d\145", $post) ? $post["\x75\163\x65\162\x5f\146\151\x65\154\x64\x5f\x61\164\164\162\x5f\156\x61\x6d\x65"] : '';
        $zC = array_key_exists("\x75\163\x65\162\137\x66\x69\x65\154\144\137\x61\x74\164\162\137\166\141\154\x75\145", $post) ? $post["\x75\163\x65\x72\x5f\x66\151\145\154\144\x5f\141\164\164\x72\137\x76\x61\x6c\165\x65"] : '';
        $Fq = array();
        if (!($ty != '' && $zC != '')) {
            goto X0;
        }
        foreach ($ty as $Tl => $Uf) {
            $rx = trim($Uf);
            if (empty($rx)) {
                goto rk;
            }
            $L4 = $zC[$Tl];
            $Qp = trim($L4);
            if (empty($Qp)) {
                goto LR;
            }
            $oq = array();
            $oq["\x61\x74\x74\162\x5f\x6e\141\155\x65"] = $rx;
            $oq["\x61\x74\164\162\137\x76\x61\x6c\x75\145"] = $Qp;
            array_push($Fq, $oq);
            LR:
            rk:
            nF:
        }
        xx:
        X0:
        $Fq = json_encode($Fq);
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\x75\163\x65\x72\156\x61\155\145") . "\40\x3d\40" . $dZ->quote(isset($post["\x75\163\x65\162\x6e\141\155\145"]) ? $post["\165\163\x65\x72\156\141\x6d\x65"] : ''), $dZ->quoteName("\145\155\x61\x69\154") . "\x20\x3d\40" . $dZ->quote(isset($post["\x65\155\x61\x69\x6c"]) ? $post["\145\155\141\151\x6c"] : ''), $dZ->quoteName("\156\141\155\x65") . "\40\x3d\x20" . $dZ->quote(isset($post["\x6e\x61\x6d\145"]) ? $post["\156\141\155\145"] : ''), $dZ->quoteName("\156\141\x6d\145") . "\x20\75\40" . $dZ->quote(isset($post["\156\x61\x6d\145"]) ? $post["\x6e\141\x6d\x65"] : ''), $dZ->quoteName("\x64\151\x73\x61\142\154\145\137\165\160\x64\x61\164\145\x5f\x65\x78\x69\163\x74\x69\156\x67\x5f\x63\x75\163\x74\x6f\155\x65\162\137\141\164\164\162\x69\142\165\x74\x65\x73") . "\x20\75\40" . $dZ->quote(isset($post["\144\151\163\141\142\154\145\x5f\165\160\x64\x61\x74\145\x5f\145\170\151\x73\164\x69\x6e\x67\137\x63\x75\163\164\157\x6d\145\x72\137\x61\164\164\x72\151\142\165\164\145\163"]) ? $post["\x64\x69\x73\141\x62\154\145\137\x75\160\x64\141\164\145\x5f\145\170\x69\163\164\x69\x6e\x67\x5f\143\165\x73\164\157\155\x65\162\137\x61\x74\x74\162\151\142\x75\x74\x65\163"] : 0), $dZ->quoteName("\165\x73\145\x72\x5f\160\162\x6f\146\151\x6c\145\x5f\x61\164\x74\162\x69\142\165\x74\x65\x73") . "\40\75\x20" . $dZ->quote($oH), $dZ->quoteName("\x75\x73\x65\162\x5f\x66\151\x65\154\144\137\x61\x74\x74\162\x69\x62\165\164\x65\163") . "\x20\75\x20" . $dZ->quote($Fq));
        $F4 = array($dZ->quoteName("\151\x64\160\137\x6e\141\155\x65") . "\40\x3d\x20" . $dZ->quote($post["\x73\141\x6d\154\137\151\x64\x70\x5f\x6e\x61\155\145"]));
        $qH->update($dZ->quoteName("\43\x5f\x5f\x6d\x69\156\151\157\x72\x61\x6e\147\x65\x5f\x73\x61\x6d\x6c\x5f\x63\x6f\156\146\x69\x67"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        $SV = "\x41\164\164\162\x69\142\165\164\x65\40\115\x61\x70\x70\x69\156\147\x20\x66\x6f\x72\40\x49\x44\x50\40" . $post["\x73\141\155\x6c\137\151\144\160\x5f\156\141\155\145"] . "\x20\150\x61\163\x20\142\x65\145\x6e\x20\163\141\x76\x65\x64\40\163\x75\x63\x63\145\x73\163\146\x75\x6c\x6c\171\x2e";
        $Ny = "\x69\x6e\144\145\170\x2e\160\x68\x70\x3f\157\x70\x74\x69\157\156\x3d\143\157\155\137\155\151\156\x69\x6f\162\x61\x6e\147\x65\137\x73\141\155\154\x26\x74\x61\x62\x3d\141\164\x74\x72\x69\x62\165\164\x65\x5f\x6d\141\160\x70\151\156\x67\x26\x69\x64\x70\x5f\156\141\x6d\145\x5f\x61\x74\164\162\75" . $post["\163\141\155\154\x5f\x69\x64\160\137\156\141\x6d\x65"];
        $this->setRedirect($Ny, $SV);
        V_:
        b2:
        goto sj;
        gR:
        if (isset($post["\x69\x64\x70\137\151\x64"]) && isset($post["\x69\x64\160\x5f\156\x61\x6d\145"]) && isset($post["\x69\144\160\137\145\156\164\151\164\171\137\151\x64"]) && isset($post["\163\x69\156\147\x6c\x65\137\x73\x69\147\x6e\157\x6e\137\163\145\x72\x76\151\143\145\137\x75\162\x6c"])) {
            goto HB;
        }
        $this->setRedirect("\x69\156\144\145\x78\56\x70\150\x70\77\x6f\160\164\x69\157\156\x3d\143\x6f\155\x5f\155\x69\x6e\x69\x6f\162\x61\x6e\147\145\x5f\163\141\x6d\x6c\x26\164\141\142\x3d\151\144\160\46\151\x64\75" . $post["\x69\x64\x70\x5f\x69\x64"], "\120\x6c\145\x61\163\145\40\x70\162\x6f\x76\x69\144\145\40\141\154\154\x20\x74\x68\x65\x20\x72\x65\x71\x75\151\162\x65\x64\40\151\x6e\x66\157\162\155\141\x74\x69\x6f\156\x2e", "\x65\162\x72\157\162");
        return;
        goto Xn;
        HB:
        $ox = $post["\151\x64\x70\x5f\x69\144"];
        if ($ox == 0) {
            goto Un;
        }
        $this->update_existing_idp($post);
        goto fo;
        Un:
        $b1 = $EK["\x63\x75\163\x74\x6f\x6d\x65\x72\x5f\153\145\x79"];
        $Wk = $EK["\x61\160\x69\x5f\153\145\171"];
        $n3 = $this->checkCL($b1, $Wk, 0);
        if (!$n3) {
            goto nW;
        }
        return;
        goto IR;
        nW:
        $this->insert_new_idp($post);
        IR:
        fo:
        Xn:
        $SV = "\x59\157\165\x72\x20\x63\x6f\x6e\146\151\147\x75\162\141\x74\x69\157\156\40\x68\141\163\x20\142\145\145\156\x20\163\x61\166\x65\x64\40\x73\x75\143\143\x65\x73\163\146\x75\x6c\x6c\x79\56\40\x59\x6f\165\x20\143\141\x6e\x20\164\145\163\164\x20\164\150\x65\40\x69\144\160\x20\143\157\156\146\x69\147\165\162\x61\164\151\157\156\x73\x20\156\x6f\x77\x2e";
        $this->setRedirect("\151\x6e\144\x65\x78\x2e\160\150\x70\77\157\x70\x74\151\157\x6e\x3d\143\x6f\x6d\137\155\151\x6e\x69\157\162\141\156\x67\x65\x5f\163\x61\x6d\154\x26\x74\x61\142\x3d\151\144\x70", $SV);
        sj:
    }
    public function saveRolemapping()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto N8;
        }
        $this->setRedirect("\151\x6e\144\145\x78\x2e\160\150\x70\x3f\x6f\160\x74\151\157\156\75\143\157\155\137\x6d\151\x6e\151\x6f\162\141\156\147\x65\x5f\x73\141\155\x6c\46\164\141\x62\x3d\151\x64\x70");
        return;
        N8:
        $EK = Mo_Saml_Local_Util::getCustomerDetails();
        $vp = isset($EK["\163\x74\x61\x74\x75\x73"]) ? $EK["\x73\164\x61\x74\165\x73"] : '';
        if (!(Mo_Saml_Local_Util::is_customer_registered() && Mo_Saml_Local_Util::check($vp) != "\164\162\165\x65")) {
            goto wJ;
        }
        $this->setRedirect("\x69\x6e\x64\x65\x78\x2e\160\x68\160\77\157\x70\164\151\157\x6e\x3d\x63\157\x6d\137\155\x69\156\x69\x6f\x72\141\156\147\145\x5f\163\x61\x6d\x6c", "\131\157\x75\x20\x68\141\166\x65\40\x6e\x6f\x74\40\141\143\x74\x69\x76\141\164\145\x64\x20\x79\x6f\165\162\x20\x6c\151\x63\x65\x6e\163\x65\40\171\x65\x74\56", "\x65\x72\x72\157\x72");
        return;
        wJ:
        if (isset($post["\143\165\162\x72\x65\156\x74\x5f\x69\x64\160\137\151\144"]) && !empty($post["\143\165\x72\x72\x65\156\164\137\x69\144\160\x5f\x69\144"])) {
            goto sc;
        }
        $this->setRedirect("\151\x6e\144\145\170\x2e\160\x68\x70\77\x6f\x70\164\151\157\156\x3d\x63\157\x6d\137\155\x69\156\151\157\162\141\156\147\x65\137\x73\x61\155\x6c\x26\x74\141\142\x3d\147\162\157\165\x70\137\155\x61\x70\x70\151\156\147", "\x50\x6c\145\x61\x73\145\40\163\145\x6c\145\x63\164\x20\x74\x68\x65\x20\111\x44\120\x20\x66\157\162\40\162\x6f\154\145\x20\x6d\x61\160\x70\x69\x6e\x67\56");
        goto sO;
        sc:
        $GR = 100;
        $Kg = 0;
        $rn = array();
        $H_ = array_key_exists("\x6d\x61\160\160\x69\156\147\x5f\153\145\x79\137", $post) ? $post["\x6d\x61\160\160\x69\156\x67\137\153\145\171\137"] : array();
        $Pi = array_key_exists("\x6d\x61\x70\x70\x69\x6e\x67\x5f\x76\141\154\165\145\137", $post) ? $post["\155\x61\x70\x70\151\x6e\x67\137\x76\x61\154\x75\x65\x5f"] : array();
        foreach ($H_ as $Tl => $Uf) {
            if (!($Kg == $GR)) {
                goto oF;
            }
            goto qY;
            oF:
            $rn[$Uf] = $Pi[$Tl];
            $Kg++;
            xa:
        }
        qY:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qH->select("\x2a");
        $qH->from($dZ->quoteName("\43\137\137\155\x69\156\x69\157\162\x61\x6e\x67\x65\137\x73\x61\155\154\137\162\x6f\154\x65\137\155\141\160\x70\151\156\x67"));
        $qH->where($dZ->quoteName("\x69\x64\160\x5f\151\x64") . "\40\75\x20" . $dZ->quote($post["\x63\165\x72\162\x65\x6e\164\137\151\x64\x70\x5f\151\x64"]));
        $dZ->setQuery($qH);
        $bZ = $dZ->loadAssoc();
        $O9 = isset($post["\x6d\141\160\160\x69\156\147\137\166\x61\x6c\x75\145\137\144\145\x66\141\165\154\164"]) ? $post["\x6d\x61\160\x70\151\156\x67\137\166\141\154\x75\x65\x5f\x64\145\x66\141\x75\x6c\x74"] : '';
        $ag = isset($post["\x6d\141\x70\160\x69\156\147\137\155\145\x6d\x62\145\x72\157\x66\137\x61\x74\x74\x72\x69\142\x75\164\x65"]) ? $post["\x6d\141\160\160\x69\x6e\147\137\155\x65\x6d\142\145\162\157\146\x5f\x61\x74\164\162\151\142\165\164\145"] : '';
        $R4 = isset($post["\x65\x6e\141\142\154\x65\137\162\x6f\154\145\x5f\155\141\x70\x70\151\x6e\147"]) ? $post["\x65\156\141\142\x6c\145\x5f\162\x6f\x6c\145\x5f\155\x61\160\x70\x69\156\147"] : 0;
        $xs = isset($post["\144\157\x5f\x6e\157\x74\137\x61\x75\x74\x6f\x5f\x63\x72\145\141\164\x65\137\x75\163\x65\x72\x73"]) ? $post["\x64\157\137\156\157\x74\x5f\141\x75\164\x6f\137\143\162\x65\x61\x74\x65\x5f\x75\163\x65\x72\x73"] : 0;
        $rs = isset($post["\x64\x69\163\141\x62\154\x65\137\x65\x78\151\163\164\151\156\x67\137\165\x73\x65\162\163\x5f\162\x6f\154\145\137\x75\x70\144\x61\x74\x65"]) ? $post["\x64\x69\163\x61\142\x6c\145\x5f\x65\170\151\163\164\151\156\x67\137\x75\x73\x65\162\x73\x5f\x72\157\154\x65\x5f\x75\160\144\x61\x74\x65"] : 0;
        $VE = isset($post["\x75\160\x64\141\164\145\x5f\145\x78\x69\163\x74\x69\x6e\147\137\x75\x73\x65\162\x73\137\x72\x6f\x6c\145\137\x77\x69\164\x68\157\x75\x74\x5f\x72\x65\155\157\166\151\x6e\147\137\143\165\x72\x72\145\x6e\164"]) ? $post["\165\160\144\141\164\x65\137\145\170\151\x73\164\151\156\147\137\x75\x73\145\162\163\x5f\162\157\x6c\x65\137\167\151\164\x68\x6f\165\x74\137\x72\145\x6d\157\x76\151\x6e\x67\x5f\143\x75\162\x72\145\156\164"] : 0;
        $J3 = isset($post["\147\x72\160"]) ? $post["\147\162\x70"] : '';
        $v7 = json_encode($rn);
        $uD = $post["\143\165\162\162\145\156\x74\x5f\151\144\x70\137\x69\x64"];
        $Yr = UtilitiesSAML::loadUserGroups();
        $WA = isset($post["\145\156\141\142\x6c\145\137\x72\157\x6c\x65\x5f\142\x61\163\x65\144\137\162\145\144\x69\162\x65\143\164\x69\157\156"]) ? $post["\x65\x6e\141\142\x6c\x65\x5f\162\157\x6c\145\x5f\142\141\163\x65\x64\137\x72\145\144\151\162\145\x63\x74\151\157\156"] : 0;
        foreach ($Yr as $XW) {
            if (!($XW[4] != "\123\165\x70\x65\x72\40\125\163\x65\x72\x73")) {
                goto G0;
            }
            $tu = "\162\157\x6c\145\x5f\x62\x61\163\145\x64\137\x67\162\157\x75\x70\137\141\164\x74\x72\x5f\166\x61\x6c\165\x65\163" . $XW[0];
            if (!(isset($post[$tu]) && !empty($post[$tu]))) {
                goto Z3;
            }
            $vt[$XW[0]] = $post[$tu];
            Z3:
            G0:
            AY:
        }
        rd:
        $vt = json_encode($vt);
        if ($bZ) {
            goto At;
        }
        $qH = $dZ->getQuery(true);
        $Kz = array("\155\x61\160\160\x69\156\x67\x5f\166\141\x6c\x75\145\x5f\144\145\146\x61\165\154\x74", "\x6d\x61\160\160\x69\156\x67\x5f\155\145\x6d\x62\145\162\x6f\x66\137\x61\x74\x74\x72\151\142\165\x74\145", "\x65\156\x61\x62\154\x65\x5f\163\x61\155\x6c\137\x72\157\x6c\145\x5f\155\x61\160\160\151\156\147", "\162\157\x6c\x65\x5f\x6d\141\160\160\x69\x6e\147\x5f\x6b\x65\171\137\x76\x61\154\165\x65", "\x72\157\x6c\x65\137\x6d\x61\x70\x70\x69\156\147\x5f\143\x6f\165\156\x74", "\x69\x64\160\x5f\x69\144", "\x64\157\137\156\x6f\x74\137\x61\x75\x74\x6f\x5f\x63\x72\x65\141\x74\145\137\x75\163\145\x72\x73", "\144\151\163\141\142\x6c\145\137\145\170\x69\163\x74\x69\156\147\x5f\165\x73\145\x72\x73\137\162\x6f\x6c\145\137\165\160\144\x61\164\x65", "\x75\160\x64\141\164\145\x5f\x65\170\x69\x73\x74\151\156\147\x5f\165\163\x65\x72\x73\x5f\162\x6f\x6c\x65\137\167\151\164\150\x6f\165\164\x5f\x72\145\155\157\x76\151\156\147\137\143\x75\162\x72\145\x6e\x74", "\x67\162\x70", "\x65\156\x61\142\x6c\145\x5f\x72\157\x6c\145\137\142\141\x73\145\144\x5f\x72\145\x64\x69\162\x65\143\x74\151\x6f\156", "\x72\157\x6c\145\x5f\142\x61\x73\x65\144\x5f\x72\145\x64\x69\x72\x65\x63\164\x5f\153\145\x79\x5f\x76\141\x6c\165\145");
        $oz = array($dZ->quote($O9), $dZ->quote($ag), $dZ->quote($R4), $dZ->quote($v7), $dZ->quote($Kg), $dZ->quote($uD), $dZ->quote($xs), $dZ->quote($rs), $dZ->quote($VE), $dZ->quote($J3), $dZ->quote($WA), $dZ->quote($vt));
        $qH->insert($dZ->quoteName("\43\137\137\x6d\x69\x6e\x69\157\162\x61\x6e\x67\x65\137\x73\141\x6d\154\137\x72\x6f\x6c\145\x5f\x6d\141\x70\x70\151\x6e\147"))->columns($dZ->quoteName($Kz))->values(implode("\54", $oz));
        $dZ->setQuery($qH);
        $dZ->execute();
        goto Pl;
        At:
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\x6d\x61\x70\x70\151\x6e\x67\x5f\166\x61\x6c\165\145\137\144\145\x66\141\165\x6c\x74") . "\40\x3d\40" . $dZ->quote($O9), $dZ->quoteName("\155\141\160\160\x69\156\147\137\x6d\145\155\x62\145\162\157\146\x5f\x61\x74\x74\x72\151\142\165\164\145") . "\40\75\40" . $dZ->quote($ag), $dZ->quoteName("\x65\156\141\142\x6c\145\x5f\x73\x61\x6d\x6c\x5f\x72\x6f\154\145\137\x6d\x61\160\x70\151\156\x67") . "\x20\x3d\40" . $dZ->quote($R4), $dZ->quoteName("\162\x6f\x6c\x65\137\155\x61\160\x70\151\x6e\147\137\x6b\x65\x79\x5f\166\141\x6c\x75\x65") . "\40\x3d\x20" . $dZ->quote($v7), $dZ->quoteName("\x72\157\x6c\145\137\x6d\141\x70\160\x69\156\147\x5f\x63\157\165\156\x74") . "\x20\x3d\x20" . $dZ->quote($Kg), $dZ->quoteName("\144\x6f\x5f\x6e\x6f\164\x5f\x61\165\164\x6f\137\x63\x72\x65\141\x74\145\137\165\x73\x65\162\163") . "\x20\75\x20" . $dZ->quote($xs), $dZ->quoteName("\144\x69\x73\141\142\154\x65\137\x65\170\x69\x73\164\151\156\147\137\165\163\x65\x72\163\x5f\x72\157\x6c\145\x5f\x75\x70\144\141\164\145") . "\x20\x3d\x20" . $dZ->quote($rs), $dZ->quoteName("\165\x70\x64\x61\164\x65\137\145\170\151\x73\164\151\x6e\x67\137\165\163\x65\x72\x73\x5f\162\x6f\x6c\x65\x5f\x77\151\x74\x68\157\x75\x74\x5f\162\145\x6d\x6f\x76\151\x6e\x67\137\x63\x75\x72\x72\x65\156\x74") . "\x20\75\40" . $dZ->quote($VE), $dZ->quoteName("\147\x72\160") . "\40\x3d\x20" . $dZ->quote($J3), $dZ->quoteName("\145\156\x61\142\154\x65\x5f\x72\157\x6c\145\137\142\x61\163\145\144\137\162\145\x64\x69\x72\x65\x63\x74\151\x6f\x6e") . "\x20\x3d\40" . $dZ->quote($WA), $dZ->quoteName("\x72\157\x6c\145\x5f\x62\x61\163\145\x64\137\162\x65\x64\151\162\x65\143\x74\137\x6b\x65\171\x5f\x76\x61\x6c\x75\145") . "\x20\75\40" . $dZ->quote($vt));
        $F4 = array($dZ->quoteName("\x69\144\x70\x5f\x69\144") . "\40\75\40" . $dZ->quote($post["\143\x75\x72\x72\145\156\x74\x5f\x69\x64\x70\137\x69\x64"]));
        $qH->update($dZ->quoteName("\43\137\x5f\155\x69\156\151\x6f\x72\141\x6e\147\145\x5f\x73\141\x6d\154\137\x72\x6f\154\x65\137\x6d\x61\160\x70\x69\156\147"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $dZ->execute();
        Pl:
        $this->setRedirect("\x69\x6e\x64\x65\x78\56\x70\x68\x70\77\157\x70\164\x69\x6f\156\75\x63\x6f\x6d\x5f\x6d\x69\x6e\x69\x6f\162\141\156\147\x65\137\163\141\155\154\46\x74\x61\x62\75\x67\x72\157\x75\160\137\x6d\x61\x70\160\151\x6e\147\46\143\165\x72\x72\145\x6e\x74\137\151\x64\160\137\151\x64\75" . $post["\x63\x75\x72\x72\x65\x6e\164\x5f\x69\x64\x70\x5f\151\x64"], "\123\101\x4d\114\40\107\162\x6f\x75\x70\x20\x74\157\x20\112\x6f\x6f\155\x6c\141\40\162\x6f\154\145\40\155\141\x70\x70\151\156\x67\40\150\141\163\40\142\x65\x65\x6e\x20\x75\x70\x64\x61\x74\x65\x64\56");
        sO:
    }
    function cancelform()
    {
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\x65\x6d\x61\151\154") . "\40\75\x20" . $dZ->quote(''), $dZ->quoteName("\154\x6f\x67\151\x6e\x5f\x73\164\141\x74\x75\163") . "\40\75\40" . $dZ->quote(1), $dZ->quoteName("\x65\155\x61\x69\x6c\x5f\143\x6f\165\x6e\164") . "\x20\x3d\x20" . $dZ->quote(0));
        $F4 = array($dZ->quoteName("\151\144") . "\x20\x3d\40\x31");
        $qH->update($dZ->quoteName("\43\137\137\155\151\x6e\151\x6f\x72\141\156\147\x65\137\x73\141\155\x6c\137\143\165\163\164\x6f\x6d\145\x72\137\x64\145\x74\x61\x69\x6c\x73"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        $this->setRedirect("\x69\156\144\x65\170\x2e\x70\x68\160\x3f\157\x70\164\x69\157\156\x3d\143\157\155\137\155\151\156\x69\x6f\162\x61\x6e\x67\x65\x5f\x73\x61\155\x6c\46\x74\141\x62\75\141\143\x63\157\165\156\x74");
    }
    function freeLicenseKey()
    {
        $Sy = new Mo_saml_Local_Customer();
        $ST = json_decode($Sy->update_status(), true);
        if (strcasecmp($ST["\x73\x74\141\x74\x75\163"], "\123\x55\x43\x43\105\x53\123") == 0) {
            goto LB;
        }
        $Ya = "\105\162\x72\157\x72\x20\162\x65\155\x6f\166\151\156\x67\x20\171\157\x75\x72\40\154\151\143\x65\156\163\x65\x20\153\x65\171\x2e\40\x50\154\145\x61\x73\x65\40\164\162\171\x20\x61\147\x61\x69\x6e\40\x6f\162\40\143\x6f\156\x74\x61\x63\x74\40\x3c\141\40\150\x72\145\x66\x3d\x22\155\x61\x69\x6c\164\157\72\x6a\157\x6f\x6d\x6c\141\163\165\x70\x70\x6f\x72\x74\x40\170\x65\x63\x75\162\x69\x66\x79\x2e\x63\x6f\155\42\76\x20\x6a\157\157\x6d\154\x61\163\165\160\160\x6f\x72\164\100\x78\x65\x63\x75\x72\151\x66\x79\56\x63\157\155\74\57\141\76";
        $this->setRedirect("\x69\x6e\144\145\x78\56\x70\150\x70\77\x6f\x70\164\151\157\x6e\75\x63\157\155\x5f\155\x69\x6e\x69\157\x72\141\x6e\x67\x65\x5f\163\x61\x6d\154\x26\164\x61\142\x3d\141\143\143\157\165\156\164", $Ya, "\x65\x72\x72\157\162");
        goto Q_;
        LB:
        $dZ = JFactory::getDbo();
        $qH = $dZ->getQuery(true);
        $qv = array($dZ->quoteName("\145\x6d\141\151\154") . "\x20\x3d\x20" . $dZ->quote(''), $dZ->quoteName("\160\141\x73\x73\167\x6f\162\x64") . "\x20\x3d\40" . $dZ->quote(''), $dZ->quoteName("\x61\x64\x6d\x69\x6e\x5f\160\x68\157\156\x65") . "\x20\75\x20" . $dZ->quote(''), $dZ->quoteName("\143\165\163\x74\157\x6d\145\162\137\153\x65\171") . "\40\75\x20" . $dZ->quote(''), $dZ->quoteName("\x63\x75\x73\x74\157\x6d\x65\x72\x5f\164\157\x6b\x65\156") . "\40\x3d\40" . $dZ->quote(''), $dZ->quoteName("\x61\x70\x69\x5f\153\x65\171") . "\x20\x3d\40" . $dZ->quote(''), $dZ->quoteName("\x6c\157\x67\x69\x6e\137\x73\164\141\x74\x75\163") . "\x20\75\40" . $dZ->quote(1), $dZ->quoteName("\163\x74\x61\164\165\x73") . "\x20\75\40" . $dZ->quote(''), $dZ->quoteName("\x73\155\154\137\x6c\153") . "\40\75\x20" . $dZ->quote(''), $dZ->quoteName("\x6e\145\x77\137\162\x65\x67\151\x73\164\x72\141\x74\x69\x6f\x6e") . "\40\x3d\40" . $dZ->quote(0), $dZ->quoteName("\145\155\141\x69\154\x5f\x63\x6f\x75\x6e\x74") . "\40\x3d\40" . $dZ->quote(0), $dZ->quoteName("\151\x6e\x5f\x63\x6d\160") . "\40\75\40" . $dZ->quote(''), $dZ->quoteName("\x74\x72\151\x73\164\163") . "\x20\75\x20" . $dZ->quote(''), $dZ->quoteName("\165\x73\x72\x6c\155\164") . "\40\x3d\40" . $dZ->quote(0), $dZ->quoteName("\154\x69\x63\x65\156\x73\x65\x45\170\160\x69\162\171") . "\40\75\40" . $dZ->quote("\x30\60\x30\x30\55\60\x30\55\x30\60\x20\60\60\x3a\60\x30\x3a\60\x30"), $dZ->quoteName("\163\x75\x70\160\157\x72\164\x45\170\160\x69\x72\171") . "\40\75\40" . $dZ->quote("\x30\60\x30\60\55\x30\x30\x2d\x30\60\40\60\60\x3a\60\x30\72\60\x30"), $dZ->quoteName("\x6e\157\123\120") . "\40\x3d\x20" . $dZ->quote(0));
        $F4 = array($dZ->quoteName("\x69\144") . "\x20\75\40\x31");
        $qH->update($dZ->quoteName("\43\x5f\x5f\155\151\x6e\151\x6f\x72\x61\x6e\147\145\x5f\x73\141\x6d\x6c\137\x63\x75\163\x74\157\x6d\145\x72\137\144\145\x74\141\x69\x6c\163"))->set($qv)->where($F4);
        $dZ->setQuery($qH);
        $bZ = $dZ->execute();
        $this->setRedirect("\x69\x6e\144\145\170\x2e\x70\150\160\x3f\157\x70\x74\x69\x6f\156\75\x63\157\x6d\137\x6d\151\156\x69\x6f\x72\141\156\147\145\137\163\x61\155\x6c\46\164\x61\x62\75\x61\x63\x63\x6f\x75\x6e\x74");
        Q_:
    }
    function new_line()
    {
        echo "\xa";
        echo "\x3c\x68\x72\76";
    }
    function contactUs()
    {
        $post = JFactory::getApplication()->input->post->getArray();
        if (!(count($post) == 0)) {
            goto lh;
        }
        $this->setRedirect("\x69\156\x64\145\x78\56\x70\150\160\77\157\160\x74\x69\x6f\156\x3d\143\x6f\155\137\155\151\x6e\x69\157\162\141\156\147\145\x5f\x73\x61\x6d\x6c\46\x74\141\x62\x3d\141\143\x63\x6f\x75\x6e\164");
        return;
        lh:
        $Wc = $post["\x71\165\145\x72\171"];
        $MM = $post["\x71\165\145\x72\x79\x5f\145\x6d\x61\151\x6c"];
        $R2 = $post["\x71\165\145\162\171\137\160\x68\x6f\x6e\x65"];
        $id = isset($post["\163\x65\156\x64\x5f\x70\x6c\x75\147\151\x6e\137\x63\157\x6e\146\x69\x67"]) ? $post["\x73\x65\156\x64\137\160\154\x75\147\151\156\x5f\143\157\x6e\146\151\x67"] : 0;
        $g_ = null;
        if (!($id == 1 || $id == true)) {
            goto yb;
        }
        $g_ = $this->importexport(true);
        yb:
        if (!empty($g_)) {
            goto pR;
        }
        $qH = $Wc;
        goto Ka;
        pR:
        ob_start();
        $this->new_line();
        $fW = ob_get_clean();
        $qH = $Wc . $fW . "\40\120\154\x75\147\151\156\x20\x43\x6f\x6e\146\x69\x67\165\x72\x61\x74\x69\x6f\156\x3d\76" . $g_;
        Ka:
        $Li = new Mo_saml_Local_Customer();
        $dd = json_decode($Li->submit_contact_us($MM, $R2, $qH), true);
        if (!(json_last_error() == JSON_ERROR_NONE)) {
            goto q8;
        }
        if (is_array($dd) && array_key_exists("\163\x74\141\164\165\163", $dd) && $dd["\163\164\x61\x74\x75\x73"] == "\x45\x52\122\x4f\122") {
            goto cB;
        }
        if ($dd == false) {
            goto Ri;
        }
        $this->setRedirect("\151\156\144\145\170\x2e\160\x68\x70\x3f\157\x70\x74\x69\157\x6e\75\143\157\x6d\x5f\155\151\156\151\x6f\162\x61\156\147\x65\x5f\163\x61\x6d\154\46\x74\x61\x62\x3d\141\x63\143\157\165\156\x74", "\x54\150\x61\x6e\x6b\163\x20\146\x6f\x72\40\x67\x65\x74\x74\151\156\147\40\x69\156\40\164\x6f\x75\x63\150\x21\40\x57\145\40\163\x68\x61\154\x6c\x20\x67\145\x74\x20\142\141\x63\153\40\164\157\x20\171\x6f\x75\40\163\x68\157\x72\164\x6c\x79\56", "\163\165\x63\x63\x65\x73\x73");
        goto J5;
        Ri:
        $this->setRedirect("\x69\156\x64\145\x78\x2e\160\150\x70\x3f\157\x70\164\x69\157\156\75\143\x6f\155\137\x6d\x69\x6e\151\157\162\141\x6e\x67\145\137\x73\x61\155\154\46\164\x61\142\75\141\143\143\x6f\165\x6e\164", "\131\157\x75\162\x20\x71\165\x65\162\171\x20\143\x6f\165\154\144\x20\156\157\x74\x20\x62\x65\x20\x73\165\x62\x6d\151\164\x74\x65\x64\56\40\x50\x6c\x65\x61\x73\x65\40\x74\162\171\40\141\x67\x61\151\x6e\56", "\x65\162\162\x6f\x72");
        J5:
        goto YQ;
        cB:
        $this->setRedirect("\x69\156\144\x65\170\x2e\x70\x68\x70\77\157\160\x74\x69\157\156\x3d\143\x6f\155\137\155\151\156\x69\x6f\x72\141\x6e\147\x65\x5f\x73\141\155\x6c\x26\x74\141\x62\75\141\143\x63\x6f\165\x6e\164", $dd["\155\x65\163\163\x61\147\x65"], "\x65\x72\162\157\x72");
        YQ:
        q8:
    }
}
