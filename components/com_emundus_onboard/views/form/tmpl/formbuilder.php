<?php

/**
 * @package     Joomla
 * @subpackage  com_emundus_onboard
 *
 * @copyright   Copyright (C) 2005 - 2018 Open Source Matters, Inc. All rights reserved.
 * @license     GNU General Public License version 2 or later; see LICENSE.txt
 */

// No direct access to this file
defined('_JEXEC') or die('Restricted Access');
$document = JFactory::getDocument();
$document->addScript('media/com_emundus_onboard/chunk-vendors_onboard.js');
$document->addStyleSheet('media/com_emundus_onboard/app_onboard.css');

## MENU ##
JText::script('COM_EMUNDUS_ONBOARD_SIDEMENUHELP');
JText::script('COM_EMUNDUS_ONBOARD_BUILDMENU');
JText::script('COM_EMUNDUS_ONBOARD_PREVIEW');
JText::script('COM_EMUNDUS_ONBOARD_ELEMENTTOOLTIPS');
JText::script('COM_EMUNDUS_ONBOARD_FORM_PAGE');
JText::script('COM_EMUNDUS_ONBOARD_SUBMIT_PAGE');
JText::script('COM_EMUNDUS_ONBOARD_NO_ELEMENTS_TIPS');
JText::script('COM_EMUNDUS_ONBOARD_FORM');
JText::script('COM_EMUNDUS_ONBOARD_ADD');
JText::script('COM_EMUNDUS_ONBOARD_SAVE');
JText::script('COM_EMUNDUS_ONBOARD_DOCUMENTS');
JText::script('COM_EMUNDUS_ONBOARD_ADD_NEW_DOCUMENT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_BUILD_YOUR_FORM');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU_ACTION');
## END ##

## FIELDS ##
JText::script('COM_EMUNDUS_ONBOARD_FIELD_NAME');
JText::script('COM_EMUNDUS_ONBOARD_FIELD_REQUIRED');
JText::script('COM_EMUNDUS_ONBOARD_FIELD_INTRO');
JText::script('COM_EMUNDUS_ONBOARD_FORM_REQUIRED_NAME');
JText::script('COM_EMUNDUS_ONBOARD_DELETE_TEMPLATE_DOC');
JText::script('COM_EMUNDUS_ONBOARD_MODEL_DELETED');
JText::script('COM_EMUNDUS_ONBOARD_MODEL_DELETED_TEXT');
JText::script('COM_EMUNDUS_ONBOARD_CANNOT_DELETE');
JText::script('COM_EMUNDUS_ONBOARD_CANNOT_DELETE_TEXT');
JText::script('COM_EMUNDUS_ONBOARD_ADDDOC_DESCRIPTION');
## END ##

## CAMPAIGNS ##
JText::script('COM_EMUNDUS_ONBOARD_FORM_AFFECTCAMPAIGNS');
JText::script('COM_EMUNDUS_ONBOARD_FORM_CAMPAIGNSEMPTY');
JText::script('COM_EMUNDUS_ONBOARD_ADD_CAMPAIGN');
JText::script('COM_EMUNDUS_ONBOARD_BACK_WITHOUT_ASSOCIATION');
## END ##

## DOCUMENTS ##
JText::script('COM_EMUNDUS_ONBOARD_CREATE_DOCUMENT');
JText::script('COM_EMUNDUS_ONBOARD_EDIT_DOCUMENT');
JText::script('COM_EMUNDUS_ONBOARD_ADD_RETOUR');
JText::script('COM_EMUNDUS_ONBOARD_OK');
JText::script('COM_EMUNDUS_ONBOARD_LASTNAME');
JText::script('COM_EMUNDUS_ONBOARD_ADDCAMP_DESCRIPTION');
JText::script('COM_EMUNDUS_ONBOARD_MAXPERUSER');
JText::script('COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED');
JText::script('COM_EMUNDUS_ONBOARD_PROG_REQUIRED_LABEL');
JText::script('COM_EMUNDUS_ONBOARD_MAXPERUSER_REQUIRED');
JText::script('COM_EMUNDUS_ONBOARD_FILETYPE_ACCEPTED_REQUIRED');
JText::script('COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH');
JText::script('COM_EMUNDUS_ONBOARD_PDF_DOCUMENTS');
JText::script('COM_EMUNDUS_ONBOARD_PICTURES_DOCUMENTS');
JText::script('COM_EMUNDUS_ONBOARD_OFFICE_DOCUMENTS');
JText::script('COM_EMUNDUS_ONBOARD_EXCEL_DOCUMENTS');
JText::script('COM_EMUNDUS_ONBOARD_TEMPLATE_DOC');
JText::script('COM_EMUNDUS_ONBOARD_ADDDOC_DESCRIPTION');
## END ##

## GLOBAL ##
JText::script('COM_EMUNDUS_ONBOARD_ADD_RETOUR');
JText::script('COM_EMUNDUS_ONBOARD_ADD_CONTINUER');
JText::script('COM_EMUNDUS_ONBOARD_ACTION_DELETE');
JText::script('COM_EMUNDUS_ONBOARD_CANT_REVERT');
JText::script('COM_EMUNDUS_ONBOARD_ACTIONS');
JText::script('COM_EMUNDUS_ONBOARD_OK');
JText::script('COM_EMUNDUS_ONBOARD_CANCEL');
JText::script('COM_EMUNDUS_ONBOARD_ACTION_DELETE');
JText::script('COM_EMUNDUS_ONBOARD_ACTIONS_SETTINGS');
JText::script('COM_EMUNDUS_ONBOARD_ACTIONS_REQUIRED');
JText::script('COM_EMUNDUS_ONBOARD_ACTION_UNPUBLISH');
JText::script('COM_EMUNDUS_ONBOARD_ACTION_PUBLISH');
JText::script('COM_EMUNDUS_ONBOARD_UPDATEFORMTIP');
JText::script('COM_EMUNDUS_ONBOARD_UPDATEFORMTIP1');
JText::script('COM_EMUNDUS_ONBOARD_UPDATEFORMTIP2');
JText::script('COM_EMUNDUS_ONBOARD_TIP');
## END ##

## BUILDER ##
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DATASAVED');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_INFORMATIONS');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_UPDATE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_UPDATING');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_UPDATESUCESS');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_HELPTEXT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_OPTIONS');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_SIZE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_FIELDTYPE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_FIELDTEXT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_FIELDPHONE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_EMAIL');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_NUMBER');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_WIDTH');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_HEIGHT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ADDMENU');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ADDGROUP');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ADDITEM');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_EDITGROUP');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_GROUPORDERING');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUP');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_GROUPDELETED');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_MENUORDERING');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_EDITMENU');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_CREATEDELEMENT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_CREATEDELEMENTSUCCES');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DELETEELEMENT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ELEMENTDELETED');
JText::script('COM_EMUNDUS_ONBOARD_FIELD_TYPE');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_FIELD');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_BIRTHDAY');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_CHECKBOX');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_DROPDOWN');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_RADIOBUTTON');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_TEXTAREA');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_DISPLAY');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_FILE');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_YESNO');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_LASTNAME');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_FIRSTNAME');
JText::script('COM_EMUNDUS_ONBOARD_TYPE_EMAIL');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_MAXLENGTH');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_PLACEHOLDER_HELP');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_MENUDELETED');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENU');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DELETEMENUWARNING');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DELETEGROUPWARNING');
JText::script('COM_EMUNDUS_ONBOARD_ADD_RETOUR_CAMPAIGN_EDIT');
JText::script('COM_EMUNDUS_ONBOARD_FORM_CHOOSE_EXISTING_MODEL_PAGE');
JText::script('COM_EMUNDUS_ONBOARD_TRANSLATE_ENGLISH');
JText::script('COM_EMUNDUS_ONBOARD_SAVE_AS_TEMPLATE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ORDERSUCESS');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ORDERFAILED');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_UPDATEFAILED');
JText::script('COM_EMUNDUS_ONBOARD_CHOOSE_GROUP');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_CREATEDELEMENT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_CREATEDELEMENTSUCCES');
JText::script('COM_EMUNDUS_ONBOARD_SEND_FORM');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_MAXLENGTH');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_USE_ADVANCED_EDITOR');
JText::script('COM_EMUNDUS_ONBOARD_MODIFY');
JText::script('COM_EMUNDUS_ONBOARD_REPEAT_GROUP');
JText::script('COM_EMUNDUS_ONBOARD_REPEAT_GROUP_MESSAGE');
JText::script('COM_EMUNDUS_ONBOARD_REPEAT_GROUP_DISABLE');
JText::script('COM_EMUNDUS_ONBOARD_REPEAT_GROUP_MESSAGE_DISABLE');
JText::script('COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN');
JText::script('COM_EMUNDUS_ONBOARD_TIP_DATABASEJOIN_TEXT');
JText::script('COM_EMUNDUS_ONBOARD_REPEATED_GROUP');
JText::script('COM_EMUNDUS_ONBOARD_DUPLICATE');
JText::script('COM_EMUNDUS_ONBOARD_DUPLICATE_ELEMENT');
JText::script('COM_EMUNDUS_ONBOARD_GROUP');
JText::script('COM_EMUNDUS_ONBOARD_REQUIRED_FORM');
JText::script('COM_EMUNDUS_ONBOARD_REQUIRED_GROUP');
JText::script('COM_EMUNDUS_ONBOARD_CHOOSE_TARGET');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_TEXT');
JText::script('COM_EMUNDUS_ONBOARD_TRANSLATE_IN');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ADD_OPTIONS');
JText::script('COM_EMUNDUS_ONBOARD_TESTING_FORM');
JText::script('COM_EMUNDUS_ONBOARD_CHOOSE_CAMPAIGN');
JText::script('COM_EMUNDUS_ONBOARD_CREATE_FILE');
JText::script('COM_EMUNDUS_ONBOARD_CONTINUE_FILE');
JText::script('COM_EMUNDUS_ONBOARD_FILE_EXIST_BEFORE_TESTING');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_CALENDAR');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMATTING');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMAT_BIRTHDAY');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DATE_FORMAT_YEAR');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_NO_DEFAULT_VALUE');
JText::script('COM_EMUNDUS_ONBOARD_ELEMENT_OPTIONS');
JText::script('COM_EMUNDUS_ONBOARD_SAVING_AT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_EXIT_FORMBUILDER');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_SUBMITTION_PAGE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_EDIT_NAME');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_EDIT_INTRO');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_HIDE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_DISPLAY_HIDE_MESSAGE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_ORDER_BY');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_HIDDEN_GROUP');
JText::script('COM_EMUNDUS_ONBOARD_PERSONAL_INFORMATIONS');
JText::script('COM_EMUNDUS_ONBOARD_ADRESSE');
JText::script('COM_EMUNDUS_ONBOARD_WORK_EXPERIENCE');
JText::script('COM_EMUNDUS_ONBOARD_EMPTY_SECTION');
## END ##

## TUTORIAL ##
JText::script('COM_EMUNDUS_ONBOARD_TUTORIAL_CAMPAIGN');
JText::script('COM_EMUNDUS_ONBOARD_TUTORIAL_FORM');
JText::script('COM_EMUNDUS_ONBOARD_TUTORIAL_FORMBUILDER');
JText::script('COM_EMUNDUS_ONBOARD_TUTORIAL_DOCUMENTS');
JText::script('COM_EMUNDUS_ONBOARD_TUTORIAL_PROGRAM');
## END ##

### INPUT MASK
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_TITLE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_PLACEHOLDER');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_HINT');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK_PREVIEW_TITLE');
### END

JText::script('COM_EMUNDUS_ONBOARD_BUILDER_INPUT_MASK');

# PAST/FUTUR YEARS
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_FUTURE_YEARS');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_YEAR_RANGE');
JText::script('COM_EMUNDUS_ONBOARD_BUILDER_TIP_YEARS_FUTURE');

# IMAGE RESOLUTION
JText::script('COM_EMUNDUS_ONBOARD_IMAGE_WIDTH');
JText::script('COM_EMUNDUS_ONBOARD_IMAGE_HEIGHT');

JText::script('COM_EMUNDUS_ONBOARD_IMAGE_RESOLUTION_TOOLTIPS');
//JText::script('COM_EMUNDUS_ONBOARD_MAX_RESOLUTION_TOOLTIPS');

JText::script('COM_EMUNDUS_ONBOARD_MIN_RESOLUTION_PLACEHOLDER');
JText::script('COM_EMUNDUS_ONBOARD_MAX_RESOLUTION_PLACEHOLDER');

JText::script('COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION');
JText::script('COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION_NEGATIVE');

JText::script('COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION_TOO_SMALL');

JText::script('COM_EMUNDUS_ONBOARD_ERROR_RESOLUTION_NOT_NUMBER');

JText::script('COM_EMUNDUS_ONBOARD_IMAGE_DIMENSION_TITLE');

$vue = 'em-formBuilder-vue';
if($this->eval != 0){
    $vue = 'em-evaluationBuilder-vue';
}

$lang = JFactory::getLanguage();
$actualLanguage = substr($lang->getTag(), 0 , 2);
$languages = JLanguageHelper::getLanguages();
if(count($languages) > 1){
    $many_languages = '1';
} else {
    $many_languages = '0';
}

$user = JFactory::getUser();
$coordinator_access = EmundusonboardHelperAccess::isCoordinator($user->id);

$component = JFactory::getApplication()->input->get('evaluation') ? 'evaluationbuilder' : 'formbuilder';

?>

<div id="em-component-vue"
     component="<?= $component ?>"
     prid="<?= JFactory::getApplication()->input->get('prid') ?>"
     index="<?= JFactory::getApplication()->input->get('index') ?>"
     cid="<?= JFactory::getApplication()->input->get('cid') ?>"
     eval="<?= JFactory::getApplication()->input->get('evaluation') ?>"
     actualLanguage="<?= $actualLanguage ?>"
     manyLanguages="<?= $many_languages ?>"
     coordinatorAccess="<?= $coordinator_access ?>"
></div>

<script src="media/com_emundus_onboard/app_onboard.js"></script>
